import{J as s,e as n}from"./chunk-2JCYUYSE.js";var o=class i{cartItems=new n([]);cartCount=new n(0);cartItems$=this.cartItems.asObservable();cartCount$=this.cartCount.asObservable();addToCart(e,t=1){let a=this.cartItems.value,r=a.find(c=>c.menuItem.id===e.id);if(r){if(r.quantity+=t,r.quantity<=0){this.removeFromCart(e.id);return}r.totalPrice=r.quantity*r.menuItem.price}else t>0&&(a.push({menuItem:e,quantity:t,totalPrice:e.price*t}),this.updateCartCount());this.cartItems.next([...a])}updateCartCount(){let t=this.cartItems.value.reduce((a,r)=>a+(r.quantity||0),0);this.cartCount.next(t)}removeFromCart(e){let t=this.cartItems.value.filter(a=>a.menuItem.id!==e);this.updateCartCount(),this.cartItems.next([...t])}clearCart(){this.cartItems.next([]),this.updateCartCount()}getTotalAmount(){return this.cartItems.value.reduce((e,t)=>e+t.totalPrice,0)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=s({token:i,factory:i.\u0275fac,providedIn:"root"})};export{o as a};
