import{a as er}from"./chunk-FK6H3RFT.js";import{a as Oe,b as Ot}from"./chunk-KAT7YFEL.js";var io=null,uv=!1,iE=1,$j=null,So=Symbol("SIGNAL");function rn(t){let e=io;return io=t,e}function dv(){return io}var Kp={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Qp(t){if(uv)throw new Error("");if(io===null)return;io.consumerOnSignalRead(t);let e=io.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=io.recomputing;if(r&&(n=e!==void 0?e.nextProducer:io.producers,n!==void 0&&n.producer===t)){io.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===io&&(!r||Gj(i,io)))return;let o=Sh(io),s={producer:t,consumer:io,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};io.producersTail=s,e!==void 0?e.nextProducer=s:io.producers=s,o&&mR(t,s)}function fR(){iE++}function oE(t){if(!(Sh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===iE)){if(!t.producerMustRecompute(t)&&!fv(t)){rE(t);return}t.producerRecomputeValue(t),rE(t)}}function sE(t){if(t.consumers===void 0)return;let e=uv;uv=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Hj(r)}}finally{uv=e}}function aE(){return io?.consumerAllowSignalWrites!==!1}function Hj(t){t.dirty=!0,sE(t),t.consumerMarkedDirty?.(t)}function rE(t){t.dirty=!1,t.lastCleanEpoch=iE}function Yp(t){return t&&pR(t),rn(t)}function pR(t){t.producersTail=void 0,t.recomputing=!0}function hv(t,e){rn(e),t&&gR(t)}function gR(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Sh(t))do n=cE(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function fv(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(oE(n),r!==n.version))return!0}return!1}function Jp(t){if(Sh(t)){let e=t.producers;for(;e!==void 0;)e=cE(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function mR(t,e){let n=t.consumersTail,r=Sh(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)mR(i.producer,i)}function cE(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Sh(e)){let o=e.producers;for(;o!==void 0;)o=cE(o)}return n}function Sh(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function uE(t){$j?.(t)}function Gj(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function lE(t,e){return Object.is(t,e)}function pv(t,e){let n=Object.create(Wj);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(oE(n),Qp(n),n.value===lv)throw n.error;return n.value};return r[So]=n,uE(n),r}var tE=Symbol("UNSET"),nE=Symbol("COMPUTING"),lv=Symbol("ERRORED"),Wj=Ot(Oe({},Kp),{value:tE,dirty:!0,error:null,equal:lE,kind:"computed",producerMustRecompute(t){return t.value===tE||t.value===nE},producerRecomputeValue(t){if(t.value===nE)throw new Error("");let e=t.value;t.value=nE;let n=Yp(t),r,i=!1;try{r=t.computation(),rn(null),i=e!==tE&&e!==lv&&r!==lv&&t.equal(e,r)}catch(o){r=lv,t.error=o}finally{hv(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function Kj(){throw new Error}var yR=Kj;function vR(t){yR(t)}function dE(t){yR=t}var Qj=null;function hE(t,e){let n=Object.create(gv);n.value=t,e!==void 0&&(n.equal=e);let r=()=>_R(n);return r[So]=n,uE(n),[r,s=>Zp(n,s),s=>wR(n,s)]}function _R(t){return Qp(t),t.value}function Zp(t,e){aE()||vR(t),t.equal(t.value,e)||(t.value=e,Yj(t))}function wR(t,e){aE()||vR(t),Zp(t,e(t.value))}var gv=Ot(Oe({},Kp),{equal:lE,value:void 0,kind:"signal"});function Yj(t){t.version++,fR(),sE(t),Qj?.(t)}function fE(t){let e=rn(null);try{return t()}finally{rn(e)}}function Jt(t){return typeof t=="function"}function Ch(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var mv=Ch(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function td(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var _i=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Jt(r))try{r()}catch(o){e=o instanceof mv?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{bR(o)}catch(s){e=e??[],s instanceof mv?e=[...e,...s.errors]:e.push(s)}}if(e)throw new mv(e)}}add(e){var n;if(e&&e!==this)if(this.closed)bR(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&td(n,e)}remove(e){let{_finalizers:n}=this;n&&td(n,e),e instanceof t&&e._removeParent(this)}};_i.EMPTY=(()=>{let t=new _i;return t.closed=!0,t})();var pE=_i.EMPTY;function yv(t){return t instanceof _i||t&&"closed"in t&&Jt(t.remove)&&Jt(t.add)&&Jt(t.unsubscribe)}function bR(t){Jt(t)?t():t.unsubscribe()}var Ca={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Dh={setTimeout(t,e,...n){let{delegate:r}=Dh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Dh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function vv(t){Dh.setTimeout(()=>{let{onUnhandledError:e}=Ca;if(e)e(t);else throw t})}function Xp(){}var ER=gE("C",void 0,void 0);function IR(t){return gE("E",void 0,t)}function TR(t){return gE("N",t,void 0)}function gE(t,e,n){return{kind:t,value:e,error:n}}var nd=null;function xh(t){if(Ca.useDeprecatedSynchronousErrorHandling){let e=!nd;if(e&&(nd={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=nd;if(nd=null,n)throw r}}else t()}function AR(t){Ca.useDeprecatedSynchronousErrorHandling&&nd&&(nd.errorThrown=!0,nd.error=t)}var rd=class extends _i{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yv(e)&&e.add(this)):this.destination=Xj}static create(e,n,r){return new Nh(e,n,r)}next(e){this.isStopped?yE(TR(e),this):this._next(e)}error(e){this.isStopped?yE(IR(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yE(ER,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Jj=Function.prototype.bind;function mE(t,e){return Jj.call(t,e)}var vE=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){_v(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){_v(r)}else _v(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){_v(n)}}},Nh=class extends rd{constructor(e,n,r){super();let i;if(Jt(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ca.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&mE(e.next,o),error:e.error&&mE(e.error,o),complete:e.complete&&mE(e.complete,o)}):i=e}this.destination=new vE(i)}};function _v(t){Ca.useDeprecatedSynchronousErrorHandling?AR(t):vv(t)}function Zj(t){throw t}function yE(t,e){let{onStoppedNotification:n}=Ca;n&&Dh.setTimeout(()=>n(t,e))}var Xj={closed:!0,next:Xp,error:Zj,complete:Xp};var Rh=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Da(t){return t}function wv(...t){return _E(t)}function _E(t){return t.length===0?Da:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var on=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=tU(n)?n:new Nh(n,r,i);return xh(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=SR(r),new r((i,o)=>{let s=new Nh({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Rh](){return this}pipe(...n){return _E(n)(this)}toPromise(n){return n=SR(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function SR(t){var e;return(e=t??Ca.Promise)!==null&&e!==void 0?e:Promise}function eU(t){return t&&Jt(t.next)&&Jt(t.error)&&Jt(t.complete)}function tU(t){return t&&t instanceof rd||eU(t)&&yv(t)}function nU(t){return Jt(t?.lift)}function Wn(t){return e=>{if(nU(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Kn(t,e,n,r,i){return new wE(t,e,n,r,i)}var wE=class extends rd{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var CR=Ch(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Zr=(()=>{class t extends on{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new bv(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new CR}next(n){xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?pE:(this.currentObservers=null,o.push(n),new _i(()=>{this.currentObservers=null,td(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new on;return n.source=this,n}}return t.create=(e,n)=>new bv(e,n),t})(),bv=class extends Zr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:pE}};var Xr=class extends Zr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var bE={now(){return(bE.delegate||Date).now()},delegate:void 0};var Ev=class extends _i{constructor(e,n){super()}schedule(e,n=0){return this}};var eg={setInterval(t,e,...n){let{delegate:r}=eg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=eg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ph=class extends Ev{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return eg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&eg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,td(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var kh=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};kh.now=bE.now;var Mh=class extends kh{constructor(e,n=kh.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var EE=new Mh(Ph);var Iv=class extends Ph{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Tv=class extends Mh{};var IE=new Tv(Iv);var Ko=new on(t=>t.complete());function DR(t){return t&&Jt(t.schedule)}function xR(t){return t[t.length-1]}function Av(t){return Jt(xR(t))?t.pop():void 0}function il(t){return DR(xR(t))?t.pop():void 0}function TE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function RR(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(m){s(m)}}function c(l){try{u(r.throw(l))}catch(m){s(m)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function NR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function id(t){return this instanceof id?(this.v=t,this):new id(t)}function PR(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(R){return Promise.resolve(R).then(g,m)}}function a(g,R){r[g]&&(i[g]=function(k){return new Promise(function(M,L){o.push([g,k,M,L])>1||c(g,k)})},R&&(i[g]=R(i[g])))}function c(g,R){try{u(r[g](R))}catch(k){y(o[0][3],k)}}function u(g){g.value instanceof id?Promise.resolve(g.value.v).then(l,m):y(o[0][2],g)}function l(g){c("next",g)}function m(g){c("throw",g)}function y(g,R){g(R),o.shift(),o.length&&c(o[0][0],o[0][1])}}function kR(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof NR=="function"?NR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Sv=t=>t&&typeof t.length=="number"&&typeof t!="function";function Cv(t){return Jt(t?.then)}function Dv(t){return Jt(t[Rh])}function xv(t){return Symbol.asyncIterator&&Jt(t?.[Symbol.asyncIterator])}function Nv(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function rU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rv=rU();function Pv(t){return Jt(t?.[Rv])}function kv(t){return PR(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield id(n.read());if(i)return yield id(void 0);yield yield id(r)}}finally{n.releaseLock()}})}function Mv(t){return Jt(t?.getReader)}function ei(t){if(t instanceof on)return t;if(t!=null){if(Dv(t))return iU(t);if(Sv(t))return oU(t);if(Cv(t))return sU(t);if(xv(t))return MR(t);if(Pv(t))return aU(t);if(Mv(t))return cU(t)}throw Nv(t)}function iU(t){return new on(e=>{let n=t[Rh]();if(Jt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function oU(t){return new on(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function sU(t){return new on(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,vv)})}function aU(t){return new on(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function MR(t){return new on(e=>{uU(t,e).catch(n=>e.error(n))})}function cU(t){return MR(kv(t))}function uU(t,e){var n,r,i,o;return RR(this,void 0,void 0,function*(){try{for(n=kR(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Qo(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ol(t,e=0){return Wn((n,r)=>{n.subscribe(Kn(r,i=>Qo(r,t,()=>r.next(i),e),()=>Qo(r,t,()=>r.complete(),e),i=>Qo(r,t,()=>r.error(i),e)))})}function sl(t,e=0){return Wn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function OR(t,e){return ei(t).pipe(sl(e),ol(e))}function LR(t,e){return ei(t).pipe(sl(e),ol(e))}function FR(t,e){return new on(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function VR(t,e){return new on(n=>{let r;return Qo(n,e,()=>{r=t[Rv](),Qo(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Jt(r?.return)&&r.return()})}function Ov(t,e){if(!t)throw new Error("Iterable cannot be null");return new on(n=>{Qo(n,e,()=>{let r=t[Symbol.asyncIterator]();Qo(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function BR(t,e){return Ov(kv(t),e)}function jR(t,e){if(t!=null){if(Dv(t))return OR(t,e);if(Sv(t))return FR(t,e);if(Cv(t))return LR(t,e);if(xv(t))return Ov(t,e);if(Pv(t))return VR(t,e);if(Mv(t))return BR(t,e)}throw Nv(t)}function Rr(t,e){return e?jR(t,e):ei(t)}function fn(...t){let e=il(t);return Rr(t,e)}function AE(t,e){let n=Jt(t)?t:()=>t,r=i=>i.error(n());return new on(e?i=>e.schedule(r,0,i):r)}function Lv(t){return!!t&&(t instanceof on||Jt(t.lift)&&Jt(t.subscribe))}var od=Ch(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function gn(t,e){return Wn((n,r)=>{let i=0;n.subscribe(Kn(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:lU}=Array;function dU(t,e){return lU(e)?t(...e):t(e)}function Fv(t){return gn(e=>dU(t,e))}var{isArray:hU}=Array,{getPrototypeOf:fU,prototype:pU,keys:gU}=Object;function Vv(t){if(t.length===1){let e=t[0];if(hU(e))return{args:e,keys:null};if(mU(e)){let n=gU(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function mU(t){return t&&typeof t=="object"&&fU(t)===pU}function Bv(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function SE(...t){let e=il(t),n=Av(t),{args:r,keys:i}=Vv(t);if(r.length===0)return Rr([],e);let o=new on(yU(r,e,i?s=>Bv(i,s):Da));return n?o.pipe(Fv(n)):o}function yU(t,e,n=Da){return r=>{UR(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)UR(e,()=>{let u=Rr(t[c],e),l=!1;u.subscribe(Kn(r,m=>{o[c]=m,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function UR(t,e,n){t?Qo(n,t,e):e()}function qR(t,e,n,r,i,o,s,a){let c=[],u=0,l=0,m=!1,y=()=>{m&&!c.length&&!u&&e.complete()},g=k=>u<r?R(k):c.push(k),R=k=>{o&&e.next(k),u++;let M=!1;ei(n(k,l++)).subscribe(Kn(e,L=>{i?.(L),o?g(L):e.next(L)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;c.length&&u<r;){let L=c.shift();s?Qo(e,s,()=>R(L)):R(L)}y()}catch(L){e.error(L)}}))};return t.subscribe(Kn(e,g,()=>{m=!0,y()})),()=>{a?.()}}function oo(t,e,n=1/0){return Jt(e)?oo((r,i)=>gn((o,s)=>e(r,o,i,s))(ei(t(r,i))),n):(typeof e=="number"&&(n=e),Wn((r,i)=>qR(r,i,t,n)))}function Oh(t=1/0){return oo(Da,t)}function zR(){return Oh(1)}function Lh(...t){return zR()(Rr(t,il(t)))}function tg(t){return new on(e=>{ei(t()).subscribe(e)})}function CE(...t){let e=Av(t),{args:n,keys:r}=Vv(t),i=new on(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let m=!1;ei(n[l]).subscribe(Kn(o,y=>{m||(m=!0,u--),a[l]=y},()=>c--,void 0,()=>{(!c||!m)&&(u||o.next(r?Bv(r,a):a),o.complete())}))}});return e?i.pipe(Fv(e)):i}function Ws(t,e){return Wn((n,r)=>{let i=0;n.subscribe(Kn(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Fh(t){return Wn((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Kn(n,void 0,void 0,s=>{o=ei(t(s,Fh(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function ng(t,e){return Jt(e)?oo(t,e,1):oo(t,1)}function DE(t){return Wn((e,n)=>{let r=!1;e.subscribe(Kn(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function eu(t){return t<=0?()=>Ko:Wn((e,n)=>{let r=0;e.subscribe(Kn(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $R(t=vU){return Wn((e,n)=>{let r=!1;e.subscribe(Kn(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function vU(){return new od}function xE(t){return Wn((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function tu(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ws((i,o)=>t(i,o,r)):Da,eu(1),n?DE(e):$R(()=>new od))}function jv(t){return t<=0?()=>Ko:Wn((e,n)=>{let r=[];e.subscribe(Kn(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Uv(...t){let e=il(t);return Wn((n,r)=>{(e?Lh(t,n,e):Lh(t,n)).subscribe(r)})}function hc(t,e){return Wn((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Kn(r,c=>{i?.unsubscribe();let u=0,l=o++;ei(t(c,l)).subscribe(i=Kn(r,m=>r.next(e?e(c,m,l,u++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function rg(t){return Wn((e,n)=>{ei(t).subscribe(Kn(n,()=>n.complete(),Xp)),!n.closed&&e.subscribe(n)})}function Co(t,e,n){let r=Jt(t)||e||n?{next:t,error:e,complete:n}:t;return r?Wn((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Kn(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Da}var NE;function qv(){return NE}function fc(t){let e=NE;return NE=t,e}var HR=Symbol("NotFound");function Vh(t){return t===HR||t?.name==="\u0275NotFound"}var ad=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},GE=new ad("21.0.0");var Wv="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",rt=class extends Error{code;constructor(e,n){super(jh(e,n)),this.code=e}};function bU(t){return`NG0${Math.abs(t)}`}function jh(t,e){return`${bU(t)}${e?": "+e:""}`}var so=globalThis;function Qn(t){for(let e in t)if(t[e]===Qn)return e;throw Error("")}function YR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ru(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(ru).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function WE(t,e){return t?e?`${t} ${e}`:t:e||""}var EU=Qn({__forward_ref__:Qn});function Ks(t){return t.__forward_ref__=Ks,t.toString=function(){return ru(this())},t}function Ui(t){return KE(t)?t():t}function KE(t){return typeof t=="function"&&t.hasOwnProperty(EU)&&t.__forward_ref__===Ks}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qs(t){return{providers:t.providers||[],imports:t.imports||[]}}function ug(t){return IU(t,Kv)}function QE(t){return ug(t)!==null}function IU(t,e){return t.hasOwnProperty(e)&&t[e]||null}function TU(t){let e=t?.[Kv]??null;return e||null}function PE(t){return t&&t.hasOwnProperty($v)?t[$v]:null}var Kv=Qn({\u0275prov:Qn}),$v=Qn({\u0275inj:Qn}),mt=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ht({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function YE(t){return t&&!!t.\u0275providers}var JE=Qn({\u0275cmp:Qn}),ZE=Qn({\u0275dir:Qn}),XE=Qn({\u0275pipe:Qn}),eI=Qn({\u0275mod:Qn}),og=Qn({\u0275fac:Qn}),dd=Qn({__NG_ELEMENT_ID__:Qn}),GR=Qn({__NG_ENV_ID__:Qn});function ll(t){return typeof t=="string"?t:t==null?"":String(t)}function JR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ll(t)}var ZR=Qn({ngErrorCode:Qn}),AU=Qn({ngErrorMessage:Qn}),SU=Qn({ngTokenPath:Qn});function tI(t,e){return XR("",-200,e)}function Qv(t,e){throw new rt(-201,!1)}function XR(t,e,n){let r=new rt(e,t);return r[ZR]=e,r[AU]=t,n&&(r[SU]=n),r}function CU(t){return t[ZR]}var kE;function e5(){return kE}function Do(t){let e=kE;return kE=t,e}function nI(t,e,n){let r=ug(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Qv(t,"Injector")}var DU={},sd=DU,ME="__NG_DI_FLAG__",OE=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=cd(n)||0;try{return this.injector.get(e,r&8?null:sd,r)}catch(i){if(Vh(i))return i;throw i}}};function xU(t,e=0){let n=qv();if(n===void 0)throw new rt(-203,!1);if(n===null)return nI(t,void 0,e);{let r=NU(e),i=n.retrieve(t,r);if(Vh(i)){if(r.optional)return null;throw i}return i}}function Lt(t,e=0){return(e5()||xU)(Ui(t),e)}function je(t,e){return Lt(t,cd(e))}function cd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function NU(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function LE(t){let e=[];for(let n=0;n<t.length;n++){let r=Ui(t[n]);if(Array.isArray(r)){if(r.length===0)throw new rt(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=RU(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Lt(i,o))}else e.push(Lt(r))}return e}function t5(t,e){return t[ME]=e,t.prototype[ME]=e,t}function RU(t){return t[ME]}function al(t,e){let n=t.hasOwnProperty(og);return n?t[og]:null}function n5(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function r5(t){return t.flat(Number.POSITIVE_INFINITY)}function Yv(t,e){t.forEach(n=>Array.isArray(n)?Yv(n,e):e(n))}function rI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lg(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function i5(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function o5(t,e,n){let r=Uh(t,e);return r>=0?t[r|1]=n:(r=~r,i5(t,r,e,n)),r}function Jv(t,e){let n=Uh(t,e);if(n>=0)return t[n|1]}function Uh(t,e){return PU(t,e,1)}function PU(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var dl={},_s=[],qh=new mt(""),iI=new mt("",-1),oI=new mt(""),sg=class{get(e,n=sd){if(n===sd){let i=XR("",-201);throw i.name="\u0275NotFound",i}return n}};function sI(t){return t[eI]||null}function hl(t){return t[JE]||null}function aI(t){return t[ZE]||null}function s5(t){return t[XE]||null}function iu(t){return{\u0275providers:t}}function Zv(...t){return{\u0275providers:cI(!0,t),\u0275fromNgModule:!0}}function cI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Yv(e,s=>{let a=s;Hv(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&a5(i,o),n}function a5(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];uI(i,o=>{e(o,r)})}}function Hv(t,e,n,r){if(t=Ui(t),!t)return!1;let i=null,o=PE(t),s=!o&&hl(t);if(!o&&!s){let c=t.ngModule;if(o=PE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Hv(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Yv(o.imports,l=>{Hv(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&a5(u,e)}if(!a){let u=al(i)||(()=>new i);e({provide:i,useFactory:u,deps:_s},i),e({provide:oI,useValue:i,multi:!0},i),e({provide:qh,useValue:()=>Lt(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;uI(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function uI(t,e){for(let n of t)YE(n)&&(n=n.\u0275providers),Array.isArray(n)?uI(n,e):e(n)}var kU=Qn({provide:String,useValue:Qn});function c5(t){return t!==null&&typeof t=="object"&&kU in t}function MU(t){return!!(t&&t.useExisting)}function OU(t){return!!(t&&t.useFactory)}function ud(t){return typeof t=="function"}function u5(t){return!!t.useClass}var dg=new mt(""),zv={},WR={},RE;function hg(){return RE===void 0&&(RE=new sg),RE}var wi=class{},ld=class extends wi{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,VE(e,s=>this.processProvider(s)),this.records.set(iI,Bh(void 0,this)),i.has("environment")&&this.records.set(wi,Bh(void 0,this));let o=this.records.get(dg);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(oI,_s,{self:!0}))}retrieve(e,n){let r=cd(n)||0;try{return this.get(e,sd,r)}catch(i){if(Vh(i))return i;throw i}}destroy(){ig(this),this._destroyed=!0;let e=rn(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),rn(e)}}onDestroy(e){return ig(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ig(this);let n=fc(this),r=Do(void 0),i;try{return e()}finally{fc(n),Do(r)}}get(e,n=sd,r){if(ig(this),e.hasOwnProperty(GR))return e[GR](this);let i=cd(r),o,s=fc(this),a=Do(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let l=jU(e)&&ug(e);l&&this.injectableDefInScope(l)?u=Bh(FE(e),zv):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?hg():this.parent;return n=i&8&&n===sd?null:n,c.get(e,n)}catch(c){let u=CU(c);throw u===-200||u===-201?new rt(u,null):c}finally{Do(a),fc(s)}}resolveInjectorInitializers(){let e=rn(null),n=fc(this),r=Do(void 0),i;try{let o=this.get(qh,_s,{self:!0});for(let s of o)s()}finally{fc(n),Do(r),rn(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ru(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ui(e);let n=ud(e)?e:Ui(e&&e.provide),r=FU(e);if(!ud(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Bh(void 0,zv,!0),i.factory=()=>LE(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=rn(null);try{if(n.value===WR)throw tI(ru(e));return n.value===zv&&(n.value=WR,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&BU(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{rn(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ui(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function FE(t){let e=ug(t),n=e!==null?e.factory:al(t);if(n!==null)return n;if(t instanceof mt)throw new rt(204,!1);if(t instanceof Function)return LU(t);throw new rt(204,!1)}function LU(t){if(t.length>0)throw new rt(204,!1);let n=TU(t);return n!==null?()=>n.factory(t):()=>new t}function FU(t){if(c5(t))return Bh(void 0,t.useValue);{let e=lI(t);return Bh(e,zv)}}function lI(t,e,n){let r;if(ud(t)){let i=Ui(t);return al(i)||FE(i)}else if(c5(t))r=()=>Ui(t.useValue);else if(OU(t))r=()=>t.useFactory(...LE(t.deps||[]));else if(MU(t))r=(i,o)=>Lt(Ui(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ui(t&&(t.useClass||t.provide));if(VU(t))r=()=>new i(...LE(t.deps));else return al(i)||FE(i)}return r}function ig(t){if(t.destroyed)throw new rt(205,!1)}function Bh(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function VU(t){return!!t.deps}function BU(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function jU(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function VE(t,e){for(let n of t)Array.isArray(n)?VE(n,e):n&&YE(n)?VE(n.\u0275providers,e):e(n)}function bi(t,e){let n;t instanceof ld?(ig(t),n=t):n=new OE(t);let r,i=fc(n),o=Do(void 0);try{return e()}finally{fc(i),Do(o)}}function dI(){return e5()!==void 0||qv()!=null}var xa=0,Bt=1,Wt=2,xi=3,Ys=4,Js=5,fg=6,zh=7,ao=8,fl=9,gc=10,Cr=11,$h=12,hI=13,hd=14,Zs=15,pl=16,fd=17,mc=18,pg=19,fI=20,nu=21,Xv=22,gg=23,ws=24,pd=25,mg=26,qi=27,l5=1;var gl=7,yg=8,gd=9,xo=10;function yc(t){return Array.isArray(t)&&typeof t[l5]=="object"}function Na(t){return Array.isArray(t)&&t[l5]===!0}function pI(t){return(t.flags&4)!==0}function ml(t){return t.componentOffset>-1}function Hh(t){return(t.flags&1)===1}function vc(t){return!!t.template}function Gh(t){return(t[Wt]&512)!==0}function md(t){return(t[Wt]&256)===256}var d5="svg",h5="math";function Xs(t){for(;Array.isArray(t);)t=t[xa];return t}function gI(t,e){return Xs(e[t])}function Ra(t,e){return Xs(e[t.index])}function e_(t,e){return t.data[e]}function mI(t,e){return t[e]}function yI(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ea(t,e){let n=e[t];return yc(n)?n:n[xa]}function f5(t){return(t[Wt]&4)===4}function t_(t){return(t[Wt]&128)===128}function p5(t){return Na(t[xi])}function vg(t,e){return e==null?null:t[e]}function vI(t){t[fd]=0}function _I(t){t[Wt]&1024||(t[Wt]|=1024,t_(t)&&Wh(t))}function g5(t,e){for(;t>0;)e=e[hd],t--;return e}function _g(t){return!!(t[Wt]&9216||t[ws]?.dirty)}function n_(t){t[gc].changeDetectionScheduler?.notify(8),t[Wt]&64&&(t[Wt]|=1024),_g(t)&&Wh(t)}function Wh(t){t[gc].changeDetectionScheduler?.notify(0);let e=cl(t);for(;e!==null&&!(e[Wt]&8192||(e[Wt]|=8192,!t_(e)));)e=cl(e)}function wI(t,e){if(md(t))throw new rt(911,!1);t[nu]===null&&(t[nu]=[]),t[nu].push(e)}function m5(t,e){if(t[nu]===null)return;let n=t[nu].indexOf(e);n!==-1&&t[nu].splice(n,1)}function cl(t){let e=t[xi];return Na(e)?e[xi]:e}function bI(t){return t[zh]??=[]}function EI(t){return t.cleanup??=[]}function y5(t,e,n,r){let i=bI(e);i.push(n),t.firstCreatePass&&EI(t).push(r,i.length-1)}var sn={lFrame:k5(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var BE=!1;function v5(){return sn.lFrame.elementDepthCount}function _5(){sn.lFrame.elementDepthCount++}function w5(){sn.lFrame.elementDepthCount--}function r_(){return sn.bindingsEnabled}function b5(){return sn.skipHydrationRootTNode!==null}function E5(t){return sn.skipHydrationRootTNode===t}function I5(){sn.skipHydrationRootTNode=null}function mn(){return sn.lFrame.lView}function zi(){return sn.lFrame.tView}function an(t){return sn.lFrame.contextLView=t,t[ao]}function cn(t){return sn.lFrame.contextLView=null,t}function $i(){let t=II();for(;t!==null&&t.type===64;)t=t.parent;return t}function II(){return sn.lFrame.currentTNode}function T5(){let t=sn.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Kh(t,e){let n=sn.lFrame;n.currentTNode=t,n.isParent=e}function TI(){return sn.lFrame.isParent}function A5(){sn.lFrame.isParent=!1}function AI(){return BE}function SI(t){let e=BE;return BE=t,e}function CI(){let t=sn.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function S5(){return sn.lFrame.bindingIndex}function C5(t){return sn.lFrame.bindingIndex=t}function Qh(){return sn.lFrame.bindingIndex++}function DI(t){let e=sn.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function D5(){return sn.lFrame.inI18n}function x5(t,e){let n=sn.lFrame;n.bindingIndex=n.bindingRootIndex=t,i_(e)}function N5(){return sn.lFrame.currentDirectiveIndex}function i_(t){sn.lFrame.currentDirectiveIndex=t}function R5(t){let e=sn.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function xI(){return sn.lFrame.currentQueryIndex}function o_(t){sn.lFrame.currentQueryIndex=t}function UU(t){let e=t[Bt];return e.type===2?e.declTNode:e.type===1?t[Js]:null}function NI(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=UU(o),i===null||(o=o[hd],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=sn.lFrame=P5();return r.currentTNode=e,r.lView=t,!0}function s_(t){let e=P5(),n=t[Bt];sn.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function P5(){let t=sn.lFrame,e=t===null?null:t.child;return e===null?k5(t):e}function k5(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function M5(){let t=sn.lFrame;return sn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var RI=M5;function a_(){let t=M5();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function O5(t){return(sn.lFrame.contextLView=g5(t,sn.lFrame.contextLView))[ao]}function yl(){return sn.lFrame.selectedIndex}function vl(t){sn.lFrame.selectedIndex=t}function c_(){let t=sn.lFrame;return e_(t.tView,t.selectedIndex)}function L5(){return sn.lFrame.currentNamespace}var F5=!0;function u_(){return F5}function wg(t){F5=t}function jE(t,e=null,n=null,r){let i=PI(t,e,n,r);return i.resolveInjectorInitializers(),i}function PI(t,e=null,n=null,r,i=new Set){let o=[n||_s,Zv(t)];return r=r||(typeof t=="object"?void 0:ru(t)),new ld(o,e||hg(),r||null,i)}var Ni=class t{static THROW_IF_NOT_FOUND=sd;static NULL=new sg;static create(e,n){if(Array.isArray(e))return jE({name:""},n,e,"");{let r=e.name??"";return jE({name:r},e.parent,e.providers,r)}}static \u0275prov=ht({token:t,providedIn:"any",factory:()=>Lt(iI)});static __NG_ELEMENT_ID__=-1},No=new mt(""),Pa=(()=>{class t{static __NG_ELEMENT_ID__=qU;static __NG_ENV_ID__=n=>n}return t})(),UE=class extends Pa{_lView;constructor(e){super(),this._lView=e}get destroyed(){return md(this._lView)}onDestroy(e){let n=this._lView;return wI(n,e),()=>m5(n,e)}};function qU(){return new UE(mn())}var V5=!1,ou=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Xr(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new on(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ht({token:t,providedIn:"root",factory:()=>new t})}return t})(),qE=class extends Zr{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,dI()&&(this.destroyRef=je(Pa,{optional:!0})??void 0,this.pendingTasks=je(ou,{optional:!0})??void 0)}emit(e){let n=rn(null);try{super.next(e)}finally{rn(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof _i&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ti=qE;function Gv(...t){}function kI(t){let e,n;function r(){t=Gv;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function MI(t){return queueMicrotask(()=>t()),()=>{t=Gv}}var OI="isAngularZone",ag=OI+"_ID",zU=0,Er=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ti(!1);onMicrotaskEmpty=new ti(!1);onStable=new ti(!1);onError=new ti(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=V5}=e;if(typeof Zone>"u")throw new rt(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,GU(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(OI)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new rt(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new rt(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,$U,Gv,Gv);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},$U={};function LI(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function HU(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){kI(()=>{t.callbackScheduled=!1,zE(t),t.isCheckStableRunning=!0,LI(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),zE(t)}function GU(t){let e=()=>{HU(t)},n=zU++;t._inner=t._inner.fork({name:"angular",properties:{[OI]:!0,[ag]:n,[ag+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(WU(c))return r.invokeTask(o,s,a,c);try{return KR(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),QR(t)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return KR(t),r.invoke(o,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!KU(c)&&e(),QR(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,zE(t),LI(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function zE(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function KR(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function QR(t){t._nesting--,LI(t)}var cg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ti;onMicrotaskEmpty=new ti;onStable=new ti;onError=new ti;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function WU(t){return B5(t,"__ignore_ng_zone__")}function KU(t){return B5(t,"__scheduler_tick__")}function B5(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var pc=class{_console=console;handleError(e){this._console.error("ERROR",e)}},bs=new mt("",{factory:()=>{let t=je(Er),e=je(wi),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(pc),n.handleError(r))})}}}),j5={provide:qh,useValue:()=>{let t=je(pc,{optional:!0})},multi:!0};function Hi(t,e){let[n,r,i]=hE(t,e?.equal),o=n,s=o[So];return o.set=r,o.update=i,o.asReadonly=U5.bind(o),o}function U5(){let t=this[So];if(t.readonlyFn===void 0){let e=()=>this();e[So]=t,t.readonlyFn=e}return t.readonlyFn}var l_=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=QU}return t})();function QU(){return new l_(mn(),$i())}var ul=class{},bg=new mt("",{factory:()=>!0});var FI=new mt(""),Yh=(()=>{class t{internalPendingTasks=je(ou);scheduler=je(ul);errorHandler=je(bs);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=ht({token:t,providedIn:"root",factory:()=>new t})}return t})(),VI=(()=>{class t{static \u0275prov=ht({token:t,providedIn:"root",factory:()=>new $E})}return t})(),$E=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},HE=class{[So];constructor(e){this[So]=e}destroy(){this[So].destroy()}};function qr(t){return fE(t)}function rf(t){return{toString:t}.toString()}var d_="__parameters__";function r7(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function i7(t,e,n){return rf(()=>{let r=r7(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let m=c.hasOwnProperty(d_)?c[d_]:Object.defineProperty(c,d_,{value:[]})[d_];for(;m.length<=l;)m.push(null);return(m[l]=m[l]||[]).push(s),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var au=t5(i7("Optional"),8);function o7(t){return typeof t=="function"}function yP(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var v_=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},bc=(()=>{let t=()=>vP;return t.ngInherit=!0,t})();function vP(t){return t.type.prototype.ngOnChanges&&(t.setInput=a7),s7}function s7(){let t=wP(this),e=t?.current;if(e){let n=t.previous;if(n===dl)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function a7(t,e,n,r,i){let o=this.declaredInputs[r],s=wP(t)||c7(t,{previous:dl,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new v_(u&&u.currentValue,n,c===dl),yP(t,e,i,n)}var _P="__ngSimpleChanges__";function wP(t){return t[_P]||null}function c7(t,e){return t[_P]=e}var q5=[];var Xn=function(t,e=null,n){for(let r=0;r<q5.length;r++){let i=q5[r];i(t,e,n)}};function u7(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=vP(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function bP(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function p_(t,e,n){EP(t,e,3,n)}function g_(t,e,n,r){(t[Wt]&3)===n&&EP(t,e,n,r)}function BI(t,e){let n=t[Wt];(n&3)===e&&(n&=16383,n+=1,t[Wt]=n)}function EP(t,e,n,r){let i=r!==void 0?t[fd]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[fd]+=65536),(a<o||o==-1)&&(l7(t,n,e,c),t[fd]=(t[fd]&4294901760)+c+2),c++}function z5(t,e){Xn(4,t,e);let n=rn(null);try{e.call(t)}finally{rn(n),Xn(5,t,e)}}function l7(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Wt]>>14<t[fd]>>16&&(t[Wt]&3)===e&&(t[Wt]+=16384,z5(a,o)):z5(a,o)}var Zh=-1,vd=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function d7(t){return(t.flags&8)!==0}function h7(t){return(t.flags&16)!==0}function f7(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];p7(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function IP(t){return t===3||t===4||t===6}function p7(t){return t.charCodeAt(0)===64}function Ag(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?$5(t,n,i,null,e[++r]):$5(t,n,i,null,null))}}return t}function $5(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function TP(t){return t!==Zh}function __(t){return t&32767}function g7(t){return t>>16}function w_(t,e){let n=g7(t),r=e;for(;n>0;)r=r[hd],n--;return r}var YI=!0;function b_(t){let e=YI;return YI=t,e}var m7=256,AP=m7-1,SP=5,y7=0,_c={};function v7(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(dd)&&(r=n[dd]),r==null&&(r=n[dd]=y7++);let i=r&AP,o=1<<i;e.data[t+(i>>SP)]|=o}function E_(t,e){let n=CP(t,e);if(n!==-1)return n;let r=e[Bt];r.firstCreatePass&&(t.injectorIndex=e.length,jI(r.data,t),jI(e,null),jI(r.blueprint,null));let i=_T(t,e),o=t.injectorIndex;if(TP(i)){let s=__(i),a=w_(i,e),c=a[Bt].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function jI(t,e){t.push(0,0,0,0,0,0,0,0,e)}function CP(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function _T(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=PP(i),r===null)return Zh;if(n++,i=i[hd],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Zh}function JI(t,e,n){v7(t,e,n)}function _7(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(IP(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function DP(t,e,n){if(n&8||t!==void 0)return t;Qv(e,"NodeInjector")}function xP(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[fl],o=Do(void 0);try{return i?i.get(e,r,n&8):nI(e,r,n&8)}finally{Do(o)}}return DP(r,e,n)}function NP(t,e,n,r=0,i){if(t!==null){if(e[Wt]&2048&&!(r&2)){let s=I7(t,e,n,r,_c);if(s!==_c)return s}let o=RP(t,e,n,r,_c);if(o!==_c)return o}return xP(e,n,r,i)}function RP(t,e,n,r,i){let o=b7(n);if(typeof o=="function"){if(!NI(e,t,r))return r&1?DP(i,n,r):xP(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Qv(n);else return s}finally{RI()}}else if(typeof o=="number"){let s=null,a=CP(t,e),c=Zh,u=r&1?e[Zs][Js]:null;for((a===-1||r&4)&&(c=a===-1?_T(t,e):e[a+8],c===Zh||!G5(r,!1)?a=-1:(s=e[Bt],a=__(c),e=w_(c,e)));a!==-1;){let l=e[Bt];if(H5(o,a,l.data)){let m=w7(a,e,n,s,r,u);if(m!==_c)return m}c=e[a+8],c!==Zh&&G5(r,e[Bt].data[a+8]===u)&&H5(o,a,e)?(s=l,a=__(c),e=w_(c,e)):a=-1}}return i}function w7(t,e,n,r,i,o){let s=e[Bt],a=s.data[t+8],c=r==null?ml(a)&&YI:r!=s&&(a.type&3)!==0,u=i&1&&o===a,l=m_(a,s,n,c,u);return l!==null?Sg(e,s,l,a,i):_c}function m_(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,l=o>>20,m=r?a:a+l,y=i?a+l:u;for(let g=m;g<y;g++){let R=s[g];if(g<c&&n===R||g>=c&&R.type===n)return g}if(i){let g=s[c];if(g&&vc(g)&&g.type===n)return c}return null}function Sg(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof vd){let a=o;if(a.resolving){let g=JR(s[n]);throw tI(g)}let c=b_(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,m=a.injectImpl?Do(a.injectImpl):null,y=NI(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&u7(n,s[n],e)}finally{m!==null&&Do(m),b_(c),a.resolving=!1,RI()}}return o}function b7(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(dd)?t[dd]:void 0;return typeof e=="number"?e>=0?e&AP:E7:e}function H5(t,e,n){let r=1<<t;return!!(n[e+(t>>SP)]&r)}function G5(t,e){return!(t&2)&&!(t&1&&e)}var yd=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return NP(this._tNode,this._lView,e,cd(r),n)}};function E7(){return new yd($i(),mn())}function ta(t){return rf(()=>{let e=t.prototype.constructor,n=e[og]||ZI(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[og]||ZI(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ZI(t){return KE(t)?()=>{let e=ZI(Ui(t));return e&&e()}:al(t)}function I7(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Wt]&2048&&!Gh(s);){let a=RP(o,s,n,r|2,_c);if(a!==_c)return a;let c=o.parent;if(!c){let u=s[fI];if(u){let l=u.get(n,_c,r);if(l!==_c)return l}c=PP(s),s=s[hd]}o=c}return i}function PP(t){let e=t[Bt],n=e.type;return n===2?e.declTNode:n===1?t[Js]:null}function Ng(t){return _7($i(),t)}function T7(){return of($i(),mn())}function of(t,e){return new Yo(Ra(t,e))}var Yo=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=T7}return t})();function A7(t){return t instanceof Yo?t.nativeElement:t}function S7(){return this._results[Symbol.iterator]()}var I_=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Zr}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=r5(e);(this._changesDetected=!n5(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=S7};function kP(t){return(t.flags&128)===128}var wT=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(wT||{}),MP=new Map,C7=0;function D7(){return C7++}function x7(t){MP.set(t[pg],t)}function XI(t){MP.delete(t[pg])}var W5="__ngContext__";function Xh(t,e){yc(e)?(t[W5]=e[pg],x7(e)):t[W5]=e}function OP(t){return FP(t[$h])}function LP(t){return FP(t[Ys])}function FP(t){for(;t!==null&&!Na(t);)t=t[Ys];return t}var eT;function bT(t){eT=t}function VP(){if(eT!==void 0)return eT;if(typeof document<"u")return document;throw new rt(210,!1)}var k_=new mt("",{factory:()=>N7}),N7="ng";var M_=new mt(""),Ed=new mt("",{providedIn:"platform",factory:()=>"unknown"});var O_=new mt("",{factory:()=>VP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var BP=!1,jP=new mt("",{factory:()=>BP});var R7=(t,e,n,r)=>{};function P7(t,e,n,r){R7(t,e,n,r)}function ET(t){return(t.flags&32)===32}var k7=()=>null;function UP(t,e,n=!1){return k7(t,e,n)}function qP(t,e){let n=t.contentQueries;if(n!==null){let r=rn(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];o_(o),a.contentQueries(2,e[s],s)}}}finally{rn(r)}}}function tT(t,e,n){o_(0);let r=rn(null);try{e(t,n)}finally{rn(r)}}function IT(t,e,n){if(pI(e)){let r=rn(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{rn(r)}}}var Ma=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Ma||{});var h_;function M7(){if(h_===void 0&&(h_=null,so.trustedTypes))try{h_=so.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return h_}function K5(t){return M7()?.createScriptURL(t)||t}var T_=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wv})`}};function L_(t){return t instanceof T_?t.changingThisBreaksApplicationSecurity:t}function TT(t,e){let n=zP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Wv})`)}return n===e}function zP(t){return t instanceof T_&&t.getTypeName()||null}var O7=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $P(t){return t=String(t),t.match(O7)?t:"unsafe:"+t}var F_=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(F_||{});function bl(t){let e=GP();return e?e.sanitize(F_.URL,t)||"":TT(t,"URL")?L_(t):$P(ll(t))}function HP(t){let e=GP();if(e)return K5(e.sanitize(F_.RESOURCE_URL,t)||"");if(TT(t,"ResourceURL"))return K5(L_(t));throw new rt(904,!1)}function L7(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?HP:bl}function AT(t,e,n){return L7(e,n)(t)}function GP(){let t=mn();return t&&t[gc].sanitizer}var F7=/^>|^->|<!--|-->|--!>|<!-$/g,V7=/(<|>)/g,B7="\u200B$1\u200B";function j7(t){return t.replace(F7,e=>e.replace(V7,B7))}function WP(t){return t instanceof Function?t():t}function U7(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var KP="ng-template";function q7(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&U7(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ST(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ST(t){return t.type===4&&t.value!==KP}function z7(t,e,n){let r=t.type===4&&!n?KP:t.value;return e===r}function $7(t,e,n){let r=4,i=t.attrs,o=i!==null?W7(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!ka(r)&&!ka(c))return!1;if(s&&ka(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!z7(t,c,n)||c===""&&e.length===1){if(ka(r))return!1;s=!0}}else if(r&8){if(i===null||!q7(t,i,c,n)){if(ka(r))return!1;s=!0}}else{let u=e[++a],l=H7(c,i,ST(t),n);if(l===-1){if(ka(r))return!1;s=!0;continue}if(u!==""){let m;if(l>o?m="":m=i[l+1].toLowerCase(),r&2&&u!==m){if(ka(r))return!1;s=!0}}}}return ka(r)||s}function ka(t){return(t&1)===0}function H7(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return K7(e,t)}function G7(t,e,n=!1){for(let r=0;r<e.length;r++)if($7(t,e[r],n))return!0;return!1}function W7(t){for(let e=0;e<t.length;e++){let n=t[e];if(IP(n))return e}return t.length}function K7(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Q5(t,e){return t?":not("+e.trim()+")":e}function Q7(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ka(s)&&(e+=Q5(o,i),i=""),r=s,o=o||!ka(r);n++}return i!==""&&(e+=Q5(o,i)),e}function Y7(t){return t.map(Q7).join(",")}function J7(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!ka(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var na={};function Z7(t,e){return t.createText(e)}function X7(t,e,n){t.setValue(e,n)}function e9(t,e){return t.createComment(j7(e))}function QP(t,e,n){return t.createElement(e,n)}function A_(t,e,n,r,i){t.insertBefore(e,n,r,i)}function YP(t,e,n){t.appendChild(e,n)}function Y5(t,e,n,r,i){r!==null?A_(t,e,n,r,i):YP(t,e,n)}function t9(t,e,n,r){t.removeChild(null,e,n,r)}function n9(t,e,n){t.setAttribute(e,"style",n)}function r9(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function JP(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&f7(t,e,r),i!==null&&r9(t,e,i),o!==null&&n9(t,e,o)}function CT(t,e,n,r,i,o,s,a,c,u,l){let m=qi+r,y=m+i,g=i9(m,y),R=typeof u=="function"?u():u;return g[Bt]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:R,incompleteFirstPass:!1,ssrId:l}}function i9(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:na);return n}function o9(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=CT(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function DT(t,e,n,r,i,o,s,a,c,u,l){let m=e.blueprint.slice();return m[xa]=i,m[Wt]=r|4|128|8|64|1024,(u!==null||t&&t[Wt]&2048)&&(m[Wt]|=2048),vI(m),m[xi]=m[hd]=t,m[ao]=n,m[gc]=s||t&&t[gc],m[Cr]=a||t&&t[Cr],m[fl]=c||t&&t[fl]||null,m[Js]=o,m[pg]=D7(),m[fg]=l,m[fI]=u,m[Zs]=e.type==2?t[Zs]:m,m}function s9(t,e,n){let r=Ra(e,t),i=o9(n),o=t[gc].rendererFactory,s=xT(t,DT(t,i,null,ZP(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function ZP(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function XP(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function xT(t,e){return t[$h]?t[hI][Ys]=e:t[$h]=e,t[hI]=e,e}function Le(t=1){ek(zi(),mn(),yl()+t,!1)}function ek(t,e,n,r){if(!r)if((e[Wt]&3)===3){let o=t.preOrderCheckHooks;o!==null&&p_(e,o,n)}else{let o=t.preOrderHooks;o!==null&&g_(e,o,0,n)}vl(n)}var V_=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(V_||{});function nT(t,e,n,r){let i=rn(null);try{let[o,s,a]=t.inputs[n],c=null;(s&V_.SignalBased)!==0&&(c=e[o][So]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):yP(e,c,o,r)}finally{rn(i)}}var wc=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(wc||{}),a9;function NT(t,e){return a9(t,e)}var ef=new Set,B_=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(B_||{}),Id=new mt(""),J5=new Set;function j_(t){J5.has(t)||(J5.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var RT=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ht({token:t,providedIn:"root",factory:()=>new t})}return t})(),tk=[0,1,2,3],nk=(()=>{class t{ngZone=je(Er);scheduler=je(ul);errorHandler=je(pc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){je(Id,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Xn(16),this.executing=!0;for(let r of tk)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Xn(17)}register(n){let{view:r}=n;r!==void 0?((r[pd]??=[]).push(n),Wh(r),r[Wt]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(B_.AFTER_NEXT_RENDER,n):n()}static \u0275prov=ht({token:t,providedIn:"root",factory:()=>new t})}return t})(),S_=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[pd];e&&(this.view[pd]=e.filter(n=>n!==this))}};function U_(t,e){let n=e?.injector??je(Ni);return j_("NgAfterNextRender"),u9(t,n,e,!0)}function c9(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function u9(t,e,n,r){let i=e.get(RT);i.impl??=e.get(nk);let o=e.get(Id,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Pa):null,a=e.get(l_,null,{optional:!0}),c=new S_(i.impl,c9(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var l9=new mt("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function rk(t,e,n){let r=t.get(l9);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function d9(t,e){for(let[n,r]of e)rk(t,r.animateFns)}function Z5(t,e,n,r){let i=t?.[mg]?.enter;e!==null&&i&&i.has(n.index)&&d9(r,i)}function Jh(t,e,n,r,i,o,s,a){if(i!=null){let c,u=!1;Na(i)?c=i:yc(i)&&(u=!0,i=i[xa]);let l=Xs(i);t===0&&r!==null?(Z5(a,r,o,n),s==null?YP(e,r,l):A_(e,r,l,s||null,!0)):t===1&&r!==null?(Z5(a,r,o,n),A_(e,r,l,s||null,!0)):t===2?X5(a,o,n,m=>{t9(e,l,u,m)}):t===3&&X5(a,o,n,()=>{e.destroyNode(l)}),c!=null&&T9(e,t,n,c,o,r,s)}}function h9(t,e){ik(t,e),e[xa]=null,e[Js]=null}function f9(t,e,n,r,i,o){r[xa]=i,r[Js]=e,q_(t,r,n,1,i,o)}function ik(t,e){e[gc].changeDetectionScheduler?.notify(9),q_(t,e,e[Cr],2,null,null)}function p9(t){let e=t[$h];if(!e)return UI(t[Bt],t);for(;e;){let n=null;if(yc(e))n=e[$h];else{let r=e[xo];r&&(n=r)}if(!n){for(;e&&!e[Ys]&&e!==t;)yc(e)&&UI(e[Bt],e),e=e[xi];e===null&&(e=t),yc(e)&&UI(e[Bt],e),n=e&&e[Ys]}e=n}}function PT(t,e){let n=t[gd],r=n.indexOf(e);n.splice(r,1)}function ok(t,e){if(md(e))return;let n=e[Cr];n.destroyNode&&q_(t,e,n,3,null,null),p9(e)}function UI(t,e){if(md(e))return;let n=rn(null);try{e[Wt]&=-129,e[Wt]|=256,e[ws]&&Jp(e[ws]),y9(t,e),m9(t,e),e[Bt].type===1&&e[Cr].destroy();let r=e[pl];if(r!==null&&Na(e[xi])){r!==e[xi]&&PT(r,e);let i=e[mc];i!==null&&i.detachView(t)}XI(e)}finally{rn(n)}}function X5(t,e,n,r){let i=t?.[mg];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&ef.add(t),rk(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:l}=u();a.push(l)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),g9(t,r)}else t&&ef.delete(t),r(!1)},i)}function g9(t,e){let n=t[mg]?.running;if(n){n.then(()=>{t[mg].running=void 0,ef.delete(t),e(!0)});return}e(!1)}function m9(t,e){let n=t.cleanup,r=e[zh];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[zh]=null);let i=e[nu];if(i!==null){e[nu]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[gg];if(o!==null){e[gg]=null;for(let s of o)s.destroy()}}function y9(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof vd)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Xn(4,a,c);try{c.call(a)}finally{Xn(5,a,c)}}else{Xn(4,i,o);try{o.call(i)}finally{Xn(5,i,o)}}}}}function v9(t,e,n){return _9(t,e.parent,n)}function _9(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[xa];if(ml(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Ma.None||i===Ma.Emulated)return null}return Ra(r,n)}function w9(t,e,n){return E9(t,e,n)}function b9(t,e,n){return t.type&40?Ra(t,n):null}var E9=b9,eP;function kT(t,e,n,r){let i=v9(t,r,e),o=e[Cr],s=r.parent||e[Js],a=w9(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Y5(o,i,n[c],a,!1);else Y5(o,i,n,a,!1);eP!==void 0&&eP(o,r,e,n,i)}function Ig(t,e){if(e!==null){let n=e.type;if(n&3)return Ra(e,t);if(n&4)return rT(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ig(t,r);{let i=t[e.index];return Na(i)?rT(-1,i):Xs(i)}}else{if(n&128)return Ig(t,e.next);if(n&32)return NT(e,t)()||Xs(t[e.index]);{let r=sk(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=cl(t[Zs]);return Ig(i,r)}else return Ig(t,e.next)}}}return null}function sk(t,e){if(e!==null){let r=t[Zs][Js],i=e.projection;return r.projection[i]}return null}function rT(t,e){let n=xo+t+1;if(n<e.length){let r=e[n],i=r[Bt].firstChild;if(i!==null)return Ig(r,i)}return e[gl]}function MT(t,e,n,r,i,o,s){for(;n!=null;){let a=r[fl];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Xh(Xs(c),r),n.flags|=2),!ET(n))if(u&8)MT(t,e,n.child,r,i,o,!1),Jh(e,t,a,i,c,n,o,r);else if(u&32){let l=NT(n,r),m;for(;m=l();)Jh(e,t,a,i,m,n,o,r);Jh(e,t,a,i,c,n,o,r)}else u&16?I9(t,e,r,n,i,o):Jh(e,t,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function q_(t,e,n,r,i,o){MT(n,r,t.firstChild,e,i,o,!1)}function I9(t,e,n,r,i,o){let s=n[Zs],c=s[Js].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Jh(e,t,n[fl],i,l,r,o,n)}else{let u=c,l=s[xi];kP(r)&&(u.flags|=128),MT(t,e,u,l,i,o,!0)}}function T9(t,e,n,r,i,o,s){let a=r[gl],c=Xs(r);a!==c&&Jh(e,t,n,o,a,i,s);for(let u=xo;u<r.length;u++){let l=r[u];q_(l[Bt],l,t,e,o,a)}}function A9(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:wc.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=wc.Important),t.setStyle(n,r,i,o))}}function ak(t,e,n,r,i){let o=yl(),s=r&2;try{vl(-1),s&&e.length>qi&&ek(t,e,qi,!1),Xn(s?2:0,i,n),n(r,i)}finally{vl(o),Xn(s?3:1,i,n)}}function z_(t,e,n){P9(t,e,n),(n.flags&64)===64&&k9(t,e,n)}function OT(t,e,n=Ra){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function S9(t,e,n,r){let o=r.get(jP,BP)||n===Ma.ShadowDom||n===Ma.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return C9(s),s}function C9(t){D9(t)}var D9=()=>null;function x9(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ck(t,e,n,r,i,o){let s=e[Bt];if(FT(t,s,e,n,r)){ml(t)&&R9(e,t.index);return}t.type&3&&(n=x9(n)),N9(t,e,n,r,i,o)}function N9(t,e,n,r,i,o){if(t.type&3){let s=Ra(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function R9(t,e){let n=ea(e,t);n[Wt]&16||(n[Wt]|=64)}function P9(t,e,n){let r=n.directiveStart,i=n.directiveEnd;ml(n)&&s9(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||E_(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=Sg(e,t,s,n);if(Xh(c,e),o!==null&&F9(e,s-r,c,a,n,o),vc(a)){let u=ea(n.index,e);u[ao]=Sg(e,t,s,n)}}}function k9(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=N5();try{vl(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];i_(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&M9(c,u)}}finally{vl(-1),i_(s)}}function M9(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function LT(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];G7(e,o.selectors,!1)&&(r??=[],vc(o)?r.unshift(o):r.push(o))}return r}function O9(t,e,n,r,i,o){let s=Ra(t,e);L9(e[Cr],s,o,t.value,n,r,i)}function L9(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?ll(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function F9(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];nT(r,n,c,u)}}function uk(t,e,n,r,i){let o=qi+n,s=e[Bt],a=i(s,e,t,r,n);e[o]=a,Kh(t,!0);let c=t.type===2;return c?(JP(e[Cr],a,t),(v5()===0||Hh(t))&&Xh(a,e),_5()):Xh(a,e),u_()&&(!c||!ET(t))&&kT(s,e,a,t),t}function lk(t){let e=t;return TI()?A5():(e=e.parent,Kh(e,!1)),e}function V9(t,e){let n=t[fl];if(!n)return;let r;try{r=n.get(bs,null)}catch{r=null}r?.(e)}function FT(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],m=e.data[u];nT(m,n[u],l,i),a=!0}if(o)for(let c of o){let u=n[c],l=e.data[c];nT(l,u,r,i),a=!0}return a}function B9(t,e){let n=ea(e,t),r=n[Bt];j9(r,n);let i=n[xa];i!==null&&n[fg]===null&&(n[fg]=UP(i,n[fl])),Xn(18),VT(r,n,n[ao]),Xn(19,n[ao])}function j9(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function VT(t,e,n){s_(e);try{let r=t.viewQuery;r!==null&&tT(1,r,n);let i=t.template;i!==null&&ak(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[mc]?.finishViewCreation(t),t.staticContentQueries&&qP(t,e),t.staticViewQueries&&tT(2,t.viewQuery,n);let o=t.components;o!==null&&U9(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Wt]&=-5,a_()}}function U9(t,e){for(let n=0;n<e.length;n++)B9(t,e[n])}function q9(t,e,n,r){let i=rn(null);try{let o=e.tView,a=t[Wt]&4096?4096:16,c=DT(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[pl]=u;let l=t[mc];return l!==null&&(c[mc]=l.createEmbeddedView(o)),VT(o,c,n),c}finally{rn(i)}}function tP(t,e){return!e||e.firstChild===null||kP(t)}function Cg(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Xs(o)),Na(o)&&dk(o,r);let s=n.type;if(s&8)Cg(t,e,n.child,r);else if(s&32){let a=NT(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=sk(e,n);if(Array.isArray(a))r.push(...a);else{let c=cl(e[Zs]);Cg(c[Bt],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function dk(t,e){for(let n=xo;n<t.length;n++){let r=t[n],i=r[Bt].firstChild;i!==null&&Cg(r[Bt],r,i,e)}t[gl]!==t[xa]&&e.push(t[gl])}function hk(t){if(t[pd]!==null){for(let e of t[pd])e.impl.addSequence(e);t[pd].length=0}}var fk=[];function z9(t){return t[ws]??$9(t)}function $9(t){let e=fk.pop()??Object.create(G9);return e.lView=t,e}function H9(t){t.lView[ws]!==t&&(t.lView=null,fk.push(t))}var G9=Ot(Oe({},Kp),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Wh(t.lView)},consumerOnSignalRead(){this.lView[ws]=this}});function W9(t){let e=t[ws]??Object.create(K9);return e.lView=t,e}var K9=Ot(Oe({},Kp),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=cl(t.lView);for(;e&&!pk(e[Bt]);)e=cl(e);e&&_I(e)},consumerOnSignalRead(){this.lView[ws]=this}});function pk(t){return t.type!==2}function gk(t){if(t[gg]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[gg])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Wt]&8192)}}var Q9=100;function mk(t,e=0){let r=t[gc].rendererFactory,i=!1;i||r.begin?.();try{Y9(t,e)}finally{i||r.end?.()}}function Y9(t,e){let n=AI();try{SI(!0),iT(t,e);let r=0;for(;_g(t);){if(r===Q9)throw new rt(103,!1);r++,iT(t,1)}}finally{SI(n)}}function J9(t,e,n,r){if(md(e))return;let i=e[Wt],o=!1,s=!1;s_(e);let a=!0,c=null,u=null;o||(pk(t)?(u=z9(e),c=Yp(u)):dv()===null?(a=!1,u=W9(e),c=Yp(u)):e[ws]&&(Jp(e[ws]),e[ws]=null));try{vI(e),C5(t.bindingStartIndex),n!==null&&ak(t,e,n,2,r);let l=(i&3)===3;if(!o)if(l){let g=t.preOrderCheckHooks;g!==null&&p_(e,g,null)}else{let g=t.preOrderHooks;g!==null&&g_(e,g,0,null),BI(e,0)}if(s||Z9(e),gk(e),yk(e,0),t.contentQueries!==null&&qP(t,e),!o)if(l){let g=t.contentCheckHooks;g!==null&&p_(e,g)}else{let g=t.contentHooks;g!==null&&g_(e,g,1),BI(e,1)}eq(t,e);let m=t.components;m!==null&&_k(e,m,0);let y=t.viewQuery;if(y!==null&&tT(2,y,r),!o)if(l){let g=t.viewCheckHooks;g!==null&&p_(e,g)}else{let g=t.viewHooks;g!==null&&g_(e,g,2),BI(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Xv]){for(let g of e[Xv])g();e[Xv]=null}o||(hk(e),e[Wt]&=-73)}catch(l){throw o||Wh(e),l}finally{u!==null&&(hv(u,c),a&&H9(u)),a_()}}function yk(t,e){for(let n=OP(t);n!==null;n=LP(n))for(let r=xo;r<n.length;r++){let i=n[r];vk(i,e)}}function Z9(t){for(let e=OP(t);e!==null;e=LP(e)){if(!(e[Wt]&2))continue;let n=e[gd];for(let r=0;r<n.length;r++){let i=n[r];_I(i)}}}function X9(t,e,n){Xn(18);let r=ea(e,t);vk(r,n),Xn(19,r[ao])}function vk(t,e){t_(t)&&iT(t,e)}function iT(t,e){let r=t[Bt],i=t[Wt],o=t[ws],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&fv(o)),s||=!1,o&&(o.dirty=!1),t[Wt]&=-9217,s)J9(r,t,r.template,t[ao]);else if(i&8192){let a=rn(null);try{gk(t),yk(t,1);let c=r.components;c!==null&&_k(t,c,1),hk(t)}finally{rn(a)}}}function _k(t,e,n){for(let r=0;r<e.length;r++)X9(t,e[r],n)}function eq(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)vl(~i);else{let o=i,s=n[++r],a=n[++r];x5(s,o);let c=e[o];Xn(24,c),a(2,c),Xn(25,c)}}}finally{vl(-1)}}function BT(t,e){let n=AI()?64:1088;for(t[gc].changeDetectionScheduler?.notify(e);t;){t[Wt]|=n;let r=cl(t);if(Gh(t)&&!r)return t;t=r}return null}function wk(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function tq(t,e,n,r=!0){let i=e[Bt];if(nq(i,e,t,n),r){let s=rT(n,t),a=e[Cr],c=a.parentNode(t[gl]);c!==null&&f9(i,t[Js],a,e,c,s)}let o=e[fg];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function oT(t,e){if(t.length<=xo)return;let n=xo+e,r=t[n];if(r){let i=r[pl];i!==null&&i!==t&&PT(i,r),e>0&&(t[n-1][Ys]=r[Ys]);let o=lg(t,xo+e);h9(r[Bt],r);let s=o[mc];s!==null&&s.detachView(o[Bt]),r[xi]=null,r[Ys]=null,r[Wt]&=-129}return r}function nq(t,e,n,r){let i=xo+r,o=n.length;r>0&&(n[i-1][Ys]=e),r<o-xo?(e[Ys]=n[i],rI(n,xo+r,e)):(n.push(e),e[Ys]=null),e[xi]=n;let s=e[pl];s!==null&&n!==s&&bk(s,e);let a=e[mc];a!==null&&a.insertView(t),n_(e),e[Wt]|=128}function bk(t,e){let n=t[gd],r=e[xi];if(yc(r))t[Wt]|=2;else{let i=r[xi][Zs];e[Zs]!==i&&(t[Wt]|=2)}n===null?t[gd]=[e]:n.push(e)}var _l=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[Bt];return Cg(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[ao]}set context(e){this._lView[ao]=e}get destroyed(){return md(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xi];if(Na(e)){let n=e[yg],r=n?n.indexOf(this):-1;r>-1&&(oT(e,r),lg(n,r))}this._attachedToViewContainer=!1}ok(this._lView[Bt],this._lView)}onDestroy(e){wI(this._lView,e)}markForCheck(){BT(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Wt]&=-129}reattach(){n_(this._lView),this._lView[Wt]|=128}detectChanges(){this._lView[Wt]|=1024,mk(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new rt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Gh(this._lView),n=this._lView[pl];n!==null&&!e&&PT(n,this._lView),ik(this._lView[Bt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new rt(902,!1);this._appRef=e;let n=Gh(this._lView),r=this._lView[pl];r!==null&&!n&&bk(r,this._lView),n_(this._lView)}};var wl=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=rq;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=q9(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new _l(o)}}return t})();function rq(){return jT($i(),mn())}function jT(t,e){return t.type&4?new wl(e,t,of(t,e)):null}function UT(t,e,n,r,i){let o=t.data[e];if(o===null)o=iq(t,e,n,r,i),D5()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=T5();o.injectorIndex=s===null?-1:s.injectorIndex}return Kh(o,!0),o}function iq(t,e,n,r,i){let o=II(),s=TI(),a=s?o:o&&o.parent,c=t.data[e]=sq(t,a,n,e,r,i);return oq(t,c,o,s),c}function oq(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function sq(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return b5()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var aq=()=>null;function nP(t,e){return aq(t,e)}var Ek=class{},$_=class{},sT=class{resolveComponentFactory(e){throw new rt(917,!1)}},Rg=class{static NULL=new sT},_d=class{},Ec=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>cq()}return t})();function cq(){let t=mn(),e=$i(),n=ea(e.index,t);return(yc(n)?n:t)[Cr]}var Ik=(()=>{class t{static \u0275prov=ht({token:t,providedIn:"root",factory:()=>null})}return t})();var y_={},aT=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,y_,r);return i!==y_||n===y_?i:this.parentInjector.get(e,n,r)}};function rP(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=WE(i,a);else if(o==2){let c=a,u=e[++s];r=WE(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function st(t,e=0){let n=mn();if(n===null)return Lt(t,e);let r=$i();return NP(r,n,Ui(t),e)}function Tk(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}dq(t,e,n,a,o,c,u)}o!==null&&r!==null&&uq(n,r,o)}function uq(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new rt(-301,!1);r.push(e[i],o)}}function lq(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function dq(t,e,n,r,i,o,s){let a=r.length,c=!1;for(let y=0;y<a;y++){let g=r[y];!c&&vc(g)&&(c=!0,lq(t,n,y)),JI(E_(n,e),t,g.type)}yq(n,t.data.length,a);for(let y=0;y<a;y++){let g=r[y];g.providersResolver&&g.providersResolver(g)}let u=!1,l=!1,m=XP(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let y=0;y<a;y++){let g=r[y];if(n.mergedAttrs=Ag(n.mergedAttrs,g.hostAttrs),fq(t,n,e,m,g),mq(m,g,i),s!==null&&s.has(g)){let[k,M]=s.get(g);n.directiveToIndex.set(g.type,[m,k+n.directiveStart,M+n.directiveStart])}else(o===null||!o.has(g))&&n.directiveToIndex.set(g.type,m);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let R=g.type.prototype;!u&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!l&&(R.ngOnChanges||R.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),m++}hq(t,n,o)}function hq(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))iP(0,e,i,r),iP(1,e,i,r),sP(e,r,!1);else{let o=n.get(i);oP(0,e,o,r),oP(1,e,o,r),sP(e,r,!0)}}}function iP(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Ak(e,o)}}function oP(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Ak(e,s)}}function Ak(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function sP(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||ST(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let u=i[c];for(let l of u)if(l===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let u=o[c];for(let l=0;l<u.length;l+=2)if(u[l]===e){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function fq(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=al(i.type,!0)),s=new vd(o,vc(i),st,null);t.blueprint[r]=s,n[r]=s,pq(t,e,r,XP(t,n,i.hostVars,na),i)}function pq(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;gq(s)!=a&&s.push(a),s.push(n,r,o)}}function gq(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function mq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vc(e)&&(n[""]=t)}}function yq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qT(t,e,n,r,i,o,s,a){let c=e[Bt],u=c.consts,l=vg(u,s),m=UT(c,t,n,r,l);return o&&Tk(c,e,m,vg(u,a),i),m.mergedAttrs=Ag(m.mergedAttrs,m.attrs),m.attrs!==null&&rP(m,m.attrs,!1),m.mergedAttrs!==null&&rP(m,m.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,m),m}function zT(t,e){bP(t,e),pI(e)&&t.queries.elementEnd(e)}function $T(t){return Ck(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Sk(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Ck(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Dk(t,e,n){return t[e]=n}function su(t,e,n){if(n===na)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function xk(t,e,n,r){let i=su(t,e,n);return su(t,e+1,r)||i}function qI(t,e,n){return function r(i){let o=ml(t)?ea(t.index,e):e;BT(o,5);let s=e[ao],a=aP(e,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=aP(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function aP(t,e,n,r){let i=rn(null);try{return Xn(6,e,n),n(r)!==!1}catch(o){return V9(t,o),!1}finally{Xn(7,e,n),rn(i)}}function vq(t,e,n,r,i,o,s,a){let c=Hh(t),u=!1,l=null;if(!r&&c&&(l=wq(e,n,o,t.index)),l!==null){let m=l.__ngLastListenerFn__||l;m.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let m=Ra(t,n),y=r?r(m):m;P7(n,y,o,a);let g=i.listen(y,o,a);if(!_q(o)){let R=r?k=>r(Xs(k[t.index])):t.index;Nk(R,e,n,o,a,g,!1)}}return u}function _q(t){return t.startsWith("animation")||t.startsWith("transition")}function wq(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[zh],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Nk(t,e,n,r,i,o,s){let a=e.firstCreatePass?EI(e):null,c=bI(n),u=c.length;c.push(i,o),a&&a.push(r,t,u,(u+1)*(s?-1:1))}function cP(t,e,n,r,i,o){let s=e[n],a=e[Bt],u=a.data[n].outputs[r],m=s[u].subscribe(o);Nk(t.index,a,e,i,o,m,!0)}var cT=Symbol("BINDING");var C_=class extends Rg{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=hl(e);return new tf(n,this.ngModule)}};function bq(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&V_.SignalBased)!==0};return i&&(o.transform=i),o})}function Eq(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Iq(t,e,n){let r=e instanceof wi?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new aT(n,r):n}function Tq(t){let e=t.get(_d,null);if(e===null)throw new rt(407,!1);let n=t.get(Ik,null),r=t.get(ul,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Aq(t,e){let n=Rk(t);return QP(e,n,n==="svg"?d5:n==="math"?h5:null)}function Rk(t){return(t.selectors[0][0]||"div").toLowerCase()}var tf=class extends $_{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=bq(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Eq(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Y7(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Xn(22);let a=rn(null);try{let c=this.componentDef,u=Sq(r,c,s,o),l=Iq(c,i||this.ngModule,e),m=Tq(l),y=m.rendererFactory.createRenderer(null,c),g=r?S9(y,r,c.encapsulation,l):Aq(c,y),R=s?.some(uP)||o?.some(L=>typeof L!="function"&&L.bindings.some(uP)),k=DT(null,u,null,512|ZP(c),null,null,m,y,l,null,UP(g,l,!0));k[qi]=g,s_(k);let M=null;try{let L=qT(qi,k,2,"#host",()=>u.directiveRegistry,!0,0);JP(y,g,L),Xh(g,k),z_(u,k,L),IT(u,L,k),zT(u,L),n!==void 0&&Dq(L,this.ngContentSelectors,n),M=ea(L.index,k),k[ao]=M[ao],VT(u,k,null)}catch(L){throw M!==null&&XI(M),XI(k),L}finally{Xn(23),a_()}return new D_(this.componentType,k,!!R)}finally{rn(a)}}};function Sq(t,e,n,r){let i=t?["ng-version","21.0.0"]:J7(e.selectors[0]),o=null,s=null,a=0;if(n)for(let l of n)a+=l[cT].requiredVars,l.create&&(l.targetIdx=0,(o??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let m=r[l];if(typeof m!="function")for(let y of m.bindings){a+=y[cT].requiredVars;let g=l+1;y.create&&(y.targetIdx=g,(o??=[]).push(y)),y.update&&(y.targetIdx=g,(s??=[]).push(y))}}let c=[e];if(r)for(let l of r){let m=typeof l=="function"?l:l.type,y=aI(m);c.push(y)}return CT(0,null,Cq(o,s),1,a,c,null,null,null,[i],null)}function Cq(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function uP(t){let e=t[cT].kind;return e==="input"||e==="twoWay"}var D_=class extends Ek{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=e_(n[Bt],qi),this.location=of(this._tNode,n),this.instance=ea(this._tNode.index,n)[ao],this.hostView=this.changeDetectorRef=new _l(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=FT(r,i[Bt],i,e,n);this.previousInputValues.set(e,n);let s=ea(r.index,i);BT(s,1)}get injector(){return new yd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Dq(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var cu=(()=>{class t{static __NG_ELEMENT_ID__=xq}return t})();function xq(){let t=$i();return kk(t,mn())}var Nq=cu,Pk=class extends Nq{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return of(this._hostTNode,this._hostLView)}get injector(){return new yd(this._hostTNode,this._hostLView)}get parentInjector(){let e=_T(this._hostTNode,this._hostLView);if(TP(e)){let n=w_(e,this._hostLView),r=__(e),i=n[Bt].data[r+8];return new yd(i,n)}else return new yd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=lP(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-xo}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=nP(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,tP(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let c=e&&!o7(e),u;if(c)u=n;else{let M=n||{};u=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef,s=M.directives,a=M.bindings}let l=c?e:new tf(hl(e)),m=r||this.parentInjector;if(!o&&l.ngModule==null){let L=(c?m:this.parentInjector).get(wi,null);L&&(o=L)}let y=hl(l.componentType??{}),g=nP(this._lContainer,y?.id??null),R=g?.firstChild??null,k=l.create(m,i,R,o,s,a);return this.insertImpl(k.hostView,u,tP(this._hostTNode,g)),k}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(p5(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[xi],u=new Pk(c,c[Js],c[xi]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return tq(s,i,o,r),e.attachToViewContainerRef(),rI(zI(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=lP(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=oT(this._lContainer,n);r&&(lg(zI(this._lContainer),n),ok(r[Bt],r))}detach(e){let n=this._adjustIndex(e,-1),r=oT(this._lContainer,n);return r&&lg(zI(this._lContainer),n)!=null?new _l(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function lP(t){return t[yg]}function zI(t){return t[yg]||(t[yg]=[])}function kk(t,e){let n,r=e[t.index];return Na(r)?n=r:(n=wk(r,e,null,t),e[t.index]=n,xT(e,n)),Pq(n,e,t,r),new Pk(n,t,e)}function Rq(t,e){let n=t[Cr],r=n.createComment(""),i=Ra(e,t),o=n.parentNode(i);return A_(n,o,r,n.nextSibling(i),!1),r}var Pq=Oq,kq=()=>!1;function Mq(t,e,n){return kq(t,e,n)}function Oq(t,e,n,r){if(t[gl])return;let i;n.type&8?i=Xs(r):i=Rq(e,n),t[gl]=i}var uT=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},lT=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)HT(e,n).matches!==null&&this.queries[n].setDirty()}},dT=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=zq(e):this.predicate=e}},hT=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},fT=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,Lq(n,o)),this.matchTNodeWithReadOption(e,n,m_(n,e,o,!1,!1))}else r===wl?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,m_(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Yo||i===cu||i===wl&&n.type&4)this.addMatch(n.index,-2);else{let o=m_(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Lq(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Fq(t,e){return t.type&11?of(t,e):t.type&4?jT(t,e):null}function Vq(t,e,n,r){return n===-1?Fq(e,t):n===-2?Bq(t,e,r):Sg(t,t[Bt],n,e)}function Bq(t,e,n){if(n===Yo)return of(e,t);if(n===wl)return jT(e,t);if(n===cu)return kk(e,t)}function Mk(t,e,n,r){let i=e[mc].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=o[u];a.push(Vq(e,l,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function pT(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Mk(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],l=e[-c];for(let m=xo;m<l.length;m++){let y=l[m];y[pl]===y[xi]&&pT(y[Bt],y,u,r)}if(l[gd]!==null){let m=l[gd];for(let y=0;y<m.length;y++){let g=m[y];pT(g[Bt],g,u,r)}}}}}return r}function jq(t,e){return t[mc].queries[e].queryList}function Uq(t,e,n){let r=new I_((n&4)===4);return y5(t,e,r,r.destroy),(e[mc]??=new lT).queries.push(new uT(r))-1}function qq(t,e,n,r){let i=zi();if(i.firstCreatePass){let o=$i();$q(i,new dT(e,n,r),o.index),Hq(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return Uq(i,mn(),n)}function zq(t){return t.split(",").map(e=>e.trim())}function $q(t,e,n){t.queries===null&&(t.queries=new hT),t.queries.track(new fT(e,n))}function Hq(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function HT(t,e){return t.queries.getByIndex(e)}function Gq(t,e){let n=t[Bt],r=HT(n,e);return r.crossesNgTemplate?pT(n,t,e,[]):Mk(n,t,r,e)}var wd=class{},H_=class{};var x_=class extends wd{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new C_(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=sI(e);this._bootstrapComponents=WP(o.bootstrap),this._r3Injector=PI(e,n,[{provide:wd,useValue:this},{provide:Rg,useValue:this.componentFactoryResolver},...r],ru(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},N_=class extends H_{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new x_(this.moduleType,e,[])}};var Dg=class extends wd{injector;componentFactoryResolver=new C_(this);instance=null;constructor(e){super();let n=new ld([...e.providers,{provide:wd,useValue:this},{provide:Rg,useValue:this.componentFactoryResolver}],e.parent||hg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Pg(t,e,n=null){return new Dg({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Wq=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=cI(!1,n.type),i=r.length>0?Pg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ht({token:t,providedIn:"environment",factory:()=>new t(Lt(wi))})}return t})();function Gi(t){return rf(()=>{let e=Ok(t),n=Ot(Oe({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===wT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Wq).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ma.Emulated,styles:t.styles||_s,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&j_("NgStandalone"),Lk(n);let r=t.dependencies;return n.directiveDefs=dP(r,Kq),n.pipeDefs=dP(r,s5),n.id=Jq(n),n})}function Kq(t){return hl(t)||aI(t)}function Oa(t){return rf(()=>({type:t.type,bootstrap:t.bootstrap||_s,declarations:t.declarations||_s,imports:t.imports||_s,exports:t.exports||_s,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Qq(t,e){if(t==null)return dl;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=V_.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function Yq(t){if(t==null)return dl;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Dr(t){return rf(()=>{let e=Ok(t);return Lk(e),e})}function G_(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ok(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||dl,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||_s,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Qq(t.inputs,e),outputs:Yq(t.outputs),debugInfo:null}}function Lk(t){t.features?.forEach(e=>e(t))}function dP(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function Jq(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Zq(t){return Object.getPrototypeOf(t.prototype).constructor}function ra(t){let e=Zq(t.type),n=!0,r=[t];for(;e;){let i;if(vc(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new rt(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=$I(t.inputs),s.declaredInputs=$I(t.declaredInputs),s.outputs=$I(t.outputs);let a=i.hostBindings;a&&rz(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&tz(t,c),u&&nz(t,u),Xq(t,i),YR(t.outputs,i.outputs),vc(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ra&&(n=!1)}}e=Object.getPrototypeOf(e)}ez(r)}function Xq(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function ez(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ag(i.hostAttrs,n=Ag(n,i.hostAttrs))}}function $I(t){return t===dl?{}:t===_s?[]:t}function tz(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function nz(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function rz(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function iz(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Ag(t.mergedAttrs,t.attrs);let l=t.tView=CT(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),l.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Kh(t,!1);let c=sz(n,e,t,r);u_()&&kT(n,e,c,t),Xh(c,e);let u=wk(c,e,c,t);e[r+qi]=u,xT(e,u),Mq(u,t,e)}function oz(t,e,n,r,i,o,s,a,c,u,l){let m=n+qi,y;return e.firstCreatePass?(y=UT(e,m,4,s||null,a||null),r_()&&Tk(e,t,y,vg(e.consts,u),LT),bP(e,y)):y=e.data[m],iz(y,t,e,n,r,i,o,c),Hh(y)&&z_(e,t,y),u!=null&&OT(t,y,l),y}function ar(t,e,n,r,i,o,s,a){let c=mn(),u=zi(),l=vg(u.consts,o);return oz(c,u,t,e,n,r,i,l,void 0,s,a),ar}var sz=az;function az(t,e,n,r){return wg(!0),e[Cr].createComment("")}var GT=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Fk(t){return typeof t=="function"&&t[So]!==void 0}function WT(t){return Fk(t)&&typeof t.set=="function"}var W_=new mt(""),K_=new mt(""),kg=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,i){this._ngZone=n,this.registry=r,dI()&&(this._destroyRef=je(Pa,{optional:!0})??void 0),KT||(Bk(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Er.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static \u0275fac=function(r){return new(r||t)(Lt(Er),Lt(Vk),Lt(K_))};static \u0275prov=ht({token:t,factory:t.\u0275fac})}return t})(),Vk=(()=>{class t{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return KT?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Bk(t){KT=t}var KT;function uu(t){return!!t&&typeof t.then=="function"}function Q_(t){return!!t&&typeof t.subscribe=="function"}var jk=new mt("");var QT=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=je(jk,{optional:!0})??[];injector=je(Ni);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=bi(this.injector,i);if(uu(o))n.push(o);else if(Q_(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Y_=new mt("");function Uk(){dE(()=>{let t="";throw new rt(600,t)})}function qk(t){return t.isBoundToModule}var cz=10;var lu=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=je(bs);afterRenderManager=je(RT);zonelessEnabled=je(bg);rootEffectScheduler=je(VI);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Zr;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=je(ou);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(gn(n=>!n))}constructor(){je(Id,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=je(wi);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ni.NULL){return this._injector.get(Er).run(()=>{Xn(10);let s=n instanceof $_;if(!this._injector.get(QT).done){let R="";throw new rt(405,R)}let c;s?c=n:c=this._injector.get(Rg).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=qk(c)?void 0:this._injector.get(wd),l=r||c.selector,m=c.create(i,[],l,u),y=m.location.nativeElement,g=m.injector.get(W_,null);return g?.registerApplication(y),m.onDestroy(()=>{this.detachView(m.hostView),Tg(this.components,m),g?.unregisterApplication(y)}),this._loadComponent(m),Xn(11,m),m})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Xn(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(B_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new rt(101,!1);let n=rn(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,rn(n),this.afterTick.next(),Xn(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(_d,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<cz;)Xn(14),this.synchronizeOnce(),Xn(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!_g(i))continue;let o=r&&!this.zonelessEnabled?0:1;mk(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>_g(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Tg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Y_,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Tg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new rt(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Tg(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Td(t,e,n,r){let i=mn(),o=Qh();if(su(i,o,e)){let s=zi(),a=c_();O9(a,i,t,e,n,r)}return Td}var Ofe=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Zt(t,e,n){let r=mn(),i=Qh();if(su(r,i,e)){let o=zi(),s=c_();ck(s,r,t,e,r[Cr],n)}return Zt}function hP(t,e,n,r,i){FT(e,t,n,i?"class":"style",r)}function ae(t,e,n,r){let i=mn(),o=i[Bt],s=t+qi,a=o.firstCreatePass?qT(s,i,2,e,LT,r_(),n,r):o.data[s];if(uk(a,i,t,e,uz),Hh(a)){let c=i[Bt];z_(c,i,a),IT(c,a,i)}return r!=null&&OT(i,a),ae}function se(){let t=zi(),e=$i(),n=lk(e);return t.firstCreatePass&&zT(t,n),E5(n)&&I5(),w5(),n.classesWithoutHost!=null&&d7(n)&&hP(t,n,mn(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&h7(n)&&hP(t,n,mn(),n.stylesWithoutHost,!1),se}function Es(t,e,n,r){return ae(t,e,n,r),se(),Es}var uz=(t,e,n,r,i)=>(wg(!0),QP(e[Cr],r,L5()));function Ad(t,e,n){let r=mn(),i=r[Bt],o=t+qi,s=i.firstCreatePass?qT(o,r,8,"ng-container",LT,r_(),e,n):i.data[o];if(uk(s,r,t,"ng-container",lz),Hh(s)){let a=r[Bt];z_(a,r,s),IT(a,s,r)}return n!=null&&OT(r,s),Ad}function Sd(){let t=zi(),e=$i(),n=lk(e);return t.firstCreatePass&&zT(t,n),Sd}var lz=(t,e,n,r,i)=>(wg(!0),e9(e[Cr],""));function Wi(){return mn()}var Eg=void 0;function dz(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var hz=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Eg,Eg,Eg],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",dz],HI={};function Is(t){let e=fz(t),n=fP(e);if(n)return n;let r=e.split("-")[0];if(n=fP(r),n)return n;if(r==="en")return hz;throw new rt(701,!1)}function fP(t){return t in HI||(HI[t]=so.ng&&so.ng.common&&so.ng.common.locales&&so.ng.common.locales[t]),HI[t]}var zr=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(zr||{});function fz(t){return t.toLowerCase().replace(/_/g,"-")}var Mg="en-US";var pz=Mg;function zk(t){typeof t=="string"&&(pz=t.toLowerCase().replace(/_/g,"-"))}function Tt(t,e,n){let r=mn(),i=zi(),o=$i();return $k(i,r,r[Cr],o,t,e,n),Tt}function $k(t,e,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=qI(r,e,o),vq(r,t,e,s,n,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],l=r.hostDirectiveOutputs?.[i];if(l&&l.length)for(let m=0;m<l.length;m+=2){let y=l[m],g=l[m+1];c??=qI(r,e,o),cP(r,e,y,g,i,c)}if(u&&u.length)for(let m of u)c??=qI(r,e,o),cP(r,e,m,i,i,c)}}function Rt(t=1){return O5(t)}function YT(t,e,n,r){qq(t,e,n,r)}function JT(t){let e=mn(),n=zi(),r=xI();o_(r+1);let i=HT(n,r);if(t.dirty&&f5(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Gq(e,r);t.reset(o,A7),t.notifyOnChanges()}return!0}return!1}function ZT(){return jq(mn(),xI())}function f_(t,e){return t<<17|e<<2}function bd(t){return t>>17&32767}function gz(t){return(t&2)==2}function mz(t,e){return t&131071|e<<17}function gT(t){return t|2}function nf(t){return(t&131068)>>2}function GI(t,e){return t&-131069|e<<2}function yz(t){return(t&1)===1}function mT(t){return t|1}function vz(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=bd(s),c=nf(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let m=n;l=m[1],(l===null||Uh(m,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let y=bd(t[a+1]);t[r+1]=f_(y,a),y!==0&&(t[y+1]=GI(t[y+1],r)),t[a+1]=mz(t[a+1],r)}else t[r+1]=f_(a,0),a!==0&&(t[a+1]=GI(t[a+1],r)),a=r;else t[r+1]=f_(c,0),a===0?a=r:t[c+1]=GI(t[c+1],r),c=r;u&&(t[r+1]=gT(t[r+1])),pP(t,l,r,!0),pP(t,l,r,!1),_z(e,l,t,r,o),s=f_(a,c),o?e.classBindings=s:e.styleBindings=s}function _z(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Uh(o,e)>=0&&(n[r+1]=mT(n[r+1]))}function pP(t,e,n,r){let i=t[n+1],o=e===null,s=r?bd(i):nf(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];wz(c,e)&&(a=!0,t[s+1]=r?mT(u):gT(u)),s=r?bd(u):nf(u)}a&&(t[n+1]=r?gT(i):mT(i))}function wz(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Uh(t,e)>=0:!1}function J_(t,e){return bz(t,e,null,!0),J_}function bz(t,e,n,r){let i=mn(),o=zi(),s=DI(2);if(o.firstUpdatePass&&Iz(o,t,s,r),e!==na&&su(i,s,e)){let a=o.data[yl()];Dz(o,a,i,i[Cr],t,i[s+1]=xz(e,n),r,s)}}function Ez(t,e){return e>=t.expandoStartIndex}function Iz(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[yl()],s=Ez(t,n);Nz(o,r)&&e===null&&!s&&(e=!1),e=Tz(i,o,e,r),vz(i,o,e,n,s,r)}}function Tz(t,e,n,r){let i=R5(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=WI(null,t,e,n,r),n=xg(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=WI(i,t,e,n,r),o===null){let c=Az(t,e,r);c!==void 0&&Array.isArray(c)&&(c=WI(null,t,e,c[1],r),c=xg(c,e.attrs,r),Sz(t,e,r,c))}else o=Cz(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Az(t,e,n){let r=n?e.classBindings:e.styleBindings;if(nf(r)!==0)return t[bd(r)]}function Sz(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[bd(i)]=r}function Cz(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=xg(r,s,n)}return xg(r,e.attrs,n)}function WI(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=xg(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function xg(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),o5(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Dz(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=yz(u)?gP(c,e,n,i,nf(u),s):void 0;if(!R_(l)){R_(o)||gz(u)&&(o=gP(c,null,n,i,a,s));let m=gI(yl(),n);A9(r,s,m,i,o)}}function gP(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,m=l===null,y=n[i+1];y===na&&(y=m?_s:void 0);let g=m?Jv(y,r):l===r?y:void 0;if(u&&!R_(g)&&(g=Jv(c,r)),R_(g)&&(a=g,s))return a;let R=t[i+1];i=s?bd(R):nf(R)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Jv(c,r))}return a}function R_(t){return t!==void 0}function xz(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ru(L_(t)))),t}function Nz(t,e){return(t.flags&(e?8:16))!==0}function we(t,e=""){let n=mn(),r=zi(),i=t+qi,o=r.firstCreatePass?UT(r,i,1,e,null):r.data[i],s=Rz(r,n,o,e,t);n[i]=s,u_()&&kT(r,n,s,o),Kh(o,!1)}var Rz=(t,e,n,r,i)=>(wg(!0),Z7(e[Cr],r));function Pz(t,e,n,r=""){return su(t,Qh(),n)?e+ll(n)+r:na}function kz(t,e,n,r,i,o=""){let s=S5(),a=xk(t,s,n,i);return DI(2),a?e+ll(n)+r+ll(i)+o:na}function cr(t){return fr("",t),cr}function fr(t,e,n){let r=mn(),i=Pz(r,t,e,n);return i!==na&&Hk(r,yl(),i),fr}function Og(t,e,n,r,i){let o=mn(),s=kz(o,t,e,n,r,i);return s!==na&&Hk(o,yl(),s),Og}function Hk(t,e,n){let r=gI(e,t);X7(t[Cr],r,n)}function An(t,e,n){WT(e)&&(e=e());let r=mn(),i=Qh();if(su(r,i,e)){let o=zi(),s=c_();ck(s,r,t,e,r[Cr],n)}return An}function On(t,e){let n=WT(t);return n&&t.set(e),n}function Sn(t,e){let n=mn(),r=zi(),i=$i();return $k(r,n,n[Cr],i,t,e),Sn}function XT(t){return su(mn(),Qh(),t)?ll(t):na}function Mz(t,e,n){let r=zi();if(r.firstCreatePass){let i=vc(t);yT(n,r.data,r.blueprint,i,!0),yT(e,r.data,r.blueprint,i,!1)}}function yT(t,e,n,r,i){if(t=Ui(t),Array.isArray(t))for(let o=0;o<t.length;o++)yT(t[o],e,n,r,i);else{let o=zi(),s=mn(),a=$i(),c=ud(t)?t:Ui(t.provide),u=lI(t),l=a.providerIndexes&1048575,m=a.directiveStart,y=a.providerIndexes>>20;if(ud(t)||!t.multi){let g=new vd(u,i,st,null),R=QI(c,e,i?l:l+y,m);R===-1?(JI(E_(a,s),o,c),KI(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[R]=g,s[R]=g)}else{let g=QI(c,e,l+y,m),R=QI(c,e,l,l+y),k=g>=0&&n[g],M=R>=0&&n[R];if(i&&!M||!i&&!k){JI(E_(a,s),o,c);let L=Fz(i?Lz:Oz,n.length,i,r,u,t);!i&&M&&(n[R].providerFactory=L),KI(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(L),s.push(L)}else{let L=Gk(n[i?R:g],u,!i&&r);KI(o,t,g>-1?g:R,L)}!i&&r&&M&&n[R].componentProviders++}}}function KI(t,e,n,r){let i=ud(e),o=u5(e);if(i||o){let c=(o?Ui(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function Gk(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function QI(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Oz(t,e,n,r,i){return vT(this.multi,[])}function Lz(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Sg(r,r[Bt],this.providerFactory.index,i);s=c.slice(0,a),vT(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],vT(o,s);return s}function vT(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Fz(t,e,n,r,i,o){let s=new vd(t,n,st,null);return s.multi=[],s.index=e,s.componentProviders=0,Gk(s,i,r&&!n),s}function du(t,e=[]){return n=>{n.providersResolver=(r,i)=>Mz(r,i?i(t):t,e)}}function Wk(t,e){let n=t[e];return n===na?void 0:n}function Vz(t,e,n,r,i,o){let s=e+n;return su(t,s,i)?Dk(t,s+1,o?r.call(o,i):r(i)):Wk(t,s+1)}function Bz(t,e,n,r,i,o,s){let a=e+n;return xk(t,a,i,o)?Dk(t,a+2,s?r.call(s,i,o):r(i,o)):Wk(t,a+2)}function Ro(t,e){let n=zi(),r,i=t+qi;n.firstCreatePass?(r=jz(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=al(r.type,!0)),s,a=Do(st);try{let c=b_(!1),u=o();return b_(c),yI(n,mn(),i,u),u}finally{Do(a)}}function jz(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function La(t,e,n){let r=t+qi,i=mn(),o=mI(i,r);return Kk(i,r)?Vz(i,CI(),e,o.transform,n,o):o.transform(n)}function sf(t,e,n,r){let i=t+qi,o=mn(),s=mI(o,i);return Kk(o,i)?Bz(o,CI(),e,s.transform,n,r,s):s.transform(n,r)}function Kk(t,e){return t[Bt].data[e].pure}var P_=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},eA=(()=>{class t{compileModuleSync(n){return new N_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=sI(n),o=WP(i.declarations).reduce((s,a)=>{let c=hl(a);return c&&s.push(new tf(c)),s},[]);return new P_(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Qk=(()=>{class t{applicationErrorHandler=je(bs);appRef=je(lu);taskService=je(ou);ngZone=je(Er);zonelessEnabled=je(bg);tracing=je(Id,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new _i;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ag):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(je(FI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?MI:kI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ag+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,MI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yk(){return[{provide:ul,useExisting:Qk},{provide:Er,useClass:cg},{provide:bg,useValue:!0}]}function Uz(){return typeof $localize<"u"&&$localize.locale||Mg}var Lg=new mt("",{factory:()=>je(Lg,{optional:!0,skipSelf:!0})||Uz()});function Fg(t,e){return pv(t,e?.equal)}var eM=Symbol("InputSignalNode#UNSET"),Xz=Ot(Oe({},gv),{transformFn:void 0,applyValueToInputSignal(t,e){Zp(t,e)}});function tM(t,e){let n=Object.create(Xz);n.value=t,n.transformFn=e?.transform;function r(){if(Qp(n),n.value===eM){let i=null;throw new rt(-950,i)}return n.value}return r[So]=n,r}var X_=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Ng(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function Jk(t,e){return tM(t,e)}function e$(t){return tM(eM,t)}var nM=(Jk.required=e$,Jk);var tA=new mt(""),t$=new mt("");function Vg(t){return!t.moduleRef}function n$(t){let e=Vg(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Er);return n.run(()=>{Vg(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(bs),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Vg(t)){let o=()=>e.destroy(),s=t.platformInjector.get(tA);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(tA);s.add(o),t.moduleRef.onDestroy(()=>{Tg(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return i$(r,n,()=>{let o=e.get(ou),s=o.add(),a=e.get(QT);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Lg,Mg);if(zk(c||Mg),!e.get(t$,!0))return Vg(t)?e.get(lu):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Vg(t)){let l=e.get(lu);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return r$?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var r$;function i$(t,e,n){try{let r=n();return uu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Z_=null;function o$(t=[],e){return Ni.create({name:e,providers:[{provide:dg,useValue:"platform"},{provide:tA,useValue:new Set([()=>Z_=null])},...t]})}function s$(t=[]){if(Z_)return Z_;let e=o$(t);return Z_=e,Uk(),a$(e),e}function a$(t){let e=t.get(M_,null);bi(t,()=>{e?.forEach(n=>n())})}function sA(){return!1}var hu=(()=>{class t{static __NG_ELEMENT_ID__=c$}return t})();function c$(t){return u$($i(),mn(),(t&16)===16)}function u$(t,e,n){if(ml(t)&&!n){let r=ea(t.index,e);return new _l(r,r)}else if(t.type&175){let r=e[Zs];return new _l(r,e)}return null}var nA=class{constructor(){}supports(e){return $T(e)}create(e){return new rA(e)}},l$=(t,e)=>e,rA=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||l$}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Zk(r,i,o)?n:r,a=Zk(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let y=0;y<u;y++){let g=y<o.length?o[y]:o[y]=0,R=g+y;l<=R&&R<u&&(o[y]=g+1)}let m=s.previousIndex;o[m]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!$T(e))throw new rt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Sk(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new iA(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new e0),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new e0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},iA=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},oA=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},e0=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new oA,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Zk(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Xk(){return new aA([new nA])}var aA=(()=>{class t{factories;static \u0275prov=ht({token:t,providedIn:"root",factory:Xk});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=je(t,{optional:!0,skipSelf:!0});return t.create(n,r||Xk())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new rt(901,!1)}}return t})();var rM=(()=>{class t{constructor(n){}static \u0275fac=function(r){return new(r||t)(Lt(lu))};static \u0275mod=Oa({type:t});static \u0275inj=Qs({})}return t})();function iM(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Xn(8);try{let o=i?.injector??s$(r),s=[Yk(),j5,...n||[]],a=new Dg({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return n$({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Xn(9)}}function af(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var aM=null;function Ts(){return aM}function cA(t){aM??=t}var Bg=class{},uA=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:()=>je(cM),providedIn:"platform"})}return t})();var cM=(()=>{class t extends uA{_location;_history;_doc=je(No);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ts().getBaseHref(this._doc)}onPopState(n){let r=Ts().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ts().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function uM(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function oM(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function El(t){return t&&t[0]!=="?"?`?${t}`:t}var cf=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:()=>je(dM),providedIn:"root"})}return t})(),lM=new mt(""),dM=(()=>{class t extends cf{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??je(No).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return uM(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+El(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+El(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+El(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Lt(uA),Lt(lM,8))};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uf=(()=>{class t{_subject=new Zr;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=f$(oM(sM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+El(r))}normalize(n){return t.stripTrailingSlash(h$(this._basePath,sM(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+El(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+El(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=El;static joinWithSlash=uM;static stripTrailingSlash=oM;static \u0275fac=function(r){return new(r||t)(Lt(cf))};static \u0275prov=ht({token:t,factory:()=>d$(),providedIn:"root"})}return t})();function d$(){return new uf(Lt(cf))}function h$(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function sM(t){return t.replace(/\/index.html$/,"")}function f$(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var co=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(co||{}),tr=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(tr||{}),Jo=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Jo||{}),pu={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gM(t){return Is(t)[zr.LocaleId]}function mM(t,e,n){let r=Is(t),i=[r[zr.DayPeriodsFormat],r[zr.DayPeriodsStandalone]],o=ia(i,e);return ia(o,n)}function yM(t,e,n){let r=Is(t),i=[r[zr.DaysFormat],r[zr.DaysStandalone]],o=ia(i,e);return ia(o,n)}function vM(t,e,n){let r=Is(t),i=[r[zr.MonthsFormat],r[zr.MonthsStandalone]],o=ia(i,e);return ia(o,n)}function _M(t,e){let r=Is(t)[zr.Eras];return ia(r,e)}function jg(t,e){let n=Is(t);return ia(n[zr.DateFormat],e)}function Ug(t,e){let n=Is(t);return ia(n[zr.TimeFormat],e)}function qg(t,e){let r=Is(t)[zr.DateTimeFormat];return ia(r,e)}function zg(t,e){let n=Is(t),r=n[zr.NumberSymbols][e];if(typeof r>"u"){if(e===pu.CurrencyDecimal)return n[zr.NumberSymbols][pu.Decimal];if(e===pu.CurrencyGroup)return n[zr.NumberSymbols][pu.Group]}return r}function wM(t){if(!t[zr.ExtraData])throw new rt(2303,!1)}function bM(t){let e=Is(t);return wM(e),(e[zr.ExtraData][2]||[]).map(r=>typeof r=="string"?lA(r):[lA(r[0]),lA(r[1])])}function EM(t,e,n){let r=Is(t);wM(r);let i=[r[zr.ExtraData][0],r[zr.ExtraData][1]],o=ia(i,e)||[];return ia(o,n)||[]}function ia(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new rt(2304,!1)}function lA(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var p$=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,t0={},g$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function IM(t,e,n,r){let i=T$(t);e=fu(n,e)||e;let s=[],a;for(;e;)if(a=g$.exec(e),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;e=l}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=AM(r,c),i=I$(i,r));let u="";return s.forEach(l=>{let m=b$(l);u+=m?m(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function s0(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function fu(t,e){let n=gM(t);if(t0[n]??={},t0[n][e])return t0[n][e];let r="";switch(e){case"shortDate":r=jg(t,Jo.Short);break;case"mediumDate":r=jg(t,Jo.Medium);break;case"longDate":r=jg(t,Jo.Long);break;case"fullDate":r=jg(t,Jo.Full);break;case"shortTime":r=Ug(t,Jo.Short);break;case"mediumTime":r=Ug(t,Jo.Medium);break;case"longTime":r=Ug(t,Jo.Long);break;case"fullTime":r=Ug(t,Jo.Full);break;case"short":let i=fu(t,"shortTime"),o=fu(t,"shortDate");r=n0(qg(t,Jo.Short),[i,o]);break;case"medium":let s=fu(t,"mediumTime"),a=fu(t,"mediumDate");r=n0(qg(t,Jo.Medium),[s,a]);break;case"long":let c=fu(t,"longTime"),u=fu(t,"longDate");r=n0(qg(t,Jo.Long),[c,u]);break;case"full":let l=fu(t,"fullTime"),m=fu(t,"fullDate");r=n0(qg(t,Jo.Full),[l,m]);break}return r&&(t0[n][e]=r),r}function n0(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Fa(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function m$(t,e){return Fa(t,3).substring(0,e)}function ri(t,e,n=0,r=!1,i=!1){return function(o,s){let a=y$(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return m$(a,e);let c=zg(s,pu.MinusSign);return Fa(a,e,c,r,i)}}function y$(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new rt(2301,!1)}}function pr(t,e,n=co.Format,r=!1){return function(i,o){return v$(i,o,t,e,n,r)}}function v$(t,e,n,r,i,o){switch(n){case 2:return vM(e,i,r)[t.getMonth()];case 1:return yM(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let u=bM(e),l=EM(e,i,r),m=u.findIndex(y=>{if(Array.isArray(y)){let[g,R]=y,k=s>=g.hours&&a>=g.minutes,M=s<R.hours||s===R.hours&&a<R.minutes;if(g.hours<R.hours){if(k&&M)return!0}else if(k||M)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(m!==-1)return l[m]}return mM(e,i,r)[s<12?0:1];case 3:return _M(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new rt(2302,!1)}}function r0(t){return function(e,n,r){let i=-1*r,o=zg(n,pu.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Fa(s,2,o)+Fa(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Fa(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Fa(s,2,o)+":"+Fa(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Fa(s,2,o)+":"+Fa(Math.abs(i%60),2,o);default:throw new rt(2310,!1)}}}var _$=0,o0=4;function w$(t){let e=s0(t,_$,1).getDay();return s0(t,0,1+(e<=o0?o0:o0+7)-e)}function TM(t){let e=t.getDay(),n=e===0?-3:o0-e;return s0(t.getFullYear(),t.getMonth(),t.getDate()+n)}function dA(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=TM(n),s=w$(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Fa(i,t,zg(r,pu.MinusSign))}}function i0(t,e=!1){return function(n,r){let o=TM(n).getFullYear();return Fa(o,t,zg(r,pu.MinusSign),e)}}var hA={};function b$(t){if(hA[t])return hA[t];let e;switch(t){case"G":case"GG":case"GGG":e=pr(3,tr.Abbreviated);break;case"GGGG":e=pr(3,tr.Wide);break;case"GGGGG":e=pr(3,tr.Narrow);break;case"y":e=ri(0,1,0,!1,!0);break;case"yy":e=ri(0,2,0,!0,!0);break;case"yyy":e=ri(0,3,0,!1,!0);break;case"yyyy":e=ri(0,4,0,!1,!0);break;case"Y":e=i0(1);break;case"YY":e=i0(2,!0);break;case"YYY":e=i0(3);break;case"YYYY":e=i0(4);break;case"M":case"L":e=ri(1,1,1);break;case"MM":case"LL":e=ri(1,2,1);break;case"MMM":e=pr(2,tr.Abbreviated);break;case"MMMM":e=pr(2,tr.Wide);break;case"MMMMM":e=pr(2,tr.Narrow);break;case"LLL":e=pr(2,tr.Abbreviated,co.Standalone);break;case"LLLL":e=pr(2,tr.Wide,co.Standalone);break;case"LLLLL":e=pr(2,tr.Narrow,co.Standalone);break;case"w":e=dA(1);break;case"ww":e=dA(2);break;case"W":e=dA(1,!0);break;case"d":e=ri(2,1);break;case"dd":e=ri(2,2);break;case"c":case"cc":e=ri(7,1);break;case"ccc":e=pr(1,tr.Abbreviated,co.Standalone);break;case"cccc":e=pr(1,tr.Wide,co.Standalone);break;case"ccccc":e=pr(1,tr.Narrow,co.Standalone);break;case"cccccc":e=pr(1,tr.Short,co.Standalone);break;case"E":case"EE":case"EEE":e=pr(1,tr.Abbreviated);break;case"EEEE":e=pr(1,tr.Wide);break;case"EEEEE":e=pr(1,tr.Narrow);break;case"EEEEEE":e=pr(1,tr.Short);break;case"a":case"aa":case"aaa":e=pr(0,tr.Abbreviated);break;case"aaaa":e=pr(0,tr.Wide);break;case"aaaaa":e=pr(0,tr.Narrow);break;case"b":case"bb":case"bbb":e=pr(0,tr.Abbreviated,co.Standalone,!0);break;case"bbbb":e=pr(0,tr.Wide,co.Standalone,!0);break;case"bbbbb":e=pr(0,tr.Narrow,co.Standalone,!0);break;case"B":case"BB":case"BBB":e=pr(0,tr.Abbreviated,co.Format,!0);break;case"BBBB":e=pr(0,tr.Wide,co.Format,!0);break;case"BBBBB":e=pr(0,tr.Narrow,co.Format,!0);break;case"h":e=ri(3,1,-12);break;case"hh":e=ri(3,2,-12);break;case"H":e=ri(3,1);break;case"HH":e=ri(3,2);break;case"m":e=ri(4,1);break;case"mm":e=ri(4,2);break;case"s":e=ri(5,1);break;case"ss":e=ri(5,2);break;case"S":e=ri(6,1);break;case"SS":e=ri(6,2);break;case"SSS":e=ri(6,3);break;case"Z":case"ZZ":case"ZZZ":e=r0(0);break;case"ZZZZZ":e=r0(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=r0(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=r0(2);break;default:return null}return hA[t]=e,e}function AM(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function E$(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function I$(t,e,n){let i=t.getTimezoneOffset(),o=AM(e,i);return E$(t,-1*(o-i))}function T$(t){if(hM(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return s0(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(p$))return A$(r)}let e=new Date(t);if(!hM(e))throw new rt(2311,!1);return e}function A$(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,u),e}function hM(t){return t instanceof Date&&!isNaN(t.valueOf())}var a0=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},oa=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new a0(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),fM(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);fM(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(st(cu),st(wl),st(aA))};static \u0275dir=Dr({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function fM(t,e){t.context.$implicit=e.item}var Va=(()=>{class t{_viewContainer;_context=new c0;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){pM(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){pM(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(st(cu),st(wl))};static \u0275dir=Dr({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),c0=class{$implicit=null;ngIf=null};function pM(t,e){if(t&&!t.createEmbeddedView)throw new rt(2020,!1)}function SM(t,e){return new rt(2100,!1)}var fA=class{createSubscription(e,n,r){return qr(()=>e.subscribe({next:n,error:r}))}dispose(e){qr(()=>e.unsubscribe())}},pA=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},S$=new pA,C$=new fA,$g=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=je(bs);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(uu(n))return S$;if(Q_(n))return C$;throw SM(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(st(hu,16))};static \u0275pipe=G_({name:"async",type:t,pure:!1})}return t})();var D$="mediumDate",CM=new mt(""),DM=new mt(""),gA=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??D$,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return IM(n,s,o||this.locale,a)}catch(s){throw SM(t,s.message)}}static \u0275fac=function(r){return new(r||t)(st(Lg,16),st(CM,24),st(DM,24))};static \u0275pipe=G_({name:"date",type:t,pure:!0})}return t})();var Po=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Oa({type:t});static \u0275inj=Qs({})}return t})();function mA(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Hg=class{};var xM="browser";var Gg=class{_doc;constructor(e){this._doc=e}manager},u0=(()=>{class t extends Gg{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Lt(No))};static \u0275prov=ht({token:t,factory:t.\u0275fac})}return t})(),h0=new mt(""),wA=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof u0));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof u0);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new rt(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Lt(h0),Lt(Er))};static \u0275prov=ht({token:t,factory:t.\u0275fac})}return t})(),yA="ng-app-id";function NM(t){for(let e of t)e.remove()}function RM(t,e){let n=e.createElement("style");return n.textContent=t,n}function x$(t,e,n,r){let i=t.head?.querySelectorAll(`style[${yA}="${e}"],link[${yA}="${e}"]`);if(i)for(let o of i)o.removeAttribute(yA),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function _A(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var bA=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,x$(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,RM);r?.forEach(i=>this.addUsage(i,this.external,_A))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(NM(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])NM(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,RM(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,_A(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Lt(No),Lt(k_),Lt(O_,8),Lt(Ed))};static \u0275prov=ht({token:t,factory:t.\u0275fac})}return t})(),vA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},EA=/%COMP%/g;var kM="%COMP%",N$=`_nghost-${kM}`,R$=`_ngcontent-${kM}`,P$=!0,k$=new mt("",{factory:()=>P$});function M$(t){return R$.replace(EA,t)}function O$(t){return N$.replace(EA,t)}function MM(t,e){return e.map(n=>n.replace(EA,t))}var IA=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Wg(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof d0?i.applyToHost(n):i instanceof Kg&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,m=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case Ma.Emulated:o=new d0(c,u,r,this.appId,l,s,a,m,y);break;case Ma.ShadowDom:return new l0(c,n,r,s,a,this.nonce,m,y,u);case Ma.ExperimentalIsolatedShadowDom:return new l0(c,n,r,s,a,this.nonce,m,y);default:o=new Kg(c,u,r,l,s,a,m,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Lt(wA),Lt(bA),Lt(k_),Lt(k$),Lt(No),Lt(Er),Lt(O_),Lt(Id,8))};static \u0275prov=ht({token:t,factory:t.\u0275fac})}return t})(),Wg=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(vA[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(PM(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(PM(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new rt(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=vA[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=vA[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(wc.DashCase|wc.Important)?e.style.setProperty(n,r,i&wc.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&wc.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Ts().getGlobalEventTarget(this.doc,e),!e))throw new rt(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function PM(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var l0=class extends Wg{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,c,u){super(e,i,o,a,c),this.hostEl=n,this.sharedStylesHost=u,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=MM(r.id,l);for(let y of l){let g=document.createElement("style");s&&g.setAttribute("nonce",s),g.textContent=y,this.shadowRoot.appendChild(g)}let m=r.getExternalStyles?.();if(m)for(let y of m){let g=_A(y,i);s&&g.setAttribute("nonce",s),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Kg=class extends Wg{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?MM(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ef.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},d0=class extends Kg{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,u,l),this.contentAttr=M$(l),this.hostAttr=O$(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var f0=class t extends Bg{supportsDOMEvents=!0;static makeCurrent(){cA(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=L$();return n==null?null:F$(n)}resetBaseElement(){Qg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return mA(document.cookie,e)}},Qg=null;function L$(){return Qg=Qg||document.head.querySelector("base"),Qg?Qg.getAttribute("href"):null}function F$(t){return new URL(t,document.baseURI).pathname}var p0=class{addToWindow(e){so.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new rt(5103,!1);return o},so.getAllAngularTestabilities=()=>e.getAllTestabilities(),so.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=so.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};so.frameworkStabilizers||(so.frameworkStabilizers=[]),so.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Ts().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},V$=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:t.\u0275fac})}return t})(),OM=["alt","control","meta","shift"],B$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j$={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},LM=(()=>{class t extends Gg{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ts().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),OM.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=B$[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),OM.forEach(s=>{if(s!==i){let a=j$[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Lt(No))};static \u0275prov=ht({token:t,factory:t.\u0275fac})}return t})();function TA(t,e,n){let r=Oe({rootComponent:t,platformRef:n?.platformRef},U$(e));return iM(r)}function U$(t){return{appProviders:[...FM,...t?.providers??[]],platformProviders:H$}}function q$(){f0.makeCurrent()}function z$(){return new pc}function $$(){return bT(document),document}var H$=[{provide:Ed,useValue:xM},{provide:M_,useValue:q$,multi:!0},{provide:No,useFactory:$$}];var G$=[{provide:K_,useClass:p0},{provide:W_,useClass:kg},{provide:kg,useClass:kg}],FM=[{provide:dg,useValue:"root"},{provide:pc,useFactory:z$},{provide:h0,useClass:u0,multi:!0},{provide:h0,useClass:LM,multi:!0},IA,bA,wA,{provide:_d,useExisting:IA},{provide:Hg,useClass:V$},[]],AA=(()=>{class t{constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Oa({type:t});static \u0275inj=Qs({providers:[...FM,...G$],imports:[Po,rM]})}return t})();var VM=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Lt(No))};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Kt="primary",cm=Symbol("RouteTitle"),NA=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Rd(t){return new NA(t)}function WM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function w0(t){return new Promise((e,n)=>{t.pipe(tu()).subscribe({next:r=>e(r),error:r=>n(r)})})}function Q$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ic(t[n],e[n]))return!1;return!0}function Ic(t,e){let n=t?RA(t):void 0,r=e?RA(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!KM(t[i],e[i]))return!1;return!0}function RA(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function KM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function QM(t){return t.length>0?t[t.length-1]:null}function kd(t){return Lv(t)?t:uu(t)?Rr(Promise.resolve(t)):fn(t)}function YM(t){return Lv(t)?w0(t):Promise.resolve(t)}var Y$={exact:ZM,subset:XM},JM={exact:J$,subset:Z$,ignored:()=>!0};function BM(t,e,n){return Y$[n.paths](t.root,e.root,n.matrixParams)&&JM[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function J$(t,e){return Ic(t,e)}function ZM(t,e,n){if(!xd(t.segments,e.segments)||!y0(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!ZM(t.children[r],e.children[r],n))return!1;return!0}function Z$(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>KM(t[n],e[n]))}function XM(t,e,n){return eO(t,e,e.segments,n)}function eO(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!xd(i,n)||e.hasChildren()||!y0(i,n,r))}else if(t.segments.length===n.length){if(!xd(t.segments,n)||!y0(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!XM(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!xd(t.segments,i)||!y0(t.segments,i,r)||!t.children[Kt]?!1:eO(t.children[Kt],e,o,r)}}function y0(t,e,n){return e.every((r,i)=>JM[n](t[i].parameters,r.parameters))}var ja=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Un([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Rd(this.queryParams),this._queryParamMap}toString(){return tH.serialize(this)}},Un=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return v0(this)}},Il=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Rd(this.parameters),this._parameterMap}toString(){return nO(this)}};function X$(t,e){return xd(t,e)&&t.every((n,r)=>Ic(n.parameters,e[r].parameters))}function xd(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function eH(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Kt&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Kt&&(n=n.concat(e(i,r)))}),n}var um=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:()=>new Tl,providedIn:"root"})}return t})(),Tl=class{parse(e){let n=new kA(e);return new ja(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Yg(e.root,!0)}`,r=iH(e.queryParams),i=typeof e.fragment=="string"?`#${nH(e.fragment)}`:"";return`${n}${r}${i}`}},tH=new Tl;function v0(t){return t.segments.map(e=>nO(e)).join("/")}function Yg(t,e){if(!t.hasChildren())return v0(t);if(e){let n=t.children[Kt]?Yg(t.children[Kt],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Kt&&r.push(`${i}:${Yg(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=eH(t,(r,i)=>i===Kt?[Yg(t.children[Kt],!1)]:[`${i}:${Yg(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Kt]!=null?`${v0(t)}/${n[0]}`:`${v0(t)}/(${n.join("//")})`}}function tO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function g0(t){return tO(t).replace(/%3B/gi,";")}function nH(t){return encodeURI(t)}function PA(t){return tO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _0(t){return decodeURIComponent(t)}function jM(t){return _0(t.replace(/\+/g,"%20"))}function nO(t){return`${PA(t.path)}${rH(t.parameters)}`}function rH(t){return Object.entries(t).map(([e,n])=>`;${PA(e)}=${PA(n)}`).join("")}function iH(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${g0(n)}=${g0(i)}`).join("&"):`${g0(n)}=${g0(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var oH=/^[^\/()?;#]+/;function SA(t){let e=t.match(oH);return e?e[0]:""}var sH=/^[^\/()?;=#]+/;function aH(t){let e=t.match(sH);return e?e[0]:""}var cH=/^[^=?&#]+/;function uH(t){let e=t.match(cH);return e?e[0]:""}var lH=/^[^&#]+/;function dH(t){let e=t.match(lH);return e?e[0]:""}var kA=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Un([],{}):new Un([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Kt]=new Un(e,n)),r}parseSegment(){let e=SA(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new rt(4009,!1);return this.capture(e),new Il(_0(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=aH(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=SA(this.remaining);i&&(r=i,this.capture(r))}e[_0(n)]=_0(r)}parseQueryParam(e){let n=uH(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=dH(this.remaining);s&&(r=s,this.capture(r))}let i=jM(n),o=jM(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=SA(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new rt(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Kt);let s=this.parseChildren();n[o??Kt]=Object.keys(s).length===1&&s[Kt]?s[Kt]:new Un([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new rt(4011,!1)}};function rO(t){return t.segments.length>0?new Un([],{[Kt]:t}):t}function iO(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=iO(i);if(r===Kt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Un(t.segments,e);return hH(n)}function hH(t){if(t.numberOfChildren===1&&t.children[Kt]){let e=t.children[Kt];return new Un(t.segments.concat(e.segments),e.children)}return t}function Al(t){return t instanceof ja}function oO(t,e,n=null,r=null,i=new Tl){let o=sO(t);return aO(o,e,n,r,i)}function sO(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new Un(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=rO(r);return e??i}function aO(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return CA(o,o,o,n,r,i);let s=fH(e);if(s.toRoot())return CA(o,o,new Un([],{}),n,r,i);let a=pH(s,o,t),c=a.processChildren?Zg(a.segmentGroup,a.index,s.commands):uO(a.segmentGroup,a.index,s.commands);return CA(o,a.segmentGroup,c,n,r,i)}function b0(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function tm(t){return typeof t=="object"&&t!=null&&t.outlets}function UM(t,e,n){t||="\u0275";let r=new ja;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function CA(t,e,n,r,i,o){let s={};for(let[u,l]of Object.entries(r??{}))s[u]=Array.isArray(l)?l.map(m=>UM(u,m,o)):UM(u,l,o);let a;t===e?a=n:a=cO(t,e,n);let c=rO(iO(a));return new ja(c,s,i)}function cO(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=cO(o,e,n)}),new Un(t.segments,r)}var E0=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&b0(r[0]))throw new rt(4003,!1);let i=r.find(tm);if(i&&i!==QM(r))throw new rt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new E0(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new E0(n,e,r)}var hf=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function pH(t,e,n){if(t.isAbsolute)return new hf(e,!0,0);if(!n)return new hf(e,!1,NaN);if(n.parent===null)return new hf(n,!0,0);let r=b0(t.commands[0])?0:1,i=n.segments.length-1+r;return gH(n,i,t.numberOfDoubleDots)}function gH(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new rt(4005,!1);i=r.segments.length}return new hf(r,!1,i-o)}function mH(t){return tm(t[0])?t[0].outlets:{[Kt]:t}}function uO(t,e,n){if(t??=new Un([],{}),t.segments.length===0&&t.hasChildren())return Zg(t,e,n);let r=yH(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Un(t.segments.slice(0,r.pathIndex),{});return o.children[Kt]=new Un(t.segments.slice(r.pathIndex),t.children),Zg(o,0,i)}else return r.match&&i.length===0?new Un(t.segments,{}):r.match&&!t.hasChildren()?MA(t,e,n):r.match?Zg(t,0,i):MA(t,e,n)}function Zg(t,e,n){if(n.length===0)return new Un(t.segments,{});{let r=mH(n),i={};if(Object.keys(r).some(o=>o!==Kt)&&t.children[Kt]&&t.numberOfChildren===1&&t.children[Kt].segments.length===0){let o=Zg(t.children[Kt],e,n);return new Un(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=uO(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Un(t.segments,i)}}function yH(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(tm(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!zM(c,u,s))return o;r+=2}else{if(!zM(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function MA(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(tm(o)){let c=vH(o.outlets);return new Un(r,c)}if(i===0&&b0(n[0])){let c=t.segments[e];r.push(new Il(c.path,qM(n[0]))),i++;continue}let s=tm(o)?o.outlets[Kt]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&b0(a)?(r.push(new Il(s,qM(a))),i+=2):(r.push(new Il(s,{})),i++)}return new Un(r,{})}function vH(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=MA(new Un([],{}),0,r))}),e}function qM(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function zM(t,e,n){return t==n.path&&Ic(e,n.parameters)}var Xg="imperative",Ri=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Ri||{}),Ss=class{id;url;constructor(e,n){this.id=e,this.url=n}},Pd=class extends Ss{type=Ri.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ua=class extends Ss{urlAfterRedirects;type=Ri.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ko=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(ko||{}),nm=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(nm||{}),Tc=class extends Ss{reason;code;type=Ri.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gu=class extends Ss{reason;code;type=Ri.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},pf=class extends Ss{error;target;type=Ri.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},rm=class extends Ss{urlAfterRedirects;state;type=Ri.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},I0=class extends Ss{urlAfterRedirects;state;type=Ri.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},T0=class extends Ss{urlAfterRedirects;state;shouldActivate;type=Ri.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},A0=class extends Ss{urlAfterRedirects;state;type=Ri.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},S0=class extends Ss{urlAfterRedirects;state;type=Ri.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},C0=class{route;type=Ri.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},D0=class{route;type=Ri.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},x0=class{snapshot;type=Ri.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},N0=class{snapshot;type=Ri.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},R0=class{snapshot;type=Ri.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},P0=class{snapshot;type=Ri.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var im=class{},gf=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function _H(t){return!(t instanceof im)&&!(t instanceof gf)}function wH(t,e){return t.providers&&!t._injector&&(t._injector=Pg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ba(t){return t.outlet||Kt}function bH(t,e){let n=t.filter(r=>Ba(r)===e);return n.push(...t.filter(r=>Ba(r)!==e)),n}function vf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var k0=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return vf(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new _f(this.rootInjector)}},_f=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new k0(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Lt(wi))};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),M0=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=OA(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=OA(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=LA(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return LA(e,this._root).map(n=>n.value)}};function OA(t,e){if(t===e.value)return e;for(let n of e.children){let r=OA(t,n);if(r)return r}return null}function LA(t,e){if(t===e.value)return[e];for(let n of e.children){let r=LA(t,n);if(r.length)return r.unshift(e),r}return[]}var As=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function df(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var om=class extends M0{snapshot;constructor(e,n){super(e),this.snapshot=n,qA(this,e)}toString(){return this.snapshot.toString()}};function lO(t){let e=EH(t),n=new Xr([new Il("",{})]),r=new Xr({}),i=new Xr({}),o=new Xr({}),s=new Xr(""),a=new mu(n,r,o,s,i,Kt,t,e.root);return a.snapshot=e.root,new om(new As(a,[]),e)}function EH(t){let e={},n={},r={},o=new Nd([],e,r,"",n,Kt,t,null,{});return new sm("",new As(o,[]))}var mu=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(gn(u=>u[cm]))??fn(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(gn(e=>Rd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(gn(e=>Rd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function O0(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Oe(Oe({},e.params),t.params),data:Oe(Oe({},e.data),t.data),resolve:Oe(Oe(Oe(Oe({},t.data),e.data),i?.data),t._resolvedData)}:r={params:Oe({},t.params),data:Oe({},t.data),resolve:Oe(Oe({},t.data),t._resolvedData??{})},i&&hO(i)&&(r.resolve[cm]=i.title),r}var Nd=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[cm]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rd(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},sm=class extends M0{url;constructor(e,n){super(n),this.url=e,qA(this,n)}toString(){return dO(this._root)}};function qA(t,e){e.value._routerState=t,e.children.forEach(n=>qA(t,n))}function dO(t){let e=t.children.length>0?` { ${t.children.map(dO).join(", ")} } `:"";return`${t.value}${e}`}function DA(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ic(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ic(e.params,n.params)||t.paramsSubject.next(n.params),Q$(e.url,n.url)||t.urlSubject.next(n.url),Ic(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function FA(t,e){let n=Ic(t.params,e.params)&&X$(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||FA(t.parent,e.parent))}function hO(t){return typeof t.title=="string"||t.title===null}var fO=new mt(""),lm=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Kt;activateEvents=new ti;deactivateEvents=new ti;attachEvents=new ti;detachEvents=new ti;routerOutletData=nM();parentContexts=je(_f);location=je(cu);changeDetector=je(hu);inputBinder=je(B0,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new rt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new rt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new rt(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new rt(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new VA(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Dr({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[bc]})}return t})(),VA=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===mu?this.route:e===_f?this.childContexts:e===fO?this.outletData:this.parent.get(e,n)}},B0=new mt("");var zA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Gi({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Es(0,"router-outlet")},dependencies:[lm],encapsulation:2})}return t})();function $A(t){let e=t.children&&t.children.map($A),n=e?Ot(Oe({},t),{children:e}):Oe({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Kt&&(n.component=zA),n}function IH(t,e,n){let r=am(t,e._root,n?n._root:void 0);return new om(r,e)}function am(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=TH(t,e,n);return new As(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>am(t,a)),s}}let r=AH(e.value),i=e.children.map(o=>am(t,o));return new As(r,i)}}function TH(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return am(t,r,i);return am(t,r)})}function AH(t){return new mu(new Xr(t.url),new Xr(t.params),new Xr(t.queryParams),new Xr(t.fragment),new Xr(t.data),t.outlet,t.component,t)}var mf=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},pO="ngNavigationCancelingError";function L0(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Al(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gO(!1,ko.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function gO(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[pO]=!0,n.cancellationCode=e,n}function SH(t){return mO(t)&&Al(t.url)}function mO(t){return!!t&&t[pO]}var CH=(t,e,n,r)=>gn(i=>(new BA(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),BA=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),DA(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=df(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=df(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=df(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=df(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new P0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new N0(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(DA(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),DA(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},F0=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ff=class{component;route;constructor(e,n){this.component=e,this.route=n}};function DH(t,e,n){let r=t._root,i=e?e._root:null;return Jg(r,i,n,[r.value])}function xH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function wf(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!QE(t)?t:e.get(t):r}function Jg(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=df(e);return t.children.forEach(s=>{NH(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>em(a,n.getContext(s),i)),i}function NH(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=RH(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new F0(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Jg(t,e,a?a.children:null,r,i):Jg(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ff(a.outlet.component,s))}else s&&em(e,a,i),i.canActivateChecks.push(new F0(r)),o.component?Jg(t,null,a?a.children:null,r,i):Jg(t,null,n,r,i);return i}function RH(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!xd(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xd(t.url,e.url)||!Ic(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!FA(t,e)||!Ic(t.queryParams,e.queryParams);case"paramsChange":default:return!FA(t,e)}}function em(t,e,n){let r=df(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?em(s,e.children.getContext(o),n):em(s,null,n):em(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ff(e.outlet.component,i)):n.canDeactivateChecks.push(new ff(null,i)):n.canDeactivateChecks.push(new ff(null,i))}function dm(t){return typeof t=="function"}function PH(t){return typeof t=="boolean"}function kH(t){return t&&dm(t.canLoad)}function MH(t){return t&&dm(t.canActivate)}function OH(t){return t&&dm(t.canActivateChild)}function LH(t){return t&&dm(t.canDeactivate)}function FH(t){return t&&dm(t.canMatch)}function yO(t){return t instanceof od||t?.name==="EmptyError"}var m0=Symbol("INITIAL_VALUE");function yf(){return hc(t=>SE(t.map(e=>e.pipe(eu(1),Uv(m0)))).pipe(gn(e=>{for(let n of e)if(n!==!0){if(n===m0)return m0;if(n===!1||VH(n))return n}return!0}),Ws(e=>e!==m0),eu(1)))}function VH(t){return Al(t)||t instanceof mf}function vO(t){return t.aborted?fn(void 0).pipe(eu(1)):new on(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function _O(t){return rg(vO(t))}function BH(t,e){return oo(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?fn(Ot(Oe({},n),{guardsResult:!0})):jH(s,r,i,t).pipe(oo(a=>a&&PH(a)?UH(r,o,t,e):fn(a)),gn(a=>Ot(Oe({},n),{guardsResult:a})))})}function jH(t,e,n,r){return Rr(t).pipe(oo(i=>GH(i.component,i.route,n,e,r)),tu(i=>i!==!0,!0))}function UH(t,e,n,r){return Rr(e).pipe(ng(i=>Lh(zH(i.route.parent,r),qH(i.route,r),HH(t,i.path,n),$H(t,i.route,n))),tu(i=>i!==!0,!0))}function qH(t,e){return t!==null&&e&&e(new R0(t)),fn(!0)}function zH(t,e){return t!==null&&e&&e(new x0(t)),fn(!0)}function $H(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return fn(!0);let i=r.map(o=>tg(()=>{let s=vf(e)??n,a=wf(o,s),c=MH(a)?a.canActivate(e,t):bi(s,()=>a(e,t));return kd(c).pipe(tu())}));return fn(i).pipe(yf())}function HH(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>xH(s)).filter(s=>s!==null).map(s=>tg(()=>{let a=s.guards.map(c=>{let u=vf(s.node)??n,l=wf(c,u),m=OH(l)?l.canActivateChild(r,t):bi(u,()=>l(r,t));return kd(m).pipe(tu())});return fn(a).pipe(yf())}));return fn(o).pipe(yf())}function GH(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return fn(!0);let s=o.map(a=>{let c=vf(e)??i,u=wf(a,c),l=LH(u)?u.canDeactivate(t,e,n,r):bi(c,()=>u(t,e,n,r));return kd(l).pipe(tu())});return fn(s).pipe(yf())}function WH(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return fn(!0);let s=o.map(a=>{let c=wf(a,t),u=kH(c)?c.canLoad(e,n):bi(t,()=>c(e,n)),l=kd(u);return i?l.pipe(_O(i)):l});return fn(s).pipe(yf(),wO(r))}function wO(t){return wv(Co(e=>{if(typeof e!="boolean")throw L0(t,e)}),gn(e=>e===!0))}function KH(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return fn(!0);let s=o.map(a=>{let c=wf(a,t),u=FH(c)?c.canMatch(e,n):bi(t,()=>c(e,n)),l=kd(u);return i?l.pipe(_O(i)):l});return fn(s).pipe(yf(),wO(r))}var Dd=class bO extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,bO.prototype)}},jA=class EO extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,EO.prototype)}};function QH(t){throw new rt(4e3,!1)}function YH(t){throw gO(!1,ko.GuardRejected)}var JH=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Kt])throw QH(`${e.redirectTo}`);i=i.children[Kt]}}async applyRedirectCommands(e,n,r,i,o){let s=await ZH(n,i,o);if(s instanceof ja)throw new jA(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new jA(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new ja(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Un(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new rt(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function ZH(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:l,title:m}=e;return w0(kd(bi(n,()=>r({params:u,data:l,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:m}))))}var UA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XH(t,e,n,r,i,o){let s=IO(t,e,n);return s.matched?(r=wH(e,r),KH(r,e,n,i,o).pipe(gn(a=>a===!0?s:Oe({},UA)))):fn(s)}function IO(t,e,n){if(e.path==="**")return eG(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?Oe({},UA):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||WM)(n,t,e);if(!i)return Oe({},UA);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?Oe(Oe({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function eG(t){return{matched:!0,parameters:t.length>0?QM(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function $M(t,e,n,r){return n.length>0&&rG(t,n,r)?{segmentGroup:new Un(e,nG(r,new Un(n,t.children))),slicedSegments:[]}:n.length===0&&iG(t,n,r)?{segmentGroup:new Un(t.segments,tG(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Un(t.segments,t.children),slicedSegments:n}}function tG(t,e,n,r){let i={};for(let o of n)if(j0(t,e,o)&&!r[Ba(o)]){let s=new Un([],{});i[Ba(o)]=s}return Oe(Oe({},r),i)}function nG(t,e){let n={};n[Kt]=e;for(let r of t)if(r.path===""&&Ba(r)!==Kt){let i=new Un([],{});n[Ba(r)]=i}return n}function rG(t,e,n){return n.some(r=>j0(t,e,r)&&Ba(r)!==Kt)}function iG(t,e,n){return n.some(r=>j0(t,e,r))}function j0(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function oG(t,e,n){return e.length===0&&!t.children[n]}var sG=class{};async function aG(t,e,n,r,i,o,s="emptyOnly",a){return new uG(t,e,n,r,i,s,o,a).recognize()}var cG=31,uG=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new JH(this.urlSerializer,this.urlTree)}noMatchError(e){return new rt(4002,`'${e.segmentGroup}'`)}async recognize(){let e=$M(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new As(r,n),o=new sm("",i),s=oO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let n=new Nd([],Object.freeze({}),Object.freeze(Oe({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Kt,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Kt,n),rootSnapshot:n}}catch(r){if(r instanceof jA)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Dd?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let s=await this.processSegment(e,n,r,r.segments,i,!0,o);return s instanceof As?[s]:[]}async processChildren(e,n,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let u=r.children[c],l=bH(n,c),m=await this.processSegmentGroup(e,l,u,c,i);s.push(...m)}let a=TO(s);return lG(a),a}async processSegment(e,n,r,i,o,s,a){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a)}catch(u){if(u instanceof Dd||yO(u))continue;throw u}if(oG(r,i,o))return new sG;throw new Dd(r)}async processSegmentAgainstRoute(e,n,r,i,o,s,a,c){if(Ba(r)!==s&&(s===Kt||!j0(i,o,r)))throw new Dd(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c);throw new Dd(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:m,remainingSegments:y}=IO(n,i,o);if(!c)throw new Dd(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>cG&&(this.allowRedirects=!1));let g=new Nd(o,u,Object.freeze(Oe({},this.urlTree.queryParams)),this.urlTree.fragment,HM(i),Ba(i),i.component??i._loadedComponent??null,i,GM(i)),R=O0(g,a,this.paramsInheritanceStrategy);if(g.params=Object.freeze(R.params),g.data=Object.freeze(R.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let k=await this.applyRedirects.applyRedirectCommands(l,i.redirectTo,m,g,e),M=await this.applyRedirects.lineralizeSegments(i,k);return this.processSegment(e,r,n,M.concat(y),s,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await w0(XH(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new Dd(n);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),u=r._loadedInjector??e,{parameters:l,consumedSegments:m,remainingSegments:y}=a,g=new Nd(m,l,Object.freeze(Oe({},this.urlTree.queryParams)),this.urlTree.fragment,HM(r),Ba(r),r.component??r._loadedComponent??null,r,GM(r)),R=O0(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(R.params),g.data=Object.freeze(R.data);let{segmentGroup:k,slicedSegments:M}=$M(n,m,y,c);if(M.length===0&&k.hasChildren()){let J=await this.processChildren(u,c,k,g);return new As(g,J)}if(c.length===0&&M.length===0)return new As(g,[]);let L=Ba(r)===o,Z=await this.processSegment(u,c,k,M,L?Kt:o,!0,g);return new As(g,Z instanceof As?[Z]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await w0(WH(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw YH(n)}return{routes:[],injector:e}}};function lG(t){t.sort((e,n)=>e.value.outlet===Kt?-1:n.value.outlet===Kt?1:e.value.outlet.localeCompare(n.value.outlet))}function dG(t){let e=t.value.routeConfig;return e&&e.path===""}function TO(t){let e=[],n=new Set;for(let r of t){if(!dG(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=TO(r.children);e.push(new As(r.value,i))}return e.filter(r=>!n.has(r))}function HM(t){return t.data||{}}function GM(t){return t.resolve||{}}var hG=new mt("",{factory:()=>aG});function fG(t,e,n,r,i,o,s){let a=t.get(hG);return oo(c=>fn(c).pipe(hc(u=>a(t,e,n,r,u.extractedUrl,i,o,s)),gn(({state:u,tree:l})=>Ot(Oe({},c),{targetSnapshot:u,urlAfterRedirects:l}))))}function pG(t,e){return oo(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return fn(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of AO(c))s.add(u);let a=0;return Rr(s).pipe(ng(c=>o.has(c)?gG(c,r,t,e):(c.data=O0(c,c.parent,t).resolve,fn(void 0))),Co(()=>a++),jv(1),oo(c=>a===s.size?fn(n):Ko))})}function AO(t){let e=t.children.map(n=>AO(n)).flat();return[t,...e]}function gG(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!hO(i)&&(o[cm]=i.title),tg(()=>(t.data=O0(t,t.parent,n).resolve,mG(o,t,e,r).pipe(gn(s=>(t._resolvedData=s,t.data=Oe(Oe({},t.data),s),null)))))}function mG(t,e,n,r){let i=RA(t);if(i.length===0)return fn({});let o={};return Rr(i).pipe(oo(s=>yG(t[s],e,n,r).pipe(tu(),Co(a=>{if(a instanceof mf)throw L0(new Tl,a);o[s]=a}))),jv(1),gn(()=>o),Fh(s=>yO(s)?Ko:AE(s)))}function yG(t,e,n,r){let i=vf(e)??r,o=wf(t,i),s=o.resolve?o.resolve(e,n):bi(i,()=>o(e,n));return kd(s)}function xA(t){return hc(e=>{let n=t(e);return n?Rr(n).pipe(gn(()=>e)):fn(e)})}var HA=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Kt);return r}getResolvedTitleForRoute(n){return n.data[cm]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:()=>je(SO),providedIn:"root"})}return t})(),SO=(()=>{class t extends HA{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Lt(VM))};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bf=new mt("",{factory:()=>({})}),hm=new mt(""),CO=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=je(eA);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await YM(bi(n,()=>r.loadComponent())),s=await NO(xO(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await DO(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function DO(t,e,n,r){let i=await YM(bi(n,()=>t.loadChildren())),o=await NO(xO(i)),s;o instanceof H_||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(t);let a,c,u=!1;return Array.isArray(s)?(c=s,u=!0):(a=s.create(n).injector,c=a.get(hm,[],{optional:!0,self:!0}).flat()),{routes:c.map($A),injector:a}}function vG(t){return t&&typeof t=="object"&&"default"in t}function xO(t){return vG(t)?t.default:t}async function NO(t){return t}var U0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:()=>je(_G),providedIn:"root"})}return t})(),_G=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),RO=new mt("");var wG=()=>{},PO=new mt(""),kO=(()=>{class t{currentNavigation=Hi(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Hi(null);events=new Zr;transitionAbortWithErrorSubject=new Zr;configLoader=je(CO);environmentInjector=je(wi);destroyRef=je(Pa);urlSerializer=je(um);rootContexts=je(_f);location=je(uf);inputBindingEnabled=je(B0,{optional:!0})!==null;titleStrategy=je(HA);options=je(bf,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=je(U0);createViewTransition=je(RO,{optional:!0});navigationErrorHandler=je(PO,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>fn(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new C0(i)),r=i=>this.events.next(new D0(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;qr(()=>{this.transitions?.next(Ot(Oe({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new Xr(null),this.transitions.pipe(Ws(r=>r!==null),hc(r=>{let i=!1,o=new AbortController;return fn(r).pipe(hc(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ko.SupersededByNewNavigation),Ko;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?Ot(Oe({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload")return this.events.next(new gu(s.id,this.urlSerializer.serialize(s.rawUrl),"",nm.IgnoredSameUrlNavigation)),s.resolve(!1),Ko;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return fn(s).pipe(hc(l=>(this.events.next(new Pd(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ko:Promise.resolve(l))),fG(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Co(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(y=>(y.finalUrl=l.urlAfterRedirects,y));let m=new rm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:m,source:y,restoredState:g,extras:R}=s,k=new Pd(l,this.urlSerializer.serialize(m),y,g);this.events.next(k);let M=lO(this.rootComponentType).snapshot;return this.currentTransition=r=Ot(Oe({},s),{targetSnapshot:M,urlAfterRedirects:m,extras:Ot(Oe({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(L=>(L.finalUrl=m,L)),fn(r)}else return this.events.next(new gu(s.id,this.urlSerializer.serialize(s.extractedUrl),"",nm.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ko}),Co(s=>{let a=new I0(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),gn(s=>(this.currentTransition=r=Ot(Oe({},s),{guards:DH(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),BH(this.environmentInjector,s=>this.events.next(s)),Co(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw L0(this.urlSerializer,s.guardsResult);let a=new T0(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ws(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",ko.GuardRejected),!1)),xA(s=>{if(s.guards.canActivateChecks.length!==0)return fn(s).pipe(Co(a=>{let c=new A0(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),hc(a=>{let c=!1;return fn(a).pipe(pG(this.paramsInheritanceStrategy,this.environmentInjector),Co({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",ko.NoDataFromResolver)}}))}),Co(a=>{let c=new S0(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),xA(s=>{let a=u=>{let l=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let m=vf(u)??this.environmentInjector;l.push(this.configLoader.loadComponent(m,u.routeConfig).then(y=>{u.component=y}))}for(let m of u.children)l.push(...a(m));return l},c=a(s.targetSnapshot.root);return c.length===0?fn(s):Rr(Promise.all(c).then(()=>s))}),xA(()=>this.afterPreactivation()),hc(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Rr(c).pipe(gn(()=>r)):fn(r)}),gn(s=>{let a=IH(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Ot(Oe({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),Co(()=>{this.events.next(new im)}),CH(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),eu(1),rg(vO(o.signal).pipe(Ws(()=>!i&&!r.targetRouterState),Co(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",ko.Aborted)}))),Co({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=wG,a)),this.lastSuccessfulNavigation.set(qr(this.currentNavigation)),this.events.next(new Ua(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),rg(this.transitionAbortWithErrorSubject.pipe(Co(s=>{throw s}))),xE(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",ko.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Fh(s=>{if(this.destroyed)return r.resolve(!1),Ko;if(i=!0,mO(s))this.events.next(new Tc(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),SH(s)?this.events.next(new gf(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new pf(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=bi(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof mf){let{message:u,cancellationCode:l}=L0(this.urlSerializer,c);this.events.next(new Tc(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new gf(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Ko}))}))}cancelNavigationTransition(n,r,i){let o=new Tc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=qr(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bG(t){return t!==Xg}var MO=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:()=>je(EG),providedIn:"root"})}return t})(),V0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},EG=(()=>{class t extends V0{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ta(t)))(i||t)}})();static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),GA=(()=>{class t{urlSerializer=je(um);options=je(bf,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=je(uf);urlHandlingStrategy=je(U0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ja;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof ja?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=lO(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:()=>je(OO),providedIn:"root"})}return t})(),OO=(()=>{class t extends GA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Pd?this.updateStateMemento():n instanceof gu?this.commitTransition(r):n instanceof rm?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof im?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Tc&&n.code!==ko.SupersededByNewNavigation&&n.code!==ko.Redirect?this.restoreHistory(r):n instanceof pf?this.restoreHistory(r,!0):n instanceof Ua&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=Oe(Oe({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=Oe(Oe({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ta(t)))(i||t)}})();static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function WA(t,e){t.events.pipe(Ws(n=>n instanceof Ua||n instanceof Tc||n instanceof pf||n instanceof gu),gn(n=>n instanceof Ua||n instanceof gu?0:(n instanceof Tc?n.code===ko.Redirect||n.code===ko.SupersededByNewNavigation:!1)?2:1),Ws(n=>n!==2),eu(1)).subscribe(()=>{e()})}var IG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},sa=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=je(GT);stateManager=je(GA);options=je(bf,{optional:!0})||{};pendingTasks=je(ou);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=je(kO);urlSerializer=je(um);location=je(uf);urlHandlingStrategy=je(U0);injector=je(wi);_events=new Zr;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=je(MO);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=je(hm,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!je(B0,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new _i;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=qr(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Tc&&r.code!==ko.Redirect&&r.code!==ko.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ua)this.navigated=!0;else if(r instanceof gf){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=Oe({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bG(i.source)},s);this.scheduleNavigation(a,Xg,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_H(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xg,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=Oe({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(bs)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return qr(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map($A),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=Oe(Oe({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let m;try{let y=i?i.snapshot:this.routerState.snapshot.root;m=sO(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),m=this.currentUrlTree.root}return aO(m,n,l,u??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Al(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xg,null,r)}navigate(n,r={skipLocationChange:!1}){return AG(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(jh(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=Oe({},IG):r===!1?i=Oe({},TG):i=r,Al(n))return BM(this.currentUrlTree,n,i);let o=this.parseUrl(n);return BM(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((m,y)=>{a=m,c=y});let l=this.pendingTasks.add();return WA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function AG(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new rt(4008,!1)}var Ef=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Hi(null);get href(){return qr(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Zr;applicationErrorHandler=je(bs);options=je(bf,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(je(new X_("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Ua&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Al(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Al(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(st(sa),st(mu),Ng("tabindex"),st(Ec),st(Yo),st(cf))};static \u0275dir=Dr({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Tt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Td("href",i.reactiveHref(),AT)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",af],skipLocationChange:[2,"skipLocationChange","skipLocationChange",af],replaceUrl:[2,"replaceUrl","replaceUrl",af],routerLink:"routerLink"},features:[bc]})}return t})(),KA=(()=>{class t{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ti;link=je(Ef,{optional:!0});constructor(n,r,i,o){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=n.events.subscribe(s=>{s instanceof Ua&&this.update()})}ngAfterContentInit(){fn(this.links.changes,fn(null)).pipe(Oh()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Rr(n).pipe(Oh()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=CG(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(st(sa),st(Yo),st(Ec),st(hu))};static \u0275dir=Dr({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&YT(o,Ef,5),r&2){let s;JT(s=ZT())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[bc]})}return t})();function CG(t){return!!t.paths}var DG=new mt("");function QA(t,...e){return iu([{provide:hm,multi:!0,useValue:t},[],{provide:mu,useFactory:xG},{provide:Y_,multi:!0,useFactory:NG},e.map(n=>n.\u0275providers)])}function xG(){return je(sa).routerState.root}function NG(){let t=je(Ni);return e=>{let n=t.get(lu);if(e!==n.components[0])return;let r=t.get(sa),i=t.get(RG);t.get(PG)===1&&r.initialNavigation(),t.get(kG,null,{optional:!0})?.setUpPreloading(),t.get(DG,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var RG=new mt("",{factory:()=>new Zr}),PG=new mt("",{factory:()=>1});var kG=new mt("");var $O=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(st(Ec),st(Yo))};static \u0275dir=Dr({type:t})}return t})(),G0=(()=>{class t extends $O{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ta(t)))(i||t)}})();static \u0275dir=Dr({type:t,features:[ra]})}return t})(),vm=new mt("");var MG={provide:vm,useExisting:Ks(()=>Zo),multi:!0};function OG(){let t=Ts()?Ts().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var LG=new mt(""),Zo=(()=>{class t extends $O{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!OG())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(st(Ec),st(Yo),st(LG,8))};static \u0275dir=Dr({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Tt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[du([MG]),ra]})}return t})();function FG(t){return t==null||HO(t)===0}function HO(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var rS=new mt(""),VG=new mt("");function BG(t){return e=>{let n=e.value?.length??HO(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function jG(t){if(!t)return JA;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(FG(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function JA(t){return null}function GO(t){return t!=null}function WO(t){return uu(t)?Rr(t):t}function KO(t){let e={};return t.forEach(n=>{e=n!=null?Oe(Oe({},e),n):e}),Object.keys(e).length===0?null:e}function QO(t,e){return e.map(n=>n(t))}function UG(t){return!t.validate}function YO(t){return t.map(e=>UG(e)?e:n=>e.validate(n))}function qG(t){if(!t)return null;let e=t.filter(GO);return e.length==0?null:function(n){return KO(QO(n,e))}}function JO(t){return t!=null?qG(YO(t)):null}function zG(t){if(!t)return null;let e=t.filter(GO);return e.length==0?null:function(n){let r=QO(n,e).map(WO);return CE(r).pipe(gn(KO))}}function ZO(t){return t!=null?zG(YO(t)):null}function LO(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function $G(t){return t._rawValidators}function HG(t){return t._rawAsyncValidators}function ZA(t){return t?Array.isArray(t)?t:[t]:[]}function z0(t,e){return Array.isArray(t)?t.includes(e):t===e}function FO(t,e){let n=ZA(e);return ZA(t).forEach(i=>{z0(n,i)||n.push(i)}),n}function VO(t,e){return ZA(e).filter(n=>!z0(t,n))}var $0=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=JO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},XA=class extends $0{name;get formDirective(){return null}get path(){return null}},ym=class extends $0{_parent=null;name=null;valueAccessor=null},eS=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var aa=(()=>{class t extends eS{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(st(ym,2))};static \u0275dir=Dr({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&J_("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[ra]})}return t})();var fm="VALID",q0="INVALID",If="PENDING",pm="DISABLED",Md=class{},H0=class extends Md{value;source;constructor(e,n){super(),this.value=e,this.source=n}},gm=class extends Md{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},mm=class extends Md{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Tf=class extends Md{status;source;constructor(e,n){super(),this.status=e,this.source=n}};var tS=class extends Md{source;constructor(e){super(),this.source=e}};function GG(t){return(W0(t)?t.validators:t)||null}function WG(t){return Array.isArray(t)?JO(t):t||null}function KG(t,e){return(W0(e)?e.asyncValidators:t)||null}function QG(t){return Array.isArray(t)?ZO(t):t||null}function W0(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var nS=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return qr(this.statusReactive)}set status(e){qr(()=>this.statusReactive.set(e))}_status=Fg(()=>this.statusReactive());statusReactive=Hi(void 0);get valid(){return this.status===fm}get invalid(){return this.status===q0}get pending(){return this.status==If}get disabled(){return this.status===pm}get enabled(){return this.status!==pm}errors;get pristine(){return qr(this.pristineReactive)}set pristine(e){qr(()=>this.pristineReactive.set(e))}_pristine=Fg(()=>this.pristineReactive());pristineReactive=Hi(!0);get dirty(){return!this.pristine}get touched(){return qr(this.touchedReactive)}set touched(e){qr(()=>this.touchedReactive.set(e))}_touched=Fg(()=>this.touchedReactive());touchedReactive=Hi(!1);get untouched(){return!this.touched}_events=new Zr;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(FO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(FO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VO(e,this._rawAsyncValidators))}hasValidator(e){return z0(this._rawValidators,e)}hasAsyncValidator(e){return z0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ot(Oe({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new mm(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new mm(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ot(Oe({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new gm(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new gm(!0,r))}markAsPending(e={}){this.status=If;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tf(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ot(Oe({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=pm,this.errors=null,this._forEachChild(i=>{i.disable(Ot(Oe({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new H0(this.value,r)),this._events.next(new Tf(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ot(Oe({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=fm,this._forEachChild(r=>{r.enable(Ot(Oe({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ot(Oe({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fm||this.status===If)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new H0(this.value,n)),this._events.next(new Tf(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ot(Oe({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pm:fm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=If,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=WO(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Tf(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ti,this.statusChanges=new ti}_calculateStatus(){return this._allControlsDisabled()?pm:this.errors?q0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(If)?If:this._anyControlsHaveStatus(q0)?q0:fm}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new gm(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new mm(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){W0(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=WG(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=QG(this._rawAsyncValidators)}};var XO=new mt("",{factory:()=>iS}),iS="always";function YG(t,e){return[...e.path,t]}function JG(t,e,n=iS){XG(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),eW(t,e),nW(t,e),tW(t,e),ZG(t,e)}function BO(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ZG(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function XG(t,e){let n=$G(t);e.validator!==null?t.setValidators(LO(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=HG(t);e.asyncValidator!==null?t.setAsyncValidators(LO(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();BO(e._rawValidators,i),BO(e._rawAsyncValidators,i)}function eW(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&eL(t,e)})}function tW(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&eL(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function eL(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nW(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function rW(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function iW(t){return Object.getPrototypeOf(t.constructor)===G0}function oW(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Zo?n=o:iW(o)?r=o:i=o}),i||r||n||null}function jO(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function UO(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var sW=class extends nS{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(GG(n),KG(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),W0(n)&&(n.nonNullable||n.initialValueIsDefault)&&(UO(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new tS(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){UO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var aW={provide:ym,useExisting:Ks(()=>Cs)},qO=Promise.resolve(),Cs=(()=>{class t extends ym{_changeDetectorRef;callSetDisabledState;control=new sW;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ti;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=oW(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),rW(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){JG(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){qO.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&af(r);qO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?YG(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(st(XA,9),st(rS,10),st(VG,10),st(vm,10),st(hu,8),st(XO,8))};static \u0275dir=Dr({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[du([aW]),ra,bc]})}return t})();var cW={provide:vm,useExisting:Ks(()=>yu),multi:!0},yu=(()=>{class t extends G0{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ta(t)))(i||t)}})();static \u0275dir=Dr({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Tt("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[du([cW]),ra]})}return t})();var uW={provide:vm,useExisting:Ks(()=>Af),multi:!0};function tL(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function lW(t){return t.split(":")[0]}var Af=(()=>{class t extends G0{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=je(lu).injector;destroyRef=je(Pa);cdr=je(hu);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,U_({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=tL(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=lW(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ta(t)))(i||t)}})();static \u0275dir=Dr({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Tt("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[du([uW]),ra]})}return t})(),K0=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(tL(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(st(Yo),st(Ec),st(Af,9))};static \u0275dir=Dr({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),dW={provide:vm,useExisting:Ks(()=>nL),multi:!0};function zO(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function hW(t){return t.split(":")[0]}var nL=(()=>{class t extends G0{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=hW(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ta(t)))(i||t)}})();static \u0275dir=Dr({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Tt("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[du([dW]),ra]})}return t})(),Q0=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(zO(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(zO(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(st(Yo),st(Ec),st(nL,9))};static \u0275dir=Dr({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function fW(t){return typeof t=="number"?t:parseInt(t,10)}var rL=(()=>{class t{_validator=JA;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):JA,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Dr({type:t,features:[bc]})}return t})();var pW={provide:rS,useExisting:Ks(()=>oS),multi:!0},oS=(()=>{class t extends rL{maxlength;inputName="maxlength";normalizeInput=n=>fW(n);createValidator=n=>BG(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=ta(t)))(i||t)}})();static \u0275dir=Dr({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Td("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[du([pW]),ra]})}return t})(),gW={provide:rS,useExisting:Ks(()=>sS),multi:!0},sS=(()=>{class t extends rL{pattern;inputName="pattern";normalizeInput=n=>n;createValidator=n=>jG(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=ta(t)))(i||t)}})();static \u0275dir=Dr({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Td("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[du([gW]),ra]})}return t})();var mW=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Oa({type:t});static \u0275inj=Qs({})}return t})();var Xo=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:XO,useValue:n.callSetDisabledState??iS}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Oa({type:t});static \u0275inj=Qs({imports:[mW]})}return t})();var ca=class t{cartItems=new Xr([]);cartCount=new Xr(0);cartItems$=this.cartItems.asObservable();cartCount$=this.cartCount.asObservable();addToCart(e,n=1){let r=this.cartItems.value,i=r.find(o=>o.menuItem.id===e.id);if(i){if(i.quantity+=n,i.quantity<=0){this.removeFromCart(e.id);return}i.totalPrice=i.quantity*i.menuItem.price}else n>0&&(r.push({menuItem:e,quantity:n,totalPrice:e.price*n}),this.updateCartCount());this.cartItems.next([...r])}updateCartCount(){let n=this.cartItems.value.reduce((r,i)=>r+(i.quantity||0),0);this.cartCount.next(n)}removeFromCart(e){let n=this.cartItems.value.filter(r=>r.menuItem.id!==e);this.updateCartCount(),this.cartItems.next([...n])}clearCart(){this.cartItems.next([]),this.updateCartCount()}getTotalAmount(){return this.cartItems.value.reduce((e,n)=>e+n.totalPrice,0)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})};var iL=()=>{};var aL=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yW=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=o>>2,m=(o&3)<<4|a>>4,y=(a&15)<<2|u>>6,g=u&63;c||(g=64,s||(y=64)),r.push(n[l],n[m],n[y],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||m==null)throw new cS;let y=o<<2|a>>4;if(r.push(y),u!==64){let g=a<<4&240|u>>2;if(r.push(g),m!==64){let R=u<<6&192|m;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},cS=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vW=function(t){let e=aL(t);return Y0.encodeByteArray(e,!0)},bm=function(t){return vW(t).replace(/\./g,"")},J0=function(t){try{return Y0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var _W=()=>lS().__FIREBASE_DEFAULTS__,wW=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&J0(t[1]);return e&&JSON.parse(e)},dS=()=>{try{return iL()||_W()||wW()||bW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cL=t=>{var e,n;return(n=(e=dS())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uL=t=>{let e=cL(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hS=()=>{var t;return(t=dS())===null||t===void 0?void 0:t.config},lL=t=>{var e;return(e=dS())===null||e===void 0?void 0:e[`_${t}`]};var Od=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Cf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fS(t){return(await fetch(t,{credentials:"include"})).ok}function dL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bm(JSON.stringify(n)),bm(JSON.stringify(s)),""].join(".")}var wm={};function EW(){let t={prod:[],emulator:[]};for(let e of Object.keys(wm))wm[e]?t.emulator.push(e):t.prod.push(e);return t}function IW(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var oL=!1;function pS(t,e){if(typeof window>"u"||typeof document>"u"||!Cf(window.location.host)||wm[t]===e||wm[t]||oL)return;wm[t]=e;function n(y){return`__firebase__banner__${y}`}let r="__firebase__banner",o=EW().prod.length>0;function s(){let y=document.getElementById(r);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,g){y.setAttribute("width","24"),y.setAttribute("id",g),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function u(){let y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{oL=!0,s()},y}function l(y,g){y.setAttribute("id",g),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){let y=IW(r),g=n("text"),R=document.getElementById(g)||document.createElement("span"),k=n("learnmore"),M=document.getElementById(k)||document.createElement("a"),L=n("preprendIcon"),Z=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){let J=y.element;a(J),l(M,k);let Y=u();c(Z,L),J.append(Z,R,M,Y),document.body.appendChild(J)}o?(R.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function la(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(la())}function fL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pL(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Em(){try{return typeof indexedDB=="object"}catch{return!1}}function mL(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var TW="FirebaseError",ua=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TW,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qa.prototype.create)}},qa=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?AW(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ua(i,a,r)}};function AW(t,e){return t.replace(SW,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var SW=/\{\$([^}]+)}/g;function Ld(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(sL(o)&&sL(s)){if(!Ld(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function sL(t){return t!==null&&typeof t=="object"}function gS(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yL(t,e){let n=new uS(t,e);return n.subscribe.bind(n)}var uS=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CW(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=aS),i.error===void 0&&(i.error=aS),i.complete===void 0&&(i.complete=aS);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function CW(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function aS(){}var sbe=14400*1e3;function Fd(t){return t&&t._delegate?t._delegate:t}var Mo=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Vd="[DEFAULT]";var mS=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Od;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xW(e))try{this.getOrInitializeService({instanceIdentifier:Vd})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vd){return this.instances.has(e)}getOptions(e=Vd){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vd){return this.component?this.component.multipleInstances?e:Vd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DW(t){return t===Vd?void 0:t}function xW(t){return t.instantiationMode==="EAGER"}var Z0=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new mS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var NW=[],qn=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(qn||{}),RW={debug:qn.DEBUG,verbose:qn.VERBOSE,info:qn.INFO,warn:qn.WARN,error:qn.ERROR,silent:qn.SILENT},PW=qn.INFO,kW={[qn.DEBUG]:"log",[qn.VERBOSE]:"log",[qn.INFO]:"info",[qn.WARN]:"warn",[qn.ERROR]:"error"},MW=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=kW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ac=class{constructor(e){this.name=e,this._logLevel=PW,this._logHandler=MW,this._userLogHandler=null,NW.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qn.DEBUG,...e),this._logHandler(this,qn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qn.VERBOSE,...e),this._logHandler(this,qn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qn.INFO,...e),this._logHandler(this,qn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qn.WARN,...e),this._logHandler(this,qn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qn.ERROR,...e),this._logHandler(this,qn.ERROR,...e)}};var OW=(t,e)=>e.some(n=>t instanceof n),vL,_L;function LW(){return vL||(vL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FW(){return _L||(_L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wL=new WeakMap,vS=new WeakMap,bL=new WeakMap,yS=new WeakMap,wS=new WeakMap;function VW(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Sc(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&wL.set(n,t)}).catch(()=>{}),wS.set(e,t),e}function BW(t){if(vS.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});vS.set(t,e)}var _S={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EL(t){_S=t(_S)}function jW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(X0(this),e,...n);return bL.set(r,e.sort?e.sort():[e]),Sc(r)}:FW().includes(t)?function(...e){return t.apply(X0(this),e),Sc(wL.get(this))}:function(...e){return Sc(t.apply(X0(this),e))}}function UW(t){return typeof t=="function"?jW(t):(t instanceof IDBTransaction&&BW(t),OW(t,LW())?new Proxy(t,_S):t)}function Sc(t){if(t instanceof IDBRequest)return VW(t);if(yS.has(t))return yS.get(t);let e=UW(t);return e!==t&&(yS.set(t,e),wS.set(e,t)),e}var X0=t=>wS.get(t);function ew(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Sc(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Sc(s.result),c.oldVersion,c.newVersion,Sc(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var qW=["get","getKey","getAll","getAllKeys","count"],zW=["put","add","delete","clear"],bS=new Map;function IL(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bS.get(e))return bS.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=zW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qW.includes(n)))return;let o=async function(s,...a){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return bS.set(e,o),o}EL(t=>Ot(Oe({},t),{get:(e,n,r)=>IL(e,n)||t.get(e,n,r),has:(e,n)=>!!IL(e,n)||t.has(e,n)}));var IS=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($W(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function $W(t){let e=t.getComponent();return e?.type==="VERSION"}var TS="@firebase/app",TL="0.13.2";var vu=new Ac("@firebase/app"),HW="@firebase/app-compat",GW="@firebase/analytics-compat",WW="@firebase/analytics",KW="@firebase/app-check-compat",QW="@firebase/app-check",YW="@firebase/auth",JW="@firebase/auth-compat",ZW="@firebase/database",XW="@firebase/data-connect",eK="@firebase/database-compat",tK="@firebase/functions",nK="@firebase/functions-compat",rK="@firebase/installations",iK="@firebase/installations-compat",oK="@firebase/messaging",sK="@firebase/messaging-compat",aK="@firebase/performance",cK="@firebase/performance-compat",uK="@firebase/remote-config",lK="@firebase/remote-config-compat",dK="@firebase/storage",hK="@firebase/storage-compat",fK="@firebase/firestore",pK="@firebase/ai",gK="@firebase/firestore-compat",mK="firebase",yK="11.10.0";var AS="[DEFAULT]",vK={[TS]:"fire-core",[HW]:"fire-core-compat",[WW]:"fire-analytics",[GW]:"fire-analytics-compat",[QW]:"fire-app-check",[KW]:"fire-app-check-compat",[YW]:"fire-auth",[JW]:"fire-auth-compat",[ZW]:"fire-rtdb",[XW]:"fire-data-connect",[eK]:"fire-rtdb-compat",[tK]:"fire-fn",[nK]:"fire-fn-compat",[rK]:"fire-iid",[iK]:"fire-iid-compat",[oK]:"fire-fcm",[sK]:"fire-fcm-compat",[aK]:"fire-perf",[cK]:"fire-perf-compat",[uK]:"fire-rc",[lK]:"fire-rc-compat",[dK]:"fire-gcs",[hK]:"fire-gcs-compat",[fK]:"fire-fst",[gK]:"fire-fst-compat",[pK]:"fire-vertex","fire-js":"fire-js",[mK]:"fire-js-all"};var Im=new Map,_K=new Map,SS=new Map;function AL(t,e){try{t.container.addComponent(e)}catch(n){vu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function za(t){let e=t.name;if(SS.has(e))return vu.debug(`There were multiple attempts to register component ${e}.`),!1;SS.set(e,t);for(let n of Im.values())AL(n,t);for(let n of _K.values())AL(n,t);return!0}function tw(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _u(t){return t==null?!1:t.settings!==void 0}var wK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sl=new qa("app","Firebase",wK);var CS=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sl.create("app-deleted",{appName:this._name})}};var Df=yK;function NS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:AS,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Sl.create("bad-app-name",{appName:String(i)});if(n||(n=hS()),!n)throw Sl.create("no-options");let o=Im.get(i);if(o){if(Ld(n,o.options)&&Ld(r,o.config))return o;throw Sl.create("duplicate-app",{appName:i})}let s=new Z0(i);for(let c of SS.values())s.addComponent(c);let a=new CS(n,r,s);return Im.set(i,a),a}function xf(t=AS){let e=Im.get(t);if(!e&&t===AS&&hS())return NS();if(!e)throw Sl.create("no-app",{appName:t});return e}function nw(){return Array.from(Im.values())}function $r(t,e,n){var r;let i=(r=vK[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vu.warn(a.join(" "));return}za(new Mo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var bK="firebase-heartbeat-database",EK=1,Tm="firebase-heartbeat-store",ES=null;function xL(){return ES||(ES=ew(bK,EK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sl.create("idb-open",{originalErrorMessage:t.message})})),ES}async function IK(t){try{let n=(await xL()).transaction(Tm),r=await n.objectStore(Tm).get(NL(t));return await n.done,r}catch(e){if(e instanceof ua)vu.warn(e.message);else{let n=Sl.create("idb-get",{originalErrorMessage:e?.message});vu.warn(n.message)}}}async function SL(t,e){try{let r=(await xL()).transaction(Tm,"readwrite");await r.objectStore(Tm).put(e,NL(t)),await r.done}catch(n){if(n instanceof ua)vu.warn(n.message);else{let r=Sl.create("idb-set",{originalErrorMessage:n?.message});vu.warn(r.message)}}}function NL(t){return`${t.name}!${t.options.appId}`}var TK=1024,AK=30,DS=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new xS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=CL();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>AK){let s=CK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=CL(),{heartbeatsToSend:r,unsentEntries:i}=SK(this._heartbeatsCache.heartbeats),o=bm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return vu.warn(n),""}}};function CL(){return new Date().toISOString().substring(0,10)}function SK(t,e=TK){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),DL(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),DL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var xS=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Em()?mL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await IK(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return SL(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return SL(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function DL(t){return bm(JSON.stringify({version:2,heartbeats:t})).length}function CK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function DK(t){za(new Mo("platform-logger",e=>new IS(e),"PRIVATE")),za(new Mo("heartbeat",e=>new DS(e),"PRIVATE")),$r(TS,TL,t),$r(TS,TL,"esm2017"),$r("fire-js","")}DK("");var xK="firebase",NK="11.10.0";$r(xK,NK,"app");function RL(t){t===void 0&&(t=je(Ni));let e=t.get(Yh);return n=>new on(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var jd=new ad("ANGULARFIRE2_VERSION");function iw(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Rf=(t,e)=>{let n=e?[e]:nw(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Nf=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(Nf||{}),PL=sA()&&typeof Zone<"u"?Nf.WARN:Nf.SILENT;var rw=class{zone;delegate;constructor(e,n=IE){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Ud=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=je(Er);this.outsideAngular=n.runOutsideAngular(()=>new rw(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new rw(typeof Zone>"u"?void 0:Zone.current,EE))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kL=!1;function RK(t,e){!kL&&(PL>Nf.SILENT||sA())&&(kL=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),PL>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function PK(t){let e=je(Er,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Bd(t){let e=je(Er,{optional:!0});return e?e.run(()=>t()):t()}var kK=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),bi(n,()=>Bd(()=>t.apply(void 0,r)))),qd=(t,e,n)=>(n||=e?Nf.WARN:Nf.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=je(Ud),s=je(Yh),a=je(wi)}catch{return RK(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Bd(()=>s.add())),i[u]=kK(i[u],r,a));let c=PK(()=>t.apply(this,i));return e?c instanceof on?c.pipe(sl(o.outsideAngular),ol(o.insideAngular),RL(a)):c instanceof Promise?Bd(()=>{let u=s.add();return new Promise((l,m)=>{c.then(y=>bi(a,()=>Bd(()=>l(y))),y=>bi(a,()=>Bd(()=>m(y)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Bd(()=>c):c instanceof on?c.pipe(sl(o.outsideAngular),ol(o.insideAngular)):Bd(()=>c)});var zd=class{constructor(e){return e}},Am=class{constructor(){return nw()}};function MK(t){return t&&t.length===1?t[0]:new zd(xf())}var RS=new mt("angularfire2._apps"),OK={provide:zd,useFactory:MK,deps:[[new au,RS]]},LK={provide:Am,deps:[[new au,RS]]};function FK(t){return(e,n)=>{let r=n.get(Ed);$r("angularfire",jd.full,"core"),$r("angularfire",jd.full,"app"),$r("angular",GE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new zd(i)}}function ML(t,...e){return iu([OK,LK,{provide:RS,useFactory:FK(t),multi:!0,deps:[Er,Ni,Ud,...e]}])}var OL=qd(NS,!0);var VK=new Map,BK={activated:!1,tokenObservers:[]},jK={initialized:!1,enabled:!1};function $a(t){return VK.get(t)||Object.assign({},BK)}function BL(){return jK}var UK="https://content-firebaseappcheck.googleapis.com/v1";var qK="exchangeDebugToken",LL={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},sEe=1440*60*1e3;var MS=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Od,this.pending.promise.catch(n=>{}),await zK(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Od,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function zK(t){return new Promise(e=>{setTimeout(e,t)})}var $K={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Cl=new qa("appCheck","AppCheck",$K);function jL(t){if(!$a(t).activated)throw Cl.create("use-before-activation",{appName:t.name})}async function UL({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let m=await i.getHeartbeatsHeader();m&&(r["X-Firebase-Client"]=m)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(m){throw Cl.create("fetch-network-error",{originalErrorMessage:m?.message})}if(s.status!==200)throw Cl.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(m){throw Cl.create("fetch-parse-error",{originalErrorMessage:m?.message})}let c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Cl.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let u=Number(c[1])*1e3,l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}function qL(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${UK}/projects/${n}/apps/${r}:${qK}?key=${i}`,body:{debug_token:e}}}var HK="firebase-app-check-database",GK=1,OS="firebase-app-check-store";var ow=null;function WK(){return ow||(ow=new Promise((t,e)=>{try{let n=indexedDB.open(HK,GK);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Cl.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(OS,{keyPath:"compositeKey"})}}}catch(n){e(Cl.create("storage-open",{originalErrorMessage:n?.message}))}}),ow)}function KK(t,e){return QK(YK(t),e)}async function QK(t,e){let r=(await WK()).transaction(OS,"readwrite"),o=r.objectStore(OS).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Cl.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})}function YK(t){return`${t.options.appId}-${t.name}`}var Sm=new Ac("@firebase/app-check");function PS(t,e){return Em()?KK(t,e).catch(n=>{Sm.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function zL(){return BL().enabled}async function $L(){let t=BL();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var JK={error:"UNKNOWN_ERROR"};function ZK(t){return Y0.encodeString(JSON.stringify(t),!1)}async function LS(t,e=!1,n=!1){let r=t.app;jL(r);let i=$a(r),o=i.token,s;if(o&&!Cm(o)&&(i.token=void 0,o=void 0),!o){let u=await i.cachedTokenPromise;u&&(Cm(u)?o=u:await PS(r,void 0))}if(!e&&o&&Cm(o))return{token:o.token};let a=!1;if(zL())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=UL(qL(r,await $L()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=await i.exchangeTokenPromise;return await PS(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Sm.warn(u.message):n&&Sm.error(u),kS(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await $a(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Sm.warn(u.message):n&&Sm.error(u),s=u}let c;return o?s?Cm(o)?c={token:o.token,internalError:s}:c=kS(s):(c={token:o.token},i.token=o,await PS(r,o)):c=kS(s),a&&nQ(r,c),c}async function XK(t){let e=t.app;jL(e);let{provider:n}=$a(e);if(zL()){let r=await $L(),{token:i}=await UL(qL(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function eQ(t,e,n,r){let{app:i}=t,o=$a(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Cm(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),FL(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>FL(t))}function HL(t,e){let n=$a(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function FL(t){let{app:e}=t,n=$a(e),r=n.tokenRefresher;r||(r=tQ(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function tQ(t){let{app:e}=t;return new MS(async()=>{let n=$a(e),r;if(n.token?r=await LS(t,!0):r=await LS(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=$a(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},LL.RETRIAL_MIN_WAIT,LL.RETRIAL_MAX_WAIT)}function nQ(t,e){let n=$a(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Cm(t){return t.expireTimeMillis-Date.now()>0}function kS(t){return{token:ZK(JK),error:t}}var FS=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=$a(this.app);for(let n of e)HL(this.app,n.next);return Promise.resolve()}};function rQ(t,e){return new FS(t,e)}function iQ(t){return{getToken:e=>LS(t,e),getLimitedUseToken:()=>XK(t),addTokenListener:e=>eQ(t,"INTERNAL",e),removeTokenListener:e=>HL(t.app,e)}}var oQ="@firebase/app-check",sQ="0.10.1";var aQ="app-check",VL="app-check-internal";function cQ(){za(new Mo(aQ,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return rQ(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(VL).initialize()})),za(new Mo(VL,t=>{let e=t.getProvider("app-check").getImmediate();return iQ(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),$r(oQ,sQ)}cQ();var uQ="app-check";var sw=class{constructor(){return Rf(uQ)}};var lQ=["localhost","0.0.0.0","127.0.0.1"],vEe=typeof window<"u"&&lQ.includes(window.location.hostname);var GL=()=>{};var QL=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dQ=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},YL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=o>>2,m=(o&3)<<4|a>>4,y=(a&15)<<2|u>>6,g=u&63;c||(g=64,s||(y=64)),r.push(n[l],n[m],n[y],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||m==null)throw new VS;let y=o<<2|a>>4;if(r.push(y),u!==64){let g=a<<4&240|u>>2;if(r.push(g),m!==64){let R=u<<6&192|m;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},VS=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},hQ=function(t){let e=QL(t);return YL.encodeByteArray(e,!0)},xm=function(t){return hQ(t).replace(/\./g,"")},JL=function(t){try{return YL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var fQ=()=>ZL().__FIREBASE_DEFAULTS__,pQ=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&JL(t[1]);return e&&JSON.parse(e)},BS=()=>{try{return GL()||fQ()||pQ()||gQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mQ=t=>BS()?.emulatorHosts?.[t],cw=t=>{let e=mQ(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jS=()=>BS()?.config;var aw=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Pf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uw(t){return(await fetch(t,{credentials:"include"})).ok}function lw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Oe({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xm(JSON.stringify(n)),xm(JSON.stringify(s)),""].join(".")}var Dm={};function yQ(){let t={prod:[],emulator:[]};for(let e of Object.keys(Dm))Dm[e]?t.emulator.push(e):t.prod.push(e);return t}function vQ(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var WL=!1;function dw(t,e){if(typeof window>"u"||typeof document>"u"||!Pf(window.location.host)||Dm[t]===e||Dm[t]||WL)return;Dm[t]=e;function n(y){return`__firebase__banner__${y}`}let r="__firebase__banner",o=yQ().prod.length>0;function s(){let y=document.getElementById(r);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,g){y.setAttribute("width","24"),y.setAttribute("id",g),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function u(){let y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{WL=!0,s()},y}function l(y,g){y.setAttribute("id",g),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){let y=vQ(r),g=n("text"),R=document.getElementById(g)||document.createElement("span"),k=n("learnmore"),M=document.getElementById(k)||document.createElement("a"),L=n("preprendIcon"),Z=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){let J=y.element;a(J),l(M,k);let Y=u();c(Z,L),J.append(Z,R,M,Y),document.body.appendChild(J)}o?(R.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function XL(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _Q(){let t=BS()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eF(){return!_Q()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function US(){try{return typeof indexedDB=="object"}catch{return!1}}function tF(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var wQ="FirebaseError",Ha=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wQ,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nm.prototype.create)}},Nm=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?bQ(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ha(i,a,r)}};function bQ(t,e){return t.replace(EQ,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var EQ=/\{\$([^}]+)}/g;function kf(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(KL(o)&&KL(s)){if(!kf(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function KL(t){return t!==null&&typeof t=="object"}var IEe=14400*1e3;function Oo(t){return t&&t._delegate?t._delegate:t}var Ga=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var $d="[DEFAULT]";var qS=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new aw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TQ(e))try{this.getOrInitializeService({instanceIdentifier:$d})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$d){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$d){return this.instances.has(e)}getOptions(e=$d){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IQ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$d){return this.component?this.component.multipleInstances?e:$d:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function IQ(t){return t===$d?void 0:t}function TQ(t){return t.instantiationMode==="EAGER"}var hw=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new qS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var AQ=[],Cn=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(Cn||{}),SQ={debug:Cn.DEBUG,verbose:Cn.VERBOSE,info:Cn.INFO,warn:Cn.WARN,error:Cn.ERROR,silent:Cn.SILENT},CQ=Cn.INFO,DQ={[Cn.DEBUG]:"log",[Cn.VERBOSE]:"log",[Cn.INFO]:"info",[Cn.WARN]:"warn",[Cn.ERROR]:"error"},xQ=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=DQ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mf=class{constructor(e){this.name=e,this._logLevel=CQ,this._logHandler=xQ,this._userLogHandler=null,AQ.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Cn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Cn.DEBUG,...e),this._logHandler(this,Cn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Cn.VERBOSE,...e),this._logHandler(this,Cn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Cn.INFO,...e),this._logHandler(this,Cn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Cn.WARN,...e),this._logHandler(this,Cn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Cn.ERROR,...e),this._logHandler(this,Cn.ERROR,...e)}};var $S=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NQ(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function NQ(t){return t.getComponent()?.type==="VERSION"}var HS="@firebase/app",nF="0.14.6";var wu=new Mf("@firebase/app"),RQ="@firebase/app-compat",PQ="@firebase/analytics-compat",kQ="@firebase/analytics",MQ="@firebase/app-check-compat",OQ="@firebase/app-check",LQ="@firebase/auth",FQ="@firebase/auth-compat",VQ="@firebase/database",BQ="@firebase/data-connect",jQ="@firebase/database-compat",UQ="@firebase/functions",qQ="@firebase/functions-compat",zQ="@firebase/installations",$Q="@firebase/installations-compat",HQ="@firebase/messaging",GQ="@firebase/messaging-compat",WQ="@firebase/performance",KQ="@firebase/performance-compat",QQ="@firebase/remote-config",YQ="@firebase/remote-config-compat",JQ="@firebase/storage",ZQ="@firebase/storage-compat",XQ="@firebase/firestore",eY="@firebase/ai",tY="@firebase/firestore-compat",nY="firebase",rY="12.6.0";var GS="[DEFAULT]",iY={[HS]:"fire-core",[RQ]:"fire-core-compat",[kQ]:"fire-analytics",[PQ]:"fire-analytics-compat",[OQ]:"fire-app-check",[MQ]:"fire-app-check-compat",[LQ]:"fire-auth",[FQ]:"fire-auth-compat",[VQ]:"fire-rtdb",[BQ]:"fire-data-connect",[jQ]:"fire-rtdb-compat",[UQ]:"fire-fn",[qQ]:"fire-fn-compat",[zQ]:"fire-iid",[$Q]:"fire-iid-compat",[HQ]:"fire-fcm",[GQ]:"fire-fcm-compat",[WQ]:"fire-perf",[KQ]:"fire-perf-compat",[QQ]:"fire-rc",[YQ]:"fire-rc-compat",[JQ]:"fire-gcs",[ZQ]:"fire-gcs-compat",[XQ]:"fire-fst",[tY]:"fire-fst-compat",[eY]:"fire-vertex","fire-js":"fire-js",[nY]:"fire-js-all"};var fw=new Map,oY=new Map,WS=new Map;function rF(t,e){try{t.container.addComponent(e)}catch(n){wu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hd(t){let e=t.name;if(WS.has(e))return wu.debug(`There were multiple attempts to register component ${e}.`),!1;WS.set(e,t);for(let n of fw.values())rF(n,t);for(let n of oY.values())rF(n,t);return!0}function pw(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gw(t){return t==null?!1:t.settings!==void 0}var sY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dl=new Nm("app","Firebase",sY);var KS=class{constructor(e,n,r){this._isDeleted=!1,this._options=Oe({},e),this._config=Oe({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dl.create("app-deleted",{appName:this._name})}};var mw=rY;function JS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Oe({name:GS,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Dl.create("bad-app-name",{appName:String(i)});if(n||(n=jS()),!n)throw Dl.create("no-options");let o=fw.get(i);if(o){if(kf(n,o.options)&&kf(r,o.config))return o;throw Dl.create("duplicate-app",{appName:i})}let s=new hw(i);for(let c of WS.values())s.addComponent(c);let a=new KS(n,r,s);return fw.set(i,a),a}function yw(t=GS){let e=fw.get(t);if(!e&&t===GS&&jS())return JS();if(!e)throw Dl.create("no-app",{appName:t});return e}function Wa(t,e,n){let r=iY[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wu.warn(s.join(" "));return}Hd(new Ga(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var aY="firebase-heartbeat-database",cY=1,Rm="firebase-heartbeat-store",zS=null;function aF(){return zS||(zS=ew(aY,cY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dl.create("idb-open",{originalErrorMessage:t.message})})),zS}async function uY(t){try{let n=(await aF()).transaction(Rm),r=await n.objectStore(Rm).get(cF(t));return await n.done,r}catch(e){if(e instanceof Ha)wu.warn(e.message);else{let n=Dl.create("idb-get",{originalErrorMessage:e?.message});wu.warn(n.message)}}}async function iF(t,e){try{let r=(await aF()).transaction(Rm,"readwrite");await r.objectStore(Rm).put(e,cF(t)),await r.done}catch(n){if(n instanceof Ha)wu.warn(n.message);else{let r=Dl.create("idb-set",{originalErrorMessage:n?.message});wu.warn(r.message)}}}function cF(t){return`${t.name}!${t.options.appId}`}var lY=1024,dY=30,QS=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new YS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oF();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>dY){let i=fY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){wu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=oF(),{heartbeatsToSend:n,unsentEntries:r}=hY(this._heartbeatsCache.heartbeats),i=xm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return wu.warn(e),""}}};function oF(){return new Date().toISOString().substring(0,10)}function hY(t,e=lY){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),sF(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var YS=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return US()?tF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await uY(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return iF(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return iF(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function sF(t){return xm(JSON.stringify({version:2,heartbeats:t})).length}function fY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function pY(t){Hd(new Ga("platform-logger",e=>new $S(e),"PRIVATE")),Hd(new Ga("heartbeat",e=>new QS(e),"PRIVATE")),Wa(HS,nF,t),Wa(HS,nF,"esm2020"),Wa("fire-js","")}pY("");function mF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yF=mF,vF=new qa("auth","Firebase",mF());var bw=new Ac("@firebase/auth");function gY(t,...e){bw.logLevel<=qn.WARN&&bw.warn(`Auth (${Df}): ${t}`,...e)}function _w(t,...e){bw.logLevel<=qn.ERROR&&bw.error(`Auth (${Df}): ${t}`,...e)}function uF(t,...e){throw u2(t,...e)}function c2(t,...e){return u2(t,...e)}function _F(t,e,n){let r=Object.assign(Object.assign({},yF()),{[e]:n});return new qa("auth","Firebase",r).create(e,{appName:t.name})}function ww(t){return _F(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u2(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vF.create(t,...e)}function zn(t,e,...n){if(!t)throw u2(e,...n)}function Pm(t){let e="INTERNAL ASSERTION FAILED: "+t;throw _w(e),new Error(e)}function Ew(t,e){t||Pm(e)}function mY(){return lF()==="http:"||lF()==="https:"}function lF(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function yY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mY()||pL()||"connection"in navigator)?navigator.onLine:!0}function vY(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Kd=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ew(n>e,"Short delay should be less than long delay!"),this.isMobile=hL()||gL()}get(){return yY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function _Y(t,e){Ew(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Iw=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var wY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var bY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EY=new Kd(3e4,6e4);function wF(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Dw(t,e,n,r,i={}){return bF(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=gS(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);let u=Object.assign({method:e,headers:c},o);return fL()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Cf(t.emulatorConfig.host)&&(u.credentials="include"),Iw.fetch()(await EF(t,t.config.apiHost,n,a),u)})}async function bF(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},wY),e);try{let i=new e2(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw vw(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vw(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw vw(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw vw(t,"user-disabled",s);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _F(t,l,u);uF(t,l)}}catch(i){if(i instanceof ua)throw i;uF(t,"network-request-failed",{message:String(i)})}}async function EF(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?_Y(t.config,i):`${t.config.apiScheme}://${i}`;return bY.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var e2=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(c2(this.auth,"network-request-failed")),EY.get())})}};function vw(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=c2(t,e,r);return i.customData._tokenResponse=n,i}async function IY(t,e){return Dw(t,"POST","/v1/accounts:delete",e)}async function Tw(t,e){return Dw(t,"POST","/v1/accounts:lookup",e)}function km(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l2(t,e=!1){let n=Fd(t),r=await n.getIdToken(e),i=IF(r);zn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:km(ZS(i.auth_time)),issuedAtTime:km(ZS(i.iat)),expirationTime:km(ZS(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function ZS(t){return Number(t)*1e3}function IF(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _w("JWT malformed, contained fewer than 3 sections"),null;try{let i=J0(n);return i?JSON.parse(i):(_w("Failed to decode base64 JWT payload"),null)}catch(i){return _w("Caught error parsing JWT payload as JSON",i?.toString()),null}}function dF(t){let e=IF(t);return zn(e,"internal-error"),zn(typeof e.exp<"u","internal-error"),zn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function t2(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ua&&TY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function TY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var n2=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Om=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=km(this.lastLoginAt),this.creationTime=km(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Aw(t){var e;let n=t.auth,r=await t.getIdToken(),i=await t2(t,Tw(n,{idToken:r}));zn(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?TF(o.providerUserInfo):[],a=AY(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,l=c?u:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,m)}async function d2(t){let e=Fd(t);await Aw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TF(t){return t.map(e=>{var{providerId:n}=e,r=TE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function SY(t,e){let n=await bF(t,{},async()=>{let r=gS({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await EF(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Cf(t.emulatorConfig.host)&&(c.credentials="include"),Iw.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CY(t,e){return Dw(t,"POST","/v2/accounts:revokeToken",wF(t,e))}var Mm=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){zn(e.idToken,"internal-error"),zn(typeof e.idToken<"u","internal-error"),zn(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){zn(e.length!==0,"internal-error");let n=dF(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(zn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await SY(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(zn(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(zn(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(zn(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Pm("not implemented")}};function xl(t,e){zn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Gd=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=TE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await t2(this,this.stsTokenManager.getToken(this.auth,e));return zn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return l2(this,e)}reload(){return d2(this)}_assign(e){this!==e&&(zn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){zn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Aw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_u(this.auth.app))return Promise.reject(ww(this.auth));let e=await this.getIdToken();return await t2(this,IY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;let m=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,R=(s=n.photoURL)!==null&&s!==void 0?s:void 0,k=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,L=(u=n.createdAt)!==null&&u!==void 0?u:void 0,Z=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:J,emailVerified:Y,isAnonymous:fe,providerData:be,stsTokenManager:P}=n;zn(J&&P,e,"internal-error");let T=Mm.fromJSON(this.name,P);zn(typeof J=="string",e,"internal-error"),xl(m,e.name),xl(y,e.name),zn(typeof Y=="boolean",e,"internal-error"),zn(typeof fe=="boolean",e,"internal-error"),xl(g,e.name),xl(R,e.name),xl(k,e.name),xl(M,e.name),xl(L,e.name),xl(Z,e.name);let w=new t({uid:J,auth:e,email:y,emailVerified:Y,displayName:m,isAnonymous:fe,photoURL:R,phoneNumber:g,tenantId:k,stsTokenManager:T,createdAt:L,lastLoginAt:Z});return be&&Array.isArray(be)&&(w.providerData=be.map(D=>Object.assign({},D))),M&&(w._redirectEventId=M),w}static async _fromIdTokenResponse(e,n,r=!1){let i=new Mm;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Aw(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];zn(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?TF(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Mm;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Om(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c}};var hF=new Map;function Wd(t){Ew(t instanceof Function,"Expected a class definition");let e=hF.get(t);return e?(Ew(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hF.set(t,e),e)}var DY=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),r2=DY;function XS(t,e,n){return`firebase:${t}:${e}:${n}`}var Sw=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=XS(this.userKey,i.apiKey,o),this.fullPersistenceKey=XS("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Tw(this.auth,{idToken:e}).catch(()=>{});return n?Gd._fromGetAccountInfoResponse(this.auth,n,e):null}return Gd._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(Wd(r2),e,r);let i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u),o=i[0]||Wd(r2),s=XS(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=await u._get(s);if(l){let m;if(typeof l=="string"){let y=await Tw(e,{idToken:l}).catch(()=>{});if(!y)break;m=await Gd._fromGetAccountInfoResponse(e,y,l)}else m=Gd._fromJSON(e,l);u!==o&&(a=m),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new t(o,e,r))}};function fF(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PY(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xY(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MY(e))return"Blackberry";if(OY(e))return"Webos";if(NY(e))return"Safari";if((e.includes("chrome/")||RY(e))&&!e.includes("edge/"))return"Chrome";if(kY(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function xY(t=la()){return/firefox\//i.test(t)}function NY(t=la()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RY(t=la()){return/crios\//i.test(t)}function PY(t=la()){return/iemobile/i.test(t)}function kY(t=la()){return/android/i.test(t)}function MY(t=la()){return/blackberry/i.test(t)}function OY(t=la()){return/webos/i.test(t)}function AF(t,e=[]){let n;switch(t){case"Browser":n=fF(la());break;case"Worker":n=`${fF(la())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Df}/${r}`}var i2=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function LY(t,e={}){return Dw(t,"GET","/v2/passwordPolicy",wF(t,e))}var FY=6,o2=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:FY,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var s2=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cw(this),this.idTokenSubscription=new Cw(this),this.beforeStateQueue=new i2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wd(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Sw.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Tw(this,{idToken:e}),r=await Gd._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_u(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return zn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Aw(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_u(this.app))return Promise.reject(ww(this));let n=e?Fd(e):null;return n&&zn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&zn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _u(this.app)?Promise.reject(ww(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _u(this.app)?Promise.reject(ww(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wd(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await LY(this),n=new o2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await CY(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&Wd(e)||this._popupRedirectResolver;zn(n,this,"argument-error"),this.redirectPersistenceManager=await Sw.create(this,[Wd(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(zn(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return zn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(_u(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&gY(`Error while retrieving App Check token: ${n.error}`),n?.token}};function VY(t){return Fd(t)}var Cw=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yL(n=>this.observer=n)}get next(){return zn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var BY={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jY(t){BY=t}function UY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function qY(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wd);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var QEe=UY("rcb"),YEe=new Kd(3e4,6e4);var JEe=new Kd(2e3,1e4);var ZEe=600*1e3;var XEe=new Kd(3e4,6e4);var eIe=new Kd(5e3,15e3);var tIe=encodeURIComponent("fac");var pF="@firebase/auth",gF="1.10.8";var a2=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){zn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function zY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $Y(t){za(new Mo("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;zn(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AF(t)},u=new s2(r,i,o,c);return qY(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),za(new Mo("auth-internal",e=>{let n=VY(e.getProvider("auth").getImmediate());return(r=>new a2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(pF,gF,zY(t)),$r(pF,gF,"esm2017")}var HY=300,nIe=lL("authIdTokenMaxAge")||HY;function GY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jY({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=c2("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",GY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$Y("Browser");var $J="auth";var xw=class{constructor(){return Rf($J)}};var SF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CF={};var bu,h2;(function(){var t;function e(P,T){function w(){}w.prototype=T.prototype,P.F=T.prototype,P.prototype=new w,P.prototype.constructor=P,P.D=function(D,_,S){for(var I=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)I[ee-2]=arguments[ee];return T.prototype[_].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,T,w){w||(w=0);let D=Array(16);if(typeof T=="string")for(var _=0;_<16;++_)D[_]=T.charCodeAt(w++)|T.charCodeAt(w++)<<8|T.charCodeAt(w++)<<16|T.charCodeAt(w++)<<24;else for(_=0;_<16;++_)D[_]=T[w++]|T[w++]<<8|T[w++]<<16|T[w++]<<24;T=P.g[0],w=P.g[1],_=P.g[2];let S=P.g[3],I;I=T+(S^w&(_^S))+D[0]+3614090360&4294967295,T=w+(I<<7&4294967295|I>>>25),I=S+(_^T&(w^_))+D[1]+3905402710&4294967295,S=T+(I<<12&4294967295|I>>>20),I=_+(w^S&(T^w))+D[2]+606105819&4294967295,_=S+(I<<17&4294967295|I>>>15),I=w+(T^_&(S^T))+D[3]+3250441966&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(S^w&(_^S))+D[4]+4118548399&4294967295,T=w+(I<<7&4294967295|I>>>25),I=S+(_^T&(w^_))+D[5]+1200080426&4294967295,S=T+(I<<12&4294967295|I>>>20),I=_+(w^S&(T^w))+D[6]+2821735955&4294967295,_=S+(I<<17&4294967295|I>>>15),I=w+(T^_&(S^T))+D[7]+4249261313&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(S^w&(_^S))+D[8]+1770035416&4294967295,T=w+(I<<7&4294967295|I>>>25),I=S+(_^T&(w^_))+D[9]+2336552879&4294967295,S=T+(I<<12&4294967295|I>>>20),I=_+(w^S&(T^w))+D[10]+4294925233&4294967295,_=S+(I<<17&4294967295|I>>>15),I=w+(T^_&(S^T))+D[11]+2304563134&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(S^w&(_^S))+D[12]+1804603682&4294967295,T=w+(I<<7&4294967295|I>>>25),I=S+(_^T&(w^_))+D[13]+4254626195&4294967295,S=T+(I<<12&4294967295|I>>>20),I=_+(w^S&(T^w))+D[14]+2792965006&4294967295,_=S+(I<<17&4294967295|I>>>15),I=w+(T^_&(S^T))+D[15]+1236535329&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(_^S&(w^_))+D[1]+4129170786&4294967295,T=w+(I<<5&4294967295|I>>>27),I=S+(w^_&(T^w))+D[6]+3225465664&4294967295,S=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(S^T))+D[11]+643717713&4294967295,_=S+(I<<14&4294967295|I>>>18),I=w+(S^T&(_^S))+D[0]+3921069994&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(_^S&(w^_))+D[5]+3593408605&4294967295,T=w+(I<<5&4294967295|I>>>27),I=S+(w^_&(T^w))+D[10]+38016083&4294967295,S=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(S^T))+D[15]+3634488961&4294967295,_=S+(I<<14&4294967295|I>>>18),I=w+(S^T&(_^S))+D[4]+3889429448&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(_^S&(w^_))+D[9]+568446438&4294967295,T=w+(I<<5&4294967295|I>>>27),I=S+(w^_&(T^w))+D[14]+3275163606&4294967295,S=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(S^T))+D[3]+4107603335&4294967295,_=S+(I<<14&4294967295|I>>>18),I=w+(S^T&(_^S))+D[8]+1163531501&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(_^S&(w^_))+D[13]+2850285829&4294967295,T=w+(I<<5&4294967295|I>>>27),I=S+(w^_&(T^w))+D[2]+4243563512&4294967295,S=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(S^T))+D[7]+1735328473&4294967295,_=S+(I<<14&4294967295|I>>>18),I=w+(S^T&(_^S))+D[12]+2368359562&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(w^_^S)+D[5]+4294588738&4294967295,T=w+(I<<4&4294967295|I>>>28),I=S+(T^w^_)+D[8]+2272392833&4294967295,S=T+(I<<11&4294967295|I>>>21),I=_+(S^T^w)+D[11]+1839030562&4294967295,_=S+(I<<16&4294967295|I>>>16),I=w+(_^S^T)+D[14]+4259657740&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(w^_^S)+D[1]+2763975236&4294967295,T=w+(I<<4&4294967295|I>>>28),I=S+(T^w^_)+D[4]+1272893353&4294967295,S=T+(I<<11&4294967295|I>>>21),I=_+(S^T^w)+D[7]+4139469664&4294967295,_=S+(I<<16&4294967295|I>>>16),I=w+(_^S^T)+D[10]+3200236656&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(w^_^S)+D[13]+681279174&4294967295,T=w+(I<<4&4294967295|I>>>28),I=S+(T^w^_)+D[0]+3936430074&4294967295,S=T+(I<<11&4294967295|I>>>21),I=_+(S^T^w)+D[3]+3572445317&4294967295,_=S+(I<<16&4294967295|I>>>16),I=w+(_^S^T)+D[6]+76029189&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(w^_^S)+D[9]+3654602809&4294967295,T=w+(I<<4&4294967295|I>>>28),I=S+(T^w^_)+D[12]+3873151461&4294967295,S=T+(I<<11&4294967295|I>>>21),I=_+(S^T^w)+D[15]+530742520&4294967295,_=S+(I<<16&4294967295|I>>>16),I=w+(_^S^T)+D[2]+3299628645&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(_^(w|~S))+D[0]+4096336452&4294967295,T=w+(I<<6&4294967295|I>>>26),I=S+(w^(T|~_))+D[7]+1126891415&4294967295,S=T+(I<<10&4294967295|I>>>22),I=_+(T^(S|~w))+D[14]+2878612391&4294967295,_=S+(I<<15&4294967295|I>>>17),I=w+(S^(_|~T))+D[5]+4237533241&4294967295,w=_+(I<<21&4294967295|I>>>11),I=T+(_^(w|~S))+D[12]+1700485571&4294967295,T=w+(I<<6&4294967295|I>>>26),I=S+(w^(T|~_))+D[3]+2399980690&4294967295,S=T+(I<<10&4294967295|I>>>22),I=_+(T^(S|~w))+D[10]+4293915773&4294967295,_=S+(I<<15&4294967295|I>>>17),I=w+(S^(_|~T))+D[1]+2240044497&4294967295,w=_+(I<<21&4294967295|I>>>11),I=T+(_^(w|~S))+D[8]+1873313359&4294967295,T=w+(I<<6&4294967295|I>>>26),I=S+(w^(T|~_))+D[15]+4264355552&4294967295,S=T+(I<<10&4294967295|I>>>22),I=_+(T^(S|~w))+D[6]+2734768916&4294967295,_=S+(I<<15&4294967295|I>>>17),I=w+(S^(_|~T))+D[13]+1309151649&4294967295,w=_+(I<<21&4294967295|I>>>11),I=T+(_^(w|~S))+D[4]+4149444226&4294967295,T=w+(I<<6&4294967295|I>>>26),I=S+(w^(T|~_))+D[11]+3174756917&4294967295,S=T+(I<<10&4294967295|I>>>22),I=_+(T^(S|~w))+D[2]+718787259&4294967295,_=S+(I<<15&4294967295|I>>>17),I=w+(S^(_|~T))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(_+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+_&4294967295,P.g[3]=P.g[3]+S&4294967295}r.prototype.v=function(P,T){T===void 0&&(T=P.length);let w=T-this.blockSize,D=this.C,_=this.h,S=0;for(;S<T;){if(_==0)for(;S<=w;)i(this,P,S),S+=this.blockSize;if(typeof P=="string"){for(;S<T;)if(D[_++]=P.charCodeAt(S++),_==this.blockSize){i(this,D),_=0;break}}else for(;S<T;)if(D[_++]=P[S++],_==this.blockSize){i(this,D),_=0;break}}this.h=_,this.o+=T},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;T=this.o*8;for(var w=P.length-8;w<P.length;++w)P[w]=T&255,T/=256;for(this.v(P),P=Array(16),T=0,w=0;w<4;++w)for(let D=0;D<32;D+=8)P[T++]=this.g[w]>>>D&255;return P};function o(P,T){var w=a;return Object.prototype.hasOwnProperty.call(w,P)?w[P]:w[P]=T(P)}function s(P,T){this.h=T;let w=[],D=!0;for(let _=P.length-1;_>=0;_--){let S=P[_]|0;D&&S==T||(w[_]=S,D=!1)}this.g=w}var a={};function c(P){return-128<=P&&P<128?o(P,function(T){return new s([T|0],T<0?-1:0)}):new s([P|0],P<0?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return M(u(-P));let T=[],w=1;for(let D=0;P>=w;D++)T[D]=P/w|0,w*=4294967296;return new s(T,0)}function l(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return M(l(P.substring(1),T));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');let w=u(Math.pow(T,8)),D=m;for(let S=0;S<P.length;S+=8){var _=Math.min(8,P.length-S);let I=parseInt(P.substring(S,S+_),T);_<8?(_=u(Math.pow(T,_)),D=D.j(_).add(u(I))):(D=D.j(w),D=D.add(u(I)))}return D}var m=c(0),y=c(1),g=c(16777216);t=s.prototype,t.m=function(){if(k(this))return-M(this).m();let P=0,T=1;for(let w=0;w<this.g.length;w++){let D=this.i(w);P+=(D>=0?D:4294967296+D)*T,T*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(R(this))return"0";if(k(this))return"-"+M(this).toString(P);let T=u(Math.pow(P,6));var w=this;let D="";for(;;){let _=Y(w,T).g;w=L(w,_.j(T));let S=((w.g.length>0?w.g[0]:w.h)>>>0).toString(P);if(w=_,R(w))return S+D;for(;S.length<6;)S="0"+S;D=S+D}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function R(P){if(P.h!=0)return!1;for(let T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function k(P){return P.h==-1}t.l=function(P){return P=L(this,P),k(P)?-1:R(P)?0:1};function M(P){let T=P.g.length,w=[];for(let D=0;D<T;D++)w[D]=~P.g[D];return new s(w,~P.h).add(y)}t.abs=function(){return k(this)?M(this):this},t.add=function(P){let T=Math.max(this.g.length,P.g.length),w=[],D=0;for(let _=0;_<=T;_++){let S=D+(this.i(_)&65535)+(P.i(_)&65535),I=(S>>>16)+(this.i(_)>>>16)+(P.i(_)>>>16);D=I>>>16,S&=65535,I&=65535,w[_]=I<<16|S}return new s(w,w[w.length-1]&-2147483648?-1:0)};function L(P,T){return P.add(M(T))}t.j=function(P){if(R(this)||R(P))return m;if(k(this))return k(P)?M(this).j(M(P)):M(M(this).j(P));if(k(P))return M(this.j(M(P)));if(this.l(g)<0&&P.l(g)<0)return u(this.m()*P.m());let T=this.g.length+P.g.length,w=[];for(var D=0;D<2*T;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(let _=0;_<P.g.length;_++){let S=this.i(D)>>>16,I=this.i(D)&65535,ee=P.i(_)>>>16,ve=P.i(_)&65535;w[2*D+2*_]+=I*ve,Z(w,2*D+2*_),w[2*D+2*_+1]+=S*ve,Z(w,2*D+2*_+1),w[2*D+2*_+1]+=I*ee,Z(w,2*D+2*_+1),w[2*D+2*_+2]+=S*ee,Z(w,2*D+2*_+2)}for(P=0;P<T;P++)w[P]=w[2*P+1]<<16|w[2*P];for(P=T;P<2*T;P++)w[P]=0;return new s(w,0)};function Z(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function J(P,T){this.g=P,this.h=T}function Y(P,T){if(R(T))throw Error("division by zero");if(R(P))return new J(m,m);if(k(P))return T=Y(M(P),T),new J(M(T.g),M(T.h));if(k(T))return T=Y(P,M(T)),new J(M(T.g),T.h);if(P.g.length>30){if(k(P)||k(T))throw Error("slowDivide_ only works with positive integers.");for(var w=y,D=T;D.l(P)<=0;)w=fe(w),D=fe(D);var _=be(w,1),S=be(D,1);for(D=be(D,2),w=be(w,2);!R(D);){var I=S.add(D);I.l(P)<=0&&(_=_.add(w),S=I),D=be(D,1),w=be(w,1)}return T=L(P,_.j(T)),new J(_,T)}for(_=m;P.l(T)>=0;){for(w=Math.max(1,Math.floor(P.m()/T.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),S=u(w),I=S.j(T);k(I)||I.l(P)>0;)w-=D,S=u(w),I=S.j(T);R(S)&&(S=y),_=_.add(S),P=L(P,I)}return new J(_,P)}t.B=function(P){return Y(this,P).h},t.and=function(P){let T=Math.max(this.g.length,P.g.length),w=[];for(let D=0;D<T;D++)w[D]=this.i(D)&P.i(D);return new s(w,this.h&P.h)},t.or=function(P){let T=Math.max(this.g.length,P.g.length),w=[];for(let D=0;D<T;D++)w[D]=this.i(D)|P.i(D);return new s(w,this.h|P.h)},t.xor=function(P){let T=Math.max(this.g.length,P.g.length),w=[];for(let D=0;D<T;D++)w[D]=this.i(D)^P.i(D);return new s(w,this.h^P.h)};function fe(P){let T=P.g.length+1,w=[];for(let D=0;D<T;D++)w[D]=P.i(D)<<1|P.i(D-1)>>>31;return new s(w,P.h)}function be(P,T){let w=T>>5;T%=32;let D=P.g.length-w,_=[];for(let S=0;S<D;S++)_[S]=T>0?P.i(S+w)>>>T|P.i(S+w+1)<<32-T:P.i(S+w);return new s(_,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,h2=CF.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=l,bu=CF.Integer=s}).apply(typeof SF<"u"?SF:typeof self<"u"?self:typeof window<"u"?window:{});var Nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Eu={};var f2,HJ,Of,p2,Lm,Rw,g2,m2,y2;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nw=="object"&&Nw];for(var A=0;A<f.length;++A){var N=f[A];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(f,A){if(A)e:{var N=r;f=f.split(".");for(var q=0;q<f.length-1;q++){var oe=f[q];if(!(oe in N))break e;N=N[oe]}f=f[f.length-1],q=N[f],A=A(q),A!=q&&A!=null&&e(N,f,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(f){return f||function(A){var N=[],q;for(q in A)Object.prototype.hasOwnProperty.call(A,q)&&N.push([q,A[q]]);return N}});var o=o||{},s=this||self;function a(f){var A=typeof f;return A=="object"&&f!=null||A=="function"}function c(f,A,N){return f.call.apply(f.bind,arguments)}function u(f,A,N){return u=c,u.apply(null,arguments)}function l(f,A){var N=Array.prototype.slice.call(arguments,1);return function(){var q=N.slice();return q.push.apply(q,arguments),f.apply(this,q)}}function m(f,A){function N(){}N.prototype=A.prototype,f.Z=A.prototype,f.prototype=new N,f.prototype.constructor=f,f.Ob=function(q,oe,me){for(var He=Array(arguments.length-2),At=2;At<arguments.length;At++)He[At-2]=arguments[At];return A.prototype[oe].apply(q,He)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function g(f){let A=f.length;if(A>0){let N=Array(A);for(let q=0;q<A;q++)N[q]=f[q];return N}return[]}function R(f,A){for(let q=1;q<arguments.length;q++){let oe=arguments[q];var N=typeof oe;if(N=N!="object"?N:oe?Array.isArray(oe)?"array":N:"null",N=="array"||N=="object"&&typeof oe.length=="number"){N=f.length||0;let me=oe.length||0;f.length=N+me;for(let He=0;He<me;He++)f[N+He]=oe[He]}else f.push(oe)}}class k{constructor(A,N){this.i=A,this.j=N,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function M(f){s.setTimeout(()=>{throw f},0)}function L(){var f=P;let A=null;return f.g&&(A=f.g,f.g=f.g.next,f.g||(f.h=null),A.next=null),A}class Z{constructor(){this.h=this.g=null}add(A,N){let q=J.get();q.set(A,N),this.h?this.h.next=q:this.g=q,this.h=q}}var J=new k(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(A,N){this.h=A,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,be=!1,P=new Z,T=()=>{let f=Promise.resolve(void 0);fe=()=>{f.then(w)}};function w(){for(var f;f=L();){try{f.h.call(f.g)}catch(N){M(N)}var A=J;A.j(f),A.h<100&&(A.h++,f.next=A.g,A.g=f)}be=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _(f,A){this.type=f,this.g=this.target=A,this.defaultPrevented=!1}_.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,A=Object.defineProperty({},"passive",{get:function(){f=!0}});try{let N=()=>{};s.addEventListener("test",N,A),s.removeEventListener("test",N,A)}catch{}return f})();function I(f){return/^[\s\xa0]*$/.test(f)}function ee(f,A){_.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,A)}m(ee,_),ee.prototype.init=function(f,A){let N=this.type=f.type,q=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=A,A=f.relatedTarget,A||(N=="mouseover"?A=f.fromElement:N=="mouseout"&&(A=f.toElement)),this.relatedTarget=A,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);let f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),Ce=0;function Te(f,A,N,q,oe){this.listener=f,this.proxy=null,this.src=A,this.type=N,this.capture=!!q,this.ha=oe,this.key=++Ce,this.da=this.fa=!1}function pe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ae(f,A,N){for(let q in f)A.call(N,f[q],q,f)}function $e(f,A){for(let N in f)A.call(void 0,f[N],N,f)}function Me(f){let A={};for(let N in f)A[N]=f[N];return A}let B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(f,A){let N,q;for(let oe=1;oe<arguments.length;oe++){q=arguments[oe];for(N in q)f[N]=q[N];for(let me=0;me<B.length;me++)N=B[me],Object.prototype.hasOwnProperty.call(q,N)&&(f[N]=q[N])}}function X(f){this.src=f,this.g={},this.h=0}X.prototype.add=function(f,A,N,q,oe){let me=f.toString();f=this.g[me],f||(f=this.g[me]=[],this.h++);let He=ce(f,A,q,oe);return He>-1?(A=f[He],N||(A.fa=!1)):(A=new Te(A,this.src,me,!!q,oe),A.fa=N,f.push(A)),A};function ne(f,A){let N=A.type;if(N in f.g){var q=f.g[N],oe=Array.prototype.indexOf.call(q,A,void 0),me;(me=oe>=0)&&Array.prototype.splice.call(q,oe,1),me&&(pe(A),f.g[N].length==0&&(delete f.g[N],f.h--))}}function ce(f,A,N,q){for(let oe=0;oe<f.length;++oe){let me=f[oe];if(!me.da&&me.listener==A&&me.capture==!!N&&me.ha==q)return oe}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Ee={};function Ie(f,A,N,q,oe){if(q&&q.once)return Je(f,A,N,q,oe);if(Array.isArray(A)){for(let me=0;me<A.length;me++)Ie(f,A[me],N,q,oe);return null}return N=Fe(N),f&&f[ve]?f.J(A,N,a(q)?!!q.capture:!!q,oe):xe(f,A,N,!1,q,oe)}function xe(f,A,N,q,oe,me){if(!A)throw Error("Invalid event type");let He=a(oe)?!!oe.capture:!!oe,At=jt(f);if(At||(f[de]=At=new X(f)),N=At.add(A,N,q,He,me),N.proxy)return N;if(q=Be(),N.proxy=q,q.src=f,q.listener=N,f.addEventListener)S||(oe=He),oe===void 0&&(oe=!1),f.addEventListener(A.toString(),q,oe);else if(f.attachEvent)f.attachEvent(H(A.toString()),q);else if(f.addListener&&f.removeListener)f.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Be(){function f(N){return A.call(f.src,f.listener,N)}let A=Qe;return f}function Je(f,A,N,q,oe){if(Array.isArray(A)){for(let me=0;me<A.length;me++)Je(f,A[me],N,q,oe);return null}return N=Fe(N),f&&f[ve]?f.K(A,N,a(q)?!!q.capture:!!q,oe):xe(f,A,N,!0,q,oe)}function Ke(f,A,N,q,oe){if(Array.isArray(A))for(var me=0;me<A.length;me++)Ke(f,A[me],N,q,oe);else q=a(q)?!!q.capture:!!q,N=Fe(N),f&&f[ve]?(f=f.i,me=String(A).toString(),me in f.g&&(A=f.g[me],N=ce(A,N,q,oe),N>-1&&(pe(A[N]),Array.prototype.splice.call(A,N,1),A.length==0&&(delete f.g[me],f.h--)))):f&&(f=jt(f))&&(A=f.g[A.toString()],f=-1,A&&(f=ce(A,N,q,oe)),(N=f>-1?A[f]:null)&&ct(N))}function ct(f){if(typeof f!="number"&&f&&!f.da){var A=f.src;if(A&&A[ve])ne(A.i,f);else{var N=f.type,q=f.proxy;A.removeEventListener?A.removeEventListener(N,q,f.capture):A.detachEvent?A.detachEvent(H(N),q):A.addListener&&A.removeListener&&A.removeListener(q),(N=jt(A))?(ne(N,f),N.h==0&&(N.src=null,A[de]=null)):pe(f)}}}function H(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function Qe(f,A){if(f.da)f=!0;else{A=new ee(A,this);let N=f.listener,q=f.ha||f.src;f.fa&&ct(f),f=N.call(q,A)}return f}function jt(f){return f=f[de],f instanceof X?f:null}var bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fe(f){return typeof f=="function"?f:(f[bt]||(f[bt]=function(A){return f.handleEvent(A)}),f[bt])}function Ze(){D.call(this),this.i=new X(this),this.M=this,this.G=null}m(Ze,D),Ze.prototype[ve]=!0,Ze.prototype.removeEventListener=function(f,A,N,q){Ke(this,f,A,N,q)};function Ge(f,A){var N,q=f.G;if(q)for(N=[];q;q=q.G)N.push(q);if(f=f.M,q=A.type||A,typeof A=="string")A=new _(A,f);else if(A instanceof _)A.target=A.target||f;else{var oe=A;A=new _(q,f),W(A,oe)}oe=!0;let me,He;if(N)for(He=N.length-1;He>=0;He--)me=A.g=N[He],oe=gt(me,q,!0,A)&&oe;if(me=A.g=f,oe=gt(me,q,!0,A)&&oe,oe=gt(me,q,!1,A)&&oe,N)for(He=0;He<N.length;He++)me=A.g=N[He],oe=gt(me,q,!1,A)&&oe}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var f=this.i;for(let A in f.g){let N=f.g[A];for(let q=0;q<N.length;q++)pe(N[q]);delete f.g[A],f.h--}}this.G=null},Ze.prototype.J=function(f,A,N,q){return this.i.add(String(f),A,!1,N,q)},Ze.prototype.K=function(f,A,N,q){return this.i.add(String(f),A,!0,N,q)};function gt(f,A,N,q){if(A=f.i.g[String(A)],!A)return!0;A=A.concat();let oe=!0;for(let me=0;me<A.length;++me){let He=A[me];if(He&&!He.da&&He.capture==N){let At=He.listener,d=He.ha||He.src;He.fa&&ne(f.i,He),oe=At.call(d,q)!==!1&&oe}}return oe&&!q.defaultPrevented}function vt(f,A){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:s.setTimeout(f,A||0)}function ln(f){f.g=vt(()=>{f.g=null,f.i&&(f.i=!1,ln(f))},f.l);let A=f.h;f.h=null,f.m.apply(null,A)}class Xt extends D{constructor(A,N){super(),this.m=A,this.l=N,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:ln(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dt(f){D.call(this),this.h=f,this.g={}}m(Dt,D);var Et=[];function It(f){Ae(f.g,function(A,N){this.g.hasOwnProperty(N)&&ct(A)},f),f.g={}}Dt.prototype.N=function(){Dt.Z.N.call(this),It(this)},Dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tt=s.JSON.stringify,Ut=s.JSON.parse,dt=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function lr(){}function en(){}var Ft={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){_.call(this,"d")}m(Ht,_);function Ln(){_.call(this,"c")}m(Ln,_);var ut={},Vn=null;function _t(){return Vn=Vn||new Ze}ut.Ia="serverreachability";function Mt(f){_.call(this,ut.Ia,f)}m(Mt,_);function Pn(f){let A=_t();Ge(A,new Mt(A))}ut.STAT_EVENT="statevent";function qt(f,A){_.call(this,ut.STAT_EVENT,f),this.stat=A}m(qt,_);function Xe(f){let A=_t();Ge(A,new qt(A,f))}ut.Ja="timingevent";function dn(f,A){_.call(this,ut.Ja,f),this.size=A}m(dn,_);function Mr(f,A){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},A)}function mr(){this.g=!0}mr.prototype.ua=function(){this.g=!1};function Yi(f,A,N,q,oe,me){f.info(function(){if(f.g)if(me){var He="",At=me.split("&");for(let b=0;b<At.length;b++){var d=At[b].split("=");if(d.length>1){let x=d[0];d=d[1];let U=x.split("_");He=U.length>=2&&U[1]=="type"?He+(x+"="+d+"&"):He+(x+"=redacted&")}}}else He=null;else He=me;return"XMLHTTP REQ ("+q+") [attempt "+oe+"]: "+A+`
`+N+`
`+He})}function mo(f,A,N,q,oe,me,He){f.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+oe+"]: "+A+`
`+N+`
`+me+" "+He})}function lt(f,A,N,q){f.info(function(){return"XMLHTTP TEXT ("+A+"): "+nr(f,N)+(q?" "+q:"")})}function jo(f,A){f.info(function(){return"TIMEOUT: "+A})}mr.prototype.info=function(){};function nr(f,A){if(!f.g)return A;if(!A)return null;try{let me=JSON.parse(A);if(me){for(f=0;f<me.length;f++)if(Array.isArray(me[f])){var N=me[f];if(!(N.length<2)){var q=N[1];if(Array.isArray(q)&&!(q.length<1)){var oe=q[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(let He=1;He<q.length;He++)q[He]=""}}}}return tt(me)}catch{return A}}var Kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Or={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bn;function _r(){}m(_r,lr),_r.prototype.g=function(){return new XMLHttpRequest},Bn=new _r;function yr(f){return encodeURIComponent(String(f))}function Ji(f){var A=1;f=f.split(":");let N=[];for(;A>0&&f.length;)N.push(f.shift()),A--;return f.length&&N.push(f.join(":")),N}function di(f,A,N,q){this.j=f,this.i=A,this.l=N,this.S=q||1,this.V=new Dt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zi}function Zi(){this.i=null,this.g="",this.h=!1}var Ei={},Ii={};function hi(f,A,N){f.M=1,f.A=Yr(In(A)),f.u=N,f.R=!0,Qr(f,null)}function Qr(f,A){f.F=Date.now(),yo(f),f.B=In(f.A);var N=f.B,q=f.S;Array.isArray(q)||(q=[String(q)]),oc(N.i,"t",q),f.C=0,N=f.j.L,f.h=new Zi,f.g=it(f.j,N?A:null,!f.u),f.P>0&&(f.O=new Xt(u(f.Y,f,f.g),f.P)),A=f.V,N=f.g,q=f.ba;var oe="readystatechange";Array.isArray(oe)||(oe&&(Et[0]=oe.toString()),oe=Et);for(let me=0;me<oe.length;me++){let He=Ie(N,oe[me],q||A.handleEvent,!1,A.h||A);if(!He)break;A.g[He.key]=He}A=f.J?Me(f.J):{},f.u?(f.v||(f.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,A)):(f.v="GET",f.g.ea(f.B,f.v,null,A)),Pn(),Yi(f.i,f.v,f.B,f.l,f.S,f.u)}di.prototype.ba=function(f){f=f.target;let A=this.O;A&&hn(f)==3?A.j():this.Y(f)},di.prototype.Y=function(f){try{if(f==this.g)e:{let At=hn(this.g),d=this.g.ya(),b=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Gc(this.g)))){this.K||At!=4||d==7||(d==8||b<=0?Pn(3):Pn(2)),os(this);var A=this.g.ca();this.X=A;var N=Ti(this);if(this.o=A==200,mo(this.i,this.v,this.B,this.l,this.S,At,A),this.o){if(this.U&&!this.L){t:{if(this.g){var q,oe=this.g;if((q=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(q)){var me=q;break t}}me=null}if(f=me)lt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ss(this,f);else{this.o=!1,this.m=3,Xe(12),vo(this),Os(this);break e}}if(this.R){f=!0;let x;for(;!this.K&&this.C<N.length;)if(x=Ms(this,N),x==Ii){At==4&&(this.m=4,Xe(14),f=!1),lt(this.i,this.l,null,"[Incomplete Response]");break}else if(x==Ei){this.m=4,Xe(15),lt(this.i,this.l,N,"[Invalid Chunk]"),f=!1;break}else lt(this.i,this.l,x,null),ss(this,x);if(Xi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||N.length!=0||this.h.h||(this.m=1,Xe(16),f=!1),this.o=this.o&&f,!f)lt(this.i,this.l,N,"[Invalid Chunked Response]"),vo(this),Os(this);else if(N.length>0&&!this.W){this.W=!0;var He=this.j;He.g==this&&He.aa&&!He.P&&(He.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),v(He),He.P=!0,Xe(11))}}else lt(this.i,this.l,N,null),ss(this,N);At==4&&vo(this),this.o&&!this.K&&(At==4?te(this.j,this):(this.o=!1,yo(this)))}else us(this.g),A==400&&N.indexOf("Unknown SID")>0?(this.m=3,Xe(12)):(this.m=0,Xe(13)),vo(this),Os(this)}}}catch{}finally{}};function Ti(f){if(!Xi(f))return f.g.la();let A=Gc(f.g);if(A==="")return"";let N="",q=A.length,oe=hn(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return vo(f),Os(f),"";f.h.i=new s.TextDecoder}for(let me=0;me<q;me++)f.h.h=!0,N+=f.h.i.decode(A[me],{stream:!(oe&&me==q-1)});return A.length=0,f.h.g+=N,f.C=0,f.h.g}function Xi(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ms(f,A){var N=f.C,q=A.indexOf(`
`,N);return q==-1?Ii:(N=Number(A.substring(N,q)),isNaN(N)?Ei:(q+=1,q+N>A.length?Ii:(A=A.slice(q,q+N),f.C=q+N,A)))}di.prototype.cancel=function(){this.K=!0,vo(this)};function yo(f){f.T=Date.now()+f.H,is(f,f.H)}function is(f,A){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Mr(u(f.aa,f),A)}function os(f){f.D&&(s.clearTimeout(f.D),f.D=null)}di.prototype.aa=function(){this.D=null;let f=Date.now();f-this.T>=0?(jo(this.i,this.B),this.M!=2&&(Pn(),Xe(17)),vo(this),this.m=2,Os(this)):is(this,this.T-f)};function Os(f){f.j.I==0||f.K||te(f.j,f)}function vo(f){os(f);var A=f.O;A&&typeof A.dispose=="function"&&A.dispose(),f.O=null,It(f.V),f.g&&(A=f.g,f.g=null,A.abort(),A.dispose())}function ss(f,A){try{var N=f.j;if(N.I!=0&&(N.g==f||as(N.h,f))){if(!f.L&&as(N.h,f)&&N.I==3){try{var q=N.Ba.g.parse(A)}catch{q=null}if(Array.isArray(q)&&q.length==3){var oe=q;if(oe[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<f.F)G(N),Fi(N);else break e;ls(N),Xe(18)}}else N.xa=oe[1],0<N.xa-N.K&&oe[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Mr(u(N.Va,N),6e3));_o(N.h)<=1&&N.ta&&(N.ta=void 0)}else Se(N,11)}else if((f.L||N.g==f)&&G(N),!I(A))for(oe=N.Ba.g.parse(A),A=0;A<oe.length;A++){let b=oe[A],x=b[0];if(!(x<=N.K))if(N.K=x,b=b[1],N.I==2)if(b[0]=="c"){N.M=b[1],N.ba=b[2];let U=b[3];U!=null&&(N.ka=U,N.j.info("VER="+N.ka));let ie=b[4];ie!=null&&(N.za=ie,N.j.info("SVER="+N.za));let _e=b[5];_e!=null&&typeof _e=="number"&&_e>0&&(q=1.5*_e,N.O=q,N.j.info("backChannelRequestTimeoutMs_="+q)),q=N;let qe=f.g;if(qe){let un=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(un){var me=q.h;me.g||un.indexOf("spdy")==-1&&un.indexOf("quic")==-1&&un.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(tc(me,me.h),me.h=null))}if(q.G){let ir=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;ir&&(q.wa=ir,kn(q.J,q.G,ir))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-f.F,N.j.info("Handshake RTT: "+N.T+"ms")),q=N;var He=f;if(q.na=et(q,q.L?q.ba:null,q.W),He.L){nc(q.h,He);var At=He,d=q.O;d&&(At.H=d),At.D&&(os(At),yo(At)),q.g=He}else Ho(q);N.i.length>0&&pi(N)}else b[0]!="stop"&&b[0]!="close"||Se(N,7);else N.I==3&&(b[0]=="stop"||b[0]=="close"?b[0]=="stop"?Se(N,7):qs(N):b[0]!="noop"&&N.l&&N.l.qa(b),N.A=0)}}Pn(4)}catch{}}var Uc=class{constructor(f,A){this.g=f,this.map=A}};function fi(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function _o(f){return f.h?1:f.g?f.g.size:0}function as(f,A){return f.h?f.h==A:f.g?f.g.has(A):!1}function tc(f,A){f.g?f.g.add(A):f.h=A}function nc(f,A){f.h&&f.h==A?f.h=null:f.g&&f.g.has(A)&&f.g.delete(A)}fi.prototype.cancel=function(){if(this.i=rc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let f of this.g.values())f.cancel();this.g.clear()}};function rc(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let A=f.i;for(let N of f.g.values())A=A.concat(N.G);return A}return g(f.i)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ls(f,A){if(f){f=f.split("&");for(let N=0;N<f.length;N++){let q=f[N].indexOf("="),oe,me=null;q>=0?(oe=f[N].substring(0,q),me=f[N].substring(q+1)):oe=f[N],A(oe,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function to(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;f instanceof to?(this.l=f.l,cs(this,f.j),this.o=f.o,this.g=f.g,Ai(this,f.u),this.h=f.h,Fs(this,zc(f.i)),this.m=f.m):f&&(A=String(f).match(eo))?(this.l=!1,cs(this,A[1]||"",!0),this.o=rr(A[2]||""),this.g=rr(A[3]||"",!0),Ai(this,A[4]),this.h=rr(A[5]||"",!0),Fs(this,A[6]||"",!0),this.m=rr(A[7]||"")):(this.l=!1,this.i=new Si(null,this.l))}to.prototype.toString=function(){let f=[];var A=this.j;A&&f.push(Ar(A,_a,!0),":");var N=this.g;return(N||A=="file")&&(f.push("//"),(A=this.o)&&f.push(Ar(A,_a,!0),"@"),f.push(yr(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&f.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&f.push("/"),f.push(Ar(N,N.charAt(0)=="/"?wo:ic,!0))),(N=this.i.toString())&&f.push("?",N),(N=this.m)&&f.push("#",Ar(N,wa)),f.join("")},to.prototype.resolve=function(f){let A=In(this),N=!!f.j;N?cs(A,f.j):N=!!f.o,N?A.o=f.o:N=!!f.g,N?A.g=f.g:N=f.u!=null;var q=f.h;if(N)Ai(A,f.u);else if(N=!!f.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var oe=A.h.lastIndexOf("/");oe!=-1&&(q=A.h.slice(0,oe+1)+q)}if(oe=q,oe==".."||oe==".")q="";else if(oe.indexOf("./")!=-1||oe.indexOf("/.")!=-1){q=oe.lastIndexOf("/",0)==0,oe=oe.split("/");let me=[];for(let He=0;He<oe.length;){let At=oe[He++];At=="."?q&&He==oe.length&&me.push(""):At==".."?((me.length>1||me.length==1&&me[0]!="")&&me.pop(),q&&He==oe.length&&me.push("")):(me.push(At),q=!0)}q=me.join("/")}else q=oe}return N?A.h=q:N=f.i.toString()!=="",N?Fs(A,zc(f.i)):N=!!f.m,N&&(A.m=f.m),A};function In(f){return new to(f)}function cs(f,A,N){f.j=N?rr(A,!0):A,f.j&&(f.j=f.j.replace(/:$/,""))}function Ai(f,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);f.u=A}else f.u=null}function Fs(f,A,N){A instanceof Si?(f.i=A,ba(f.i,f.l)):(N||(A=Ar(A,Fn)),f.i=new Si(A,f.l))}function kn(f,A,N){f.i.set(A,N)}function Yr(f){return kn(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function rr(f,A){return f?A?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ar(f,A,N){return typeof f=="string"?(f=encodeURI(f).replace(A,no),N&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function no(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var _a=/[#\/\?@]/g,ic=/[#\?:]/g,wo=/[#\?]/g,Fn=/[#\?@]/g,wa=/#/g;function Si(f,A){this.h=this.g=null,this.i=f||null,this.j=!!A}function Lr(f){f.g||(f.g=new Map,f.h=0,f.i&&Ls(f.i,function(A,N){f.add(decodeURIComponent(A.replace(/\+/g," ")),N)}))}t=Si.prototype,t.add=function(f,A){Lr(this),this.i=null,f=Jr(this,f);let N=this.g.get(f);return N||this.g.set(f,N=[]),N.push(A),this.h+=1,this};function Uu(f,A){Lr(f),A=Jr(f,A),f.g.has(A)&&(f.i=null,f.h-=f.g.get(A).length,f.g.delete(A))}function qc(f,A){return Lr(f),A=Jr(f,A),f.g.has(A)}t.forEach=function(f,A){Lr(this),this.g.forEach(function(N,q){N.forEach(function(oe){f.call(A,oe,q,this)},this)},this)};function qu(f,A){Lr(f);let N=[];if(typeof A=="string")qc(f,A)&&(N=N.concat(f.g.get(Jr(f,A))));else for(f=Array.from(f.g.values()),A=0;A<f.length;A++)N=N.concat(f[A]);return N}t.set=function(f,A){return Lr(this),this.i=null,f=Jr(this,f),qc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[A]),this.h+=1,this},t.get=function(f,A){return f?(f=qu(this,f),f.length>0?String(f[0]):A):A};function oc(f,A,N){Uu(f,A),N.length>0&&(f.i=null,f.g.set(Jr(f,A),g(N)),f.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let f=[],A=Array.from(this.g.keys());for(let q=0;q<A.length;q++){var N=A[q];let oe=yr(N);N=qu(this,N);for(let me=0;me<N.length;me++){let He=oe;N[me]!==""&&(He+="="+yr(N[me])),f.push(He)}}return this.i=f.join("&")};function zc(f){let A=new Si;return A.i=f.i,f.g&&(A.g=new Map(f.g),A.h=f.h),A}function Jr(f,A){return A=String(A),f.j&&(A=A.toLowerCase()),A}function ba(f,A){A&&!f.j&&(Lr(f),f.i=null,f.g.forEach(function(N,q){let oe=q.toLowerCase();q!=oe&&(Uu(this,q),oc(this,oe,N))},f)),f.j=A}function Ci(f,A){let N=new mr;if(s.Image){let q=new Image;q.onload=l(bo,N,"TestLoadImage: loaded",!0,A,q),q.onerror=l(bo,N,"TestLoadImage: error",!1,A,q),q.onabort=l(bo,N,"TestLoadImage: abort",!1,A,q),q.ontimeout=l(bo,N,"TestLoadImage: timeout",!1,A,q),s.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=f}else A(!1)}function sc(f,A){let N=new mr,q=new AbortController,oe=setTimeout(()=>{q.abort(),bo(N,"TestPingServer: timeout",!1,A)},1e4);fetch(f,{signal:q.signal}).then(me=>{clearTimeout(oe),me.ok?bo(N,"TestPingServer: ok",!0,A):bo(N,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(oe),bo(N,"TestPingServer: error",!1,A)})}function bo(f,A,N,q,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),q(N)}catch{}}function Pt(){this.g=new dt}function Eo(f){this.i=f.Sb||null,this.h=f.ab||!1}m(Eo,lr),Eo.prototype.g=function(){return new ac(this.i,this.h)};function ac(f,A){Ze.call(this),this.H=f,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(ac,Ze),t=ac.prototype,t.open=function(f,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=A,this.readyState=1,wr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(A.body=f),(this.H||s).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Li(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zu(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function zu(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var A=f.value?f.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!f.done}))&&(this.response=this.responseText+=A)}f.done?Li(this):wr(this),this.readyState==3&&zu(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Li(this))},t.Na=function(f){this.g&&(this.response=f,Li(this))},t.ga=function(){this.g&&Li(this)};function Li(f){f.readyState=4,f.l=null,f.j=null,f.B=null,wr(f)}t.setRequestHeader=function(f,A){this.A.append(f,A)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let f=[],A=this.h.entries();for(var N=A.next();!N.done;)N=N.value,f.push(N[0]+": "+N[1]),N=A.next();return f.join(`\r
`)};function wr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ac.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function $u(f){let A="";return Ae(f,function(N,q){A+=q,A+=":",A+=N,A+=`\r
`}),A}function $c(f,A,N){e:{for(q in N){var q=!1;break e}q=!0}q||(N=$u(N),typeof f=="string"?N!=null&&yr(N):kn(f,A,N))}function wn(f){Ze.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(wn,Ze);var Vs=/^https?$/i,Bs=["POST","PUT"];t=wn.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,A,N,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);A=A?A.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bn.g(),this.g.onreadystatechange=y(u(this.Ca,this));try{this.B=!0,this.g.open(A,String(f),!0),this.B=!1}catch(me){js(this,me);return}if(f=N||"",N=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var oe in q)N.set(oe,q[oe]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(let me of q.keys())N.set(me,q.get(me));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(N.keys()).find(me=>me.toLowerCase()=="content-type"),oe=s.FormData&&f instanceof s.FormData,!(Array.prototype.indexOf.call(Bs,A,void 0)>=0)||q||oe||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[me,He]of N)this.g.setRequestHeader(me,He);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(me){js(this,me)}};function js(f,A){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=A,f.o=5,Di(f),qo(f)}function Di(f){f.A||(f.A=!0,Ge(f,"complete"),Ge(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ge(this,"complete"),Ge(this,"abort"),qo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qo(this,!0)),wn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Hc(this):this.Xa())},t.Xa=function(){Hc(this)};function Hc(f){if(f.h&&typeof o<"u"){if(f.v&&hn(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ge(f,"readystatechange"),hn(f)==4){f.h=!1;try{let me=f.ca();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var N;if(!(N=A)){var q;if(q=me===0){let He=String(f.D).match(eo)[1]||null;!He&&s.self&&s.self.location&&(He=s.self.location.protocol.slice(0,-1)),q=!Vs.test(He?He.toLowerCase():"")}N=q}if(N)Ge(f,"complete"),Ge(f,"success");else{f.o=6;try{var oe=hn(f)>2?f.g.statusText:""}catch{oe=""}f.l=oe+" ["+f.ca()+"]",Di(f)}}finally{qo(f)}}}}function qo(f,A){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);let N=f.g;f.g=null,A||Ge(f,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function hn(f){return f.g?f.g.readyState:0}t.ca=function(){try{return hn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var A=this.g.responseText;return f&&A.indexOf(f)==0&&(A=A.substring(f.length)),Ut(A)}};function Gc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function us(f){let A={};f=(f.g&&hn(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<f.length;q++){if(I(f[q]))continue;var N=Ji(f[q]);let oe=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();let me=A[oe]||[];A[oe]=me,me.push(N)}$e(A,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zo(f,A,N){return N&&N.internalChannelParams&&N.internalChannelParams[f]||A}function Us(f){this.za=0,this.i=[],this.j=new mr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zo("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zo("baseRetryDelayMs",5e3,f),this.Za=zo("retryDelaySeedMs",1e4,f),this.Ta=zo("forwardChannelMaxRetries",2,f),this.va=zo("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new fi(f&&f.concurrentRequestLimit),this.Ba=new Pt,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Us.prototype,t.ka=8,t.I=1,t.connect=function(f,A,N,q){Xe(0),this.W=f,this.H=A||{},N&&q!==void 0&&(this.H.OSID=N,this.H.OAID=q),this.F=this.X,this.J=et(this,null,this.W),pi(this)};function qs(f){if(Ea(f),f.I==3){var A=f.V++,N=In(f.J);if(kn(N,"SID",f.M),kn(N,"RID",A),kn(N,"TYPE","terminate"),Fr(f,N),A=new di(f,f.j,A),A.M=2,A.A=Yr(In(N)),N=!1,s.navigator&&s.navigator.sendBeacon)try{N=s.navigator.sendBeacon(A.A.toString(),"")}catch{}!N&&s.Image&&(new Image().src=A.A,N=!0),N||(A.g=it(A.j,null),A.g.ea(A.A)),A.F=Date.now(),yo(A)}ke(f)}function Fi(f){f.g&&(v(f),f.g.cancel(),f.g=null)}function Ea(f){Fi(f),f.v&&(s.clearTimeout(f.v),f.v=null),G(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&s.clearTimeout(f.m),f.m=null)}function pi(f){if(!Uo(f.h)&&!f.m){f.m=!0;var A=f.Ea;fe||T(),be||(fe(),be=!0),P.add(A,f),f.D=0}}function Wc(f,A){return _o(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=A.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Mr(u(f.Ea,f,A),le(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;let oe=new di(this,this.j,f),me=this.o;if(this.U&&(me?(me=Me(me),W(me,this.U)):me=this.U),this.u!==null||this.R||(oe.J=me,me=null),this.S)e:{for(var A=0,N=0;N<this.i.length;N++){t:{var q=this.i[N];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(A+=q,A>4096){A=N;break e}if(A===4096||N===this.i.length-1){A=N+1;break e}}A=1e3}else A=1e3;A=cc(this,oe,A),N=In(this.J),kn(N,"RID",f),kn(N,"CVER",22),this.G&&kn(N,"X-HTTP-Session-Id",this.G),Fr(this,N),me&&(this.R?A="headers="+yr($u(me))+"&"+A:this.u&&$c(N,this.u,me)),tc(this.h,oe),this.Ra&&kn(N,"TYPE","init"),this.S?(kn(N,"$req",A),kn(N,"SID","null"),oe.U=!0,hi(oe,N,null)):hi(oe,N,A),this.I=2}}else this.I==3&&(f?$o(this,f):this.i.length==0||Uo(this.h)||$o(this))};function $o(f,A){var N;A?N=A.l:N=f.V++;let q=In(f.J);kn(q,"SID",f.M),kn(q,"RID",N),kn(q,"AID",f.K),Fr(f,q),f.u&&f.o&&$c(q,f.u,f.o),N=new di(f,f.j,N,f.D+1),f.u===null&&(N.J=f.o),A&&(f.i=A.G.concat(f.i)),A=cc(f,N,1e3),N.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),tc(f.h,N),hi(N,q,A)}function Fr(f,A){f.H&&Ae(f.H,function(N,q){kn(A,q,N)}),f.l&&Ae({},function(N,q){kn(A,q,N)})}function cc(f,A,N){N=Math.min(f.i.length,N);let q=f.l?u(f.l.Ka,f.l,f):null;e:{var oe=f.i;let At=-1;for(;;){let d=["count="+N];At==-1?N>0?(At=oe[0].g,d.push("ofs="+At)):At=0:d.push("ofs="+At);let b=!0;for(let x=0;x<N;x++){var me=oe[x].g;let U=oe[x].map;if(me-=At,me<0)At=Math.max(0,oe[x].g-100),b=!1;else try{me="req"+me+"_"||"";try{var He=U instanceof Map?U:Object.entries(U);for(let[ie,_e]of He){let qe=_e;a(_e)&&(qe=tt(_e)),d.push(me+ie+"="+encodeURIComponent(qe))}}catch(ie){throw d.push(me+"type="+encodeURIComponent("_badmap")),ie}}catch{q&&q(U)}}if(b){He=d.join("&");break e}}He=void 0}return f=f.i.splice(0,N),A.G=f,He}function Ho(f){if(!f.g&&!f.v){f.Y=1;var A=f.Da;fe||T(),be||(fe(),be=!0),P.add(A,f),f.A=0}}function ls(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Mr(u(f.Da,f),le(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,O(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Mr(u(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xe(10),Fi(this),O(this))};function v(f){f.B!=null&&(s.clearTimeout(f.B),f.B=null)}function O(f){f.g=new di(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var A=In(f.na);kn(A,"RID","rpc"),kn(A,"SID",f.M),kn(A,"AID",f.K),kn(A,"CI",f.F?"0":"1"),!f.F&&f.ia&&kn(A,"TO",f.ia),kn(A,"TYPE","xmlhttp"),Fr(f,A),f.u&&f.o&&$c(A,f.u,f.o),f.O&&(f.g.H=f.O);var N=f.g;f=f.ba,N.M=1,N.A=Yr(In(A)),N.u=null,N.R=!0,Qr(N,f)}t.Va=function(){this.C!=null&&(this.C=null,Fi(this),ls(this),Xe(19))};function G(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function te(f,A){var N=null;if(f.g==A){G(f),v(f),f.g=null;var q=2}else if(as(f.h,A))N=A.G,nc(f.h,A),q=1;else return;if(f.I!=0){if(A.o)if(q==1){N=A.u?A.u.length:0,A=Date.now()-A.F;var oe=f.D;q=_t(),Ge(q,new dn(q,N)),pi(f)}else Ho(f);else if(oe=A.m,oe==3||oe==0&&A.X>0||!(q==1&&Wc(f,A)||q==2&&ls(f)))switch(N&&N.length>0&&(A=f.h,A.i=A.i.concat(N)),oe){case 1:Se(f,5);break;case 4:Se(f,10);break;case 3:Se(f,6);break;default:Se(f,2)}}}function le(f,A){let N=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(N*=2),N*A}function Se(f,A){if(f.j.info("Error code "+A),A==2){var N=u(f.bb,f),q=f.Ua;let oe=!q;q=new to(q||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||cs(q,"https"),Yr(q),oe?Ci(q.toString(),N):sc(q.toString(),N)}else Xe(2);f.I=0,f.l&&f.l.pa(A),ke(f),Ea(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function ke(f){if(f.I=0,f.ja=[],f.l){let A=rc(f.h);(A.length!=0||f.i.length!=0)&&(R(f.ja,A),R(f.ja,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.oa()}}function et(f,A,N){var q=N instanceof to?In(N):new to(N);if(q.g!="")A&&(q.g=A+"."+q.g),Ai(q,q.u);else{var oe=s.location;q=oe.protocol,A=A?A+"."+oe.hostname:oe.hostname,oe=+oe.port;let me=new to(null);q&&cs(me,q),A&&(me.g=A),oe&&Ai(me,oe),N&&(me.h=N),q=me}return N=f.G,A=f.wa,N&&A&&kn(q,N,A),kn(q,"VER",f.ka),Fr(f,q),q}function it(f,A,N){if(A&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=f.Aa&&!f.ma?new wn(new Eo({ab:N})):new wn(f.ma),A.Fa(f.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xt(){}t=xt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Nt(){}Nt.prototype.g=function(f,A){return new kt(f,A)};function kt(f,A){Ze.call(this),this.g=new Us(A),this.l=f,this.h=A&&A.messageUrlParams||null,f=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(f?f["X-WebChannel-Content-Type"]=A.messageContentType:f={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(f?f["X-WebChannel-Client-Profile"]=A.sa:f={"X-WebChannel-Client-Profile":A.sa}),this.g.U=f,(f=A&&A.Qb)&&!I(f)&&(this.g.u=f),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!I(A)&&(this.g.G=A,f=this.h,f!==null&&A in f&&(f=this.h,A in f&&delete f[A])),this.j=new pn(this)}m(kt,Ze),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){qs(this.g)},kt.prototype.o=function(f){var A=this.g;if(typeof f=="string"){var N={};N.__data__=f,f=N}else this.v&&(N={},N.__data__=tt(f),f=N);A.i.push(new Uc(A.Ya++,f)),A.I==3&&pi(A)},kt.prototype.N=function(){this.g.l=null,delete this.j,qs(this.g),delete this.g,kt.Z.N.call(this)};function Yn(f){Ht.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var A=f.__sm__;if(A){e:{for(let N in A){f=N;break e}f=void 0}(this.i=f)&&(f=this.i,A=A!==null&&f in A?A[f]:void 0),this.data=A}else this.data=f}m(Yn,Ht);function jn(){Ln.call(this),this.status=1}m(jn,Ln);function pn(f){this.g=f}m(pn,xt),pn.prototype.ra=function(){Ge(this.g,"a")},pn.prototype.qa=function(f){Ge(this.g,new Yn(f))},pn.prototype.pa=function(f){Ge(this.g,new jn)},pn.prototype.oa=function(){Ge(this.g,"b")},Nt.prototype.createWebChannel=Nt.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,y2=Eu.createWebChannelTransport=function(){return new Nt},m2=Eu.getStatEventTarget=function(){return _t()},g2=Eu.Event=ut,Rw=Eu.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,Lm=Eu.ErrorCode=Kr,Or.COMPLETE="complete",p2=Eu.EventType=Or,en.EventType=Ft,Ft.OPEN="a",Ft.CLOSE="b",Ft.ERROR="c",Ft.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,Of=Eu.WebChannel=en,HJ=Eu.FetchXmlHttpFactory=Eo,wn.prototype.listenOnce=wn.prototype.K,wn.prototype.getLastError=wn.prototype.Ha,wn.prototype.getLastErrorCode=wn.prototype.ya,wn.prototype.getStatus=wn.prototype.ca,wn.prototype.getResponseJson=wn.prototype.La,wn.prototype.getResponseText=wn.prototype.la,wn.prototype.send=wn.prototype.ea,wn.prototype.setWithCredentials=wn.prototype.Fa,f2=Eu.XhrIo=wn}).apply(typeof Nw<"u"?Nw:typeof self<"u"?self:typeof window<"u"?window:{});var DF="@firebase/firestore",xF="4.9.2";var Pi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");var ip="12.3.0";var Zd=new Mf("@firebase/firestore");function Lf(){return Zd.logLevel}function nt(t,...e){if(Zd.logLevel<=Cn.DEBUG){let n=e.map(lD);Zd.debug(`Firestore (${ip}): ${t}`,...n)}}function Tu(t,...e){if(Zd.logLevel<=Cn.ERROR){let n=e.map(lD);Zd.error(`Firestore (${ip}): ${t}`,...n)}}function zf(t,...e){if(Zd.logLevel<=Cn.WARN){let n=e.map(lD);Zd.warn(`Firestore (${ip}): ${t}`,...n)}}function lD(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function St(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_4(t,r,n)}function _4(t,e,n){let r=`FIRESTORE (${ip}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Tu(r),new Error(r)}function xn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||_4(e,i,r)}function Gt(t,e){return t}var Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},We=class extends Ha{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var fa=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Vw=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},E2=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pi.UNAUTHENTICATED))}shutdown(){}},I2=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},T2=class{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xn(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fa,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fa)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xn(typeof r.accessToken=="string",31837,{l:r}),new Vw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return xn(e===null||typeof e=="string",2055,{h:e}),new Pi(e)}},A2=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},S2=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new A2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Bw=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},C2=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gw(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xn(this.o===void 0,3512);let r=o=>{o.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,nt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bw(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function GJ(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var $m=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=GJ(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function yn(t,e){return t<e?-1:t>e?1:0}function D2(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let i=t.charAt(r),o=e.charAt(r);if(i!==o)return v2(i)===v2(o)?yn(i,o):v2(i)?1:-1}return yn(t.length,e.length)}var WJ=55296,KJ=57343;function v2(t){let e=t.charCodeAt(0);return e>=WJ&&e<=KJ}function $f(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var NF="__name__",jw=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&St(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&St(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return yn(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):D2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bu.fromString(e.substring(4,e.length-2))}},gr=class t extends jw{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new We(Re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},QJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ds=class t extends jw{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return QJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NF}static keyField(){return new t([NF])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new We(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new We(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new We(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new We(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Ct=class t{constructor(e){this.path=e}static fromPath(e){return new t(gr.fromString(e))}static fromName(e){return new t(gr.fromString(e).popFirst(5))}static empty(){return new t(gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new gr(e.slice()))}};function w4(t,e,n){if(!n)throw new We(Re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YJ(t,e,n,r){if(e===!0&&r===!0)throw new We(Re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RF(t){if(!Ct.isDocumentKey(t))throw new We(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PF(t){if(Ct.isDocumentKey(t))throw new We(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function b4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function v1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":St(12329,{type:typeof t})}function Fo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new We(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=v1(t);throw new We(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ai(t,e){let n={typeString:t};return e&&(n.value=e),n}function ry(t,e){if(!b4(t))throw new We(Re.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new We(Re.INVALID_ARGUMENT,n);return!0}var kF=-62135596800,MF=1e6,ci=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*MF);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new We(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new We(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kF)throw new We(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MF}_compareTo(e){return this.seconds===e.seconds?yn(this.nanoseconds,e.nanoseconds):yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ry(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-kF;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ci._jsonSchemaVersion="firestore/timestamp/1.0",ci._jsonSchema={type:ai("string",ci._jsonSchemaVersion),seconds:ai("number"),nanoseconds:ai("number")};var zt=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new ci(0,0))}static max(){return new t(new ci(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hm=-1,x2=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};x2.UNKNOWN_ID=-1;function JJ(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=zt.fromTimestamp(r===1e9?new ci(n+1,0):new ci(n,r));return new Xd(i,Ct.empty(),e)}function ZJ(t){return new Xd(t.readTime,t.key,Hm)}var Xd=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(zt.min(),Ct.empty(),Hm)}static max(){return new t(zt.max(),Ct.empty(),Hm)}};function XJ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ct.comparator(t.documentKey,e.documentKey),n!==0?n:yn(t.largestBatchId,e.largestBatchId))}var eZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",N2=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function op(t){if(t.code!==Re.FAILED_PRECONDITION||t.message!==eZ)throw t;nt("LocalStore","Unexpectedly lost primary lease")}var Ue=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function tZ(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sp(t){return t.name==="IndexedDbTransactionError"}var dD=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ue&&this.ue(n),n}}t.ce=-1;return t})(),hD=-1;function iy(t){return t==null}function Gm(t){return t===0&&1/t==-1/0}function nZ(t){return typeof t=="number"&&Number.isInteger(t)&&!Gm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var E4="";function rZ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OF(e)),e=iZ(t.get(n),e);return OF(e)}function iZ(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case E4:n+="";break;default:n+=o}}return n}function OF(t){return t+E4+""}var oZ="remoteDocuments",I4="owner";var T4="mutationQueues";var A4="mutations";var S4="documentMutations",sZ="remoteDocumentsV14";var C4="remoteDocumentGlobal";var D4="targets";var x4="targetDocuments";var N4="targetGlobal",R4="collectionParents";var P4="clientMetadata";var k4="bundles";var M4="namedQueries";var aZ="indexConfiguration";var cZ="indexState";var uZ="indexEntries";var O4="documentOverlays";var lZ="globals";var dZ=[T4,A4,S4,oZ,D4,I4,N4,x4,P4,C4,R4,k4,M4],oTe=[...dZ,O4],hZ=[T4,A4,S4,sZ,D4,I4,N4,x4,P4,C4,R4,k4,M4,O4],fZ=hZ,pZ=[...fZ,aZ,cZ,uZ];var sTe=[...pZ,lZ];function LF(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jl(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function L4(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pr=class t{constructor(e,n){this.comparator=e,this.root=n||Cc.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cc.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cc.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jf(this.root,e,this.comparator,!1)}getReverseIterator(){return new jf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jf(this.root,e,this.comparator,!0)}},jf=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Cc=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw St(27949);return e+(this.isRed()?0:1)}};Cc.EMPTY=null,Cc.RED=!0,Cc.BLACK=!1;Cc.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Cc(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ki=class t{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uw(this.data.getIterator())}getIteratorFrom(e){return new Uw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Uw=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ha=class t{constructor(e){this.fields=e,e.sort(Ds.comparator)}static empty(){return new t([])}unionWith(e){let n=new ki(Ds.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $f(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var qw=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var lo=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qw("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};lo.EMPTY_BYTE_STRING=new lo("");var gZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Au(t){if(xn(!!t,39018),typeof t=="string"){let e=0,n=gZ.exec(t);if(xn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ir(t.seconds),nanos:Ir(t.nanos)}}function Ir(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Su(t){return typeof t=="string"?lo.fromBase64String(t):lo.fromUint8Array(t)}var F4="server_timestamp",V4="__type__",B4="__previous_value__",j4="__local_write_time__";function fD(t){return(t?.mapValue?.fields||{})[V4]?.stringValue===F4}function _1(t){let e=t.mapValue.fields[B4];return fD(e)?_1(e):e}function Wm(t){let e=Au(t.mapValue.fields[j4].timestampValue);return new ci(e.seconds,e.nanos)}var R2=class{constructor(e,n,r,i,o,s,a,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=l}},zw="(default)",$w=class t{constructor(e,n){this.projectId=e,this.database=n||zw}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===zw}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var pD="__type__",U4="__max__",Pw={mapValue:{fields:{__type__:{stringValue:U4}}}},gD="__vector__",Hf="value";function Ol(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fD(t)?4:z4(t)?9007199254740991:q4(t)?10:11:St(28295,{value:t})}function xc(t,e){if(t===e)return!0;let n=Ol(t);if(n!==Ol(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wm(t).isEqual(Wm(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Au(i.timestampValue),a=Au(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Su(i.bytesValue).isEqual(Su(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ir(i.geoPointValue.latitude)===Ir(o.geoPointValue.latitude)&&Ir(i.geoPointValue.longitude)===Ir(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ir(i.integerValue)===Ir(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ir(i.doubleValue),a=Ir(o.doubleValue);return s===a?Gm(s)===Gm(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return $f(t.arrayValue.values||[],e.arrayValue.values||[],xc);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(LF(s)!==LF(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!xc(s[c],a[c])))return!1;return!0})(t,e);default:return St(52216,{left:t})}}function Km(t,e){return(t.values||[]).find(n=>xc(n,e))!==void 0}function Gf(t,e){if(t===e)return 0;let n=Ol(t),r=Ol(e);if(n!==r)return yn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yn(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ir(o.integerValue||o.doubleValue),c=Ir(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(t,e);case 3:return FF(t.timestampValue,e.timestampValue);case 4:return FF(Wm(t),Wm(e));case 5:return D2(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=Su(o),c=Su(s);return a.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=yn(a[u],c[u]);if(l!==0)return l}return yn(a.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=yn(Ir(o.latitude),Ir(s.latitude));return a!==0?a:yn(Ir(o.longitude),Ir(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return VF(t.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},c=s.fields||{},u=a[Hf]?.arrayValue,l=c[Hf]?.arrayValue,m=yn(u?.values?.length||0,l?.values?.length||0);return m!==0?m:VF(u,l)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Pw.mapValue&&s===Pw.mapValue)return 0;if(o===Pw.mapValue)return 1;if(s===Pw.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let m=0;m<c.length&&m<l.length;++m){let y=D2(c[m],l[m]);if(y!==0)return y;let g=Gf(a[c[m]],u[l[m]]);if(g!==0)return g}return yn(c.length,l.length)})(t.mapValue,e.mapValue);default:throw St(23264,{he:n})}}function FF(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return yn(t,e);let n=Au(t),r=Au(e),i=yn(n.seconds,r.seconds);return i!==0?i:yn(n.nanos,r.nanos)}function VF(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Gf(n[i],r[i]);if(o)return o}return yn(n.length,r.length)}function Wf(t){return P2(t)}function P2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Au(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Su(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ct.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=P2(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${P2(n.fields[s])}`;return i+"}"})(t.mapValue):St(61005,{value:t})}function Ow(t){switch(Ol(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=_1(t);return e?16+Ow(e):16;case 5:return 2*t.stringValue.length;case 6:return Su(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Ow(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return jl(r.fields,(o,s)=>{i+=o.length+Ow(s)}),i})(t.mapValue);default:throw St(13486,{value:t})}}function BF(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function k2(t){return!!t&&"integerValue"in t}function mD(t){return!!t&&"arrayValue"in t}function jF(t){return!!t&&"nullValue"in t}function UF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lw(t){return!!t&&"mapValue"in t}function q4(t){return(t?.mapValue?.fields||{})[pD]?.stringValue===gD}function Bm(t){if(t.geoPointValue)return{geoPointValue:Oe({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Oe({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return jl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bm(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bm(t.arrayValue.values[n]);return e}return Oe({},t)}function z4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===U4}var cTe={mapValue:{fields:{[pD]:{stringValue:gD},[Hf]:{arrayValue:{}}}}};var es=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lw(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bm(n)}setAll(e){let n=Ds.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Bm(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Lw(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){jl(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Bm(this.value))}};function $4(t){let e=[];return jl(t.fields,(n,r)=>{let i=new Ds([n]);if(Lw(r)){let o=$4(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new ha(e)}var Ns=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,zt.min(),zt.min(),zt.min(),es.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,zt.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,zt.min(),zt.min(),es.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,zt.min(),zt.min(),es.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Kf=class{constructor(e,n){this.position=e,this.inclusive=n}};function qF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Ct.comparator(Ct.fromName(s.referenceValue),n.key):r=Gf(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zF(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xc(t.position[n],e.position[n]))return!1;return!0}var eh=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function mZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Hw=class{},si=class t extends Hw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new O2(e,n,r):n==="array-contains"?new V2(e,r):n==="in"?new B2(e,r):n==="not-in"?new j2(e,r):n==="array-contains-any"?new U2(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new L2(e,r):new F2(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Gf(n,this.value)):n!==null&&Ol(this.value)===Ol(n)&&this.matchesComparison(Gf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ka=class t extends Hw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new t(e,n)}matches(e){return H4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function H4(t){return t.op==="and"}function G4(t){return yZ(t)&&H4(t)}function yZ(t){for(let e of t.filters)if(e instanceof Ka)return!1;return!0}function M2(t){if(t instanceof si)return t.field.canonicalString()+t.op.toString()+Wf(t.value);if(G4(t))return t.filters.map(e=>M2(e)).join(",");{let e=t.filters.map(n=>M2(n)).join(",");return`${t.op}(${e})`}}function W4(t,e){return t instanceof si?(function(r,i){return i instanceof si&&r.op===i.op&&r.field.isEqual(i.field)&&xc(r.value,i.value)})(t,e):t instanceof Ka?(function(r,i){return i instanceof Ka&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&W4(s,i.filters[a]),!0):!1})(t,e):void St(19439)}function K4(t){return t instanceof si?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wf(n.value)}`})(t):t instanceof Ka?(function(n){return n.op.toString()+" {"+n.getFilters().map(K4).join(" ,")+"}"})(t):"Filter"}var O2=class extends si{constructor(e,n,r){super(e,n,r),this.key=Ct.fromName(r.referenceValue)}matches(e){let n=Ct.comparator(e.key,this.key);return this.matchesComparison(n)}},L2=class extends si{constructor(e,n){super(e,"in",n),this.keys=Q4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},F2=class extends si{constructor(e,n){super(e,"not-in",n),this.keys=Q4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Q4(t,e){return(e.arrayValue?.values||[]).map(n=>Ct.fromName(n.referenceValue))}var V2=class extends si{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return mD(n)&&Km(n.arrayValue,this.value)}},B2=class extends si{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Km(this.value.arrayValue,n)}},j2=class extends si{constructor(e,n){super(e,"not-in",n)}matches(e){if(Km(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Km(this.value.arrayValue,n)}},U2=class extends si{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!mD(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Km(this.value.arrayValue,r))}};var q2=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function $F(t,e=null,n=[],r=[],i=null,o=null,s=null){return new q2(t,e,n,r,i,o,s)}function yD(t){let e=Gt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>M2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),iy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wf(r)).join(",")),e.Te=n}return e.Te}function vD(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!W4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zF(t.startAt,e.startAt)&&zF(t.endAt,e.endAt)}function z2(t){return Ct.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ll=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function vZ(t,e,n,r,i,o,s,a){return new Ll(t,e,n,r,i,o,s,a)}function w1(t){return new Ll(t)}function HF(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Y4(t){return t.collectionGroup!==null}function jm(t){let e=Gt(t);if(e.Ie===null){e.Ie=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ki(Ds.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new eh(o,r))}),n.has(Ds.keyField().canonicalString())||e.Ie.push(new eh(Ds.keyField(),r))}return e.Ie}function Dc(t){let e=Gt(t);return e.Ee||(e.Ee=_Z(e,jm(t))),e.Ee}function _Z(t,e){if(t.limitType==="F")return $F(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new eh(i.field,o)});let n=t.endAt?new Kf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kf(t.startAt.position,t.startAt.inclusive):null;return $F(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $2(t,e){let n=t.filters.concat([e]);return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function H2(t,e,n){return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function b1(t,e){return vD(Dc(t),Dc(e))&&t.limitType===e.limitType}function J4(t){return`${yD(Dc(t))}|lt:${t.limitType}`}function Ff(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>K4(i)).join(", ")}]`),iy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wf(i)).join(",")),`Target(${r})`})(Dc(t))}; limitType=${t.limitType})`}function E1(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ct.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of jm(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let u=qF(s,a,c);return s.inclusive?u<=0:u<0})(r.startAt,jm(r),i)||r.endAt&&!(function(s,a,c){let u=qF(s,a,c);return s.inclusive?u>=0:u>0})(r.endAt,jm(r),i))})(t,e)}function wZ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Z4(t){return(e,n)=>{let r=!1;for(let i of jm(t)){let o=bZ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function bZ(t,e,n){let r=t.field.isKeyField()?Ct.comparator(e.key,n.key):(function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Gf(c,u):St(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:t.dir})}}var Cu=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jl(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return L4(this.inner)}size(){return this.innerSize}};var EZ=new Pr(Ct.comparator);function Du(){return EZ}var X4=new Pr(Ct.comparator);function Fm(...t){let e=X4;for(let n of t)e=e.insert(n.key,n);return e}function e3(t){let e=X4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qd(){return Um()}function t3(){return Um()}function Um(){return new Cu(t=>t.toString(),(t,e)=>t.isEqual(e))}var IZ=new Pr(Ct.comparator),TZ=new ki(Ct.comparator);function vn(...t){let e=TZ;for(let n of t)e=e.add(n);return e}var AZ=new ki(yn);function SZ(){return AZ}function _D(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gm(e)?"-0":e}}function n3(t){return{integerValue:""+t}}function CZ(t,e){return nZ(e)?n3(e):_D(t,e)}var Qf=class{constructor(){this._=void 0}};function DZ(t,e,n){return t instanceof th?(function(i,o){let s={fields:{[V4]:{stringValue:F4},[j4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fD(o)&&(o=_1(o)),o&&(s.fields[B4]=o),{mapValue:s}})(n,e):t instanceof nh?i3(t,e):t instanceof rh?o3(t,e):(function(i,o){let s=r3(i,o),a=GF(s)+GF(i.Ae);return k2(s)&&k2(i.Ae)?n3(a):_D(i.serializer,a)})(t,e)}function xZ(t,e,n){return t instanceof nh?i3(t,e):t instanceof rh?o3(t,e):n}function r3(t,e){return t instanceof Yf?(function(r){return k2(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var th=class extends Qf{},nh=class extends Qf{constructor(e){super(),this.elements=e}};function i3(t,e){let n=s3(e);for(let r of t.elements)n.some(i=>xc(i,r))||n.push(r);return{arrayValue:{values:n}}}var rh=class extends Qf{constructor(e){super(),this.elements=e}};function o3(t,e){let n=s3(e);for(let r of t.elements)n=n.filter(i=>!xc(i,r));return{arrayValue:{values:n}}}var Yf=class extends Qf{constructor(e,n){super(),this.serializer=e,this.Ae=n}};function GF(t){return Ir(t.integerValue||t.doubleValue)}function s3(t){return mD(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var G2=class{constructor(e,n){this.field=e,this.transform=n}};function NZ(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof nh&&i instanceof nh||r instanceof rh&&i instanceof rh?$f(r.elements,i.elements,xc):r instanceof Yf&&i instanceof Yf?xc(r.Ae,i.Ae):r instanceof th&&i instanceof th})(t.transform,e.transform)}var W2=class{constructor(e,n){this.version=e,this.transformResults=n}},Lo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Fw(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Jf=class{};function a3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zf(t.key,Lo.none()):new ih(t.key,t.data,Lo.none());{let n=t.data,r=es.empty(),i=new ki(Ds.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Nc(t.key,r,new ha(i.toArray()),Lo.none())}}function RZ(t,e,n){t instanceof ih?(function(i,o,s){let a=i.value.clone(),c=KF(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Nc?(function(i,o,s){if(!Fw(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=KF(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(c3(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function qm(t,e,n,r){return t instanceof ih?(function(o,s,a,c){if(!Fw(o.precondition,s))return a;let u=o.value.clone(),l=QF(o.fieldTransforms,c,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof Nc?(function(o,s,a,c){if(!Fw(o.precondition,s))return a;let u=QF(o.fieldTransforms,c,s),l=s.data;return l.setAll(c3(o)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))})(t,e,n,r):(function(o,s,a){return Fw(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function PZ(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=r3(r.transform,i||null);o!=null&&(n===null&&(n=es.empty()),n.set(r.field,o))}return n||null}function WF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$f(r,i,(o,s)=>NZ(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ih=class extends Jf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Nc=class extends Jf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function c3(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function KF(t,e,n){let r=new Map;xn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,xZ(s,a,n[i]))}return r}function QF(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,DZ(o,s,e))}return r}var Zf=class extends Jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Gw=class extends Jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var K2=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&RZ(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=qm(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=qm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=t3();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=a3(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(zt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),vn())}isEqual(e){return this.batchId===e.batchId&&$f(this.mutations,e.mutations,(n,r)=>WF(n,r))&&$f(this.baseMutations,e.baseMutations,(n,r)=>WF(n,r))}},Q2=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return IZ})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Y2=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var J2=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ii,Dn;function u3(t){switch(t){case Re.OK:return St(64938);case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0;default:return St(15467,{code:t})}}function l3(t){if(t===void 0)return Tu("GRPC error has no .code"),Re.UNKNOWN;switch(t){case ii.OK:return Re.OK;case ii.CANCELLED:return Re.CANCELLED;case ii.UNKNOWN:return Re.UNKNOWN;case ii.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case ii.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case ii.INTERNAL:return Re.INTERNAL;case ii.UNAVAILABLE:return Re.UNAVAILABLE;case ii.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case ii.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case ii.NOT_FOUND:return Re.NOT_FOUND;case ii.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case ii.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case ii.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case ii.ABORTED:return Re.ABORTED;case ii.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case ii.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case ii.DATA_LOSS:return Re.DATA_LOSS;default:return St(39323,{code:t})}}(Dn=ii||(ii={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";var kZ=null;function MZ(){return new TextEncoder}var OZ=new bu([4294967295,4294967295],0);function YF(t){let e=MZ().encode(t),n=new h2;return n.update(e),new Uint8Array(n.digest())}function JF(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bu([n,r],0),new bu([i,o],0)]}var Z2=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yd(`Invalid padding: ${n}`);if(r<0)throw new Yd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=bu.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(bu.fromNumber(r)));return i.compare(OZ)===1&&(i=new bu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let n=YF(e),[r,i]=JF(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let n=YF(e),[r,i]=JF(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Yd=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ww=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Qm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(zt.min(),i,new Pr(yn),Du(),vn())}},Qm=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,vn(),vn(),vn())}};var Uf=class{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}},Kw=class{constructor(e,n){this.targetId=e,this.Ce=n}},Qw=class{constructor(e,n,r=lo.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Yw=class{constructor(){this.ve=0,this.Fe=ZF(),this.Me=lo.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=vn(),n=vn(),r=vn();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:St(38017,{changeType:o})}}),new Qm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ZF()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},X2=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Du(),this.Je=kw(),this.He=kw(),this.Ye=new Pr(yn)}Ze(e){for(let n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(let n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{let r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:St(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){let n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){let o=i.target;if(z2(o))if(r===0){let s=new Ct(o.path);this.et(n,s,Ns.newNoDocument(s,zt.min()))}else xn(r===1,20013,{expectedCount:r});else{let s=this._t(n);if(s!==r){let a=this.ut(e),c=a?this.ct(a,e,s):1;if(c!==0){this.it(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}kZ?.lt((function(l,m,y,g,R){let k={localCacheCount:l,existenceFilterCount:m.count,databaseId:y.database,projectId:y.projectId},M=m.unchangedNames;return M&&(k.bloomFilter={applied:R===0,hashCount:M?.hashCount??0,bitmapLength:M?.bits?.bitmap?.length??0,padding:M?.bits?.padding??0,mightContain:L=>g?.mightContain(L)??!1}),k})(s,e.Ce,this.Ge.ht(),a,c))}}}}ut(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Su(r).toUint8Array()}catch(c){if(c instanceof qw)return zf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Z2(s,i,o)}catch(c){return zf(c instanceof Yd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){let r=this.Ge.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){let n=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&z2(a.target)){let c=new Ct(a.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Ns.newNoDocument(c,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=vn();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new Ww(e,n,this.Ye,this.je,r);return this.je=Du(),this.Je=kw(),this.He=kw(),this.Ye=new Pr(yn),i}Xe(e,n){if(!this.rt(e))return;let r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){let n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Yw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ki(yn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ki(yn),this.Je=this.Je.insert(e,n)),n}rt(e){let n=this.ot(e)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){let n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}};function kw(){return new Pr(Ct.comparator)}function ZF(){return new Pr(Ct.comparator)}var LZ={asc:"ASCENDING",desc:"DESCENDING"},FZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VZ={and:"AND",or:"OR"},eC=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function tC(t,e){return t.useProto3Json||iy(e)?e:{value:e}}function Jw(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BZ(t,e){return Jw(t,e.toTimestamp())}function xs(t){return xn(!!t,49232),zt.fromTimestamp((function(n){let r=Au(n);return new ci(r.seconds,r.nanos)})(t))}function wD(t,e){return nC(t,e).canonicalString()}function nC(t,e){let n=(function(i){return new gr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function h3(t){let e=gr.fromString(t);return xn(v3(e),10190,{key:e.toString()}),e}function Zw(t,e){return wD(t.databaseId,e.path)}function zm(t,e){let n=h3(e);if(n.get(1)!==t.databaseId.projectId)throw new We(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new We(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ct(p3(n))}function f3(t,e){return wD(t.databaseId,e)}function jZ(t){let e=h3(t);return e.length===4?gr.emptyPath():p3(e)}function rC(t){return new gr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function p3(t){return xn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XF(t,e,n){return{name:Zw(t,e),fields:n.value.mapValue.fields}}function UZ(t,e){return"found"in e?(function(r,i){xn(!!i.found,43571),i.found.name,i.found.updateTime;let o=zm(r,i.found.name),s=xs(i.found.updateTime),a=i.found.createTime?xs(i.found.createTime):zt.min(),c=new es({mapValue:{fields:i.found.fields}});return Ns.newFoundDocument(o,s,a,c)})(t,e):"missing"in e?(function(r,i){xn(!!i.missing,3894),xn(!!i.readTime,22933);let o=zm(r,i.missing),s=xs(i.readTime);return Ns.newNoDocument(o,s)})(t,e):St(7234,{result:e})}function qZ(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:St(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(u,l){return u.useProto3Json?(xn(l===void 0||typeof l=="string",58123),lo.fromBase64String(l||"")):(xn(l===void 0||l instanceof Buffer||l instanceof Uint8Array,16193),lo.fromUint8Array(l||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(u){let l=u.code===void 0?Re.UNKNOWN:l3(u.code);return new We(l,u.message||"")})(s);n=new Qw(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=zm(t,r.document.name),o=xs(r.document.updateTime),s=r.document.createTime?xs(r.document.createTime):zt.min(),a=new es({mapValue:{fields:r.document.fields}}),c=Ns.newFoundDocument(i,o,s,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Uf(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=zm(t,r.document),o=r.readTime?xs(r.readTime):zt.min(),s=Ns.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Uf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=zm(t,r.document),o=r.removedTargetIds||[];n=new Uf([],o,i,null)}else{if(!("filter"in e))return St(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new J2(i,o),a=r.targetId;n=new Kw(a,s)}}return n}function g3(t,e){let n;if(e instanceof ih)n={update:XF(t,e.key,e.value)};else if(e instanceof Zf)n={delete:Zw(t,e.key)};else if(e instanceof Nc)n={update:XF(t,e.key,e.data),updateMask:JZ(e.fieldMask)};else{if(!(e instanceof Gw))return St(16599,{Vt:e.type});n={verify:Zw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof th)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof rh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yf)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw St(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:BZ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:St(27497)})(t,e.precondition)),n}function zZ(t,e){return t&&t.length>0?(xn(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?xs(i.updateTime):xs(o);return s.isEqual(zt.min())&&(s=xs(o)),new W2(s,i.transformResults||[])})(n,e))):[]}function $Z(t,e){return{documents:[f3(t,e.path)]}}function HZ(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=f3(t,i);let o=(function(u){if(u.length!==0)return y3(Ka.create(u,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(u){if(u.length!==0)return u.map(l=>(function(y){return{field:Vf(y.field),direction:KZ(y.dir)}})(l))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=tC(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:i}}function GZ(t){let e=jZ(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xn(r===1,65062);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=(function(m){let y=m3(m);return y instanceof Ka&&G4(y)?y.getFilters():[y]})(n.where));let s=[];n.orderBy&&(s=(function(m){return m.map(y=>(function(R){return new eh(Bf(R.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(y))})(n.orderBy));let a=null;n.limit&&(a=(function(m){let y;return y=typeof m=="object"?m.value:m,iy(y)?null:y})(n.limit));let c=null;n.startAt&&(c=(function(m){let y=!!m.before,g=m.values||[];return new Kf(g,y)})(n.startAt));let u=null;return n.endAt&&(u=(function(m){let y=!m.before,g=m.values||[];return new Kf(g,y)})(n.endAt)),vZ(e,i,s,o,a,"F",c,u)}function WZ(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function m3(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Bf(n.unaryFilter.field);return si.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Bf(n.unaryFilter.field);return si.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Bf(n.unaryFilter.field);return si.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Bf(n.unaryFilter.field);return si.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(t):t.fieldFilter!==void 0?(function(n){return si.create(Bf(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ka.create(n.compositeFilter.filters.map(r=>m3(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(n.compositeFilter.op))})(t):St(30097,{filter:t})}function KZ(t){return LZ[t]}function QZ(t){return FZ[t]}function YZ(t){return VZ[t]}function Vf(t){return{fieldPath:t.canonicalString()}}function Bf(t){return Ds.fromServerFormat(t.fieldPath)}function y3(t){return t instanceof si?(function(n){if(n.op==="=="){if(UF(n.value))return{unaryFilter:{field:Vf(n.field),op:"IS_NAN"}};if(jF(n.value))return{unaryFilter:{field:Vf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UF(n.value))return{unaryFilter:{field:Vf(n.field),op:"IS_NOT_NAN"}};if(jF(n.value))return{unaryFilter:{field:Vf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vf(n.field),op:QZ(n.op),value:n.value}}})(t):t instanceof Ka?(function(n){let r=n.getFilters().map(i=>y3(i));return r.length===1?r[0]:{compositeFilter:{op:YZ(n.op),filters:r}}})(t):St(54877,{filter:t})}function JZ(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function v3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ym=class t{constructor(e,n,r,i,o=zt.min(),s=zt.min(),a=lo.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var iC=class{constructor(e){this.yt=e}};function ZZ(t){let e=GZ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?H2(e,e.limit,"L"):e}var Xw=class{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Ir(e.integerValue));else if("doubleValue"in e){let r=Ir(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Gm(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Au(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Su(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?z4(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):q4(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):St(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){let r=e.fields||{};this.Ft(n,55);for(let i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){let r=e.fields||{};this.Ft(n,53);let i=Hf,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Ir(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){let r=e.values||[];this.Ft(n,50);for(let i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Ct.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}};Xw.Kt=new Xw;var oC=class{constructor(){this.Cn=new sC}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ue.resolve()}getCollectionParents(e,n){return Ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ue.resolve()}deleteFieldIndex(e,n){return Ue.resolve()}deleteAllFieldIndexes(e){return Ue.resolve()}createTargetIndexes(e,n){return Ue.resolve()}getDocumentsMatchingTarget(e,n){return Ue.resolve(null)}getIndexType(e,n){return Ue.resolve(0)}getFieldIndexes(e,n){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,n){return Ue.resolve(Xd.min())}getMinOffsetFromCollectionGroup(e,n){return Ue.resolve(Xd.min())}updateCollectionGroup(e,n,r){return Ue.resolve()}updateIndexEntries(e,n){return Ue.resolve()}},sC=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ki(gr.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ki(gr.comparator)).toArray()}};var uTe=new Uint8Array(0);var e4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_3=41943040,da=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};da.DEFAULT_COLLECTION_PERCENTILE=10,da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,da.DEFAULT=new da(_3,da.DEFAULT_COLLECTION_PERCENTILE,da.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),da.DISABLED=new da(-1,0,0);var Jm=class t{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new t(0)}static cr(){return new t(-1)}};var t4="LruGarbageCollector",XZ=1048576;function n4([t,e],[n,r]){let i=yn(t,n);return i===0?yn(e,r):i}var aC=class{constructor(e){this.Ir=e,this.buffer=new ki(n4),this.Er=0}dr(){return++this.Er}Ar(e){let n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();n4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},cC=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){nt(t4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sp(n)?nt(t4,"Ignoring IndexedDB error during garbage collection: ",n):await op(n)}await this.Vr(3e5)})}},uC=class{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ue.resolve(dD.ce);let r=new aC(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(e4)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e4):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,c,u,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(u=Date.now(),Lf()<=Cn.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-l}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(u-c)+`ms
Total Duration: ${u-l}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m})))}};function eX(t,e){return new uC(t,e)}var lC=class{constructor(){this.changes=new Cu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ns.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?Ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var dC=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var hC=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qm(r.mutation,i,ha.empty(),ci.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,vn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=vn()){let i=Qd();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Fm();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Qd();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,vn()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Du(),s=Um(),a=(function(){return Um()})();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Nc)?o=o.insert(u.key,u):l!==void 0?(s.set(u.key,l.mutation.getFieldMask()),qm(l.mutation,u,l.mutation.getFieldMask(),ci.now())):s.set(u.key,ha.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>a.set(u,new dC(l,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){let r=Um(),i=new Pr((s,a)=>s-a),o=vn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||ha.empty();l=a.applyToLocalView(u,l),r.set(c,l);let m=(i.get(a.batchId)||vn()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,m=t3();l.forEach(y=>{if(!o.has(y)){let g=a3(n.get(y),r.get(y));g!==null&&m.set(y,g),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,m))}return Ue.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return Ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Y4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ue.resolve(Qd()),a=Hm,c=o;return s.next(u=>Ue.forEach(u,(l,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(l)?Ue.resolve():this.remoteDocumentCache.getEntry(e,l).next(y=>{c=c.insert(l,y)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,vn())).next(l=>({batchId:a,changes:e3(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ct(n)).next(r=>{let i=Fm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Fm();return this.indexManager.getCollectionParents(e,o).next(a=>Ue.forEach(a,c=>{let u=(function(m,y){return new Ll(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{let l=u.getKey();s.get(l)===null&&(s=s.insert(l,Ns.newInvalidDocument(l)))});let a=Fm();return s.forEach((c,u)=>{let l=o.get(c);l!==void 0&&qm(l.mutation,u,ha.empty(),ci.now()),E1(n,u)&&(a=a.insert(c,u))}),a})}};var fC=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:xs(i.createTime)}})(n)),Ue.resolve()}getNamedQuery(e,n){return Ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:ZZ(i.bundledQuery),readTime:xs(i.readTime)}})(n)),Ue.resolve()}};var pC=class{constructor(){this.overlays=new Pr(Ct.comparator),this.qr=new Map}getOverlay(e,n){return Ue.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Qd();return Ue.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),Ue.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),Ue.resolve()}getOverlaysForCollection(e,n,r){let i=Qd(),o=n.length+1,s=new Ct(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pr((u,l)=>u-l),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);l===null&&(l=Qd(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Qd(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return Ue.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Y2(n,r));let o=this.qr.get(n);o===void 0&&(o=vn(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}};var gC=class{constructor(){this.sessionToken=lo.EMPTY_BYTE_STRING}getSessionToken(e){return Ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ue.resolve()}};var Zm=class{constructor(){this.Qr=new ki(oi.$r),this.Ur=new ki(oi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){let r=new oi(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new oi(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){let n=new Ct(new gr([])),r=new oi(n,e),i=new oi(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let n=new Ct(new gr([])),r=new oi(n,e),i=new oi(n,e+1),o=vn();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new oi(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},oi=class{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ct.comparator(e.key,n.key)||yn(e.Yr,n.Yr)}static Kr(e,n){return yn(e.Yr,n.Yr)||Ct.comparator(e.key,n.key)}};var mC=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ki(oi.$r)}checkEmpty(e){return Ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new K2(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Zr=this.Zr.add(new oi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ue.resolve(s)}lookupMutationBatch(e,n){return Ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ei(r),o=i<0?0:i;return Ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(this.mutationQueue.length===0?hD:this.tr-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new oi(n,0),i=new oi(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let a=this.Xr(s.Yr);o.push(a)}),Ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ki(yn);return n.forEach(i=>{let o=new oi(i,0),s=new oi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),Ue.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;Ct.isDocumentKey(o)||(o=o.child(""));let s=new oi(new Ct(o),0),a=new ki(yn);return this.Zr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)},s),Ue.resolve(this.ti(a))}ti(e){let n=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ue.forEach(n.mutations,i=>{let o=new oi(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){let r=new oi(n,0),i=this.Zr.firstAfterOrEqual(r);return Ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var yC=class{constructor(e){this.ri=e,this.docs=(function(){return new Pr(Ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return Ue.resolve(r?r.document.mutableCopy():Ns.newInvalidDocument(n))}getEntries(e,n){let r=Du();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ns.newInvalidDocument(i))}),Ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Du(),s=n.path,a=new Ct(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||XJ(ZJ(l),r)<=0||(i.has(l.key)||E1(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return Ue.resolve(o)}getAllFromCollectionGroup(e,n,r,i){St(9500)}ii(e,n){return Ue.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vC(this)}getSize(e){return Ue.resolve(this.size)}},vC=class extends lC{constructor(e){super(),this.Nr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}};var _C=class{constructor(e){this.persistence=e,this.si=new Cu(n=>yD(n),vD),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=Jm.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ue.resolve()}Pr(e){this.si.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ai=new Jm(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ue.resolve()}updateTargetData(e,n){return this.Pr(n),Ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ue.waitFor(o).next(()=>i)}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,n){let r=this.si.get(n)||null;return Ue.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ue.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Ue.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ue.resolve()}getMatchingKeysForTargetId(e,n){let r=this._i.Hr(n);return Ue.resolve(r)}containsKey(e,n){return Ue.resolve(this._i.containsKey(n))}};var e1=class{constructor(e,n){this.ui={},this.overlays={},this.ci=new dD(0),this.li=!1,this.li=!0,this.hi=new gC,this.referenceDelegate=e(this),this.Pi=new _C(this),this.indexManager=new oC,this.remoteDocumentCache=(function(i){return new yC(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new iC(n),this.Ii=new fC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new mC(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){nt("MemoryPersistence","Starting transaction:",e);let i=new wC(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return Ue.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}},wC=class extends N2{constructor(e){super(),this.currentSequenceNumber=e}},bC=class t{constructor(e){this.persistence=e,this.Ri=new Zm,this.Vi=null}static mi(e){return new t(e)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ue.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.fi,r=>{let i=Ct.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,zt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Ue.or([()=>Ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}},t1=class t{constructor(e,n){this.persistence=e,this.pi=new Cu(r=>rZ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=eX(this,n)}static mi(e,n){return new t(e,n)}Ei(){}di(e){return Ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){let n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Ue.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?Ue.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,zt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ue.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ow(e.data.value)),n}br(e,n,r){return Ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.pi.get(n);return Ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var EC=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=vn(),i=vn();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var IC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var TC=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eF()?8:tZ(XL())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new IC;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Lf()<=Cn.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ff(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ue.resolve()):(Lf()<=Cn.DEBUG&&nt("QueryEngine","Query:",Ff(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Lf()<=Cn.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ff(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dc(n))):Ue.resolve())}ys(e,n){if(HF(n))return Ue.resolve(null);let r=Dc(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=H2(n,null,"F"),r=Dc(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=vn(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Ds(n,a);return this.Cs(n,u,s,c.readTime)?this.ys(e,H2(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,i){return HF(n)||i.isEqual(zt.min())?Ue.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(n,o);return this.Cs(n,s,r,i)?Ue.resolve(null):(Lf()<=Cn.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ff(n)),this.vs(e,s,n,JJ(i,Hm)).next(a=>a))})}Ds(e,n){let r=new ki(Z4(e));return n.forEach((i,o)=>{E1(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Lf()<=Cn.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ff(n)),this.ps.getDocumentsMatchingQuery(e,n,Xd.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var bD="LocalStore",tX=3e8,AC=class{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Pr(yn),this.xs=new Cu(o=>yD(o),vD),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}};function nX(t,e,n,r){return new AC(t,e,n,r)}async function w3(t,e){let n=Gt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=vn();for(let u of i){s.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of o){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function rX(t,e){let n=Gt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,c,u,l){let m=u.batch,y=m.keys(),g=Ue.resolve();return y.forEach(R=>{g=g.next(()=>l.getEntry(c,R)).next(k=>{let M=u.docVersions.get(R);xn(M!==null,48541),k.version.compareTo(M)<0&&(m.applyToRemoteDocument(k,u),k.isValidDocument()&&(k.setReadTime(u.commitVersion),l.addEntry(k)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,m))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=vn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function b3(t){let e=Gt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function iX(t,e){let n=Gt(t),r=e.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let a=[];e.targetChanges.forEach((l,m)=>{let y=i.get(m);if(!y)return;a.push(n.Pi.removeMatchingKeys(o,l.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(o,l.addedDocuments,m)));let g=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(lo.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):l.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(l.resumeToken,r)),i=i.insert(m,g),(function(k,M,L){return k.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=tX?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(y,g,l)&&a.push(n.Pi.updateTargetData(o,g))});let c=Du(),u=vn();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(oX(o,s,e.documentUpdates).next(l=>{c=l.ks,u=l.qs})),!r.isEqual(zt.min())){let l=n.Pi.getLastRemoteSnapshotVersion(o).next(m=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return Ue.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ms=i,o))}function oX(t,e,n){let r=vn(),i=vn();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Du();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(zt.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):nt(bD,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:s,qs:i}})}function sX(t,e){let n=Gt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hD),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aX(t,e){let n=Gt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,Ue.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Ym(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function SC(t,e,n){let r=Gt(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!sp(s))throw s;nt(bD,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function r4(t,e,n){let r=Gt(t),i=zt.min(),o=vn();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,u,l){let m=Gt(c),y=m.xs.get(l);return y!==void 0?Ue.resolve(m.Ms.get(y)):m.Pi.getTargetData(u,l)})(r,s,Dc(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:zt.min(),n?o:vn())).next(a=>(cX(r,wZ(e),a),{documents:a,Qs:o})))}function cX(t,e,n){let r=t.Os.get(e)||zt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}var n1=class{constructor(){this.activeTargetIds=SZ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var CC=class{constructor(){this.Mo=new n1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new n1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var DC=class{Oo(e){}shutdown(){}};var i4="ConnectivityMonitor",r1=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(i4,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){nt(i4,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Mw=null;function xC(){return Mw===null?Mw=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mw++,"0x"+Mw.toString(16)}var _2="RestConnection",uX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},NC=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===zw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){let s=xC(),a=this.zo(e,n.toUriEncodedString());nt(_2,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,o);let{host:u}=new URL(a),l=Pf(u);return this.Jo(e,a,c,r,l).then(m=>(nt(_2,`Received RPC '${e}' ${s}: `,m),m),m=>{throw zf(_2,`RPC '${e}' ${s} failed with error: `,m,"url: ",a,"request:",r),m})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ip})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){let r=uX[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}};var RC=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var uo="WebChannelConnection",PC=class extends NC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=xC();return new Promise((a,c)=>{let u=new f2;u.setWithCredentials(!0),u.listenOnce(p2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Lm.NO_ERROR:let m=u.getResponseJson();nt(uo,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),a(m);break;case Lm.TIMEOUT:nt(uo,`RPC '${e}' ${s} timed out`),c(new We(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Lm.HTTP_ERROR:let y=u.getStatus();if(nt(uo,`RPC '${e}' ${s} failed with status:`,y,"response text:",u.getResponseText()),y>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let R=g?.error;if(R&&R.status&&R.message){let k=(function(L){let Z=L.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(Z)>=0?Z:Re.UNKNOWN})(R.status);c(new We(k,R.message))}else c(new We(Re.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new We(Re.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{nt(uo,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);nt(uo,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}T_(e,n,r){let i=xC(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=y2(),a=m2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=o.join("");nt(uo,`Creating RPC '${e}' stream ${i}: ${l}`,c);let m=s.createWebChannel(l,c);this.I_(m);let y=!1,g=!1,R=new RC({Yo:M=>{g?nt(uo,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(y||(nt(uo,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),nt(uo,`RPC '${e}' stream ${i} sending:`,M),m.send(M))},Zo:()=>m.close()}),k=(M,L,Z)=>{M.listen(L,J=>{try{Z(J)}catch(Y){setTimeout(()=>{throw Y},0)}})};return k(m,Of.EventType.OPEN,()=>{g||(nt(uo,`RPC '${e}' stream ${i} transport opened.`),R.o_())}),k(m,Of.EventType.CLOSE,()=>{g||(g=!0,nt(uo,`RPC '${e}' stream ${i} transport closed`),R.a_(),this.E_(m))}),k(m,Of.EventType.ERROR,M=>{g||(g=!0,zf(uo,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),R.a_(new We(Re.UNAVAILABLE,"The operation could not be completed")))}),k(m,Of.EventType.MESSAGE,M=>{if(!g){let L=M.data[0];xn(!!L,16349);let Z=L,J=Z?.error||Z[0]?.error;if(J){nt(uo,`RPC '${e}' stream ${i} received error:`,J);let Y=J.status,fe=(function(T){let w=ii[T];if(w!==void 0)return l3(w)})(Y),be=J.message;fe===void 0&&(fe=Re.INTERNAL,be="Unknown error status: "+Y+" with message "+J.message),g=!0,R.a_(new We(fe,be)),m.close()}else nt(uo,`RPC '${e}' stream ${i} received:`,L),R.u_(L)}}),k(a,g2.STAT_EVENT,M=>{M.stat===Rw.PROXY?nt(uo,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Rw.NOPROXY&&nt(uo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.__()},0),R}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}};function w2(){return typeof document<"u"?document:null}function I1(t){return new eC(t,!0)}var Xm=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&nt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var o4="PersistentStream",i1=class{constructor(e,n,r,i,o,s,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xm(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Re.RESOURCE_EXHAUSTED?(Tu(n.toString()),Tu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{let i=new We(Re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){let r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return nt(o4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(nt(o4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},kC=class extends i1{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let n=qZ(this.serializer,e),r=(function(o){if(!("targetChange"in o))return zt.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?zt.min():s.readTime?xs(s.readTime):zt.min()})(e);return this.listener.H_(n,r)}Y_(e){let n={};n.database=rC(this.serializer),n.addTarget=(function(o,s){let a,c=s.target;if(a=z2(c)?{documents:$Z(o,c)}:{query:HZ(o,c).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=d3(o,s.resumeToken);let u=tC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(zt.min())>0){a.readTime=Jw(o,s.snapshotVersion.toTimestamp());let u=tC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);let r=WZ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){let n={};n.database=rC(this.serializer),n.removeTarget=e,this.q_(n)}},MC=class extends i1{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=zZ(e.writeResults,e.commitTime),r=xs(e.commitTime);return this.listener.na(r,n)}ra(){let e={};e.database=rC(this.serializer),this.q_(e)}ea(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>g3(this.serializer,r))};this.q_(n)}};var OC=class{},LC=class extends OC{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new We(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,nC(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new We(Re.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,nC(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new We(Re.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},FC=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tu(n),this.aa=!1):nt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var oh="RemoteStore",VC=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{ah(this)&&(nt(oh,"Restarting streams for network reachability change."),await(async function(c){let u=Gt(c);u.Ea.add(4),await oy(u),u.Ra.set("Unknown"),u.Ea.delete(4),await T1(u)})(this))})}),this.Ra=new FC(r,i)}};async function T1(t){if(ah(t))for(let e of t.da)await e(!0)}async function oy(t){for(let e of t.da)await e(!1)}function E3(t,e){let n=Gt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),AD(n)?TD(n):ap(n).O_()&&ID(n,e))}function ED(t,e){let n=Gt(t),r=ap(n);n.Ia.delete(e),r.O_()&&I3(n,e),n.Ia.size===0&&(r.O_()?r.L_():ah(n)&&n.Ra.set("Unknown"))}function ID(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(zt.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ap(t).Y_(e)}function I3(t,e){t.Va.Ue(e),ap(t).Z_(e)}function TD(t){t.Va=new X2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ap(t).start(),t.Ra.ua()}function AD(t){return ah(t)&&!ap(t).x_()&&t.Ia.size>0}function ah(t){return Gt(t).Ea.size===0}function T3(t){t.Va=void 0}async function lX(t){t.Ra.set("Online")}async function dX(t){t.Ia.forEach((e,n)=>{ID(t,e)})}async function hX(t,e){T3(t),AD(t)?(t.Ra.ha(e),TD(t)):t.Ra.set("Unknown")}async function fX(t,e,n){if(t.Ra.set("Online"),e instanceof Qw&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(r){nt(oh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await o1(t,r)}else if(e instanceof Uf?t.Va.Ze(e):e instanceof Kw?t.Va.st(e):t.Va.tt(e),!n.isEqual(zt.min()))try{let r=await b3(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Va.Tt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=o.Ia.get(u);l&&o.Ia.set(u,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let l=o.Ia.get(c);if(!l)return;o.Ia.set(c,l.withResumeToken(lo.EMPTY_BYTE_STRING,l.snapshotVersion)),I3(o,c);let m=new Ym(l.target,c,u,l.sequenceNumber);ID(o,m)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){nt(oh,"Failed to raise snapshot:",r),await o1(t,r)}}async function o1(t,e,n){if(!sp(e))throw e;t.Ea.add(1),await oy(t),t.Ra.set("Offline"),n||(n=()=>b3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{nt(oh,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await T1(t)})}function A3(t,e){return e().catch(n=>o1(t,n,e))}async function A1(t){let e=Gt(t),n=Fl(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hD;for(;pX(e);)try{let i=await sX(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,gX(e,i)}catch(i){await o1(e,i)}S3(e)&&C3(e)}function pX(t){return ah(t)&&t.Ta.length<10}function gX(t,e){t.Ta.push(e);let n=Fl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function S3(t){return ah(t)&&!Fl(t).x_()&&t.Ta.length>0}function C3(t){Fl(t).start()}async function mX(t){Fl(t).ra()}async function yX(t){let e=Fl(t);for(let n of t.Ta)e.ea(n.mutations)}async function vX(t,e,n){let r=t.Ta.shift(),i=Q2.from(r,e,n);await A3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await A1(t)}async function _X(t,e){e&&Fl(t).X_&&await(async function(r,i){if((function(s){return u3(s)&&s!==Re.ABORTED})(i.code)){let o=r.Ta.shift();Fl(r).B_(),await A3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await A1(r)}})(t,e),S3(t)&&C3(t)}async function s4(t,e){let n=Gt(t);n.asyncQueue.verifyOperationInProgress(),nt(oh,"RemoteStore received new credentials");let r=ah(n);n.Ea.add(3),await oy(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await T1(n)}async function wX(t,e){let n=Gt(t);e?(n.Ea.delete(2),await T1(n)):e||(n.Ea.add(2),await oy(n),n.Ra.set("Unknown"))}function ap(t){return t.ma||(t.ma=(function(n,r,i){let o=Gt(n);return o.sa(),new kC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:lX.bind(null,t),t_:dX.bind(null,t),r_:hX.bind(null,t),H_:fX.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),AD(t)?TD(t):t.Ra.set("Unknown")):(await t.ma.stop(),T3(t))})),t.ma}function Fl(t){return t.fa||(t.fa=(function(n,r,i){let o=Gt(n);return o.sa(),new MC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:mX.bind(null,t),r_:_X.bind(null,t),ta:yX.bind(null,t),na:vX.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await A1(t)):(await t.fa.stop(),t.Ta.length>0&&(nt(oh,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}var BC=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function SD(t,e){if(Tu("AsyncQueue",`${e}: ${t}`),sp(t))return new We(Re.UNAVAILABLE,`${e}: ${t}`);throw t}var s1=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ct.comparator(n.key,r.key):(n,r)=>Ct.comparator(n.key,r.key),this.keyedMap=Fm(),this.sortedSet=new Pr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var a1=class{constructor(){this.ga=new Pr(Ct.comparator)}track(e){let n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):St(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){let e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}},Xf=class t{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,s1.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&b1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var jC=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},UC=class{constructor(){this.queries=a4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=Gt(n),o=i.queries;i.queries=a4(),o.forEach((s,a)=>{for(let c of a.Sa)c.onError(r)})})(this,new We(Re.ABORTED,"Firestore shutting down"))}};function a4(){return new Cu(t=>J4(t),b1)}async function CD(t,e){let n=Gt(t),r=3,i=e.query,o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new jC,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=SD(s,`Initialization of query '${Ff(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&xD(n)}async function DD(t,e){let n=Gt(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bX(t,e){let n=Gt(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&xD(n)}function EX(t,e,n){let r=Gt(t),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(n);r.queries.delete(e)}function xD(t){t.Ca.forEach(e=>{e.next()})}var qC,c4;(c4=qC||(qC={})).Ma="default",c4.Cache="cache";var ey=class{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Xf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;let r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qC.Cache}};var c1=class{constructor(e){this.key=e}},u1=class{constructor(e){this.key=e}},zC=class{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=vn(),this.mutatedKeys=vn(),this.eu=Z4(e),this.tu=new s1(this.eu)}get nu(){return this.Ya}ru(e,n){let r=n?n.iu:new a1,i=n?n.tu:this.tu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,m)=>{let y=i.get(l),g=E1(this.query,m)?m:null,R=!!y&&this.mutatedKeys.has(y.key),k=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),M=!1;y&&g?y.data.isEqual(g.data)?R!==k&&(r.track({type:3,doc:g}),M=!0):this.su(y,g)||(r.track({type:2,doc:g}),M=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(a=!0)):!y&&g?(r.track({type:0,doc:g}),M=!0):y&&!g&&(r.track({type:1,doc:y}),M=!0,(c||u)&&(a=!0)),M&&(g?(s=s.add(g),o=k?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((l,m)=>(function(g,R){let k=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:M})}};return k(g)-k(R)})(l.type,m.type)||this.eu(l.doc,m.doc)),this.ou(r),i=i??!1;let a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,s.length!==0||u?{snapshot:new Xf(this.query,e.tu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=vn(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new u1(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new c1(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=vn();let n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},ND="SyncEngine",$C=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},HC=class{constructor(e){this.key=e,this.hu=!1}},GC=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Cu(a=>J4(a),b1),this.Iu=new Map,this.Eu=new Set,this.du=new Pr(Ct.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=Jm.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function IX(t,e,n=!0){let r=k3(t),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await D3(r,e,n,!0),i}async function TX(t,e){let n=k3(t);await D3(n,e,!0,!1)}async function D3(t,e,n,r){let i=await aX(t.localStore,Dc(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await AX(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&E3(t.remoteStore,i),a}async function AX(t,e,n,r,i){t.pu=(m,y,g)=>(async function(k,M,L,Z){let J=M.view.ru(L);J.Cs&&(J=await r4(k.localStore,M.query,!1).then(({documents:P})=>M.view.ru(P,J)));let Y=Z&&Z.targetChanges.get(M.targetId),fe=Z&&Z.targetMismatches.get(M.targetId)!=null,be=M.view.applyChanges(J,k.isPrimaryClient,Y,fe);return l4(k,M.targetId,be.au),be.snapshot})(t,m,y,g);let o=await r4(t.localStore,e,!0),s=new zC(e,o.Qs),a=s.ru(o.documents),c=Qm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);l4(t,n,u.au);let l=new $C(e,n,s);return t.Tu.set(e,l),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function SX(t,e,n){let r=Gt(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!b1(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await SC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ED(r.remoteStore,i.targetId),WC(r,i.targetId)}).catch(op)):(WC(r,i.targetId),await SC(r.localStore,i.targetId,!0))}async function CX(t,e){let n=Gt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ED(n.remoteStore,r.targetId))}async function DX(t,e,n){let r=OX(t);try{let i=await(function(s,a){let c=Gt(s),u=ci.now(),l=a.reduce((g,R)=>g.add(R.key),vn()),m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let R=Du(),k=vn();return c.Ns.getEntries(g,l).next(M=>{R=M,R.forEach((L,Z)=>{Z.isValidDocument()||(k=k.add(L))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,R)).next(M=>{m=M;let L=[];for(let Z of a){let J=PZ(Z,m.get(Z.key).overlayedDocument);J!=null&&L.push(new Nc(Z.key,J,$4(J.value.mapValue),Lo.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,L,a)}).next(M=>{y=M;let L=M.applyToLocalDocumentSet(m,k);return c.documentOverlayCache.saveOverlays(g,M.batchId,L)})}).then(()=>({batchId:y.batchId,changes:e3(m)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let u=s.Vu[s.currentUser.toKey()];u||(u=new Pr(yn)),u=u.insert(a,c),s.Vu[s.currentUser.toKey()]=u})(r,i.batchId,n),await sy(r,i.changes),await A1(r.remoteStore)}catch(i){let o=SD(i,"Failed to persist write");n.reject(o)}}async function x3(t,e){let n=Gt(t);try{let r=await iX(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Au.get(o);s&&(xn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?xn(s.hu,14607):i.removedDocuments.size>0&&(xn(s.hu,42227),s.hu=!1))}),await sy(n,r,e)}catch(r){await op(r)}}function u4(t,e,n){let r=Gt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=Gt(s);c.onlineState=a;let u=!1;c.queries.forEach((l,m)=>{for(let y of m.Sa)y.va(a)&&(u=!0)}),u&&xD(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xX(t,e,n){let r=Gt(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new Pr(Ct.comparator);s=s.insert(o,Ns.newNoDocument(o,zt.min()));let a=vn().add(o),c=new Ww(zt.min(),new Map,new Pr(yn),s,a);await x3(r,c),r.du=r.du.remove(o),r.Au.delete(e),RD(r)}else await SC(r.localStore,e,!1).then(()=>WC(r,e,n)).catch(op)}async function NX(t,e){let n=Gt(t),r=e.batch.batchId;try{let i=await rX(n.localStore,e);R3(n,r,null),N3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sy(n,i)}catch(i){await op(i)}}async function RX(t,e,n){let r=Gt(t);try{let i=await(function(s,a){let c=Gt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(m=>(xn(m!==null,37113),l=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})})(r.localStore,e);R3(r,e,n),N3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sy(r,i)}catch(i){await op(i)}}function N3(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function R3(t,e,n){let r=Gt(t),i=r.Vu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function WC(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||P3(t,r)})}function P3(t,e){t.Eu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(ED(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),RD(t))}function l4(t,e,n){for(let r of n)r instanceof c1?(t.Ru.addReference(r.key,e),PX(t,r)):r instanceof u1?(nt(ND,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||P3(t,r.key)):St(19791,{wu:r})}function PX(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(nt(ND,"New document in limbo: "+n),t.Eu.add(r),RD(t))}function RD(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Eu.values().next().value;t.Eu.delete(e);let n=new Ct(gr.fromString(e)),r=t.fu.next();t.Au.set(r,new HC(n)),t.du=t.du.insert(n,r),E3(t.remoteStore,new Ym(Dc(w1(n.path)),r,"TargetPurposeLimboResolution",dD.ce))}}async function sy(t,e,n){let r=Gt(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{s.push(r.pu(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){let l=u?!u.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,l?"current":"not-current")}if(u){i.push(u);let l=EC.As(c.targetId,u);o.push(l)}}))}),await Promise.all(s),r.Pu.H_(i),await(async function(c,u){let l=Gt(c);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Ue.forEach(u,y=>Ue.forEach(y.Es,g=>l.persistence.referenceDelegate.addReference(m,y.targetId,g)).next(()=>Ue.forEach(y.ds,g=>l.persistence.referenceDelegate.removeReference(m,y.targetId,g)))))}catch(m){if(!sp(m))throw m;nt(bD,"Failed to update sequence numbers: "+m)}for(let m of u){let y=m.targetId;if(!m.fromCache){let g=l.Ms.get(y),R=g.snapshotVersion,k=g.withLastLimboFreeSnapshotVersion(R);l.Ms=l.Ms.insert(y,k)}}})(r.localStore,o))}async function kX(t,e){let n=Gt(t);if(!n.currentUser.isEqual(e)){nt(ND,"User change. New user:",e.toKey());let r=await w3(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(c=>{c.reject(new We(Re.CANCELLED,s))})}),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sy(n,r.Ls)}}function MX(t,e){let n=Gt(t),r=n.Au.get(e);if(r&&r.hu)return vn().add(r.key);{let i=vn(),o=n.Iu.get(e);if(!o)return i;for(let s of o){let a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function k3(t){let e=Gt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=x3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xX.bind(null,e),e.Pu.H_=bX.bind(null,e.eventManager),e.Pu.yu=EX.bind(null,e.eventManager),e}function OX(t){let e=Gt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RX.bind(null,e),e}var M3=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=I1(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,r){return null}Mu(n,r){return null}vu(n){return nX(this.persistence,new TC,n.initialUser,this.serializer)}Cu(n){return new e1(bC.mi,this.serializer)}Du(n){return new CC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),KC=class extends M3{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xn(this.persistence.referenceDelegate instanceof t1,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new cC(r,e.asyncQueue,n)}Cu(e){let n=this.cacheSizeBytes!==void 0?da.withCacheSize(this.cacheSizeBytes):da.DEFAULT;return new e1(r=>t1.mi(r,n),this.serializer)}};var LX=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>u4(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=kX.bind(null,this.syncEngine),await wX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new UC})()}createDatastore(n){let r=I1(n.databaseInfo.databaseId),i=(function(s){return new PC(s)})(n.databaseInfo);return(function(s,a,c,u){return new LC(s,a,c,u)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,c){return new VC(i,o,s,a,c)})(this.localStore,this.datastore,n.asyncQueue,r=>u4(this.syncEngine,r,0),(function(){return r1.v()?new r1:new DC})())}createSyncEngine(n,r){return(function(o,s,a,c,u,l,m){let y=new GC(o,s,a,c,u,l);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=Gt(r);nt(oh,"RemoteStore shutting down."),i.Ea.add(5),await oy(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return t.provider={build:()=>new t},t})();var ty=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var QC=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new We(Re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=await(async function(i,o){let s=Gt(i),a={documents:o.map(m=>Zw(s.serializer,m))},c=await s.Ho("BatchGetDocuments",s.serializer.databaseId,gr.emptyPath(),a,o.length),u=new Map;c.forEach(m=>{let y=UZ(s.serializer,m);u.set(y.key.toString(),y)});let l=[];return o.forEach(m=>{let y=u.get(m.toString());xn(!!y,55234,{key:m}),l.push(y)}),l})(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Zf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=Ct.fromPath(r);this.mutations.push(new Gw(i,this.precondition(i)))}),await(async function(r,i){let o=Gt(r),s={writes:i.map(a=>g3(o.serializer,a))};await o.Go("Commit",o.serializer.databaseId,gr.emptyPath(),s)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw St(50498,{Gu:e.constructor.name});n=zt.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new We(Re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(zt.min())?Lo.exists(!1):Lo.updateTime(n):Lo.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(zt.min()))throw new We(Re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lo.updateTime(n)}return Lo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var YC=class{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.zu=r.maxAttempts,this.M_=new Xm(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{let e=new QC(this.datastore),n=this.Hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{let n=this.updateFunction(e);return!iy(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!u3(n)}return!1}};var Vl="FirestoreClient",JC=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pi.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{nt(Vl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(nt(Vl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=SD(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function b2(t,e){t.asyncQueue.verifyOperationInProgress(),nt(Vl,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await w3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function d4(t,e){t.asyncQueue.verifyOperationInProgress();let n=await FX(t);nt(Vl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>s4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>s4(e.remoteStore,i)),t._onlineComponents=e}async function FX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){nt(Vl,"Using user provided OfflineComponentProvider");try{await b2(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Re.FAILED_PRECONDITION||i.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;zf("Error using user provided cache. Falling back to memory cache: "+n),await b2(t,new M3)}}else nt(Vl,"Using default OfflineComponentProvider"),await b2(t,new KC(void 0));return t._offlineComponents}async function PD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(nt(Vl,"Using user provided OnlineComponentProvider"),await d4(t,t._uninitializedComponentsProvider._online)):(nt(Vl,"Using default OnlineComponentProvider"),await d4(t,new LX))),t._onlineComponents}function VX(t){return PD(t).then(e=>e.syncEngine)}function BX(t){return PD(t).then(e=>e.datastore)}async function l1(t){let e=await PD(t),n=e.eventManager;return n.onListen=IX.bind(null,e.syncEngine),n.onUnlisten=SX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CX.bind(null,e.syncEngine),n}function jX(t,e,n={}){let r=new fa;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,c,u){let l=new ty({next:y=>{l.Nu(),s.enqueueAndForget(()=>DD(o,m));let g=y.docs.has(a);!g&&y.fromCache?u.reject(new We(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&y.fromCache&&c&&c.source==="server"?u.reject(new We(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),m=new ey(w1(a.path),l,{includeMetadataChanges:!0,qa:!0});return CD(o,m)})(await l1(t),t.asyncQueue,e,n,r)),r.promise}function UX(t,e,n={}){let r=new fa;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,c,u){let l=new ty({next:y=>{l.Nu(),s.enqueueAndForget(()=>DD(o,m)),y.fromCache&&c.source==="server"?u.reject(new We(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),m=new ey(a,l,{includeMetadataChanges:!0,qa:!0});return CD(o,m)})(await l1(t),t.asyncQueue,e,n,r)),r.promise}function O3(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var h4=new Map;var L3="firestore.googleapis.com",f4=!0,d1=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new We(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L3,this.ssl=f4}else this.host=e.host,this.ssl=e.ssl??f4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XZ)throw new We(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new We(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new We(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new We(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ep=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new We(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new We(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new E2;switch(r.type){case"firstParty":return new S2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new We(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=h4.get(n);r&&(nt("ComponentProvider","Removing Datastore"),h4.delete(n),r.terminate())})(this),Promise.resolve()}};function qX(t,e,n,r={}){t=Fo(t,ep);let i=Pf(e),o=t._getSettings(),s=Ot(Oe({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i&&(uw(`https://${a}`),dw("Firestore",!0)),o.host!==L3&&o.host!==a&&zf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=Ot(Oe({},o),{host:a,ssl:i,emulatorOptions:r});if(!kf(c,s)&&(t._setSettings(c),r.mockUserToken)){let u,l;if(typeof r.mockUserToken=="string")u=r.mockUserToken,l=Pi.MOCK_USER;else{u=lw(r.mockUserToken,t._app?.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new We(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Pi(m)}t._authCredentials=new I2(new Vw(u,l))}}var Bl=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ui=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ry(n,t._jsonSchema))return new t(e,r||null,new Ct(gr.fromString(n.referencePath)))}};ui._jsonSchemaVersion="firestore/documentReference/1.0",ui._jsonSchema={type:ai("string",ui._jsonSchemaVersion),referencePath:ai("string")};var Rl=class t extends Bl{constructor(e,n,r){super(e,n,w1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ui(this.firestore,null,new Ct(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Ul(t,e,...n){if(t=Oo(t),w4("collection","path",e),t instanceof ep){let r=gr.fromString(e,...n);return PF(r),new Rl(t,null,r)}{if(!(t instanceof ui||t instanceof Rl))throw new We(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(gr.fromString(e,...n));return PF(r),new Rl(t.firestore,null,r)}}function Qa(t,e,...n){if(t=Oo(t),arguments.length===1&&(e=$m.newId()),w4("doc","path",e),t instanceof ep){let r=gr.fromString(e,...n);return RF(r),new ui(t,null,new Ct(r))}{if(!(t instanceof ui||t instanceof Rl))throw new We(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(gr.fromString(e,...n));return RF(r),new ui(t.firestore,t instanceof Rl?t.converter:null,new Ct(r))}}var p4="AsyncQueue",h1=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xm(this,"async_queue_retry"),this._c=()=>{let r=w2();r&&nt(p4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let n=w2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let n=w2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let n=new fa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sp(e))throw e;nt(p4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Tu("INTERNAL UNHANDLED ERROR: ",g4(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);let i=BC.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&St(47125,{Pc:g4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let n=this.tc.indexOf(e);this.tc.splice(n,1)}};function g4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function m4(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var pa=class extends ep{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new h1,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new h1(e),this._firestoreClient=void 0,await e}}};function F3(t,e){let n=typeof t=="object"?t:yw(),r=typeof t=="string"?t:e||zw,i=pw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=cw("firestore");o&&qX(i,...o)}return i}function ay(t){if(t._terminated)throw new We(Re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zX(t),t._firestoreClient}function zX(t){let e=t._freezeSettings(),n=(function(i,o,s,a){return new R2(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,O3(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new JC(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}var Iu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(lo.fromBase64String(e))}catch(n){throw new We(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(lo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ry(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Iu._jsonSchemaVersion="firestore/bytes/1.0",Iu._jsonSchema={type:ai("string",Iu._jsonSchemaVersion),bytes:ai("string")};var sh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new We(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ds(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var tp=class{constructor(e){this._methodName=e}};var Pl=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new We(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new We(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return yn(this._lat,e._lat)||yn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(ry(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Pl._jsonSchemaVersion="firestore/geoPoint/1.0",Pl._jsonSchema={type:ai("string",Pl._jsonSchemaVersion),latitude:ai("number"),longitude:ai("number")};var kl=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ry(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new We(Re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};kl._jsonSchemaVersion="firestore/vectorValue/1.0",kl._jsonSchema={type:ai("string",kl._jsonSchemaVersion),vectorValues:ai("object")};var $X=/^__.*__$/,ZC=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Nc(e,this.data,this.fieldMask,n,this.fieldTransforms):new ih(e,this.data,n,this.fieldTransforms)}},f1=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Nc(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function V3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:t})}}var XC=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t(Oe(Oe({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return g1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(V3(this.Ac)&&$X.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},eD=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||I1(e)}Cc(e,n,r,i=!1){return new XC({Ac:e,methodName:n,Dc:r,path:Ds.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function cy(t){let e=t._freezeSettings(),n=I1(t._databaseId);return new eD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kD(t,e,n,r,i,o={}){let s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);MD("Data must be an object, but it was:",s,r);let a=U3(r,s),c,u;if(o.merge)c=new ha(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let l=[];for(let m of o.mergeFields){let y=nD(e,m,n);if(!s.contains(y))throw new We(Re.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);z3(l,y)||l.push(y)}c=new ha(l),u=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=s.fieldTransforms;return new ZC(new es(a),c,u)}var p1=class t extends tp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};var tD=class t extends tp{_toFieldTransform(e){return new G2(e.path,new th)}isEqual(e){return e instanceof t}};function B3(t,e,n,r){let i=t.Cc(1,e,n);MD("Data must be an object, but it was:",i,r);let o=[],s=es.empty();jl(r,(c,u)=>{let l=OD(e,c,n);u=Oo(u);let m=i.yc(l);if(u instanceof p1)o.push(l);else{let y=uy(u,m);y!=null&&(o.push(l),s.set(l,y))}});let a=new ha(o);return new f1(s,a,i.fieldTransforms)}function j3(t,e,n,r,i,o){let s=t.Cc(1,e,n),a=[nD(e,r,n)],c=[i];if(o.length%2!=0)throw new We(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(nD(e,o[y])),c.push(o[y+1]);let u=[],l=es.empty();for(let y=a.length-1;y>=0;--y)if(!z3(u,a[y])){let g=a[y],R=c[y];R=Oo(R);let k=s.yc(g);if(R instanceof p1)u.push(g);else{let M=uy(R,k);M!=null&&(u.push(g),l.set(g,M))}}let m=new ha(u);return new f1(l,m,s.fieldTransforms)}function HX(t,e,n,r=!1){return uy(n,t.Cc(r?4:3,e))}function uy(t,e){if(q3(t=Oo(t)))return MD("Unsupported field value:",e,t),U3(t,e);if(t instanceof tp)return(function(r,i){if(!V3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=uy(a,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Oo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CZ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ci.fromDate(r);return{timestampValue:Jw(i.serializer,o)}}if(r instanceof ci){let o=new ci(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jw(i.serializer,o)}}if(r instanceof Pl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Iu)return{bytesValue:d3(i.serializer,r._byteString)};if(r instanceof ui){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kl)return(function(s,a){return{mapValue:{fields:{[pD]:{stringValue:gD},[Hf]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return _D(a.serializer,u)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${v1(r)}`)})(t,e)}function U3(t,e){let n={};return L4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jl(t,(r,i)=>{let o=uy(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function q3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ci||t instanceof Pl||t instanceof Iu||t instanceof ui||t instanceof tp||t instanceof kl)}function MD(t,e,n){if(!q3(n)||!b4(n)){let r=v1(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function nD(t,e,n){if((e=Oo(e))instanceof sh)return e._internalPath;if(typeof e=="string")return OD(t,e);throw g1("Field path arguments must be of type string or ",t,!1,void 0,n)}var GX=new RegExp("[~\\*/\\[\\]]");function OD(t,e,n){if(e.search(GX)>=0)throw g1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sh(...e.split("."))._internalPath}catch{throw g1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function g1(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new We(Re.INVALID_ARGUMENT,a+t+c)}function z3(t,e){return t.some(n=>n.isEqual(e))}var np=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ui(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new rD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(LD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},rD=class extends np{data(){return super.data()}};function LD(t,e){return typeof e=="string"?OD(t,e):e instanceof sh?e._internalPath:e._delegate._internalPath}function $3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new We(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ny=class{},m1=class extends ny{};function H3(t,e,...n){let r=[];e instanceof ny&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(c=>c instanceof oD).length,a=o.filter(c=>c instanceof iD).length;if(s>1||s>0&&a>0)throw new We(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var iD=class t extends m1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return W3(e._query,n),new Bl(e.firestore,e.converter,$2(e._query,n))}_parse(e){let n=cy(e.firestore);return(function(o,s,a,c,u,l,m){let y;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new We(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){v4(m,l);let R=[];for(let k of m)R.push(y4(c,o,k));y={arrayValue:{values:R}}}else y=y4(c,o,m)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||v4(m,l),y=HX(a,s,m,l==="in"||l==="not-in");return si.create(u,l,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var oD=class t extends ny{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ka.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)W3(s,c),s=$2(s,c)})(e._query,n),new Bl(e.firestore,e.converter,$2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var sD=class t extends m1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,s){if(i.startAt!==null)throw new We(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new We(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eh(o,s)})(e._query,this._field,this._direction);return new Bl(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new Ll(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function G3(t,e="asc"){let n=e,r=LD("orderBy",t);return sD._create(r,n)}function y4(t,e,n){if(typeof(n=Oo(n))=="string"){if(n==="")throw new We(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y4(e)&&n.indexOf("/")!==-1)throw new We(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(gr.fromString(n));if(!Ct.isDocumentKey(r))throw new We(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BF(t,new Ct(r))}if(n instanceof ui)return BF(t,n._key);throw new We(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${v1(n)}.`)}function v4(t,e){if(!Array.isArray(t)||t.length===0)throw new We(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function W3(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new We(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new We(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var y1=class{convertValue(e,n="none"){switch(Ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Su(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw St(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return jl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){let n=e.fields?.[Hf].arrayValue?.values?.map(r=>Ir(r.doubleValue));return new kl(n)}convertGeoPoint(e){return new Pl(Ir(e.latitude),Ir(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=_1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wm(e));default:return null}}convertTimestamp(e){let n=Au(e);return new ci(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=gr.fromString(e);xn(v3(r),9688,{name:e});let i=new $w(r.get(1),r.get(3)),o=new Ct(r.popFirst(5));return i.isEqual(n)||Tu(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function FD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var aD=class extends y1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,n)}};var Nl=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ml=class t extends np{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(LD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new We(Re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Ml._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ml._jsonSchema={type:ai("string",Ml._jsonSchemaVersion),bundleSource:ai("string","DocumentSnapshot"),bundleName:ai("string"),bundle:ai("string")};var qf=class extends Ml{data(e={}){return super.data(e)}},Jd=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Nl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qf(this._firestore,this._userDataWriter,r.key,r,new Nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new We(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new qf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Nl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new qf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Nl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:WX(a.type),doc:c,oldIndex:u,newIndex:l}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new We(Re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function WX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:t})}}function VD(t){t=Fo(t,ui);let e=Fo(t.firestore,pa);return jX(ay(e),t._key).then(n=>Y3(e,t,n))}Jd._jsonSchemaVersion="firestore/querySnapshot/1.0",Jd._jsonSchema={type:ai("string",Jd._jsonSchemaVersion),bundleSource:ai("string","QuerySnapshot"),bundleName:ai("string"),bundle:ai("string")};var rp=class extends y1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,n)}};function K3(t){t=Fo(t,Bl);let e=Fo(t.firestore,pa),n=ay(e),r=new rp(e);return $3(t._query),UX(n,t._query).then(i=>new Jd(e,r,t,i))}function Q3(t,e,n){t=Fo(t,ui);let r=Fo(t.firestore,pa),i=FD(t.converter,e,n);return x1(r,[kD(cy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Lo.none())])}function S1(t,e,n,...r){t=Fo(t,ui);let i=Fo(t.firestore,pa),o=cy(i),s;return s=typeof(e=Oo(e))=="string"||e instanceof sh?j3(o,"updateDoc",t._key,e,n,r):B3(o,"updateDoc",t._key,e),x1(i,[s.toMutation(t._key,Lo.exists(!0))])}function C1(t){return x1(Fo(t.firestore,pa),[new Zf(t._key,Lo.none())])}function BD(t,e){let n=Fo(t.firestore,pa),r=Qa(t),i=FD(t.converter,e);return x1(n,[kD(cy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Lo.exists(!1))]).then(()=>r)}function D1(t,...e){t=Oo(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||m4(e[r])||(n=e[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(m4(e[r])){let c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let o,s,a;if(t instanceof ui)s=Fo(t.firestore,pa),a=w1(t._key.path),o={next:c=>{e[r]&&e[r](Y3(s,t,c))},error:e[r+1],complete:e[r+2]};else{let c=Fo(t,Bl);s=Fo(c.firestore,pa),a=c._query;let u=new rp(s);o={next:l=>{e[r]&&e[r](new Jd(s,u,c,l))},error:e[r+1],complete:e[r+2]},$3(t._query)}return(function(u,l,m,y){let g=new ty(y),R=new ey(l,g,m);return u.asyncQueue.enqueueAndForget(async()=>CD(await l1(u),R)),()=>{g.Nu(),u.asyncQueue.enqueueAndForget(async()=>DD(await l1(u),R))}})(ay(s),a,i,o)}function x1(t,e){return(function(r,i){let o=new fa;return r.asyncQueue.enqueueAndForget(async()=>DX(await VX(r),i,o)),o.promise})(ay(t),e)}function Y3(t,e,n){let r=n.docs.get(e._key),i=new rp(t);return new Ml(t,i,e._key,r,new Nl(n.hasPendingWrites,n.fromCache),e.converter)}var KX={maxAttempts:5};function Vm(t,e){if((t=Oo(t)).firestore!==e)throw new We(Re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var cD=class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=cy(e)}get(e){let n=Vm(e,this._firestore),r=new aD(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return St(24041);let o=i[0];if(o.isFoundDocument())return new np(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new np(this._firestore,r,n._key,null,n.converter);throw St(18433,{doc:o})})}set(e,n,r){let i=Vm(e,this._firestore),o=FD(i.converter,n,r),s=kD(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){let o=Vm(e,this._firestore),s;return s=typeof(n=Oo(n))=="string"||n instanceof sh?j3(this._dataReader,"Transaction.update",o._key,n,r,i):B3(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,s),this}delete(e){let n=Vm(e,this._firestore);return this._transaction.delete(n._key),this}};var uD=class extends cD{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=Vm(e,this._firestore),r=new rp(this._firestore);return super.get(e).then(i=>new Ml(this._firestore,r,n._key,i._document,new Nl(!1,!1),n.converter))}};function J3(t,e,n){t=Fo(t,pa);let r=Oe(Oe({},KX),n);return(function(o){if(o.maxAttempts<1)throw new We(Re.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,s,a){let c=new fa;return o.asyncQueue.enqueueAndForget(async()=>{let u=await BX(o);new YC(o.asyncQueue,u,a,s,c).ju()}),c.promise})(ay(t),i=>e(new uD(t,i)),r)}function N1(){return new tD("serverTimestamp")}(function(e,n=!0){(function(i){ip=i})(mw),Hd(new Ga("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new pa(new T2(r.getProvider("auth-internal")),new C2(s,r.getProvider("app-check-internal")),(function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new We(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $w(u.options.projectId,l)})(s,i),s);return o=Oe({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Wa(DF,xF,e),Wa(DF,xF,"esm2020")})();var R1=function(){return R1=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},R1.apply(this,arguments)};var QX={includeMetadataChanges:!1};function Z3(t,e){return e===void 0&&(e=QX),new on(function(n){var r=D1(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function X3(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:R1(R1({},r),(n={},n[e.idField]=t.id,n))}function eV(t){return Z3(t,{includeMetadataChanges:!0}).pipe(gn(function(e){return e.docs}))}function tV(t,e){return e===void 0&&(e={}),eV(t).pipe(gn(function(n){return n.map(function(r){return X3(r,e)})}))}var nV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rV={};var P1,iV;(function(){var t;function e(P,T){function w(){}w.prototype=T.prototype,P.D=T.prototype,P.prototype=new w,P.prototype.constructor=P,P.C=function(D,_,S){for(var I=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)I[ee-2]=arguments[ee];return T.prototype[_].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,T,w){w||(w=0);var D=Array(16);if(typeof T=="string")for(var _=0;16>_;++_)D[_]=T.charCodeAt(w++)|T.charCodeAt(w++)<<8|T.charCodeAt(w++)<<16|T.charCodeAt(w++)<<24;else for(_=0;16>_;++_)D[_]=T[w++]|T[w++]<<8|T[w++]<<16|T[w++]<<24;T=P.g[0],w=P.g[1],_=P.g[2];var S=P.g[3],I=T+(S^w&(_^S))+D[0]+3614090360&4294967295;T=w+(I<<7&4294967295|I>>>25),I=S+(_^T&(w^_))+D[1]+3905402710&4294967295,S=T+(I<<12&4294967295|I>>>20),I=_+(w^S&(T^w))+D[2]+606105819&4294967295,_=S+(I<<17&4294967295|I>>>15),I=w+(T^_&(S^T))+D[3]+3250441966&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(S^w&(_^S))+D[4]+4118548399&4294967295,T=w+(I<<7&4294967295|I>>>25),I=S+(_^T&(w^_))+D[5]+1200080426&4294967295,S=T+(I<<12&4294967295|I>>>20),I=_+(w^S&(T^w))+D[6]+2821735955&4294967295,_=S+(I<<17&4294967295|I>>>15),I=w+(T^_&(S^T))+D[7]+4249261313&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(S^w&(_^S))+D[8]+1770035416&4294967295,T=w+(I<<7&4294967295|I>>>25),I=S+(_^T&(w^_))+D[9]+2336552879&4294967295,S=T+(I<<12&4294967295|I>>>20),I=_+(w^S&(T^w))+D[10]+4294925233&4294967295,_=S+(I<<17&4294967295|I>>>15),I=w+(T^_&(S^T))+D[11]+2304563134&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(S^w&(_^S))+D[12]+1804603682&4294967295,T=w+(I<<7&4294967295|I>>>25),I=S+(_^T&(w^_))+D[13]+4254626195&4294967295,S=T+(I<<12&4294967295|I>>>20),I=_+(w^S&(T^w))+D[14]+2792965006&4294967295,_=S+(I<<17&4294967295|I>>>15),I=w+(T^_&(S^T))+D[15]+1236535329&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(_^S&(w^_))+D[1]+4129170786&4294967295,T=w+(I<<5&4294967295|I>>>27),I=S+(w^_&(T^w))+D[6]+3225465664&4294967295,S=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(S^T))+D[11]+643717713&4294967295,_=S+(I<<14&4294967295|I>>>18),I=w+(S^T&(_^S))+D[0]+3921069994&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(_^S&(w^_))+D[5]+3593408605&4294967295,T=w+(I<<5&4294967295|I>>>27),I=S+(w^_&(T^w))+D[10]+38016083&4294967295,S=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(S^T))+D[15]+3634488961&4294967295,_=S+(I<<14&4294967295|I>>>18),I=w+(S^T&(_^S))+D[4]+3889429448&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(_^S&(w^_))+D[9]+568446438&4294967295,T=w+(I<<5&4294967295|I>>>27),I=S+(w^_&(T^w))+D[14]+3275163606&4294967295,S=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(S^T))+D[3]+4107603335&4294967295,_=S+(I<<14&4294967295|I>>>18),I=w+(S^T&(_^S))+D[8]+1163531501&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(_^S&(w^_))+D[13]+2850285829&4294967295,T=w+(I<<5&4294967295|I>>>27),I=S+(w^_&(T^w))+D[2]+4243563512&4294967295,S=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(S^T))+D[7]+1735328473&4294967295,_=S+(I<<14&4294967295|I>>>18),I=w+(S^T&(_^S))+D[12]+2368359562&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(w^_^S)+D[5]+4294588738&4294967295,T=w+(I<<4&4294967295|I>>>28),I=S+(T^w^_)+D[8]+2272392833&4294967295,S=T+(I<<11&4294967295|I>>>21),I=_+(S^T^w)+D[11]+1839030562&4294967295,_=S+(I<<16&4294967295|I>>>16),I=w+(_^S^T)+D[14]+4259657740&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(w^_^S)+D[1]+2763975236&4294967295,T=w+(I<<4&4294967295|I>>>28),I=S+(T^w^_)+D[4]+1272893353&4294967295,S=T+(I<<11&4294967295|I>>>21),I=_+(S^T^w)+D[7]+4139469664&4294967295,_=S+(I<<16&4294967295|I>>>16),I=w+(_^S^T)+D[10]+3200236656&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(w^_^S)+D[13]+681279174&4294967295,T=w+(I<<4&4294967295|I>>>28),I=S+(T^w^_)+D[0]+3936430074&4294967295,S=T+(I<<11&4294967295|I>>>21),I=_+(S^T^w)+D[3]+3572445317&4294967295,_=S+(I<<16&4294967295|I>>>16),I=w+(_^S^T)+D[6]+76029189&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(w^_^S)+D[9]+3654602809&4294967295,T=w+(I<<4&4294967295|I>>>28),I=S+(T^w^_)+D[12]+3873151461&4294967295,S=T+(I<<11&4294967295|I>>>21),I=_+(S^T^w)+D[15]+530742520&4294967295,_=S+(I<<16&4294967295|I>>>16),I=w+(_^S^T)+D[2]+3299628645&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(_^(w|~S))+D[0]+4096336452&4294967295,T=w+(I<<6&4294967295|I>>>26),I=S+(w^(T|~_))+D[7]+1126891415&4294967295,S=T+(I<<10&4294967295|I>>>22),I=_+(T^(S|~w))+D[14]+2878612391&4294967295,_=S+(I<<15&4294967295|I>>>17),I=w+(S^(_|~T))+D[5]+4237533241&4294967295,w=_+(I<<21&4294967295|I>>>11),I=T+(_^(w|~S))+D[12]+1700485571&4294967295,T=w+(I<<6&4294967295|I>>>26),I=S+(w^(T|~_))+D[3]+2399980690&4294967295,S=T+(I<<10&4294967295|I>>>22),I=_+(T^(S|~w))+D[10]+4293915773&4294967295,_=S+(I<<15&4294967295|I>>>17),I=w+(S^(_|~T))+D[1]+2240044497&4294967295,w=_+(I<<21&4294967295|I>>>11),I=T+(_^(w|~S))+D[8]+1873313359&4294967295,T=w+(I<<6&4294967295|I>>>26),I=S+(w^(T|~_))+D[15]+4264355552&4294967295,S=T+(I<<10&4294967295|I>>>22),I=_+(T^(S|~w))+D[6]+2734768916&4294967295,_=S+(I<<15&4294967295|I>>>17),I=w+(S^(_|~T))+D[13]+1309151649&4294967295,w=_+(I<<21&4294967295|I>>>11),I=T+(_^(w|~S))+D[4]+4149444226&4294967295,T=w+(I<<6&4294967295|I>>>26),I=S+(w^(T|~_))+D[11]+3174756917&4294967295,S=T+(I<<10&4294967295|I>>>22),I=_+(T^(S|~w))+D[2]+718787259&4294967295,_=S+(I<<15&4294967295|I>>>17),I=w+(S^(_|~T))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(_+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+_&4294967295,P.g[3]=P.g[3]+S&4294967295}r.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var w=T-this.blockSize,D=this.B,_=this.h,S=0;S<T;){if(_==0)for(;S<=w;)i(this,P,S),S+=this.blockSize;if(typeof P=="string"){for(;S<T;)if(D[_++]=P.charCodeAt(S++),_==this.blockSize){i(this,D),_=0;break}}else for(;S<T;)if(D[_++]=P[S++],_==this.blockSize){i(this,D),_=0;break}}this.h=_,this.o+=T},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var w=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=w&255,w/=256;for(this.u(P),P=Array(16),T=w=0;4>T;++T)for(var D=0;32>D;D+=8)P[w++]=this.g[T]>>>D&255;return P};function o(P,T){var w=a;return Object.prototype.hasOwnProperty.call(w,P)?w[P]:w[P]=T(P)}function s(P,T){this.h=T;for(var w=[],D=!0,_=P.length-1;0<=_;_--){var S=P[_]|0;D&&S==T||(w[_]=S,D=!1)}this.g=w}var a={};function c(P){return-128<=P&&128>P?o(P,function(T){return new s([T|0],0>T?-1:0)}):new s([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return m;if(0>P)return M(u(-P));for(var T=[],w=1,D=0;P>=w;D++)T[D]=P/w|0,w*=4294967296;return new s(T,0)}function l(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return M(l(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(T,8)),D=m,_=0;_<P.length;_+=8){var S=Math.min(8,P.length-_),I=parseInt(P.substring(_,_+S),T);8>S?(S=u(Math.pow(T,S)),D=D.j(S).add(u(I))):(D=D.j(w),D=D.add(u(I)))}return D}var m=c(0),y=c(1),g=c(16777216);t=s.prototype,t.m=function(){if(k(this))return-M(this).m();for(var P=0,T=1,w=0;w<this.g.length;w++){var D=this.i(w);P+=(0<=D?D:4294967296+D)*T,T*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(R(this))return"0";if(k(this))return"-"+M(this).toString(P);for(var T=u(Math.pow(P,6)),w=this,D="";;){var _=Y(w,T).g;w=L(w,_.j(T));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(P);if(w=_,R(w))return S+D;for(;6>S.length;)S="0"+S;D=S+D}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function R(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function k(P){return P.h==-1}t.l=function(P){return P=L(this,P),k(P)?-1:R(P)?0:1};function M(P){for(var T=P.g.length,w=[],D=0;D<T;D++)w[D]=~P.g[D];return new s(w,~P.h).add(y)}t.abs=function(){return k(this)?M(this):this},t.add=function(P){for(var T=Math.max(this.g.length,P.g.length),w=[],D=0,_=0;_<=T;_++){var S=D+(this.i(_)&65535)+(P.i(_)&65535),I=(S>>>16)+(this.i(_)>>>16)+(P.i(_)>>>16);D=I>>>16,S&=65535,I&=65535,w[_]=I<<16|S}return new s(w,w[w.length-1]&-2147483648?-1:0)};function L(P,T){return P.add(M(T))}t.j=function(P){if(R(this)||R(P))return m;if(k(this))return k(P)?M(this).j(M(P)):M(M(this).j(P));if(k(P))return M(this.j(M(P)));if(0>this.l(g)&&0>P.l(g))return u(this.m()*P.m());for(var T=this.g.length+P.g.length,w=[],D=0;D<2*T;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var _=0;_<P.g.length;_++){var S=this.i(D)>>>16,I=this.i(D)&65535,ee=P.i(_)>>>16,ve=P.i(_)&65535;w[2*D+2*_]+=I*ve,Z(w,2*D+2*_),w[2*D+2*_+1]+=S*ve,Z(w,2*D+2*_+1),w[2*D+2*_+1]+=I*ee,Z(w,2*D+2*_+1),w[2*D+2*_+2]+=S*ee,Z(w,2*D+2*_+2)}for(D=0;D<T;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=T;D<2*T;D++)w[D]=0;return new s(w,0)};function Z(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function J(P,T){this.g=P,this.h=T}function Y(P,T){if(R(T))throw Error("division by zero");if(R(P))return new J(m,m);if(k(P))return T=Y(M(P),T),new J(M(T.g),M(T.h));if(k(T))return T=Y(P,M(T)),new J(M(T.g),T.h);if(30<P.g.length){if(k(P)||k(T))throw Error("slowDivide_ only works with positive integers.");for(var w=y,D=T;0>=D.l(P);)w=fe(w),D=fe(D);var _=be(w,1),S=be(D,1);for(D=be(D,2),w=be(w,2);!R(D);){var I=S.add(D);0>=I.l(P)&&(_=_.add(w),S=I),D=be(D,1),w=be(w,1)}return T=L(P,_.j(T)),new J(_,T)}for(_=m;0<=P.l(T);){for(w=Math.max(1,Math.floor(P.m()/T.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),S=u(w),I=S.j(T);k(I)||0<I.l(P);)w-=D,S=u(w),I=S.j(T);R(S)&&(S=y),_=_.add(S),P=L(P,I)}return new J(_,P)}t.A=function(P){return Y(this,P).h},t.and=function(P){for(var T=Math.max(this.g.length,P.g.length),w=[],D=0;D<T;D++)w[D]=this.i(D)&P.i(D);return new s(w,this.h&P.h)},t.or=function(P){for(var T=Math.max(this.g.length,P.g.length),w=[],D=0;D<T;D++)w[D]=this.i(D)|P.i(D);return new s(w,this.h|P.h)},t.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),w=[],D=0;D<T;D++)w[D]=this.i(D)^P.i(D);return new s(w,this.h^P.h)};function fe(P){for(var T=P.g.length+1,w=[],D=0;D<T;D++)w[D]=P.i(D)<<1|P.i(D-1)>>>31;return new s(w,P.h)}function be(P,T){var w=T>>5;T%=32;for(var D=P.g.length-w,_=[],S=0;S<D;S++)_[S]=0<T?P.i(S+w)>>>T|P.i(S+w+1)<<32-T:P.i(S+w);return new s(_,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iV=rV.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=l,P1=rV.Integer=s}).apply(typeof nV<"u"?nV:typeof self<"u"?self:typeof window<"u"?window:{});var k1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xu={};var oV,YX,sV,aV,cV,uV,lV,dV,hV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,b,x){return d==Array.prototype||d==Object.prototype||(d[b]=x.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof k1=="object"&&k1];for(var b=0;b<d.length;++b){var x=d[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(d,b){if(b)e:{var x=r;d=d.split(".");for(var U=0;U<d.length-1;U++){var ie=d[U];if(!(ie in x))break e;x=x[ie]}d=d[d.length-1],U=x[d],b=b(U),b!=U&&b!=null&&e(x,d,{configurable:!0,writable:!0,value:b})}}function o(d,b){d instanceof String&&(d+="");var x=0,U=!1,ie={next:function(){if(!U&&x<d.length){var _e=x++;return{value:b(_e,d[_e]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}i("Array.prototype.values",function(d){return d||function(){return o(this,function(b,x){return x})}});var s=s||{},a=this||self;function c(d){var b=typeof d;return b=b!="object"?b:d?Array.isArray(d)?"array":b:"null",b=="array"||b=="object"&&typeof d.length=="number"}function u(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function l(d,b,x){return d.call.apply(d.bind,arguments)}function m(d,b,x){if(!d)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,U),d.apply(b,ie)}}return function(){return d.apply(b,arguments)}}function y(d,b,x){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?l:m,y.apply(null,arguments)}function g(d,b){var x=Array.prototype.slice.call(arguments,1);return function(){var U=x.slice();return U.push.apply(U,arguments),d.apply(this,U)}}function R(d,b){function x(){}x.prototype=b.prototype,d.aa=b.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(U,ie,_e){for(var qe=Array(arguments.length-2),un=2;un<arguments.length;un++)qe[un-2]=arguments[un];return b.prototype[ie].apply(U,qe)}}function k(d){let b=d.length;if(0<b){let x=Array(b);for(let U=0;U<b;U++)x[U]=d[U];return x}return[]}function M(d,b){for(let x=1;x<arguments.length;x++){let U=arguments[x];if(c(U)){let ie=d.length||0,_e=U.length||0;d.length=ie+_e;for(let qe=0;qe<_e;qe++)d[ie+qe]=U[qe]}else d.push(U)}}class L{constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function Z(d){return/^[\s\xa0]*$/.test(d)}function J(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function Y(d){return Y[" "](d),d}Y[" "]=function(){};var fe=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function be(d,b,x){for(let U in d)b.call(x,d[U],U,d)}function P(d,b){for(let x in d)b.call(void 0,d[x],x,d)}function T(d){let b={};for(let x in d)b[x]=d[x];return b}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(d,b){let x,U;for(let ie=1;ie<arguments.length;ie++){U=arguments[ie];for(x in U)d[x]=U[x];for(let _e=0;_e<w.length;_e++)x=w[_e],Object.prototype.hasOwnProperty.call(U,x)&&(d[x]=U[x])}}function _(d){var b=1;d=d.split(":");let x=[];for(;0<b&&d.length;)x.push(d.shift()),b--;return d.length&&x.push(d.join(":")),x}function S(d){a.setTimeout(()=>{throw d},0)}function I(){var d=Ae;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class ee{constructor(){this.h=this.g=null}add(b,x){let U=ve.get();U.set(b,x),this.h?this.h.next=U:this.g=U,this.h=U}}var ve=new L(()=>new Ce,d=>d.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,pe=!1,Ae=new ee,$e=()=>{let d=a.Promise.resolve(void 0);Te=()=>{d.then(Me)}};var Me=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(x){S(x)}var b=ve;b.j(d),100>b.h&&(b.h++,d.next=b.g,b.g=d)}pe=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var X=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let x=()=>{};a.addEventListener("test",x,b),a.removeEventListener("test",x,b)}catch{}return d})();function ne(d,b){if(W.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,U=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget){if(fe){e:{try{Y(b.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(b=null)}}else x=="mouseover"?b=d.fromElement:x=="mouseout"&&(b=d.toElement);this.relatedTarget=b,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ce[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ne.aa.h.call(this)}}R(ne,W);var ce={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Ie(d,b,x,U,ie){this.listener=d,this.proxy=null,this.src=b,this.type=x,this.capture=!!U,this.ha=ie,this.key=++Ee,this.da=this.fa=!1}function xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Be(d){this.src=d,this.g={},this.h=0}Be.prototype.add=function(d,b,x,U,ie){var _e=d.toString();d=this.g[_e],d||(d=this.g[_e]=[],this.h++);var qe=Ke(d,b,U,ie);return-1<qe?(b=d[qe],x||(b.fa=!1)):(b=new Ie(b,this.src,_e,!!U,ie),b.fa=x,d.push(b)),b};function Je(d,b){var x=b.type;if(x in d.g){var U=d.g[x],ie=Array.prototype.indexOf.call(U,b,void 0),_e;(_e=0<=ie)&&Array.prototype.splice.call(U,ie,1),_e&&(xe(b),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Ke(d,b,x,U){for(var ie=0;ie<d.length;++ie){var _e=d[ie];if(!_e.da&&_e.listener==b&&_e.capture==!!x&&_e.ha==U)return ie}return-1}var ct="closure_lm_"+(1e6*Math.random()|0),H={};function Qe(d,b,x,U,ie){if(U&&U.once)return Fe(d,b,x,U,ie);if(Array.isArray(b)){for(var _e=0;_e<b.length;_e++)Qe(d,b[_e],x,U,ie);return null}return x=Dt(x),d&&d[de]?d.K(b,x,u(U)?!!U.capture:!!U,ie):jt(d,b,x,!1,U,ie)}function jt(d,b,x,U,ie,_e){if(!b)throw Error("Invalid event type");var qe=u(ie)?!!ie.capture:!!ie,un=ln(d);if(un||(d[ct]=un=new Be(d)),x=un.add(b,x,U,qe,_e),x.proxy)return x;if(U=bt(),x.proxy=U,U.src=d,U.listener=x,d.addEventListener)X||(ie=qe),ie===void 0&&(ie=!1),d.addEventListener(b.toString(),U,ie);else if(d.attachEvent)d.attachEvent(gt(b.toString()),U);else if(d.addListener&&d.removeListener)d.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return x}function bt(){function d(x){return b.call(d.src,d.listener,x)}let b=vt;return d}function Fe(d,b,x,U,ie){if(Array.isArray(b)){for(var _e=0;_e<b.length;_e++)Fe(d,b[_e],x,U,ie);return null}return x=Dt(x),d&&d[de]?d.L(b,x,u(U)?!!U.capture:!!U,ie):jt(d,b,x,!0,U,ie)}function Ze(d,b,x,U,ie){if(Array.isArray(b))for(var _e=0;_e<b.length;_e++)Ze(d,b[_e],x,U,ie);else U=u(U)?!!U.capture:!!U,x=Dt(x),d&&d[de]?(d=d.i,b=String(b).toString(),b in d.g&&(_e=d.g[b],x=Ke(_e,x,U,ie),-1<x&&(xe(_e[x]),Array.prototype.splice.call(_e,x,1),_e.length==0&&(delete d.g[b],d.h--)))):d&&(d=ln(d))&&(b=d.g[b.toString()],d=-1,b&&(d=Ke(b,x,U,ie)),(x=-1<d?b[d]:null)&&Ge(x))}function Ge(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[de])Je(b.i,d);else{var x=d.type,U=d.proxy;b.removeEventListener?b.removeEventListener(x,U,d.capture):b.detachEvent?b.detachEvent(gt(x),U):b.addListener&&b.removeListener&&b.removeListener(U),(x=ln(b))?(Je(x,d),x.h==0&&(x.src=null,b[ct]=null)):xe(d)}}}function gt(d){return d in H?H[d]:H[d]="on"+d}function vt(d,b){if(d.da)d=!0;else{b=new ne(b,this);var x=d.listener,U=d.ha||d.src;d.fa&&Ge(d),d=x.call(U,b)}return d}function ln(d){return d=d[ct],d instanceof Be?d:null}var Xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dt(d){return typeof d=="function"?d:(d[Xt]||(d[Xt]=function(b){return d.handleEvent(b)}),d[Xt])}function Et(){B.call(this),this.i=new Be(this),this.M=this,this.F=null}R(Et,B),Et.prototype[de]=!0,Et.prototype.removeEventListener=function(d,b,x,U){Ze(this,d,b,x,U)};function It(d,b){var x,U=d.F;if(U)for(x=[];U;U=U.F)x.push(U);if(d=d.M,U=b.type||b,typeof b=="string")b=new W(b,d);else if(b instanceof W)b.target=b.target||d;else{var ie=b;b=new W(U,d),D(b,ie)}if(ie=!0,x)for(var _e=x.length-1;0<=_e;_e--){var qe=b.g=x[_e];ie=tt(qe,U,!0,b)&&ie}if(qe=b.g=d,ie=tt(qe,U,!0,b)&&ie,ie=tt(qe,U,!1,b)&&ie,x)for(_e=0;_e<x.length;_e++)qe=b.g=x[_e],ie=tt(qe,U,!1,b)&&ie}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var d=this.i,b;for(b in d.g){for(var x=d.g[b],U=0;U<x.length;U++)xe(x[U]);delete d.g[b],d.h--}}this.F=null},Et.prototype.K=function(d,b,x,U){return this.i.add(String(d),b,!1,x,U)},Et.prototype.L=function(d,b,x,U){return this.i.add(String(d),b,!0,x,U)};function tt(d,b,x,U){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();for(var ie=!0,_e=0;_e<b.length;++_e){var qe=b[_e];if(qe&&!qe.da&&qe.capture==x){var un=qe.listener,ir=qe.ha||qe.src;qe.fa&&Je(d.i,qe),ie=un.call(ir,U)!==!1&&ie}}return ie&&!U.defaultPrevented}function Ut(d,b,x){if(typeof d=="function")x&&(d=y(d,x));else if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:a.setTimeout(d,b||0)}function dt(d){d.g=Ut(()=>{d.g=null,d.i&&(d.i=!1,dt(d))},d.l);let b=d.h;d.h=null,d.m.apply(null,b)}class lr extends B{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:dt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function en(d){B.call(this),this.h=d,this.g={}}R(en,B);var Ft=[];function Ht(d){be(d.g,function(b,x){this.g.hasOwnProperty(x)&&Ge(b)},d),d.g={}}en.prototype.N=function(){en.aa.N.call(this),Ht(this)},en.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=a.JSON.stringify,ut=a.JSON.parse,Vn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function _t(){}_t.prototype.h=null;function Mt(d){return d.h||(d.h=d.i())}function Pn(){}var qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xe(){W.call(this,"d")}R(Xe,W);function dn(){W.call(this,"c")}R(dn,W);var Mr={},mr=null;function Yi(){return mr=mr||new Et}Mr.La="serverreachability";function mo(d){W.call(this,Mr.La,d)}R(mo,W);function lt(d){let b=Yi();It(b,new mo(b))}Mr.STAT_EVENT="statevent";function jo(d,b){W.call(this,Mr.STAT_EVENT,d),this.stat=b}R(jo,W);function nr(d){let b=Yi();It(b,new jo(b,d))}Mr.Ma="timingevent";function Kr(d,b){W.call(this,Mr.Ma,d),this.size=b}R(Kr,W);function Or(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},b)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function _r(d,b,x,U,ie,_e){d.info(function(){if(d.g)if(_e)for(var qe="",un=_e.split("&"),ir=0;ir<un.length;ir++){var Vt=un[ir].split("=");if(1<Vt.length){var dr=Vt[0];Vt=Vt[1];var Sr=dr.split("_");qe=2<=Sr.length&&Sr[1]=="type"?qe+(dr+"="+Vt+"&"):qe+(dr+"=redacted&")}}else qe=null;else qe=_e;return"XMLHTTP REQ ("+U+") [attempt "+ie+"]: "+b+`
`+x+`
`+qe})}function yr(d,b,x,U,ie,_e,qe){d.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ie+"]: "+b+`
`+x+`
`+_e+" "+qe})}function Ji(d,b,x,U){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Zi(d,x)+(U?" "+U:"")})}function di(d,b){d.info(function(){return"TIMEOUT: "+b})}Bn.prototype.info=function(){};function Zi(d,b){if(!d.g)return b;if(!b)return null;try{var x=JSON.parse(b);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var U=x[d];if(!(2>U.length)){var ie=U[1];if(Array.isArray(ie)&&!(1>ie.length)){var _e=ie[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(var qe=1;qe<ie.length;qe++)ie[qe]=""}}}}return Ln(x)}catch{return b}}var Ei={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hi;function Qr(){}R(Qr,_t),Qr.prototype.g=function(){return new XMLHttpRequest},Qr.prototype.i=function(){return{}},hi=new Qr;function Ti(d,b,x,U){this.j=d,this.i=b,this.l=x,this.R=U||1,this.U=new en(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xi}function Xi(){this.i=null,this.g="",this.h=!1}var Ms={},yo={};function is(d,b,x){d.L=1,d.v=wa(no(b)),d.m=x,d.P=!0,os(d,null)}function os(d,b){d.F=Date.now(),ss(d),d.A=no(d.v);var x=d.A,U=d.R;Array.isArray(U)||(U=[String(U)]),Pt(x.i,"t",U),d.C=0,x=d.j.J,d.h=new Xi,d.g=A(d.j,x?b:null,!d.m),0<d.O&&(d.M=new lr(y(d.Y,d,d.g),d.O)),b=d.U,x=d.g,U=d.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(Ft[0]=ie.toString()),ie=Ft);for(var _e=0;_e<ie.length;_e++){var qe=Qe(x,ie[_e],U||b.handleEvent,!1,b.h||b);if(!qe)break;b.g[qe.key]=qe}b=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,b)):(d.u="GET",d.g.ea(d.A,d.u,null,b)),lt(),_r(d.i,d.u,d.A,d.l,d.R,d.m)}Ti.prototype.ca=function(d){d=d.target;let b=this.M;b&&pi(d)==3?b.j():this.Y(d)},Ti.prototype.Y=function(d){try{if(d==this.g)e:{let Sr=pi(this.g);var b=this.g.Ba();let Ia=this.g.Z();if(!(3>Sr)&&(Sr!=3||this.g&&(this.h.h||this.g.oa()||Wc(this.g)))){this.J||Sr!=4||b==7||(b==8||0>=Ia?lt(3):lt(2)),fi(this);var x=this.g.Z();this.X=x;t:if(Os(this)){var U=Wc(this.g);d="";var ie=U.length,_e=pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_o(this),Uo(this);var qe="";break t}this.h.i=new a.TextDecoder}for(b=0;b<ie;b++)this.h.h=!0,d+=this.h.i.decode(U[b],{stream:!(_e&&b==ie-1)});U.length=0,this.h.g+=d,this.C=0,qe=this.h.g}else qe=this.g.oa();if(this.o=x==200,yr(this.i,this.u,this.A,this.l,this.R,Sr,x),this.o){if(this.T&&!this.K){t:{if(this.g){var un,ir=this.g;if((un=ir.g?ir.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(un)){var Vt=un;break t}}Vt=null}if(x=Vt)Ji(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,as(this,x);else{this.o=!1,this.s=3,nr(12),_o(this),Uo(this);break e}}if(this.P){x=!0;let br;for(;!this.J&&this.C<qe.length;)if(br=vo(this,qe),br==yo){Sr==4&&(this.s=4,nr(14),x=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(br==Ms){this.s=4,nr(15),Ji(this.i,this.l,qe,"[Invalid Chunk]"),x=!1;break}else Ji(this.i,this.l,br,null),as(this,br);if(Os(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sr!=4||qe.length!=0||this.h.h||(this.s=1,nr(16),x=!1),this.o=this.o&&x,!x)Ji(this.i,this.l,qe,"[Invalid Chunked Response]"),_o(this),Uo(this);else if(0<qe.length&&!this.W){this.W=!0;var dr=this.j;dr.g==this&&dr.ba&&!dr.M&&(dr.j.info("Great, no buffering proxy detected. Bytes received: "+qe.length),it(dr),dr.M=!0,nr(11))}}else Ji(this.i,this.l,qe,null),as(this,qe);Sr==4&&_o(this),this.o&&!this.J&&(Sr==4?kt(this.j,this):(this.o=!1,ss(this)))}else $o(this.g),x==400&&0<qe.indexOf("Unknown SID")?(this.s=3,nr(12)):(this.s=0,nr(13)),_o(this),Uo(this)}}}catch{}finally{}};function Os(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function vo(d,b){var x=d.C,U=b.indexOf(`
`,x);return U==-1?yo:(x=Number(b.substring(x,U)),isNaN(x)?Ms:(U+=1,U+x>b.length?yo:(b=b.slice(U,U+x),d.C=U+x,b)))}Ti.prototype.cancel=function(){this.J=!0,_o(this)};function ss(d){d.S=Date.now()+d.I,Uc(d,d.I)}function Uc(d,b){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Or(y(d.ba,d),b)}function fi(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ti.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(di(this.i,this.A),this.L!=2&&(lt(),nr(17)),_o(this),this.s=2,Uo(this)):Uc(this,this.S-d)};function Uo(d){d.j.G==0||d.J||kt(d.j,d)}function _o(d){fi(d);var b=d.M;b&&typeof b.ma=="function"&&b.ma(),d.M=null,Ht(d.U),d.g&&(b=d.g,d.g=null,b.abort(),b.ma())}function as(d,b){try{var x=d.j;if(x.G!=0&&(x.g==d||Ls(x.h,d))){if(!d.K&&Ls(x.h,d)&&x.G==3){try{var U=x.Da.g.parse(b)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ie=U;if(ie[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)Nt(x),ls(x);else break e;et(x),nr(18)}}else x.za=ie[1],0<x.za-x.T&&37500>ie[2]&&x.F&&x.v==0&&!x.C&&(x.C=Or(y(x.Za,x),6e3));if(1>=eo(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else jn(x,11)}else if((d.K||x.g==d)&&Nt(x),!Z(b))for(ie=x.Da.g.parse(b),b=0;b<ie.length;b++){let Vt=ie[b];if(x.T=Vt[0],Vt=Vt[1],x.G==2)if(Vt[0]=="c"){x.K=Vt[1],x.ia=Vt[2];let dr=Vt[3];dr!=null&&(x.la=dr,x.j.info("VER="+x.la));let Sr=Vt[4];Sr!=null&&(x.Aa=Sr,x.j.info("SVER="+x.Aa));let Ia=Vt[5];Ia!=null&&typeof Ia=="number"&&0<Ia&&(U=1.5*Ia,x.L=U,x.j.info("backChannelRequestTimeoutMs_="+U)),U=x;let br=d.g;if(br){let zs=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var _e=U.h;_e.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(to(_e,_e.h),_e.h=null))}if(U.D){let Kc=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;Kc&&(U.ya=Kc,Fn(U.I,U.D,Kc))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),U=x;var qe=d;if(U.qa=f(U,U.J?U.ia:null,U.W),qe.K){In(U.h,qe);var un=qe,ir=U.L;ir&&(un.I=ir),un.B&&(fi(un),ss(un)),U.g=qe}else ke(U);0<x.i.length&&O(x)}else Vt[0]!="stop"&&Vt[0]!="close"||jn(x,7);else x.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?jn(x,7):Ho(x):Vt[0]!="noop"&&x.l&&x.l.ta(Vt),x.v=0)}}lt(4)}catch{}}var tc=class{constructor(d,b){this.g=d,this.map=b}};function nc(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function eo(d){return d.h?1:d.g?d.g.size:0}function Ls(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function to(d,b){d.g?d.g.add(b):d.h=b}function In(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}nc.prototype.cancel=function(){if(this.i=cs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function cs(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let b=d.i;for(let x of d.g.values())b=b.concat(x.D);return b}return k(d.i)}function Ai(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var b=[],x=d.length,U=0;U<x;U++)b.push(d[U]);return b}b=[],x=0;for(U in d)b[x++]=d[U];return b}function Fs(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var b=[];d=d.length;for(var x=0;x<d;x++)b.push(x);return b}b=[],x=0;for(let U in d)b[x++]=U;return b}}}function kn(d,b){if(d.forEach&&typeof d.forEach=="function")d.forEach(b,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,b,void 0);else for(var x=Fs(d),U=Ai(d),ie=U.length,_e=0;_e<ie;_e++)b.call(void 0,U[_e],x&&x[_e],d)}var Yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rr(d,b){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var U=d[x].indexOf("="),ie=null;if(0<=U){var _e=d[x].substring(0,U);ie=d[x].substring(U+1)}else _e=d[x];b(_e,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Ar(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ar){this.h=d.h,_a(this,d.j),this.o=d.o,this.g=d.g,ic(this,d.s),this.l=d.l;var b=d.i,x=new ba;x.i=b.i,b.g&&(x.g=new Map(b.g),x.h=b.h),wo(this,x),this.m=d.m}else d&&(b=String(d).match(Yr))?(this.h=!1,_a(this,b[1]||"",!0),this.o=Si(b[2]||""),this.g=Si(b[3]||"",!0),ic(this,b[4]),this.l=Si(b[5]||"",!0),wo(this,b[6]||"",!0),this.m=Si(b[7]||"")):(this.h=!1,this.i=new ba(null,this.h))}Ar.prototype.toString=function(){var d=[],b=this.j;b&&d.push(Lr(b,qc,!0),":");var x=this.g;return(x||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Lr(b,qc,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Lr(x,x.charAt(0)=="/"?oc:qu,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Lr(x,Jr)),d.join("")};function no(d){return new Ar(d)}function _a(d,b,x){d.j=x?Si(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function ic(d,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);d.s=b}else d.s=null}function wo(d,b,x){b instanceof ba?(d.i=b,ac(d.i,d.h)):(x||(b=Lr(b,zc)),d.i=new ba(b,d.h))}function Fn(d,b,x){d.i.set(b,x)}function wa(d){return Fn(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Si(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Lr(d,b,x){return typeof d=="string"?(d=encodeURI(d).replace(b,Uu),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Uu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var qc=/[#\/\?@]/g,qu=/[#\?:]/g,oc=/[#\?]/g,zc=/[#\?@]/g,Jr=/#/g;function ba(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function Ci(d){d.g||(d.g=new Map,d.h=0,d.i&&rr(d.i,function(b,x){d.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}t=ba.prototype,t.add=function(d,b){Ci(this),this.i=null,d=Eo(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(b),this.h+=1,this};function sc(d,b){Ci(d),b=Eo(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function bo(d,b){return Ci(d),b=Eo(d,b),d.g.has(b)}t.forEach=function(d,b){Ci(this),this.g.forEach(function(x,U){x.forEach(function(ie){d.call(b,ie,U,this)},this)},this)},t.na=function(){Ci(this);let d=Array.from(this.g.values()),b=Array.from(this.g.keys()),x=[];for(let U=0;U<b.length;U++){let ie=d[U];for(let _e=0;_e<ie.length;_e++)x.push(b[U])}return x},t.V=function(d){Ci(this);let b=[];if(typeof d=="string")bo(this,d)&&(b=b.concat(this.g.get(Eo(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)b=b.concat(d[x])}return b},t.set=function(d,b){return Ci(this),this.i=null,d=Eo(this,d),bo(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},t.get=function(d,b){return d?(d=this.V(d),0<d.length?String(d[0]):b):b};function Pt(d,b,x){sc(d,b),0<x.length&&(d.i=null,d.g.set(Eo(d,b),k(x)),d.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],b=Array.from(this.g.keys());for(var x=0;x<b.length;x++){var U=b[x];let _e=encodeURIComponent(String(U)),qe=this.V(U);for(U=0;U<qe.length;U++){var ie=_e;qe[U]!==""&&(ie+="="+encodeURIComponent(String(qe[U]))),d.push(ie)}}return this.i=d.join("&")};function Eo(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function ac(d,b){b&&!d.j&&(Ci(d),d.i=null,d.g.forEach(function(x,U){var ie=U.toLowerCase();U!=ie&&(sc(this,U),Pt(this,ie,x))},d)),d.j=b}function zu(d,b){let x=new Bn;if(a.Image){let U=new Image;U.onload=g(wr,x,"TestLoadImage: loaded",!0,b,U),U.onerror=g(wr,x,"TestLoadImage: error",!1,b,U),U.onabort=g(wr,x,"TestLoadImage: abort",!1,b,U),U.ontimeout=g(wr,x,"TestLoadImage: timeout",!1,b,U),a.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=d}else b(!1)}function Li(d,b){let x=new Bn,U=new AbortController,ie=setTimeout(()=>{U.abort(),wr(x,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:U.signal}).then(_e=>{clearTimeout(ie),_e.ok?wr(x,"TestPingServer: ok",!0,b):wr(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(ie),wr(x,"TestPingServer: error",!1,b)})}function wr(d,b,x,U,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),U(x)}catch{}}function $u(){this.g=new Vn}function $c(d,b,x){let U=x||"";try{kn(d,function(ie,_e){let qe=ie;u(ie)&&(qe=Ln(ie)),b.push(U+_e+"="+encodeURIComponent(qe))})}catch(ie){throw b.push(U+"type="+encodeURIComponent("_badmap")),ie}}function wn(d){this.l=d.Ub||null,this.j=d.eb||!1}R(wn,_t),wn.prototype.g=function(){return new Vs(this.l,this.j)},wn.prototype.i=(function(d){return function(){return d}})({});function Vs(d,b){Et.call(this),this.D=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Vs,Et),t=Vs.prototype,t.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=b,this.readyState=1,Di(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(b.body=d),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bs(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bs(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?js(this):Di(this),this.readyState==3&&Bs(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,js(this))},t.Qa=function(d){this.g&&(this.response=d,js(this))},t.ga=function(){this.g&&js(this)};function js(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Di(d)}t.setRequestHeader=function(d,b){this.u.append(d,b)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=b.next();return d.join(`\r
`)};function Di(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Hc(d){let b="";return be(d,function(x,U){b+=U,b+=":",b+=x,b+=`\r
`}),b}function qo(d,b,x){e:{for(U in x){var U=!1;break e}U=!0}U||(x=Hc(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):Fn(d,b,x))}function hn(d){Et.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(hn,Et);var Gc=/^https?$/i,us=["POST","PUT"];t=hn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,b,x,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hi.g(),this.v=this.o?Mt(this.o):Mt(hi),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(_e){zo(this,_e);return}if(d=x||"",x=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ie in U)x.set(ie,U[ie]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(let _e of U.keys())x.set(_e,U.get(_e));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(x.keys()).find(_e=>_e.toLowerCase()=="content-type"),ie=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(us,b,void 0))||U||ie||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[_e,qe]of x)this.g.setRequestHeader(_e,qe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ea(this),this.u=!0,this.g.send(d),this.u=!1}catch(_e){zo(this,_e)}};function zo(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.m=5,Us(d),Fi(d)}function Us(d){d.A||(d.A=!0,It(d,"complete"),It(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,It(this,"complete"),It(this,"abort"),Fi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),hn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qs(this):this.bb())},t.bb=function(){qs(this)};function qs(d){if(d.h&&typeof s<"u"&&(!d.v[1]||pi(d)!=4||d.Z()!=2)){if(d.u&&pi(d)==4)Ut(d.Ea,0,d);else if(It(d,"readystatechange"),pi(d)==4){d.h=!1;try{let qe=d.Z();e:switch(qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var x;if(!(x=b)){var U;if(U=qe===0){var ie=String(d.D).match(Yr)[1]||null;!ie&&a.self&&a.self.location&&(ie=a.self.location.protocol.slice(0,-1)),U=!Gc.test(ie?ie.toLowerCase():"")}x=U}if(x)It(d,"complete"),It(d,"success");else{d.m=6;try{var _e=2<pi(d)?d.g.statusText:""}catch{_e=""}d.l=_e+" ["+d.Z()+"]",Us(d)}}finally{Fi(d)}}}}function Fi(d,b){if(d.g){Ea(d);let x=d.g,U=d.v[0]?()=>{}:null;d.g=null,d.v=null,b||It(d,"ready");try{x.onreadystatechange=U}catch{}}}function Ea(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function pi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<pi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),ut(b)}};function Wc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function $o(d){let b={};d=(d.g&&2<=pi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<d.length;U++){if(Z(d[U]))continue;var x=_(d[U]);let ie=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();let _e=b[ie]||[];b[ie]=_e,_e.push(x)}P(b,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fr(d,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||b}function cc(d){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fr("baseRetryDelayMs",5e3,d),this.cb=Fr("retryDelaySeedMs",1e4,d),this.Wa=Fr("forwardChannelMaxRetries",2,d),this.wa=Fr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new nc(d&&d.concurrentRequestLimit),this.Da=new $u,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cc.prototype,t.la=8,t.G=1,t.connect=function(d,b,x,U){nr(0),this.W=d,this.H=b||{},x&&U!==void 0&&(this.H.OSID=x,this.H.OAID=U),this.F=this.X,this.I=f(this,null,this.W),O(this)};function Ho(d){if(v(d),d.G==3){var b=d.U++,x=no(d.I);if(Fn(x,"SID",d.K),Fn(x,"RID",b),Fn(x,"TYPE","terminate"),le(d,x),b=new Ti(d,d.j,b),b.L=2,b.v=wa(no(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=b.v,x=!0),x||(b.g=A(b.j,null),b.g.ea(b.v)),b.F=Date.now(),ss(b)}pn(d)}function ls(d){d.g&&(it(d),d.g.cancel(),d.g=null)}function v(d){ls(d),d.u&&(a.clearTimeout(d.u),d.u=null),Nt(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function O(d){if(!rc(d.h)&&!d.s){d.s=!0;var b=d.Ga;Te||$e(),pe||(Te(),pe=!0),Ae.add(b,d),d.B=0}}function G(d,b){return eo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=b.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Or(y(d.Ga,d,b),Yn(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let ie=new Ti(this,this.j,d),_e=this.o;if(this.S&&(_e?(_e=T(_e),D(_e,this.S)):_e=this.S),this.m!==null||this.O||(ie.H=_e,_e=null),this.P)e:{for(var b=0,x=0;x<this.i.length;x++){t:{var U=this.i[x];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(b+=U,4096<b){b=x;break e}if(b===4096||x===this.i.length-1){b=x+1;break e}}b=1e3}else b=1e3;b=Se(this,ie,b),x=no(this.I),Fn(x,"RID",d),Fn(x,"CVER",22),this.D&&Fn(x,"X-HTTP-Session-Id",this.D),le(this,x),_e&&(this.O?b="headers="+encodeURIComponent(String(Hc(_e)))+"&"+b:this.m&&qo(x,this.m,_e)),to(this.h,ie),this.Ua&&Fn(x,"TYPE","init"),this.P?(Fn(x,"$req",b),Fn(x,"SID","null"),ie.T=!0,is(ie,x,null)):is(ie,x,b),this.G=2}}else this.G==3&&(d?te(this,d):this.i.length==0||rc(this.h)||te(this))};function te(d,b){var x;b?x=b.l:x=d.U++;let U=no(d.I);Fn(U,"SID",d.K),Fn(U,"RID",x),Fn(U,"AID",d.T),le(d,U),d.m&&d.o&&qo(U,d.m,d.o),x=new Ti(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),b&&(d.i=b.D.concat(d.i)),b=Se(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),to(d.h,x),is(x,U,b)}function le(d,b){d.H&&be(d.H,function(x,U){Fn(b,U,x)}),d.l&&kn({},function(x,U){Fn(b,U,x)})}function Se(d,b,x){x=Math.min(d.i.length,x);var U=d.l?y(d.l.Na,d.l,d):null;e:{var ie=d.i;let _e=-1;for(;;){let qe=["count="+x];_e==-1?0<x?(_e=ie[0].g,qe.push("ofs="+_e)):_e=0:qe.push("ofs="+_e);let un=!0;for(let ir=0;ir<x;ir++){let Vt=ie[ir].g,dr=ie[ir].map;if(Vt-=_e,0>Vt)_e=Math.max(0,ie[ir].g-100),un=!1;else try{$c(dr,qe,"req"+Vt+"_")}catch{U&&U(dr)}}if(un){U=qe.join("&");break e}}}return d=d.i.splice(0,x),b.D=d,U}function ke(d){if(!d.g&&!d.u){d.Y=1;var b=d.Fa;Te||$e(),pe||(Te(),pe=!0),Ae.add(b,d),d.v=0}}function et(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Or(y(d.Fa,d),Yn(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,xt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Or(y(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nr(10),ls(this),xt(this))};function it(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function xt(d){d.g=new Ti(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var b=no(d.qa);Fn(b,"RID","rpc"),Fn(b,"SID",d.K),Fn(b,"AID",d.T),Fn(b,"CI",d.F?"0":"1"),!d.F&&d.ja&&Fn(b,"TO",d.ja),Fn(b,"TYPE","xmlhttp"),le(d,b),d.m&&d.o&&qo(b,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=wa(no(b)),x.m=null,x.P=!0,os(x,d)}t.Za=function(){this.C!=null&&(this.C=null,ls(this),et(this),nr(19))};function Nt(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function kt(d,b){var x=null;if(d.g==b){Nt(d),it(d),d.g=null;var U=2}else if(Ls(d.h,b))x=b.D,In(d.h,b),U=1;else return;if(d.G!=0){if(b.o)if(U==1){x=b.m?b.m.length:0,b=Date.now()-b.F;var ie=d.B;U=Yi(),It(U,new Kr(U,x)),O(d)}else ke(d);else if(ie=b.s,ie==3||ie==0&&0<b.X||!(U==1&&G(d,b)||U==2&&et(d)))switch(x&&0<x.length&&(b=d.h,b.i=b.i.concat(x)),ie){case 1:jn(d,5);break;case 4:jn(d,10);break;case 3:jn(d,6);break;default:jn(d,2)}}}function Yn(d,b){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*b}function jn(d,b){if(d.j.info("Error code "+b),b==2){var x=y(d.fb,d),U=d.Xa;let ie=!U;U=new Ar(U||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_a(U,"https"),wa(U),ie?zu(U.toString(),x):Li(U.toString(),x)}else nr(2);d.G=0,d.l&&d.l.sa(b),pn(d),v(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),nr(2)):(this.j.info("Failed to ping google.com"),nr(1))};function pn(d){if(d.G=0,d.ka=[],d.l){let b=cs(d.h);(b.length!=0||d.i.length!=0)&&(M(d.ka,b),M(d.ka,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.ra()}}function f(d,b,x){var U=x instanceof Ar?no(x):new Ar(x);if(U.g!="")b&&(U.g=b+"."+U.g),ic(U,U.s);else{var ie=a.location;U=ie.protocol,b=b?b+"."+ie.hostname:ie.hostname,ie=+ie.port;var _e=new Ar(null);U&&_a(_e,U),b&&(_e.g=b),ie&&ic(_e,ie),x&&(_e.l=x),U=_e}return x=d.D,b=d.ya,x&&b&&Fn(U,x,b),Fn(U,"VER",d.la),le(d,U),U}function A(d,b,x){if(b&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Ca&&!d.pa?new hn(new wn({eb:x})):new hn(d.pa),b.Ha(d.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function N(){}t=N.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function q(){}q.prototype.g=function(d,b){return new oe(d,b)};function oe(d,b){Et.call(this),this.g=new cc(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(d?d["X-WebChannel-Client-Profile"]=b.va:d={"X-WebChannel-Client-Profile":b.va}),this.g.S=d,(d=b&&b.Sb)&&!Z(d)&&(this.g.m=d),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!Z(b)&&(this.g.D=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new At(this)}R(oe,Et),oe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},oe.prototype.close=function(){Ho(this.g)},oe.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=Ln(d),d=x);b.i.push(new tc(b.Ya++,d)),b.G==3&&O(b)},oe.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,oe.aa.N.call(this)};function me(d){Xe.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(let x in b){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}R(me,Xe);function He(){dn.call(this),this.status=1}R(He,dn);function At(d){this.g=d}R(At,N),At.prototype.ua=function(){It(this.g,"a")},At.prototype.ta=function(d){It(this.g,new me(d))},At.prototype.sa=function(d){It(this.g,new He)},At.prototype.ra=function(){It(this.g,"b")},q.prototype.createWebChannel=q.prototype.g,oe.prototype.send=oe.prototype.o,oe.prototype.open=oe.prototype.m,oe.prototype.close=oe.prototype.close,hV=xu.createWebChannelTransport=function(){return new q},dV=xu.getStatEventTarget=function(){return Yi()},lV=xu.Event=Mr,uV=xu.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ei.NO_ERROR=0,Ei.TIMEOUT=8,Ei.HTTP_ERROR=6,cV=xu.ErrorCode=Ei,Ii.COMPLETE="complete",aV=xu.EventType=Ii,Pn.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",Et.prototype.listen=Et.prototype.K,sV=xu.WebChannel=Pn,YX=xu.FetchXmlHttpFactory=wn,hn.prototype.listenOnce=hn.prototype.L,hn.prototype.getLastError=hn.prototype.Ka,hn.prototype.getLastErrorCode=hn.prototype.Ba,hn.prototype.getStatus=hn.prototype.Z,hn.prototype.getResponseJson=hn.prototype.Oa,hn.prototype.getResponseText=hn.prototype.oa,hn.prototype.send=hn.prototype.ea,hn.prototype.setWithCredentials=hn.prototype.Ha,oV=xu.XhrIo=hn}).apply(typeof k1<"u"?k1:typeof self<"u"?self:typeof window<"u"?window:{});var fV="@firebase/firestore",pV="4.8.0";var Ki=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ki.UNAUTHENTICATED=new Ki(null),Ki.GOOGLE_CREDENTIALS=new Ki("google-credentials-uid"),Ki.FIRST_PARTY=new Ki("first-party-uid"),Ki.MOCK_USER=new Ki("mock-user");var my="11.10.0";var hp=new Ac("@firebase/firestore");function Ya(t,...e){if(hp.logLevel<=qn.DEBUG){let n=e.map(sx);hp.debug(`Firestore (${my}): ${t}`,...n)}}function CV(t,...e){if(hp.logLevel<=qn.ERROR){let n=e.map(sx);hp.error(`Firestore (${my}): ${t}`,...n)}}function JX(t,...e){if(hp.logLevel<=qn.WARN){let n=e.map(sx);hp.warn(`Firestore (${my}): ${t}`,...n)}}function sx(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function ts(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,DV(t,r,n)}function DV(t,e,n){let r=`FIRESTORE (${my}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw CV(r),new Error(r)}function ch(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||DV(e,i,r)}var Rn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_n=class extends ua{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var uh=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var M1=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},UD=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ki.UNAUTHENTICATED))}shutdown(){}},qD=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},zD=class{constructor(e){this.t=e,this.currentUser=Ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ch(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new uh;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new uh,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Ya("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Ya("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new uh)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ya("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ch(typeof r.accessToken=="string",31837,{l:r}),new M1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ch(e===null||typeof e=="string",2055,{h:e}),new Ki(e)}},$D=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ki.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},HD=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $D(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}},O1=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},GD=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_u(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ch(this.o===void 0,3512);let r=o=>{o.error!=null&&Ya("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,Ya("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Ya("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):Ya("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new O1(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ch(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new O1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ZX(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function XX(){return new TextEncoder}var WD=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=ZX(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ga(t,e){return t<e?-1:t>e?1:0}function eee(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ga(r,i);{let o=XX(),s=tee(o.encode(gV(t,n)),o.encode(gV(e,n)));return s!==0?s:ga(r,i)}}n+=r>65535?2:1}return ga(t.length,e.length)}function gV(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function tee(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ga(t[n],e[n]);return ga(t.length,e.length)}var mV="__name__",L1=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ts(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ts(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ga(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):eee(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return P1.fromString(e.substring(4,e.length-2))}},Nu=class t extends L1{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new _n(Rn.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},nee=/^[_a-zA-Z][_a-zA-Z0-9]*$/,KD=class t extends L1{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return nee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mV}static keyField(){return new t([mV])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new _n(Rn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new _n(Rn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new _n(Rn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new _n(Rn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Ru=class t{constructor(e){this.path=e}static fromPath(e){return new t(Nu.fromString(e))}static fromName(e){return new t(Nu.fromString(e).popFirst(5))}static empty(){return new t(Nu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nu.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Nu.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Nu(e.slice()))}};function ree(t,e,n,r){if(e===!0&&r===!0)throw new _n(Rn.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iee(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function oee(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ts(12329,{type:typeof t})}function see(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _n(Rn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=oee(t);throw new _n(Rn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function li(t,e){let n={typeString:t};return e&&(n.value=e),n}function yy(t,e){if(!iee(t))throw new _n(Rn.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new _n(Rn.INVALID_ARGUMENT,n);return!0}var yV=-62135596800,vV=1e6,ly=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*vV);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _n(Rn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _n(Rn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yV)throw new _n(Rn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _n(Rn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vV}_compareTo(e){return this.seconds===e.seconds?ga(this.nanoseconds,e.nanoseconds):ga(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yy(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-yV;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ly._jsonSchemaVersion="firestore/timestamp/1.0",ly._jsonSchema={type:li("string",ly._jsonSchemaVersion),seconds:li("number"),nanoseconds:li("number")};var QD=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};QD.UNKNOWN_ID=-1;function aee(t){return t.name==="IndexedDbTransactionError"}function cee(t){return t===0&&1/t==-1/0}var uee="remoteDocuments",xV="owner";var NV="mutationQueues";var RV="mutations";var PV="documentMutations",lee="remoteDocumentsV14";var kV="remoteDocumentGlobal";var MV="targets";var OV="targetDocuments";var LV="targetGlobal",FV="collectionParents";var VV="clientMetadata";var BV="bundles";var jV="namedQueries";var dee="indexConfiguration";var hee="indexState";var fee="indexEntries";var UV="documentOverlays";var pee="globals";var gee=[NV,RV,PV,uee,MV,xV,LV,OV,VV,kV,FV,BV,jV],OTe=[...gee,UV],mee=[NV,RV,PV,lee,MV,xV,LV,OV,VV,kV,FV,BV,jV,UV],yee=mee,vee=[...yee,dee,hee,fee];var LTe=[...vee,pee];var fp=class t{constructor(e,n){this.comparator=e,this.root=n||Pc.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pc.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pc.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cp(this.root,e,this.comparator,!0)}},cp=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pc=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ts(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ts(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ts(27949);return e+(this.isRed()?0:1)}};Pc.EMPTY=null,Pc.RED=!0,Pc.BLACK=!1;Pc.EMPTY=new class{constructor(){this.size=0}get key(){throw ts(57766)}get value(){throw ts(16141)}get color(){throw ts(16727)}get left(){throw ts(29726)}get right(){throw ts(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Pc(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var F1=class t{constructor(e){this.comparator=e,this.data=new fp(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V1(this.data.getIterator())}getIteratorFrom(e){return new V1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},V1=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var YD=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ql=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new YD("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ga(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ql.EMPTY_BYTE_STRING=new ql("");var _ee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wee(t){if(ch(!!t,39018),typeof t=="string"){let e=0,n=_ee.exec(t);if(ch(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dy(t.seconds),nanos:dy(t.nanos)}}function dy(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bee(t){return typeof t=="string"?ql.fromBase64String(t):ql.fromUint8Array(t)}var JD="(default)",ZD=class t{constructor(e,n){this.projectId=e,this.database=n||JD}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===JD}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var qV="__type__",Eee="__max__";var zV="__vector__",$V="value";function Iee(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[qV])===null||n===void 0?void 0:n.stringValue)===zV}function Tee(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Eee}var VTe={mapValue:{fields:{[qV]:{stringValue:zV},[$V]:{arrayValue:{}}}}};var XD=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Aee(t){return new XD(t)}var BTe=new fp(Ru.comparator);var jTe=new fp(Ru.comparator);var UTe=new fp(Ru.comparator),qTe=new F1(Ru.comparator);var zTe=new F1(ga);var _V,Nn;(Nn=_V||(_V={}))[Nn.OK=0]="OK",Nn[Nn.CANCELLED=1]="CANCELLED",Nn[Nn.UNKNOWN=2]="UNKNOWN",Nn[Nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nn[Nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nn[Nn.NOT_FOUND=5]="NOT_FOUND",Nn[Nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nn[Nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nn[Nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nn[Nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nn[Nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nn[Nn.ABORTED=10]="ABORTED",Nn[Nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nn[Nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nn[Nn.INTERNAL=13]="INTERNAL",Nn[Nn.UNAVAILABLE=14]="UNAVAILABLE",Nn[Nn.DATA_LOSS=15]="DATA_LOSS";var $Te=new P1([4294967295,4294967295],0);var B1=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(dy(e.integerValue));else if("doubleValue"in e){let r=dy(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),cee(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=wee(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(bee(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?Tee(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):Iee(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):ts(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=$V,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(dy(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),Ru.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};B1.Ut=new B1;var HTe=new Uint8Array(0);var HV=41943040,Rc=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Rc.DEFAULT_COLLECTION_PERCENTILE=10,Rc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rc.DEFAULT=new Rc(HV,Rc.DEFAULT_COLLECTION_PERCENTILE,Rc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rc.DISABLED=new Rc(-1,0,0);var See=1048576;function jD(){return typeof document<"u"?document:null}var ex=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Ya("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var tx=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new uh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _n(Rn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var wV,bV;(bV=wV||(wV={})).Fa="default",bV.Cache="cache";function Cee(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var EV=new Map;var GV="firestore.googleapis.com",IV=!0,j1=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _n(Rn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GV,this.ssl=IV}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:IV;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<See)throw new _n(Rn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ree("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cee((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new _n(Rn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new _n(Rn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new _n(Rn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},U1=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _n(Rn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _n(Rn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UD;switch(r.type){case"firstParty":return new HD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _n(Rn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=EV.get(n);r&&(Ya("ComponentProvider","Removing Datastore"),EV.delete(n),r.terminate())})(this),Promise.resolve()}};function WV(t,e,n,r={}){var i;t=see(t,U1);let o=Cf(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;o&&(fS(`https://${c}`),pS("Firestore",!0)),s.host!==GV&&s.host!==c&&JX("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Ld(u,a)&&(t._setSettings(u),r.mockUserToken)){let l,m;if(typeof r.mockUserToken=="string")l=r.mockUserToken,m=Ki.MOCK_USER;else{l=dL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new _n(Rn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ki(y)}t._authCredentials=new qD(new M1(l,m))}}var nx=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},lh=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rx(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yy(n,t._jsonSchema))return new t(e,r||null,new Ru(Nu.fromString(n.referencePath)))}};lh._jsonSchemaVersion="firestore/documentReference/1.0",lh._jsonSchema={type:li("string",lh._jsonSchemaVersion),referencePath:li("string")};var rx=class t extends nx{constructor(e,n,r){super(e,n,Aee(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new lh(this.firestore,null,new Ru(e))}withConverter(e){return new t(this.firestore,e,this._path)}};var TV="AsyncQueue",q1=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ex(this,"async_queue_retry"),this.oc=()=>{let r=jD();r&&Ya(TV,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=jD();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=jD();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new uh;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!aee(e))throw e;Ya(TV,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,CV("INTERNAL UNHANDLED ERROR: ",AV(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=tx.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ts(47125,{hc:AV(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function AV(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var ix=class extends U1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new q1,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new q1(e),this._firestoreClient=void 0,await e}}};function KV(t,e){let n=typeof t=="object"?t:xf(),r=typeof t=="string"?t:e||JD,i=tw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=uL("firestore");o&&WV(i,...o)}return i}var hy=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(ql.fromBase64String(e))}catch(n){throw new _n(Rn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(ql.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yy(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};hy._jsonSchemaVersion="firestore/bytes/1.0",hy._jsonSchema={type:li("string",hy._jsonSchemaVersion),bytes:li("string")};var z1=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _n(Rn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new KD(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var fy=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _n(Rn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _n(Rn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ga(this._lat,e._lat)||ga(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(yy(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};fy._jsonSchemaVersion="firestore/geoPoint/1.0",fy._jsonSchema={type:li("string",fy._jsonSchemaVersion),latitude:li("number"),longitude:li("number")};var py=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yy(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new _n(Rn.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};py._jsonSchemaVersion="firestore/vectorValue/1.0",py._jsonSchema={type:li("string",py._jsonSchemaVersion),vectorValues:li("object")};var Dee=new RegExp("[~\\*/\\[\\]]");function xee(t,e,n){if(e.search(Dee)>=0)throw SV(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new z1(...e.split("."))._internalPath}catch{throw SV(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function SV(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new _n(Rn.INVALID_ARGUMENT,a+t+c)}var $1=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new lh(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ox(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(QV("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},ox=class extends $1{data(){return super.data()}};function QV(t,e){return typeof e=="string"?xee(t,e):e instanceof z1?e._internalPath:e._delegate._internalPath}var up=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},lp=class t extends $1{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(QV("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _n(Rn.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};lp._jsonSchemaVersion="firestore/documentSnapshot/1.0",lp._jsonSchema={type:li("string",lp._jsonSchemaVersion),bundleSource:li("string","DocumentSnapshot"),bundleName:li("string"),bundle:li("string")};var dp=class extends lp{data(e={}){return super.data(e)}},gy=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new up(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dp(this._firestore,this._userDataWriter,r.key,r,new up(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _n(Rn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new dp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new up(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new dp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new up(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:Nee(a.type),doc:c,oldIndex:u,newIndex:l}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _n(Rn.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=WD.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Nee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ts(61501,{type:t})}}gy._jsonSchemaVersion="firestore/querySnapshot/1.0",gy._jsonSchema={type:li("string",gy._jsonSchemaVersion),bundleSource:li("string","QuerySnapshot"),bundleName:li("string"),bundle:li("string")};(function(e,n=!0){(function(i){my=i})(Df),za(new Mo("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ix(new zD(r.getProvider("auth-internal")),new GD(s,r.getProvider("app-check-internal")),(function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new _n(Rn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ZD(u.options.projectId,l)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),$r(fV,pV,e),$r(fV,pV,"esm2017")})();var pp=class{constructor(e){return e}},YV="firestore",ax=class{constructor(){return Rf(YV)}};var cx=new mt("angularfire2.firestore-instances");function Ree(t,e){let n=iw(YV,t,e);return n&&new pp(n)}function Pee(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new pp(r)}}var kee={provide:ax,deps:[[new au,cx]]},Mee={provide:pp,useFactory:Ree,deps:[[new au,cx],zd]};function JV(t,...e){return $r("angularfire",jd.full,"fst"),iu([Mee,kee,{provide:cx,useFactory:Pee(t),multi:!0,deps:[Er,Ni,Ud,Am,[new au,xw],[new au,sw],...e]}])}var H1=qd(tV,!0);var ZV=qd(KV,!0);var Oee="firebase",Lee="12.6.0";Wa(Oee,Lee,"app");var i6="firebasestorage.googleapis.com",Fee="storageBucket",Vee=120*1e3,Bee=600*1e3;var kc=class t extends Ha{constructor(e,n,r=0){super(ux(e),`Firebase Storage: ${n} (${ux(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ux(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ku=(function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t})(ku||{});function ux(t){return"storage/"+t}function jee(){let t="An unknown error occurred, please check the error payload for server response.";return new kc(ku.UNKNOWN,t)}function Uee(){return new kc(ku.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qee(){return new kc(ku.CANCELED,"User canceled the upload/download.")}function zee(t){return new kc(ku.INVALID_URL,"Invalid URL '"+t+"'.")}function $ee(t){return new kc(ku.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function XV(t){return new kc(ku.INVALID_ARGUMENT,t)}function o6(){return new kc(ku.APP_DELETED,"The Firebase app was deleted.")}function Hee(t){return new kc(ku.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Pu=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw $ee(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(Y){Y.path_=decodeURIComponent(Y.path)}let l="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${l}/b/${i}/o${y}`,"i"),R={bucket:1,path:3},k=n===i6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",L=new RegExp(`^https?://${k}/${i}/${M}`,"i"),J=[{regex:a,indices:c,postModify:o},{regex:g,indices:R,postModify:u},{regex:L,indices:{bucket:1,path:2},postModify:u}];for(let Y=0;Y<J.length;Y++){let fe=J[Y],be=fe.regex.exec(e);if(be){let P=be[fe.indices.bucket],T=be[fe.indices.path];T||(T=""),r=new t(P,T),fe.postModify(r);break}}if(r==null)throw zee(e);return r}},lx=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Gee(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function l(...M){u||(u=!0,e.apply(null,M))}function m(M){i=setTimeout(()=>{i=null,t(g,c())},M)}function y(){o&&clearTimeout(o)}function g(M,...L){if(u){y();return}if(M){y(),l.call(null,M,...L);return}if(c()||s){y(),l.call(null,M,...L);return}r<64&&(r*=2);let J;a===1?(a=2,J=0):J=(r+Math.random())*1e3,m(J)}let R=!1;function k(M){R||(R=!0,y(),!u&&(i!==null?(M||(a=2),clearTimeout(i),m(0)):M||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,k(!0)},n),k}function Wee(t){t(!1)}function Kee(t){return t!==void 0}function e6(t,e,n,r){if(r<e)throw XV(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw XV(`Invalid value for '${t}'. Expected ${n} or less.`)}function Qee(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var dx=(function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t})(dx||{});function Yee(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var hx=class{constructor(e,n,r,i,o,s,a,c,u,l,m,y=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=m,this.retry=y,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,k)=>{this.resolve_=R,this.reject_=k,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new gp(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===dx.NO_ERROR,c=o.getStatus();if(!a||Yee(c,this.additionalRetryCodes_)&&this.retry){let l=o.getErrorCode()===dx.ABORT;r(!1,new gp(!1,null,l));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new gp(u,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());Kee(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=jee();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?o6():qee();s(c)}else{let c=Uee();s(c)}};this.canceled_?n(!1,new gp(!1,null,!0)):this.backoffId_=Gee(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Wee(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},gp=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Jee(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Zee(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Xee(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ete(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tte(t,e,n,r,i,o,s=!0,a=!1){let c=Qee(t.urlParams),u=t.url+c,l=Object.assign({},t.headers);return Xee(l,e),Jee(l,n),Zee(l,o),ete(l,r),new hx(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,a)}function nte(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rte(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var bSe=256*1024;var fx=class t{constructor(e,n){this._service=e,n instanceof Pu?this._location=n:this._location=Pu.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Pu(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rte(this._location.path)}get storage(){return this._service}get parent(){let e=nte(this._location.path);if(e===null)return null;let n=new Pu(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Hee(e)}};function t6(t,e){let n=e?.[Fee];return n==null?null:Pu.makeFromBucketSpec(n,t)}function ite(t,e,n,r={}){t.host=`${e}:${n}`;let i=Pf(e);i&&(uw(`https://${t.host}/b`),dw("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:lw(o,t.app.options.projectId))}var px=class{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=i6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Vee,this._maxUploadRetryTime=Bee,this._requests=new Set,i!=null?this._bucket=Pu.makeFromBucketSpec(i,this._host):this._bucket=t6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pu.makeFromBucketSpec(this._url,e):this._bucket=t6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){e6("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){e6("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gw(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fx(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new lx(o6());{let s=tte(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){let[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}},n6="@firebase/storage",r6="0.14.0";var s6="storage";function a6(t=yw(),e){t=Oo(t);let r=pw(t,s6).getImmediate({identifier:e}),i=cw("storage");return i&&ote(r,...i),r}function ote(t,e,n,r={}){ite(t,e,n,r)}function ste(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new px(n,r,i,e,mw)}function ate(){Hd(new Ga(s6,ste,"PUBLIC").setMultipleInstances(!0)),Wa(n6,r6,""),Wa(n6,r6,"esm2020")}ate();var cte={apiKey:"AIzaSyBVEG3n4-C4FVtbJ9Q1giz24zN9qOkIK2Q",authDomain:"chanmurarestaurantui.firebaseapp.com",projectId:"chanmurarestaurantui",storageBucket:"chanmurarestaurantui.appspot.com",messagingSenderId:"31518285804",appId:"1:31518285804:web:5a2c2d2e146987d533eac9"},c6=JS(cte);var kSe=a6(c6),ma=class t{db;constructor(){this.db=F3(c6)}async addMenuItem(e){await BD(Ul(this.db,"menuItems"),e)}async addExpense(e){let n=Date.now().toString();await BD(Ul(this.db,`expenses/${e.createdAt}/entries/${n}`),e)}async getMenuItems(){return(await K3(Ul(this.db,"menuItems"))).docs.map(n=>Oe({id:n.id},n.data()))}async updateMenuItem(e,n){await S1(Qa(this.db,"menuItems",e),n)}async deleteMenuItem(e){await C1(Qa(this.db,"menuItems",e))}async getLastMonthStats(){let e=new Date,n=e.getMonth()===0?12:e.getMonth(),i=`${e.getMonth()===0?e.getFullYear()-1:e.getFullYear()}-${String(n).padStart(2,"0")}`,o=Qa(this.db,"analytics",i),s=await VD(o);return s.exists()?s.data():{daily:{},totalRevenue:0}}getDateKey(e=new Date){return e.toISOString().split("T")[0]}getCounterDocRef(e){return Qa(this.db,"sales-counters",e)}async placeOrderAtomic(e){let n=this.getDateKey(),r=this.getCounterDocRef(n),i=this.getOrdersCollectionRef(n),o=0,s=await J3(this.db,async y=>{let g=await y.get(r),R=1;g.exists()?(R=(g.data().count||0)+1,y.update(r,{count:R,updatedAt:N1()})):(y.set(r,{count:1,updatedAt:N1()}),R=1);let k=Qa(i),M=Ot(Oe({orderId:R},e),{totalAmount:Number(e.totalAmount||0),createdAt:N1()});return o=R,y.set(k,M),{orderId:R,docId:k.id}}),a="Naveen's Delhi Malai Chapp",u={Items:[...e.items],CustomerName:e.purchaserName,MobileNumber:e.mobileNumber,TotalAmount:e.totalAmount}.Items.map(y=>`${y.name} x${y.quantity} - \u20B9${y.totalPrice}`).join(`
`),l=encodeURIComponent(`
New Order from ${a} #${o}
Items:
${u}
Total: \u20B9${e.totalAmount}`),m=`https://wa.me/${e.mobileNumber}?text=${l}`;return window.location.href=m,s}subscribeTodayOrders(e){let n=this.getDateKey(),r=this.getOrdersCollectionRef(n),i=H3(r,G3("createdAt","desc"));return D1(i,s=>{let a=s.docs.map(c=>Oe({id:c.id},c.data()));e(a)},s=>{console.error("subscribeTodayOrders error",s),e([])})}async getTodayCounter(){let e=this.getDateKey(),n=await VD(this.getCounterDocRef(e));if(!n.exists())return 0;let r=n.data();return Number(r.count||0)}getOrderbyDate(e){let n=e||this.getDateKey(),r=this.getOrdersCollectionRef(n);return H1(r,{idField:"id"})}getOrdersCollectionRef(e){return Ul(this.db,`sales/${e}/orders`)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})};function ute(t,e){t&1&&(ae(0,"p",31),we(1,"Out of Stock"),se())}function lte(t,e){if(t&1){let n=Wi();ae(0,"div",21)(1,"div",22)(2,"img",23),Tt("error",function(i){an(n);let o=Rt();return cn(o.onImageError(i))}),se(),ae(3,"div",24)(4,"h5",25),we(5),se(),ae(6,"p",26),we(7),se(),ae(8,"div",27)(9,"button",28),Tt("click",function(){let i=an(n).$implicit,o=Rt();return cn(o.decreaseQuantity(i))}),we(10,"-"),se(),ae(11,"span"),we(12),se(),ae(13,"button",29),Tt("click",function(){let i=an(n).$implicit,o=Rt();return cn(o.increaseQuantity(i))}),we(14,"+"),se()(),ar(15,ute,2,0,"p",30),se()()()}if(t&2){let n=e.$implicit;Le(2),Zt("src",n.imageUrl||"assets/default.jpg",bl)("alt",n.name),Le(3),cr(n.name),Le(2),fr("Price: \u20B9",n.price),Le(2),Zt("disabled",(n.quantityAvailable||0)===0),Le(3),cr(n.quantity||0),Le(),Zt("disabled",(n.quantityAvailable||0)===0),Le(2),Zt("ngIf",n.quantityAvailable===0)}}function dte(t,e){if(t&1){let n=Wi();ae(0,"div",32)(1,"span"),we(2),se(),ae(3,"button",33),Tt("click",function(){an(n);let i=Rt();return cn(i.viewCart())}),we(4," View Cart "),se()()}if(t&2){let n=Rt();Le(2),Og("",n.cartItemCount," item",n.cartItemCount>1?"s":""," in cart")}}var G1=class t{constructor(e,n,r){this.cartService=e;this.firebaseService=n;this.router=r}menuItems=Hi([]);cartItems=[];isLoading=!0;cartItemCount=0;searchText="";selectedCategory="";minPrice=null;maxPrice=null;sortOrder="";availabilityFilter="";currentPage=1;itemsPerPage=6;async ngOnInit(){let e=await this.firebaseService.getMenuItems();this.menuItems.set(e),this.cartService.cartItems$.subscribe(n=>{this.cartItems=n,this.cartItemCount=n.reduce((i,o)=>i+o.quantity,0);let r=e.map(i=>{let o=n.find(s=>s.menuItem.id===i.id);return Ot(Oe({},i),{quantity:o?o.quantity:0})});this.menuItems.set(r)})}filteredMenuItems(){let e=this.menuItems();if(this.searchText.trim()){let n=this.searchText.toLowerCase();e=e.filter(r=>r.name.toLowerCase().includes(n))}return this.selectedCategory&&(e=e.filter(n=>n.category===this.selectedCategory)),this.minPrice!==null&&(e=e.filter(n=>n.price>=this.minPrice)),this.maxPrice!==null&&(e=e.filter(n=>n.price<=this.maxPrice)),this.availabilityFilter==="in"?e=e.filter(n=>n.quantityAvailable>0):this.availabilityFilter==="out"&&(e=e.filter(n=>n.quantityAvailable===0)),this.sortOrder==="asc"?e.sort((n,r)=>n.price-r.price):this.sortOrder==="desc"&&e.sort((n,r)=>r.price-n.price),e}get totalPages(){return Math.ceil(this.filteredMenuItems().length/this.itemsPerPage)}paginatedItems(){let e=(this.currentPage-1)*this.itemsPerPage,n=e+this.itemsPerPage;return this.filteredMenuItems().slice(e,n)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}previousPage(){this.currentPage>1&&this.currentPage--}viewCart(){this.router.navigate(["/cart"])}onImageError(e){e.target.src="assets/default.jpg"}increaseQuantity(e){e.quantity=(e.quantity||0)+1,this.cartService.addToCart(e,1)}decreaseQuantity(e){(e.quantity||0)<=0||(e.quantity=e.quantity-1,this.cartService.addToCart(e,-1))}static \u0275fac=function(n){return new(n||t)(st(ca),st(ma),st(sa))};static \u0275cmp=Gi({type:t,selectors:[["app-menu-list"]],decls:40,vars:12,consts:[[1,"container","mt-3"],["type","text","placeholder","Search items...",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"form-select","mb-3",3,"ngModelChange","ngModel"],["value",""],["value","Veg"],["value","Non-Veg"],[1,"row","mb-3"],[1,"col-md-6"],["type","number","placeholder","Min Price",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","Max Price",1,"form-control",3,"ngModelChange","ngModel"],["value","asc"],["value","desc"],["value","in"],["value","out"],[1,"row"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"pagination-wrapper","d-flex","justify-content-center","mt-3"],[1,"btn","btn-secondary","me-2",3,"click","disabled"],[1,"mt-2","mx-3"],[1,"btn","btn-secondary","ms-2",3,"click","disabled"],["class","cart-notification-bar d-flex justify-content-between align-items-center",4,"ngIf"],[1,"col-md-4","mb-3"],[1,"card","h-100","p-2"],[1,"card-img-top","fixed-img",3,"error","src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"d-flex","align-items-center"],[1,"btn","btn-outline-secondary","btn-sm","me-2",3,"click","disabled"],[1,"btn","btn-outline-secondary","btn-sm","ms-2",3,"click","disabled"],["class","card-text outofStock",4,"ngIf"],[1,"card-text","outofStock"],[1,"cart-notification-bar","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(n,r){n&1&&(ae(0,"div",0)(1,"input",1),Sn("ngModelChange",function(o){return On(r.searchText,o)||(r.searchText=o),o}),Tt("ngModelChange",function(){return r.currentPage=1}),se(),ae(2,"select",2),Sn("ngModelChange",function(o){return On(r.selectedCategory,o)||(r.selectedCategory=o),o}),Tt("ngModelChange",function(){return r.currentPage=1}),ae(3,"option",3),we(4,"All Categories"),se(),ae(5,"option",4),we(6,"VEG"),se(),ae(7,"option",5),we(8,"NON-VEG"),se()(),ae(9,"div",6)(10,"div",7)(11,"input",8),Sn("ngModelChange",function(o){return On(r.minPrice,o)||(r.minPrice=o),o}),Tt("ngModelChange",function(){return r.currentPage=1}),se()(),ae(12,"div",7)(13,"input",9),Sn("ngModelChange",function(o){return On(r.maxPrice,o)||(r.maxPrice=o),o}),Tt("ngModelChange",function(){return r.currentPage=1}),se()()(),ae(14,"select",2),Sn("ngModelChange",function(o){return On(r.sortOrder,o)||(r.sortOrder=o),o}),Tt("ngModelChange",function(){return r.currentPage=1}),ae(15,"option",3),we(16,"Sort By"),se(),ae(17,"option",10),we(18,"Price: Low to High"),se(),ae(19,"option",11),we(20,"Price: High to Low"),se()(),ae(21,"select",2),Sn("ngModelChange",function(o){return On(r.availabilityFilter,o)||(r.availabilityFilter=o),o}),Tt("ngModelChange",function(){return r.currentPage=1}),ae(22,"option",3),we(23,"All Items"),se(),ae(24,"option",12),we(25,"In Stock"),se(),ae(26,"option",13),we(27,"Out of Stock"),se()(),ae(28,"h3"),we(29,"Menu"),se(),ae(30,"div",14),ar(31,lte,16,8,"div",15),se()(),ae(32,"div",16)(33,"button",17),Tt("click",function(){return r.previousPage()}),we(34," Previous "),se(),ae(35,"span",18),we(36),se(),ae(37,"button",19),Tt("click",function(){return r.nextPage()}),we(38," Next "),se()(),ar(39,dte,5,2,"div",20)),n&2&&(Le(),An("ngModel",r.searchText),Le(),An("ngModel",r.selectedCategory),Le(9),An("ngModel",r.minPrice),Le(2),An("ngModel",r.maxPrice),Le(),An("ngModel",r.sortOrder),Le(7),An("ngModel",r.availabilityFilter),Le(10),Zt("ngForOf",r.paginatedItems()),Le(2),Zt("disabled",r.currentPage===1),Le(3),Og(" Page ",r.currentPage," of ",r.totalPages," "),Le(),Zt("disabled",r.currentPage===r.totalPages),Le(2),Zt("ngIf",r.cartItemCount>0))},dependencies:[Po,oa,Va,Xo,K0,Q0,Zo,yu,Af,aa,Cs],styles:[".card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 6px #0000001a}.container[_ngcontent-%COMP%]{padding-bottom:80px}.pagination-wrapper[_ngcontent-%COMP%]{position:relative;z-index:1010;animation:_ngcontent-%COMP%_slideUp .5s ease-out}.fixed-img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-radius:6px}.category-dot[_ngcontent-%COMP%]{height:14px;width:14px;display:inline-block;border-radius:50%}.veg-dot[_ngcontent-%COMP%]{background-color:green;border:2px solid darkgreen}.nonveg-dot[_ngcontent-%COMP%]{background-color:red;border:2px solid darkred}.outofStock[_ngcontent-%COMP%]{color:red;font-weight:700}.cart-notification-bar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;background:#fff;padding:14px 18px;border-top:3px solid #0d6efd;z-index:2000;font-weight:600;animation:_ngcontent-%COMP%_slideUp .4s ease-out forwards;display:flex;justify-content:space-between;align-items:center;opacity:0}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}60%{opacity:.6}to{transform:translateY(0);opacity:1}}.cart-notification-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:transform .2s ease-out}.cart-notification-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.03)}@media(max-width:576px){.fixed-img[_ngcontent-%COMP%]{height:150px}}"]})};function hte(t,e){t&1&&(ae(0,"div"),we(1,"Your cart is empty"),se())}function fte(t,e){if(t&1){let n=Wi();ae(0,"tr")(1,"td"),we(2),se(),ae(3,"td"),we(4),se(),ae(5,"td"),we(6),se(),ae(7,"td"),we(8),se(),ae(9,"td")(10,"div",10)(11,"button",11),Tt("click",function(){let i=an(n).$implicit,o=Rt(2);return cn(o.decreaseQuantity(i))}),we(12,"-"),se(),ae(13,"span"),we(14),se(),ae(15,"button",12),Tt("click",function(){let i=an(n).$implicit,o=Rt(2);return cn(o.increaseQuantity(i))}),we(16,"+"),se()()(),ae(17,"td")(18,"button",13),Tt("click",function(){let i=an(n).$implicit,o=Rt(2);return cn(o.remove(i))}),we(19,"Remove"),se()()()}if(t&2){let n=e.$implicit;Le(2),cr(n.menuItem.name),Le(2),cr(n.menuItem.price),Le(2),cr(n.quantity),Le(2),cr(n.totalPrice),Le(6),cr(n.quantity||0)}}function pte(t,e){if(t&1&&(ae(0,"table",8)(1,"thead")(2,"tr")(3,"th"),we(4,"Name"),se(),ae(5,"th"),we(6,"Price"),se(),ae(7,"th"),we(8,"Quantity"),se(),ae(9,"th"),we(10,"Total"),se(),ae(11,"th"),we(12,"#"),se(),ae(13,"th"),we(14,"Actions"),se()()(),ae(15,"tbody"),ar(16,fte,20,5,"tr",9),se()()),t&2){let n=Rt();Le(16),Zt("ngForOf",n.cartItems)}}function gte(t,e){if(t&1){let n=Wi();ae(0,"div",14)(1,"div",15)(2,"h5",16),we(3),se(),ae(4,"p",17)(5,"strong"),we(6,"Price:"),se(),we(7),se(),ae(8,"p",17)(9,"strong"),we(10,"Total:"),se(),we(11),se(),ae(12,"div",18)(13,"button",11),Tt("click",function(){let i=an(n).$implicit,o=Rt();return cn(o.decreaseQuantity(i))}),we(14,"-"),se(),ae(15,"span"),we(16),se(),ae(17,"button",12),Tt("click",function(){let i=an(n).$implicit,o=Rt();return cn(o.increaseQuantity(i))}),we(18,"+"),se()(),ae(19,"button",19),Tt("click",function(){let i=an(n).$implicit,o=Rt();return cn(o.remove(i))}),we(20,"Remove"),se()()()}if(t&2){let n=e.$implicit;Le(3),cr(n.menuItem.name),Le(4),fr(" \u20B9",n.menuItem.price),Le(4),fr(" \u20B9",n.totalPrice),Le(5),cr(n.quantity)}}function mte(t,e){if(t&1&&(ae(0,"h4"),we(1),se()),t&2){let n=Rt();Le(),fr("Total Amount: \u20B9",n.totalAmount)}}function yte(t,e){if(t&1){let n=Wi();ae(0,"div")(1,"label"),we(2,"Purchaser Name:"),se(),ae(3,"input",20),Sn("ngModelChange",function(i){an(n);let o=Rt();return On(o.purchaserName,i)||(o.purchaserName=i),cn(i)}),se(),ae(4,"label"),we(5,"Mobile Number:"),se(),ae(6,"input",21),Sn("ngModelChange",function(i){an(n);let o=Rt();return On(o.mobileNumber,i)||(o.mobileNumber=i),cn(i)}),se()()}if(t&2){let n=Rt();Le(3),An("ngModel",n.purchaserName),Le(3),An("ngModel",n.mobileNumber)}}function vte(t,e){if(t&1){let n=Wi();ae(0,"button",22),Tt("click",function(){an(n);let i=Rt();return cn(i.confirmOrder())}),we(1,"Place Order"),se()}}var W1=class t{constructor(e,n,r){this.cartService=e;this.firebaseService=n;this.router=r}cartItems=[];purchaserName="";mobileNumber="";totalAmount=0;ngOnInit(){this.cartService.cartItems$.subscribe(e=>{this.cartItems=e,this.totalAmount=this.cartItems.reduce((n,r)=>n+r.totalPrice,0)})}increaseQuantity(e){this.cartService.addToCart(e.menuItem,1)}decreaseQuantity(e){e.quantity>1?this.cartService.addToCart(e.menuItem,-1):this.remove(e)}remove(e){this.cartService.removeFromCart(e.menuItem.id)}async confirmOrder(){if(!this.cartItems.length)return alert("Cart is empty!");if(!this.purchaserName.trim()||!this.mobileNumber.toString().trim())return alert("Enter customer name and mobile number!");let e={customerName:this.purchaserName,mobileNumber:this.mobileNumber,items:this.cartItems.map(n=>({id:n.menuItem.id,name:n.menuItem.name,price:n.menuItem.price,quantity:n.quantity,totalPrice:n.totalPrice})),totalAmount:this.totalAmount,DateTime:new Date().toLocaleString()};try{let{orderId:n,docId:r}=await this.firebaseService.placeOrderAtomic(e);alert(`Order placed \u2014 Order #${n}`);let i=Ot(Oe({},e),{orderId:n,createdAt:new Date().toLocaleString()});this.printInvoice(i),this.cartService.clearCart(),this.cartService.updateCartCount(),this.router.navigate(["/"])}catch(n){console.error("placeOrderAtomic failed",n),alert("Failed to place order \u2014 try again")}}printInvoice(e){let n=window.open("","_blank","width=600,height=800");if(!n){alert("Failed to open invoice window. Please allow pop-ups for this site.");return}let r=new Date().toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(",","");n.document.write(`
    <html>
      <head>
        <title>Invoice</title>
        <style>
          body {
            font-family: "Times New Roman", serif;
            padding: 20px;
            background: #f7e7a9; /* light yellow like the sample */
            color: #000;
          }
          .bill-box {
            border: 2px solid #000;
            padding: 15px;
          }
          h2, h3, h4 {
            text-align: center;
            margin: 0;
            padding: 0;
          }
          .center {
            text-align: center;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
          }
          th, td {
            border: 1px solid #000;
            padding: 6px;
            font-size: 14px;
          }
          .no-border td {
            border: none;
          }
          .footer-msg {
            margin-top: 20px;
            text-align: center;
            font-weight: bold;
          }
        </style>
      </head>

      <body>
        <div class="bill-box">

          <h2>NAVEEN'S DELHI MALAI CHAAP</h2>
          <div class="center">Thirukovilur Main Rd, Bharathi Nagar, Tiruvennanallur, Tiruvannamalai, Tamil Nadu 606601</div>
          <div class="center">Contact: 74188 89585</div>
          <br/>

          <table class="no-border">
            <tr>
              <td><b>Bill No:</b> ${e.orderId}</td>
              <td><b>Bill Date:</b> ${r}</td>
            </tr>
            <tr>
              <td><b>Customer:</b> ${e.customerName}</td>
              <td><b>Mobile:</b> ${e.mobileNumber}</td>
            </tr>
          </table>

          <br/>

          <table>
            <thead>
              <tr>
                <th>Item Name</th>
                <th>Rate</th>
                <th>Qty</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody>
              ${e.items.map(i=>`
              <tr>
                <td>${i.name}</td>
                <td>\u20B9${i.price}</td>
                <td>${i.quantity}</td>
                <td>\u20B9${i.totalPrice}</td>
              </tr>
              `).join("")}
            </tbody>
          </table>

          <br/>

          <table class="no-border">
            <tr>
              <td><b>Items:</b> ${e.items.length}</td>
              <td><b>Qty:</b> ${e.items.reduce((i,o)=>i+o.quantity,0)}</td>
              <td><b>Total Amount:</b></td>
              <td><b>\u20B9${e.totalAmount}</b></td>
            </tr>
          </table>

          <h3 style="text-align:center;">Net Amount: \u20B9${e.totalAmount}</h3>

          <br/>

          <div class="footer-msg">
            GOODS SOLD CANNOT BE RETURNED OR REFUNDED<br/>
            Thank You! Visit Again
          </div>

        </div>

        <br/>
        <div class="center">
          <button onclick="window.print()">Print Invoice</button>
        </div>

      </body>
    </html>
  `),n.document.close()}static \u0275fac=function(n){return new(n||t)(st(ca),st(ma),st(sa))};static \u0275cmp=Gi({type:t,selectors:[["app-cart"]],decls:11,vars:6,consts:[[1,"my-3"],[4,"ngIf"],[1,"d-none","d-md-block"],["class","table table-striped",4,"ngIf"],[1,"d-md-none"],["class","card mb-2 shadow-sm",4,"ngFor","ngForOf"],["class","btn btn-success",3,"click",4,"ngIf"],["id","printArea",2,"display","none"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"btn","btn-outline-secondary","btn-sm","me-2",3,"click"],[1,"btn","btn-outline-secondary","btn-sm","ms-2",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"card","mb-2","shadow-sm"],[1,"card-body"],[1,"card-title"],[1,"mb-1"],[1,"d-flex","align-items-center","mb-2"],[1,"btn","btn-danger","btn-sm","w-100",3,"click"],["type","text","placeholder","Enter purchaser name",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["type","number","maxlength","10","pattern","[0-9]{10}","placeholder","Enter mobile number",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"btn","btn-success",3,"click"]],template:function(n,r){n&1&&(ae(0,"h2",0),we(1,"Cart"),se(),ar(2,hte,2,0,"div",1),ae(3,"div",2),ar(4,pte,17,1,"table",3),se(),ae(5,"div",4),ar(6,gte,21,4,"div",5),se(),ar(7,mte,2,1,"h4",1)(8,yte,7,2,"div",1)(9,vte,2,0,"button",6),Es(10,"div",7)),n&2&&(Le(2),Zt("ngIf",r.cartItems.length===0),Le(2),Zt("ngIf",r.cartItems.length>0),Le(2),Zt("ngForOf",r.cartItems),Le(),Zt("ngIf",r.cartItems.length>0),Le(),Zt("ngIf",r.cartItems.length>0),Le(),Zt("ngIf",r.cartItems.length>0))},dependencies:[Po,oa,Va,Xo,Zo,yu,aa,oS,sS,Cs],styles:[".table[_ngcontent-%COMP%]{margin-top:20px}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}#printArea[_ngcontent-%COMP%], #printArea[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible}#printArea[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%}}"]})};var K1=class t{constructor(e){this.cartService=e}orders=[];nextId=1;createOrder(e,n,r){let i=e.map(a=>({menuItem:a.menuItem,quantity:a.quantity,totalPrice:a.totalPrice})),o=i.reduce((a,c)=>a+c.totalPrice,0),s={id:this.nextId++,items:i,totalAmount:o,status:"Pending",tableNumber:n,customerName:r,orderTime:new Date};return this.orders.push(s),this.cartService.updateCartCount(),s}getOrders(){return this.orders}updateStatus(e,n){let r=this.orders.find(i=>i.id===e);r&&(r.status=n)}static \u0275fac=function(n){return new(n||t)(Lt(ca))};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})};var Q1=class t{constructor(e,n){this.cartService=e;this.orderService=n}tableNumber="";customerName="";placeTableOrder(){let e=this.cartService.cartItems.getValue();if(!e.length){alert("Cart is empty");return}this.orderService.createOrder(e,this.tableNumber,this.customerName),this.cartService.clearCart(),alert("Table order placed!"),this.tableNumber="",this.customerName=""}static \u0275fac=function(n){return new(n||t)(st(ca),st(K1))};static \u0275cmp=Gi({type:t,selectors:[["app-table-order"]],decls:12,vars:2,consts:[[1,"my-3"],[1,"mb-3"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"]],template:function(n,r){n&1&&(ae(0,"h2",0),we(1,"Table Order"),se(),ae(2,"div",1)(3,"label"),we(4,"Table Number"),se(),ae(5,"input",2),Sn("ngModelChange",function(o){return On(r.tableNumber,o)||(r.tableNumber=o),o}),se()(),ae(6,"div",1)(7,"label"),we(8,"Customer Name"),se(),ae(9,"input",2),Sn("ngModelChange",function(o){return On(r.customerName,o)||(r.customerName=o),o}),se()(),ae(10,"button",3),Tt("click",function(){return r.placeTableOrder()}),we(11,"Place Table Order"),se()),n&2&&(Le(5),An("ngModel",r.tableNumber),Le(4),An("ngModel",r.customerName))},dependencies:[Xo,Zo,aa,Cs],styles:["input[_ngcontent-%COMP%]{max-width:300px}"]})};var Ja=Uint8Array,Rs=Uint16Array,_x=Int32Array,wx=new Ja([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bx=new Ja([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u6=new Ja([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f6=function(t,e){for(var n=new Rs(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new _x(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},p6=f6(wx,2),wte=p6.b,mx=p6.r;wte[28]=258,mx[258]=28;var g6=f6(bx,0),KSe=g6.b,l6=g6.r,yx=new Rs(32768);for($n=0;$n<32768;++$n)Mu=($n&43690)>>1|($n&21845)<<1,Mu=(Mu&52428)>>2|(Mu&13107)<<2,Mu=(Mu&61680)>>4|(Mu&3855)<<4,yx[$n]=((Mu&65280)>>8|(Mu&255)<<8)>>1;var Mu,$n,by=function(t,e,n){for(var r=t.length,i=0,o=new Rs(e);i<r;++i)t[i]&&++o[t[i]-1];var s=new Rs(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new Rs(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],l=e-t[i],m=s[t[i]-1]++<<l,y=m|(1<<l)-1;m<=y;++m)a[yx[m]>>c]=u}else for(a=new Rs(r),i=0;i<r;++i)t[i]&&(a[i]=yx[s[t[i]-1]++]>>15-t[i]);return a},dh=new Ja(288);for($n=0;$n<144;++$n)dh[$n]=8;var $n;for($n=144;$n<256;++$n)dh[$n]=9;var $n;for($n=256;$n<280;++$n)dh[$n]=7;var $n;for($n=280;$n<288;++$n)dh[$n]=8;var $n,Y1=new Ja(32);for($n=0;$n<32;++$n)Y1[$n]=5;var $n,bte=by(dh,9,0);var Ete=by(Y1,5,0);var m6=function(t){return(t+7)/8|0},Ite=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new Ja(t.subarray(e,n))};var Ou=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},_y=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},gx=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:v6,l:0};if(i==1){var s=new Ja(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(fe,be){return fe.f-be.f}),n.push({s:-1,f:25001});var a=n[0],c=n[1],u=0,l=1,m=2;for(n[0]={s:-1,f:a.f+c.f,l:a,r:c};l!=i-1;)a=n[n[u].f<n[m].f?u++:m++],c=n[u!=l&&n[u].f<n[m].f?u++:m++],n[l++]={s:-1,f:a.f+c.f,l:a,r:c};for(var y=o[0].s,r=1;r<i;++r)o[r].s>y&&(y=o[r].s);var g=new Rs(y+1),R=vx(n[l-1],g,0);if(R>e){var r=0,k=0,M=R-e,L=1<<M;for(o.sort(function(be,P){return g[P.s]-g[be.s]||be.f-P.f});r<i;++r){var Z=o[r].s;if(g[Z]>e)k+=L-(1<<R-g[Z]),g[Z]=e;else break}for(k>>=M;k>0;){var J=o[r].s;g[J]<e?k-=1<<e-g[J]++-1:++r}for(;r>=0&&k;--r){var Y=o[r].s;g[Y]==e&&(--g[Y],++k)}R=e}return{t:new Ja(g),l:R}},vx=function(t,e,n){return t.s==-1?Math.max(vx(t.l,e,n+1),vx(t.r,e,n+1)):e[t.s]=n},d6=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Rs(++e),r=0,i=t[0],o=1,s=function(c){n[r++]=c},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},wy=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},y6=function(t,e,n){var r=n.length,i=m6(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<r;++o)t[i+o+4]=n[o];return(i+4+r)*8},h6=function(t,e,n,r,i,o,s,a,c,u,l){Ou(e,l++,n),++i[256];for(var m=gx(i,15),y=m.t,g=m.l,R=gx(o,15),k=R.t,M=R.l,L=d6(y),Z=L.c,J=L.n,Y=d6(k),fe=Y.c,be=Y.n,P=new Rs(19),T=0;T<Z.length;++T)++P[Z[T]&31];for(var T=0;T<fe.length;++T)++P[fe[T]&31];for(var w=gx(P,7),D=w.t,_=w.l,S=19;S>4&&!D[u6[S-1]];--S);var I=u+5<<3,ee=wy(i,dh)+wy(o,Y1)+s,ve=wy(i,y)+wy(o,k)+s+14+3*S+wy(P,D)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&I<=ee&&I<=ve)return y6(e,l,t.subarray(c,c+u));var Ce,Te,pe,Ae;if(Ou(e,l,1+(ve<ee)),l+=2,ve<ee){Ce=by(y,g,0),Te=y,pe=by(k,M,0),Ae=k;var $e=by(D,_,0);Ou(e,l,J-257),Ou(e,l+5,be-1),Ou(e,l+10,S-4),l+=14;for(var T=0;T<S;++T)Ou(e,l+3*T,D[u6[T]]);l+=3*S;for(var Me=[Z,fe],B=0;B<2;++B)for(var W=Me[B],T=0;T<W.length;++T){var X=W[T]&31;Ou(e,l,$e[X]),l+=D[X],X>15&&(Ou(e,l,W[T]>>5&127),l+=W[T]>>12)}}else Ce=bte,Te=dh,pe=Ete,Ae=Y1;for(var T=0;T<a;++T){var ne=r[T];if(ne>255){var X=ne>>18&31;_y(e,l,Ce[X+257]),l+=Te[X+257],X>7&&(Ou(e,l,ne>>23&31),l+=wx[X]);var ce=ne&31;_y(e,l,pe[ce]),l+=Ae[ce],ce>3&&(_y(e,l,ne>>5&8191),l+=bx[ce])}else _y(e,l,Ce[ne]),l+=Te[ne]}return _y(e,l,Ce[256]),l+Te[256]},Tte=new _x([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),v6=new Ja(0),Ate=function(t,e,n,r,i,o){var s=o.z||t.length,a=new Ja(r+s+5*(1+Math.ceil(s/7e3))+i),c=a.subarray(r,a.length-i),u=o.l,l=(o.r||0)&7;if(e){l&&(c[0]=o.r>>3);for(var m=Tte[e-1],y=m>>13,g=m&8191,R=(1<<n)-1,k=o.p||new Rs(32768),M=o.h||new Rs(R+1),L=Math.ceil(n/3),Z=2*L,J=function(ct){return(t[ct]^t[ct+1]<<L^t[ct+2]<<Z)&R},Y=new _x(25e3),fe=new Rs(288),be=new Rs(32),P=0,T=0,w=o.i||0,D=0,_=o.w||0,S=0;w+2<s;++w){var I=J(w),ee=w&32767,ve=M[I];if(k[ee]=ve,M[I]=ee,_<=w){var Ce=s-w;if((P>7e3||D>24576)&&(Ce>423||!u)){l=h6(t,c,0,Y,fe,be,T,D,S,w-S,l),D=P=T=0,S=w;for(var Te=0;Te<286;++Te)fe[Te]=0;for(var Te=0;Te<30;++Te)be[Te]=0}var pe=2,Ae=0,$e=g,Me=ee-ve&32767;if(Ce>2&&I==J(w-Me))for(var B=Math.min(y,Ce)-1,W=Math.min(32767,w),X=Math.min(258,Ce);Me<=W&&--$e&&ee!=ve;){if(t[w+pe]==t[w+pe-Me]){for(var ne=0;ne<X&&t[w+ne]==t[w+ne-Me];++ne);if(ne>pe){if(pe=ne,Ae=Me,ne>B)break;for(var ce=Math.min(Me,ne-2),de=0,Te=0;Te<ce;++Te){var Ee=w-Me+Te&32767,Ie=k[Ee],xe=Ee-Ie&32767;xe>de&&(de=xe,ve=Ee)}}}ee=ve,ve=k[ee],Me+=ee-ve&32767}if(Ae){Y[D++]=268435456|mx[pe]<<18|l6[Ae];var Be=mx[pe]&31,Je=l6[Ae]&31;T+=wx[Be]+bx[Je],++fe[257+Be],++be[Je],_=w+pe,++P}else Y[D++]=t[w],++fe[t[w]]}}for(w=Math.max(w,_);w<s;++w)Y[D++]=t[w],++fe[t[w]];l=h6(t,c,u,Y,fe,be,T,D,S,w-S,l),u||(o.r=l&7|c[l/8|0]<<3,l-=7,o.h=M,o.p=k,o.i=w,o.w=_)}else{for(var w=o.w||0;w<s+u;w+=65535){var Ke=w+65535;Ke>=s&&(c[l/8|0]=u,Ke=s),l=y6(c,l+1,t.subarray(w,Ke))}o.i=s}return Ite(a,0,r+m6(l)+i)};var _6=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Ste=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Ja(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return Ate(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)};var w6=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};var Cte=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=_6();i.p(e.dictionary),w6(t,2,i.d())}};function J1(t,e){e||(e={});var n=_6();n.p(t);var r=Ste(t,e,e.dictionary?6:2,4);return Cte(r,e),w6(r,r.length-4,n.d()),r}var Dte=typeof TextDecoder<"u"&&new TextDecoder,xte=0;try{Dte.decode(v6,{stream:!0}),xte=1}catch{}function b6(t){if(Array.isArray(t))return t}function E6(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(l){u=!0,i=l}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Ex(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function I6(t,e){if(t){if(typeof t=="string")return Ex(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ex(t,e):void 0}}function T6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ix(t,e){return b6(t)||E6(t,e)||I6(t,e)||T6()}function Tx(t,e="utf8"){return new TextDecoder(e).decode(t)}var Nte=new TextEncoder;function A6(t){return Nte.encode(t)}var Rte=1024*8,Pte=(()=>{let t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Ax={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},Ey=class t{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Rte,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);let i=n.offset?n.offset>>>0:0,o=e.byteLength-i,s=i;(ArrayBuffer.isView(e)||e instanceof t)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){let r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){let r=Ax[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===Pte&&n!=="uint8"&&n!=="int8"){let a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();let c=new Ax[n](a.buffer);return this.offset+=r,c.reverse(),c}let s=new Ax[n](o);return this.offset+=r,s}readInt16(){let e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){let e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){let e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){let e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){let e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){let e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){let e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){let e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return Tx(this.readBytes(e))}decodeText(e=1,n="utf8"){return Tx(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(A6(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function bp(t){let e=t.length;for(;--e>=0;)t[e]=0}var kte=0,l8=1,Mte=2,Ote=3,Lte=258,Qx=29,Fy=256,xy=Fy+1+Qx,vp=30,Yx=19,d8=2*xy+1,hh=15,Sx=16,Fte=7,Jx=256,h8=16,f8=17,p8=18,jx=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),rb=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Vte=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),g8=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bte=512,Fu=new Array((xy+2)*2);bp(Fu);var Sy=new Array(vp*2);bp(Sy);var Ny=new Array(Bte);bp(Ny);var Ry=new Array(Lte-Ote+1);bp(Ry);var Zx=new Array(Qx);bp(Zx);var ib=new Array(vp);bp(ib);function Cx(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}var m8,y8,v8;function Dx(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}var _8=t=>t<256?Ny[t]:Ny[256+(t>>>7)],Py=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},ns=(t,e,n)=>{t.bi_valid>Sx-n?(t.bi_buf|=e<<t.bi_valid&65535,Py(t,t.bi_buf),t.bi_buf=e>>Sx-t.bi_valid,t.bi_valid+=n-Sx):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Oc=(t,e,n)=>{ns(t,n[e*2],n[e*2+1])},w8=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},jte=t=>{t.bi_valid===16?(Py(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},Ute=(t,e)=>{let n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length,u,l,m,y,g,R,k=0;for(y=0;y<=hh;y++)t.bl_count[y]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<d8;u++)l=t.heap[u],y=n[n[l*2+1]*2+1]+1,y>c&&(y=c,k++),n[l*2+1]=y,!(l>r)&&(t.bl_count[y]++,g=0,l>=a&&(g=s[l-a]),R=n[l*2],t.opt_len+=R*(y+g),o&&(t.static_len+=R*(i[l*2+1]+g)));if(k!==0){do{for(y=c-1;t.bl_count[y]===0;)y--;t.bl_count[y]--,t.bl_count[y+1]+=2,t.bl_count[c]--,k-=2}while(k>0);for(y=c;y!==0;y--)for(l=t.bl_count[y];l!==0;)m=t.heap[--u],!(m>r)&&(n[m*2+1]!==y&&(t.opt_len+=(y-n[m*2+1])*n[m*2],n[m*2+1]=y),l--)}},b8=(t,e,n)=>{let r=new Array(hh+1),i=0,o,s;for(o=1;o<=hh;o++)i=i+n[o-1]<<1,r[o]=i;for(s=0;s<=e;s++){let a=t[s*2+1];a!==0&&(t[s*2]=w8(r[a]++,a))}},qte=()=>{let t,e,n,r,i,o=new Array(hh+1);for(n=0,r=0;r<Qx-1;r++)for(Zx[r]=n,t=0;t<1<<jx[r];t++)Ry[n++]=r;for(Ry[n-1]=r,i=0,r=0;r<16;r++)for(ib[r]=i,t=0;t<1<<rb[r];t++)Ny[i++]=r;for(i>>=7;r<vp;r++)for(ib[r]=i<<7,t=0;t<1<<rb[r]-7;t++)Ny[256+i++]=r;for(e=0;e<=hh;e++)o[e]=0;for(t=0;t<=143;)Fu[t*2+1]=8,t++,o[8]++;for(;t<=255;)Fu[t*2+1]=9,t++,o[9]++;for(;t<=279;)Fu[t*2+1]=7,t++,o[7]++;for(;t<=287;)Fu[t*2+1]=8,t++,o[8]++;for(b8(Fu,xy+1,o),t=0;t<vp;t++)Sy[t*2+1]=5,Sy[t*2]=w8(t,5);m8=new Cx(Fu,jx,Fy+1,xy,hh),y8=new Cx(Sy,rb,0,vp,hh),v8=new Cx(new Array(0),Vte,0,Yx,Fte)},E8=t=>{let e;for(e=0;e<xy;e++)t.dyn_ltree[e*2]=0;for(e=0;e<vp;e++)t.dyn_dtree[e*2]=0;for(e=0;e<Yx;e++)t.bl_tree[e*2]=0;t.dyn_ltree[Jx*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},I8=t=>{t.bi_valid>8?Py(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},S6=(t,e,n,r)=>{let i=e*2,o=n*2;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},xx=(t,e,n)=>{let r=t.heap[n],i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&S6(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!S6(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},C6=(t,e,n)=>{let r,i,o=0,s,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+o++]&255,r+=(t.pending_buf[t.sym_buf+o++]&255)<<8,i=t.pending_buf[t.sym_buf+o++],r===0?Oc(t,i,e):(s=Ry[i],Oc(t,s+Fy+1,e),a=jx[s],a!==0&&(i-=Zx[s],ns(t,i,a)),r--,s=_8(r),Oc(t,s,n),a=rb[s],a!==0&&(r-=ib[s],ns(t,r,a)));while(o<t.sym_next);Oc(t,Jx,e)},Ux=(t,e)=>{let n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems,s,a,c=-1,u;for(t.heap_len=0,t.heap_max=d8,s=0;s<o;s++)n[s*2]!==0?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=r[u*2+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)xx(t,n,s);u=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],xx(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[u*2]=n[s*2]+n[a*2],t.depth[u]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[s*2+1]=n[a*2+1]=u,t.heap[1]=u++,xx(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Ute(t,e),b8(n,c,t.bl_count)},D6=(t,e,n)=>{let r,i=-1,o,s=e[1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=e[(r+1)*2+1],!(++a<c&&o===s)&&(a<u?t.bl_tree[o*2]+=a:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[h8*2]++):a<=10?t.bl_tree[f8*2]++:t.bl_tree[p8*2]++,a=0,i=o,s===0?(c=138,u=3):o===s?(c=6,u=3):(c=7,u=4))},x6=(t,e,n)=>{let r,i=-1,o,s=e[1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(o=s,s=e[(r+1)*2+1],!(++a<c&&o===s)){if(a<u)do Oc(t,o,t.bl_tree);while(--a!==0);else o!==0?(o!==i&&(Oc(t,o,t.bl_tree),a--),Oc(t,h8,t.bl_tree),ns(t,a-3,2)):a<=10?(Oc(t,f8,t.bl_tree),ns(t,a-3,3)):(Oc(t,p8,t.bl_tree),ns(t,a-11,7));a=0,i=o,s===0?(c=138,u=3):o===s?(c=6,u=3):(c=7,u=4)}},zte=t=>{let e;for(D6(t,t.dyn_ltree,t.l_desc.max_code),D6(t,t.dyn_dtree,t.d_desc.max_code),Ux(t,t.bl_desc),e=Yx-1;e>=3&&t.bl_tree[g8[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},$te=(t,e,n,r)=>{let i;for(ns(t,e-257,5),ns(t,n-1,5),ns(t,r-4,4),i=0;i<r;i++)ns(t,t.bl_tree[g8[i]*2+1],3);x6(t,t.dyn_ltree,e-1),x6(t,t.dyn_dtree,n-1)},Hte=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return 0;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return 1;for(n=32;n<Fy;n++)if(t.dyn_ltree[n*2]!==0)return 1;return 0},N6=!1,Gte=t=>{N6||(qte(),N6=!0),t.l_desc=new Dx(t.dyn_ltree,m8),t.d_desc=new Dx(t.dyn_dtree,y8),t.bl_desc=new Dx(t.bl_tree,v8),t.bi_buf=0,t.bi_valid=0,E8(t)},T8=(t,e,n,r)=>{ns(t,(kte<<1)+(r?1:0),3),I8(t),Py(t,n),Py(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},Wte=t=>{ns(t,l8<<1,3),Oc(t,Jx,Fu),jte(t)},Kte=(t,e,n,r)=>{let i,o,s=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=Hte(t)),Ux(t,t.l_desc),Ux(t,t.d_desc),s=zte(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&e!==-1?T8(t,e,n,r):t.strategy===4||o===i?(ns(t,(l8<<1)+(r?1:0),3),C6(t,Fu,Sy)):(ns(t,(Mte<<1)+(r?1:0),3),$te(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),C6(t,t.dyn_ltree,t.dyn_dtree)),E8(t),r&&I8(t)},Qte=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(Ry[n]+Fy+1)*2]++,t.dyn_dtree[_8(e)*2]++),t.sym_next===t.sym_end),Yte=Gte,Jte=T8,Zte=Kte,Xte=Qte,ene=Wte,tne={_tr_init:Yte,_tr_stored_block:Jte,_tr_flush_block:Zte,_tr_tally:Xte,_tr_align:ene},nne=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0},ky=nne,rne=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},ine=new Uint32Array(rne()),one=(t,e,n,r)=>{let i=ine,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1},Mi=one,gh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ep={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:sne,_tr_stored_block:qx,_tr_flush_block:ane,_tr_tally:Hl,_tr_align:cne}=tne,{Z_NO_FLUSH:Gl,Z_PARTIAL_FLUSH:une,Z_FULL_FLUSH:lne,Z_FINISH:ya,Z_BLOCK:R6,Z_OK:Qi,Z_STREAM_END:P6,Z_STREAM_ERROR:Lc,Z_DATA_ERROR:dne,Z_BUF_ERROR:Nx,Z_DEFAULT_COMPRESSION:hne,Z_FILTERED:fne,Z_HUFFMAN_ONLY:Z1,Z_RLE:pne,Z_FIXED:gne,Z_DEFAULT_STRATEGY:mne,Z_UNKNOWN:yne,Z_DEFLATED:ab}=Ep,vne=9,_ne=15,wne=8,bne=29,Ene=256,zx=Ene+1+bne,Ine=30,Tne=19,Ane=2*zx+1,Sne=15,En=3,$l=258,Fc=$l+En+1,Cne=32,_p=42,Xx=57,$x=69,Hx=73,Gx=91,Wx=103,fh=113,Ty=666,Vo=1,Ip=2,mh=3,Tp=4,Dne=3,ph=(t,e)=>(t.msg=gh[e],e),k6=t=>t*2-(t>4?9:0),zl=t=>{let e=t.length;for(;--e>=0;)t[e]=0},xne=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)},Nne=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Wl=Nne,Ps=t=>{let e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},ks=(t,e)=>{ane(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ps(t.strm)},Hn=(t,e)=>{t.pending_buf[t.pending++]=e},Iy=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},Kx=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=ky(t.adler,e,i,n):t.state.wrap===2&&(t.adler=Mi(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},A8=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,o,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-Fc?t.strstart-(t.w_size-Fc):0,u=t.window,l=t.w_mask,m=t.prev,y=t.strstart+$l,g=u[r+s-1],R=u[r+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(u[i+s]!==R||u[i+s-1]!==g||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<y);if(o=$l-(y-r),r=y-$l,o>s){if(t.match_start=e,s=o,o>=a)break;g=u[r+s-1],R=u[r+s]}}while((e=m[e&l])>c&&--n!==0);return s<=t.lookahead?s:t.lookahead},wp=t=>{let e=t.w_size,n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Fc)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),xne(t),r+=e),t.strm.avail_in===0)break;if(n=Kx(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=En)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Wl(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Wl(t,t.ins_h,t.window[i+En-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<En)););}while(t.lookahead<Fc&&t.strm.avail_in!==0)},S8=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,o,s=0,a=t.strm.avail_in;do{if(r=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>o&&(r=o),r<n&&(r===0&&e!==ya||e===Gl||r!==i+t.strm.avail_in)))break;s=e===ya&&r===i+t.strm.avail_in?1:0,qx(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Ps(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(Kx(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(s===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?Tp:e!==Gl&&e!==ya&&t.strm.avail_in===0&&t.strstart===t.block_start?Ip:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(Kx(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,n=o>t.w_size?t.w_size:o,i=t.strstart-t.block_start,(i>=n||(i||e===ya)&&e!==Gl&&t.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,s=e===ya&&t.strm.avail_in===0&&r===i?1:0,qx(t,t.block_start,r,s),t.block_start+=r,Ps(t.strm)),s?mh:Vo)},Rx=(t,e)=>{let n,r;for(;;){if(t.lookahead<Fc){if(wp(t),t.lookahead<Fc&&e===Gl)return Vo;if(t.lookahead===0)break}if(n=0,t.lookahead>=En&&(t.ins_h=Wl(t,t.ins_h,t.window[t.strstart+En-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Fc&&(t.match_length=A8(t,n)),t.match_length>=En)if(r=Hl(t,t.strstart-t.match_start,t.match_length-En),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=En){t.match_length--;do t.strstart++,t.ins_h=Wl(t,t.ins_h,t.window[t.strstart+En-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Wl(t,t.ins_h,t.window[t.strstart+1]);else r=Hl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(ks(t,!1),t.strm.avail_out===0))return Vo}return t.insert=t.strstart<En-1?t.strstart:En-1,e===ya?(ks(t,!0),t.strm.avail_out===0?mh:Tp):t.sym_next&&(ks(t,!1),t.strm.avail_out===0)?Vo:Ip},mp=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Fc){if(wp(t),t.lookahead<Fc&&e===Gl)return Vo;if(t.lookahead===0)break}if(n=0,t.lookahead>=En&&(t.ins_h=Wl(t,t.ins_h,t.window[t.strstart+En-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=En-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Fc&&(t.match_length=A8(t,n),t.match_length<=5&&(t.strategy===fne||t.match_length===En&&t.strstart-t.match_start>4096)&&(t.match_length=En-1)),t.prev_length>=En&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-En,r=Hl(t,t.strstart-1-t.prev_match,t.prev_length-En),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=Wl(t,t.ins_h,t.window[t.strstart+En-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=En-1,t.strstart++,r&&(ks(t,!1),t.strm.avail_out===0))return Vo}else if(t.match_available){if(r=Hl(t,0,t.window[t.strstart-1]),r&&ks(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Vo}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Hl(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<En-1?t.strstart:En-1,e===ya?(ks(t,!0),t.strm.avail_out===0?mh:Tp):t.sym_next&&(ks(t,!1),t.strm.avail_out===0)?Vo:Ip},Rne=(t,e)=>{let n,r,i,o,s=t.window;for(;;){if(t.lookahead<=$l){if(wp(t),t.lookahead<=$l&&e===Gl)return Vo;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=En&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+$l;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=$l-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=En?(n=Hl(t,1,t.match_length-En),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Hl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(ks(t,!1),t.strm.avail_out===0))return Vo}return t.insert=0,e===ya?(ks(t,!0),t.strm.avail_out===0?mh:Tp):t.sym_next&&(ks(t,!1),t.strm.avail_out===0)?Vo:Ip},Pne=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(wp(t),t.lookahead===0)){if(e===Gl)return Vo;break}if(t.match_length=0,n=Hl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(ks(t,!1),t.strm.avail_out===0))return Vo}return t.insert=0,e===ya?(ks(t,!0),t.strm.avail_out===0?mh:Tp):t.sym_next&&(ks(t,!1),t.strm.avail_out===0)?Vo:Ip};function Mc(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var Ay=[new Mc(0,0,0,0,S8),new Mc(4,4,8,4,Rx),new Mc(4,5,16,8,Rx),new Mc(4,6,32,32,Rx),new Mc(4,4,16,16,mp),new Mc(8,16,32,32,mp),new Mc(8,16,128,128,mp),new Mc(8,32,128,256,mp),new Mc(32,128,258,1024,mp),new Mc(32,258,258,4096,mp)],kne=t=>{t.window_size=2*t.w_size,zl(t.head),t.max_lazy_match=Ay[t.level].max_lazy,t.good_match=Ay[t.level].good_length,t.nice_match=Ay[t.level].nice_length,t.max_chain_length=Ay[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=En-1,t.match_available=0,t.ins_h=0};function Mne(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ab,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Ane*2),this.dyn_dtree=new Uint16Array((2*Ine+1)*2),this.bl_tree=new Uint16Array((2*Tne+1)*2),zl(this.dyn_ltree),zl(this.dyn_dtree),zl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Sne+1),this.heap=new Uint16Array(2*zx+1),zl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*zx+1),zl(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Vy=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.status!==_p&&e.status!==Xx&&e.status!==$x&&e.status!==Hx&&e.status!==Gx&&e.status!==Wx&&e.status!==fh&&e.status!==Ty?1:0},C8=t=>{if(Vy(t))return ph(t,Lc);t.total_in=t.total_out=0,t.data_type=yne;let e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?Xx:e.wrap?_p:fh,t.adler=e.wrap===2?0:1,e.last_flush=-2,sne(e),Qi},D8=t=>{let e=C8(t);return e===Qi&&kne(t.state),e},One=(t,e)=>Vy(t)||t.state.wrap!==2?Lc:(t.state.gzhead=e,Qi),x8=(t,e,n,r,i,o)=>{if(!t)return Lc;let s=1;if(e===hne&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>vne||n!==ab||r<8||r>15||e<0||e>9||o<0||o>gne||r===8&&s!==1)return ph(t,Lc);r===8&&(r=9);let a=new Mne;return t.state=a,a.strm=t,a.status=_p,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+En-1)/En),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=o,a.method=n,D8(t)},Lne=(t,e)=>x8(t,e,ab,_ne,wne,mne),Fne=(t,e)=>{if(Vy(t)||e>R6||e<0)return t?ph(t,Lc):Lc;let n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===Ty&&e!==ya)return ph(t,t.avail_out===0?Nx:Lc);let r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(Ps(t),t.avail_out===0)return n.last_flush=-1,Qi}else if(t.avail_in===0&&k6(e)<=k6(r)&&e!==ya)return ph(t,Nx);if(n.status===Ty&&t.avail_in!==0)return ph(t,Nx);if(n.status===_p&&n.wrap===0&&(n.status=fh),n.status===_p){let i=ab+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=Z1||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,i|=o<<6,n.strstart!==0&&(i|=Cne),i+=31-i%31,Iy(n,i),n.strstart!==0&&(Iy(n,t.adler>>>16),Iy(n,t.adler&65535)),t.adler=1,n.status=fh,Ps(t),n.pending!==0)return n.last_flush=-1,Qi}if(n.status===Xx){if(t.adler=0,Hn(n,31),Hn(n,139),Hn(n,8),n.gzhead)Hn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Hn(n,n.gzhead.time&255),Hn(n,n.gzhead.time>>8&255),Hn(n,n.gzhead.time>>16&255),Hn(n,n.gzhead.time>>24&255),Hn(n,n.level===9?2:n.strategy>=Z1||n.level<2?4:0),Hn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Hn(n,n.gzhead.extra.length&255),Hn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Mi(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=$x;else if(Hn(n,0),Hn(n,0),Hn(n,0),Hn(n,0),Hn(n,0),Hn(n,n.level===9?2:n.strategy>=Z1||n.level<2?4:0),Hn(n,Dne),n.status=fh,Ps(t),n.pending!==0)return n.last_flush=-1,Qi}if(n.status===$x){if(n.gzhead.extra){let i=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=Mi(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,Ps(t),n.pending!==0)return n.last_flush=-1,Qi;i=0,o-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(t.adler=Mi(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Hx}if(n.status===Hx){if(n.gzhead.name){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Mi(t.adler,n.pending_buf,n.pending-i,i)),Ps(t),n.pending!==0)return n.last_flush=-1,Qi;i=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,Hn(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Mi(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Gx}if(n.status===Gx){if(n.gzhead.comment){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Mi(t.adler,n.pending_buf,n.pending-i,i)),Ps(t),n.pending!==0)return n.last_flush=-1,Qi;i=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,Hn(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Mi(t.adler,n.pending_buf,n.pending-i,i))}n.status=Wx}if(n.status===Wx){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ps(t),n.pending!==0))return n.last_flush=-1,Qi;Hn(n,t.adler&255),Hn(n,t.adler>>8&255),t.adler=0}if(n.status=fh,Ps(t),n.pending!==0)return n.last_flush=-1,Qi}if(t.avail_in!==0||n.lookahead!==0||e!==Gl&&n.status!==Ty){let i=n.level===0?S8(n,e):n.strategy===Z1?Pne(n,e):n.strategy===pne?Rne(n,e):Ay[n.level].func(n,e);if((i===mh||i===Tp)&&(n.status=Ty),i===Vo||i===mh)return t.avail_out===0&&(n.last_flush=-1),Qi;if(i===Ip&&(e===une?cne(n):e!==R6&&(qx(n,0,0,!1),e===lne&&(zl(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Ps(t),t.avail_out===0))return n.last_flush=-1,Qi}return e!==ya?Qi:n.wrap<=0?P6:(n.wrap===2?(Hn(n,t.adler&255),Hn(n,t.adler>>8&255),Hn(n,t.adler>>16&255),Hn(n,t.adler>>24&255),Hn(n,t.total_in&255),Hn(n,t.total_in>>8&255),Hn(n,t.total_in>>16&255),Hn(n,t.total_in>>24&255)):(Iy(n,t.adler>>>16),Iy(n,t.adler&65535)),Ps(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Qi:P6)},Vne=t=>{if(Vy(t))return Lc;let e=t.state.status;return t.state=null,e===fh?ph(t,dne):Qi},Bne=(t,e)=>{let n=e.length;if(Vy(t))return Lc;let r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==_p||r.lookahead)return Lc;if(i===1&&(t.adler=ky(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(zl(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(e.subarray(n-r.w_size,n),0),e=c,n=r.w_size}let o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,wp(r);r.lookahead>=En;){let c=r.strstart,u=r.lookahead-(En-1);do r.ins_h=Wl(r,r.ins_h,r.window[c+En-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=En-1,wp(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=En-1,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,r.wrap=i,Qi},jne=Lne,Une=x8,qne=D8,zne=C8,$ne=One,Hne=Fne,Gne=Vne,Wne=Bne,Kne="pako deflate (from Nodeca project)",Cy={deflateInit:jne,deflateInit2:Une,deflateReset:qne,deflateResetKeep:zne,deflateSetHeader:$ne,deflate:Hne,deflateEnd:Gne,deflateSetDictionary:Wne,deflateInfo:Kne},Qne=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Yne=function(t){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(let r in n)Qne(n,r)&&(t[r]=n[r])}}return t},Jne=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;let n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},cb={assign:Yne,flattenChunks:Jne},N8=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{N8=!1}var My=new Uint8Array(256);for(let t=0;t<256;t++)My[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;My[254]=My[254]=1;var Zne=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e},Xne=(t,e)=>{if(e<65534&&t.subarray&&N8)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n},ere=(t,e)=>{let n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i,o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=My[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return Xne(o,i)},tre=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+My[t[n]]>e?n:e},Oy={string2buf:Zne,buf2string:ere,utf8border:tre};function nre(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var R8=nre,P8=Object.prototype.toString,{Z_NO_FLUSH:rre,Z_SYNC_FLUSH:ire,Z_FULL_FLUSH:ore,Z_FINISH:sre,Z_OK:ob,Z_STREAM_END:are,Z_DEFAULT_COMPRESSION:cre,Z_DEFAULT_STRATEGY:ure,Z_DEFLATED:lre}=Ep;function By(t){this.options=cb.assign({level:cre,method:lre,chunkSize:16384,windowBits:15,memLevel:8,strategy:ure},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new R8,this.strm.avail_out=0;let n=Cy.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==ob)throw new Error(gh[n]);if(e.header&&Cy.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=Oy.string2buf(e.dictionary):P8.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=Cy.deflateSetDictionary(this.strm,r),n!==ob)throw new Error(gh[n]);this._dict_set=!0}}By.prototype.push=function(t,e){let n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?sre:rre,typeof t=="string"?n.input=Oy.string2buf(t):P8.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===ire||o===ore)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Cy.deflate(n,o),i===are)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Cy.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===ob;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};By.prototype.onData=function(t){this.chunks.push(t)};By.prototype.onEnd=function(t){t===ob&&(this.result=cb.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function eN(t,e){let n=new By(e);if(n.push(t,!0),n.err)throw n.msg||gh[n.err];return n.result}function dre(t,e){return e=e||{},e.raw=!0,eN(t,e)}function hre(t,e){return e=e||{},e.gzip=!0,eN(t,e)}var fre=By,pre=eN,gre=dre,mre=hre,yre=Ep,vre={Deflate:fre,deflate:pre,deflateRaw:gre,gzip:mre,constants:yre},X1=16209,_re=16191,wre=function(e,n){let r,i,o,s,a,c,u,l,m,y,g,R,k,M,L,Z,J,Y,fe,be,P,T,w,D,_=e.state;r=e.next_in,w=e.input,i=r+(e.avail_in-5),o=e.next_out,D=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),c=_.dmax,u=_.wsize,l=_.whave,m=_.wnext,y=_.window,g=_.hold,R=_.bits,k=_.lencode,M=_.distcode,L=(1<<_.lenbits)-1,Z=(1<<_.distbits)-1;e:do{R<15&&(g+=w[r++]<<R,R+=8,g+=w[r++]<<R,R+=8),J=k[g&L];t:for(;;){if(Y=J>>>24,g>>>=Y,R-=Y,Y=J>>>16&255,Y===0)D[o++]=J&65535;else if(Y&16){fe=J&65535,Y&=15,Y&&(R<Y&&(g+=w[r++]<<R,R+=8),fe+=g&(1<<Y)-1,g>>>=Y,R-=Y),R<15&&(g+=w[r++]<<R,R+=8,g+=w[r++]<<R,R+=8),J=M[g&Z];n:for(;;){if(Y=J>>>24,g>>>=Y,R-=Y,Y=J>>>16&255,Y&16){if(be=J&65535,Y&=15,R<Y&&(g+=w[r++]<<R,R+=8,R<Y&&(g+=w[r++]<<R,R+=8)),be+=g&(1<<Y)-1,be>c){e.msg="invalid distance too far back",_.mode=X1;break e}if(g>>>=Y,R-=Y,Y=o-s,be>Y){if(Y=be-Y,Y>l&&_.sane){e.msg="invalid distance too far back",_.mode=X1;break e}if(P=0,T=y,m===0){if(P+=u-Y,Y<fe){fe-=Y;do D[o++]=y[P++];while(--Y);P=o-be,T=D}}else if(m<Y){if(P+=u+m-Y,Y-=m,Y<fe){fe-=Y;do D[o++]=y[P++];while(--Y);if(P=0,m<fe){Y=m,fe-=Y;do D[o++]=y[P++];while(--Y);P=o-be,T=D}}}else if(P+=m-Y,Y<fe){fe-=Y;do D[o++]=y[P++];while(--Y);P=o-be,T=D}for(;fe>2;)D[o++]=T[P++],D[o++]=T[P++],D[o++]=T[P++],fe-=3;fe&&(D[o++]=T[P++],fe>1&&(D[o++]=T[P++]))}else{P=o-be;do D[o++]=D[P++],D[o++]=D[P++],D[o++]=D[P++],fe-=3;while(fe>2);fe&&(D[o++]=D[P++],fe>1&&(D[o++]=D[P++]))}}else if((Y&64)===0){J=M[(J&65535)+(g&(1<<Y)-1)];continue n}else{e.msg="invalid distance code",_.mode=X1;break e}break}}else if((Y&64)===0){J=k[(J&65535)+(g&(1<<Y)-1)];continue t}else if(Y&32){_.mode=_re;break e}else{e.msg="invalid literal/length code",_.mode=X1;break e}break}}while(r<i&&o<a);fe=R>>3,r-=fe,R-=fe<<3,g&=(1<<R)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),_.hold=g,_.bits=R},yp=15,M6=852,O6=592,L6=0,Px=1,F6=2,bre=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ere=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ire=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Tre=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Are=(t,e,n,r,i,o,s,a)=>{let c=a.bits,u=0,l=0,m=0,y=0,g=0,R=0,k=0,M=0,L=0,Z=0,J,Y,fe,be,P,T=null,w,D=new Uint16Array(yp+1),_=new Uint16Array(yp+1),S=null,I,ee,ve;for(u=0;u<=yp;u++)D[u]=0;for(l=0;l<r;l++)D[e[n+l]]++;for(g=c,y=yp;y>=1&&D[y]===0;y--);if(g>y&&(g=y),y===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(m=1;m<y&&D[m]===0;m++);for(g<m&&(g=m),M=1,u=1;u<=yp;u++)if(M<<=1,M-=D[u],M<0)return-1;if(M>0&&(t===L6||y!==1))return-1;for(_[1]=0,u=1;u<yp;u++)_[u+1]=_[u]+D[u];for(l=0;l<r;l++)e[n+l]!==0&&(s[_[e[n+l]]++]=l);if(t===L6?(T=S=s,w=20):t===Px?(T=bre,S=Ere,w=257):(T=Ire,S=Tre,w=0),Z=0,l=0,u=m,P=o,R=g,k=0,fe=-1,L=1<<g,be=L-1,t===Px&&L>M6||t===F6&&L>O6)return 1;for(;;){I=u-k,s[l]+1<w?(ee=0,ve=s[l]):s[l]>=w?(ee=S[s[l]-w],ve=T[s[l]-w]):(ee=96,ve=0),J=1<<u-k,Y=1<<R,m=Y;do Y-=J,i[P+(Z>>k)+Y]=I<<24|ee<<16|ve|0;while(Y!==0);for(J=1<<u-1;Z&J;)J>>=1;if(J!==0?(Z&=J-1,Z+=J):Z=0,l++,--D[u]===0){if(u===y)break;u=e[n+s[l]]}if(u>g&&(Z&be)!==fe){for(k===0&&(k=g),P+=m,R=u-k,M=1<<R;R+k<y&&(M-=D[R+k],!(M<=0));)R++,M<<=1;if(L+=1<<R,t===Px&&L>M6||t===F6&&L>O6)return 1;fe=Z&be,i[fe]=g<<24|R<<16|P-o|0}}return Z!==0&&(i[P+Z]=u-k<<24|64<<16|0),a.bits=g,0},Dy=Are,Sre=0,k8=1,M8=2,{Z_FINISH:V6,Z_BLOCK:Cre,Z_TREES:eb,Z_OK:yh,Z_STREAM_END:Dre,Z_NEED_DICT:xre,Z_STREAM_ERROR:va,Z_DATA_ERROR:O8,Z_MEM_ERROR:L8,Z_BUF_ERROR:Nre,Z_DEFLATED:B6}=Ep,ub=16180,j6=16181,U6=16182,q6=16183,z6=16184,$6=16185,H6=16186,G6=16187,W6=16188,K6=16189,sb=16190,Lu=16191,kx=16192,Q6=16193,Mx=16194,Y6=16195,J6=16196,Z6=16197,X6=16198,tb=16199,nb=16200,e8=16201,t8=16202,n8=16203,r8=16204,i8=16205,Ox=16206,o8=16207,s8=16208,Tr=16209,F8=16210,V8=16211,Rre=852,Pre=592,kre=15,Mre=kre,a8=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Ore(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var vh=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.mode<ub||e.mode>V8?1:0},B8=t=>{if(vh(t))return va;let e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=ub,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Rre),e.distcode=e.distdyn=new Int32Array(Pre),e.sane=1,e.back=-1,yh},j8=t=>{if(vh(t))return va;let e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,B8(t)},U8=(t,e)=>{let n;if(vh(t))return va;let r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?va:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,j8(t))},q8=(t,e)=>{if(!t)return va;let n=new Ore;t.state=n,n.strm=t,n.window=null,n.mode=ub;let r=U8(t,e);return r!==yh&&(t.state=null),r},Lre=t=>q8(t,Mre),c8=!0,Lx,Fx,Fre=t=>{if(c8){Lx=new Int32Array(512),Fx=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Dy(k8,t.lens,0,288,Lx,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Dy(M8,t.lens,0,32,Fx,0,t.work,{bits:5}),c8=!1}t.lencode=Lx,t.lenbits=9,t.distcode=Fx,t.distbits=5},z8=(t,e,n,r)=>{let i,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Vre=(t,e)=>{let n,r,i,o,s,a,c,u,l,m,y,g,R,k,M=0,L,Z,J,Y,fe,be,P,T,w=new Uint8Array(4),D,_,S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vh(t)||!t.output||!t.input&&t.avail_in!==0)return va;n=t.state,n.mode===Lu&&(n.mode=kx),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,m=a,y=c,T=yh;e:for(;;)switch(n.mode){case ub:if(n.wrap===0){n.mode=kx;break}for(;l<16;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,w[0]=u&255,w[1]=u>>>8&255,n.check=Mi(n.check,w,2,0),u=0,l=0,n.mode=j6;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Tr;break}if((u&15)!==B6){t.msg="unknown compression method",n.mode=Tr;break}if(u>>>=4,l-=4,P=(u&15)+8,n.wbits===0&&(n.wbits=P),P>15||P>n.wbits){t.msg="invalid window size",n.mode=Tr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?K6:Lu,u=0,l=0;break;case j6:for(;l<16;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(n.flags=u,(n.flags&255)!==B6){t.msg="unknown compression method",n.mode=Tr;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Tr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(w[0]=u&255,w[1]=u>>>8&255,n.check=Mi(n.check,w,2,0)),u=0,l=0,n.mode=U6;case U6:for(;l<32;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(w[0]=u&255,w[1]=u>>>8&255,w[2]=u>>>16&255,w[3]=u>>>24&255,n.check=Mi(n.check,w,4,0)),u=0,l=0,n.mode=q6;case q6:for(;l<16;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(w[0]=u&255,w[1]=u>>>8&255,n.check=Mi(n.check,w,2,0)),u=0,l=0,n.mode=z6;case z6:if(n.flags&1024){for(;l<16;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(w[0]=u&255,w[1]=u>>>8&255,n.check=Mi(n.check,w,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=$6;case $6:if(n.flags&1024&&(g=n.length,g>a&&(g=a),g&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+g),P)),n.flags&512&&n.wrap&4&&(n.check=Mi(n.check,r,g,o)),a-=g,o+=g,n.length-=g),n.length))break e;n.length=0,n.mode=H6;case H6:if(n.flags&2048){if(a===0)break e;g=0;do P=r[o+g++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P));while(P&&g<a);if(n.flags&512&&n.wrap&4&&(n.check=Mi(n.check,r,g,o)),a-=g,o+=g,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=G6;case G6:if(n.flags&4096){if(a===0)break e;g=0;do P=r[o+g++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P));while(P&&g<a);if(n.flags&512&&n.wrap&4&&(n.check=Mi(n.check,r,g,o)),a-=g,o+=g,P)break e}else n.head&&(n.head.comment=null);n.mode=W6;case W6:if(n.flags&512){for(;l<16;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Tr;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Lu;break;case K6:for(;l<32;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}t.adler=n.check=a8(u),u=0,l=0,n.mode=sb;case sb:if(n.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,xre;t.adler=n.check=1,n.mode=Lu;case Lu:if(e===Cre||e===eb)break e;case kx:if(n.last){u>>>=l&7,l-=l&7,n.mode=Ox;break}for(;l<3;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}switch(n.last=u&1,u>>>=1,l-=1,u&3){case 0:n.mode=Q6;break;case 1:if(Fre(n),n.mode=tb,e===eb){u>>>=2,l-=2;break e}break;case 2:n.mode=J6;break;case 3:t.msg="invalid block type",n.mode=Tr}u>>>=2,l-=2;break;case Q6:for(u>>>=l&7,l-=l&7;l<32;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Tr;break}if(n.length=u&65535,u=0,l=0,n.mode=Mx,e===eb)break e;case Mx:n.mode=Y6;case Y6:if(g=n.length,g){if(g>a&&(g=a),g>c&&(g=c),g===0)break e;i.set(r.subarray(o,o+g),s),a-=g,o+=g,c-=g,s+=g,n.length-=g;break}n.mode=Lu;break;case J6:for(;l<14;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(n.nlen=(u&31)+257,u>>>=5,l-=5,n.ndist=(u&31)+1,u>>>=5,l-=5,n.ncode=(u&15)+4,u>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Tr;break}n.have=0,n.mode=Z6;case Z6:for(;n.have<n.ncode;){for(;l<3;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}n.lens[S[n.have++]]=u&7,u>>>=3,l-=3}for(;n.have<19;)n.lens[S[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},T=Dy(Sre,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,T){t.msg="invalid code lengths set",n.mode=Tr;break}n.have=0,n.mode=X6;case X6:for(;n.have<n.nlen+n.ndist;){for(;M=n.lencode[u&(1<<n.lenbits)-1],L=M>>>24,Z=M>>>16&255,J=M&65535,!(L<=l);){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(J<16)u>>>=L,l-=L,n.lens[n.have++]=J;else{if(J===16){for(_=L+2;l<_;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(u>>>=L,l-=L,n.have===0){t.msg="invalid bit length repeat",n.mode=Tr;break}P=n.lens[n.have-1],g=3+(u&3),u>>>=2,l-=2}else if(J===17){for(_=L+3;l<_;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}u>>>=L,l-=L,P=0,g=3+(u&7),u>>>=3,l-=3}else{for(_=L+7;l<_;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}u>>>=L,l-=L,P=0,g=11+(u&127),u>>>=7,l-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Tr;break}for(;g--;)n.lens[n.have++]=P}}if(n.mode===Tr)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Tr;break}if(n.lenbits=9,D={bits:n.lenbits},T=Dy(k8,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,T){t.msg="invalid literal/lengths set",n.mode=Tr;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},T=Dy(M8,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,T){t.msg="invalid distances set",n.mode=Tr;break}if(n.mode=tb,e===eb)break e;case tb:n.mode=nb;case nb:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,wre(t,y),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,n.mode===Lu&&(n.back=-1);break}for(n.back=0;M=n.lencode[u&(1<<n.lenbits)-1],L=M>>>24,Z=M>>>16&255,J=M&65535,!(L<=l);){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(Z&&(Z&240)===0){for(Y=L,fe=Z,be=J;M=n.lencode[be+((u&(1<<Y+fe)-1)>>Y)],L=M>>>24,Z=M>>>16&255,J=M&65535,!(Y+L<=l);){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}u>>>=Y,l-=Y,n.back+=Y}if(u>>>=L,l-=L,n.back+=L,n.length=J,Z===0){n.mode=i8;break}if(Z&32){n.back=-1,n.mode=Lu;break}if(Z&64){t.msg="invalid literal/length code",n.mode=Tr;break}n.extra=Z&15,n.mode=e8;case e8:if(n.extra){for(_=n.extra;l<_;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=t8;case t8:for(;M=n.distcode[u&(1<<n.distbits)-1],L=M>>>24,Z=M>>>16&255,J=M&65535,!(L<=l);){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if((Z&240)===0){for(Y=L,fe=Z,be=J;M=n.distcode[be+((u&(1<<Y+fe)-1)>>Y)],L=M>>>24,Z=M>>>16&255,J=M&65535,!(Y+L<=l);){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}u>>>=Y,l-=Y,n.back+=Y}if(u>>>=L,l-=L,n.back+=L,Z&64){t.msg="invalid distance code",n.mode=Tr;break}n.offset=J,n.extra=Z&15,n.mode=n8;case n8:if(n.extra){for(_=n.extra;l<_;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Tr;break}n.mode=r8;case r8:if(c===0)break e;if(g=y-c,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Tr;break}g>n.wnext?(g-=n.wnext,R=n.wsize-g):R=n.wnext-g,g>n.length&&(g=n.length),k=n.window}else k=i,R=s-n.offset,g=n.length;g>c&&(g=c),c-=g,n.length-=g;do i[s++]=k[R++];while(--g);n.length===0&&(n.mode=nb);break;case i8:if(c===0)break e;i[s++]=n.length,c--,n.mode=nb;break;case Ox:if(n.wrap){for(;l<32;){if(a===0)break e;a--,u|=r[o++]<<l,l+=8}if(y-=c,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?Mi(n.check,i,y,s-y):ky(n.check,i,y,s-y)),y=c,n.wrap&4&&(n.flags?u:a8(u))!==n.check){t.msg="incorrect data check",n.mode=Tr;break}u=0,l=0}n.mode=o8;case o8:if(n.wrap&&n.flags){for(;l<32;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Tr;break}u=0,l=0}n.mode=s8;case s8:T=Dre;break e;case Tr:T=O8;break e;case F8:return L8;case V8:default:return va}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,(n.wsize||y!==t.avail_out&&n.mode<Tr&&(n.mode<Ox||e!==V6))&&z8(t,t.output,t.next_out,y-t.avail_out),m-=t.avail_in,y-=t.avail_out,t.total_in+=m,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?Mi(n.check,i,y,t.next_out-y):ky(n.check,i,y,t.next_out-y)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Lu?128:0)+(n.mode===tb||n.mode===Mx?256:0),(m===0&&y===0||e===V6)&&T===yh&&(T=Nre),T},Bre=t=>{if(vh(t))return va;let e=t.state;return e.window&&(e.window=null),t.state=null,yh},jre=(t,e)=>{if(vh(t))return va;let n=t.state;return(n.wrap&2)===0?va:(n.head=e,e.done=!1,yh)},Ure=(t,e)=>{let n=e.length,r,i,o;return vh(t)||(r=t.state,r.wrap!==0&&r.mode!==sb)?va:r.mode===sb&&(i=1,i=ky(i,e,n,0),i!==r.check)?O8:(o=z8(t,e,n,n),o?(r.mode=F8,L8):(r.havedict=1,yh))},qre=j8,zre=U8,$re=B8,Hre=Lre,Gre=q8,Wre=Vre,Kre=Bre,Qre=jre,Yre=Ure,Jre="pako inflate (from Nodeca project)",Vu={inflateReset:qre,inflateReset2:zre,inflateResetKeep:$re,inflateInit:Hre,inflateInit2:Gre,inflate:Wre,inflateEnd:Kre,inflateGetHeader:Qre,inflateSetDictionary:Yre,inflateInfo:Jre};function Zre(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Xre=Zre,$8=Object.prototype.toString,{Z_NO_FLUSH:eie,Z_FINISH:tie,Z_OK:Ly,Z_STREAM_END:Vx,Z_NEED_DICT:Bx,Z_STREAM_ERROR:nie,Z_DATA_ERROR:u8,Z_MEM_ERROR:rie}=Ep;function jy(t){this.options=cb.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new R8,this.strm.avail_out=0;let n=Vu.inflateInit2(this.strm,e.windowBits);if(n!==Ly)throw new Error(gh[n]);if(this.header=new Xre,Vu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Oy.string2buf(e.dictionary):$8.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Vu.inflateSetDictionary(this.strm,e.dictionary),n!==Ly)))throw new Error(gh[n])}jy.prototype.push=function(t,e){let n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?tie:eie,$8.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Vu.inflate(n,s),o===Bx&&i&&(o=Vu.inflateSetDictionary(n,i),o===Ly?o=Vu.inflate(n,s):o===u8&&(o=Bx));n.avail_in>0&&o===Vx&&n.state.wrap>0&&t[n.next_in]!==0;)Vu.inflateReset(n),o=Vu.inflate(n,s);switch(o){case nie:case u8:case Bx:case rie:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===Vx))if(this.options.to==="string"){let c=Oy.utf8border(n.output,n.next_out),u=n.next_out-c,l=Oy.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(l)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Ly&&a===0)){if(o===Vx)return o=Vu.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};jy.prototype.onData=function(t){this.chunks.push(t)};jy.prototype.onEnd=function(t){t===Ly&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=cb.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function tN(t,e){let n=new jy(e);if(n.push(t),n.err)throw n.msg||gh[n.err];return n.result}function iie(t,e){return e=e||{},e.raw=!0,tN(t,e)}var oie=jy,sie=tN,aie=iie,cie=tN,uie=Ep,lie={Inflate:oie,inflate:sie,inflateRaw:aie,ungzip:cie,constants:uie},{Deflate:l2e,deflate:d2e,deflateRaw:h2e,gzip:f2e}=vre,{Inflate:die,inflate:hie,inflateRaw:p2e,ungzip:g2e}=lie;var nN=die,H8=hie;var W8=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;W8[t]=e}var G8=4294967295;function fie(t,e,n){let r=t;for(let i=0;i<n;i++)r=W8[(r^e[i])&255]^r>>>8;return r}function pie(t,e){return(fie(G8,t,e)^G8)>>>0}function rN(t,e,n){let r=t.readUint32(),i=pie(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function lb(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function db(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function hb(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function fb(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<r;o++)e[o]=t[o]+(e[o-i]+n[o]>>1)&255}}function pb(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+n[o]&255;for(;o<r;o++)e[o]=t[o]+gie(e[o-i],n[o],n[o-i])&255}}function gie(t,e,n){let r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),s=Math.abs(r-n);return i<=o&&i<=s?t:o<=s?e:n}function K8(t,e,n,r,i,o){switch(t){case 0:lb(e,n,i);break;case 1:db(e,n,i,o);break;case 2:hb(e,n,r,i);break;case 3:fb(e,n,r,i,o);break;case 4:pb(e,n,r,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}var mie=new Uint16Array([255]),yie=new Uint8Array(mie.buffer),vie=yie[0]===255;function Q8(t){let{data:e,width:n,height:r,channels:i,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,c=new Uint8Array(r*n*a),u=0;for(let l=0;l<7;l++){let m=s[l],y=Math.ceil((n-m.x)/m.xStep),g=Math.ceil((r-m.y)/m.yStep);if(y<=0||g<=0)continue;let R=y*a,k=new Uint8Array(R);for(let M=0;M<g;M++){let L=e[u++],Z=e.subarray(u,u+R);u+=R;let J=new Uint8Array(R);K8(L,Z,J,k,R,a),k.set(J);for(let Y=0;Y<y;Y++){let fe=m.x+Y*m.xStep,be=m.y+M*m.yStep;if(!(fe>=n||be>=r))for(let P=0;P<a;P++)c[(be*n+fe)*a+P]=J[Y*a+P]}}}if(o===16){let l=new Uint16Array(c.buffer);if(vie)for(let m=0;m<l.length;m++)l[m]=_ie(l[m]);return l}else return c}function _ie(t){return(t&255)<<8|t>>8&255}var wie=new Uint16Array([255]),bie=new Uint8Array(wie.buffer),Eie=bie[0]===255,Iie=new Uint8Array(0);function iN(t){let{data:e,width:n,height:r,channels:i,depth:o}=t,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*n),c=new Uint8Array(r*a),u=Iie,l=0,m,y;for(let g=0;g<r;g++){switch(m=e.subarray(l+1,l+1+a),y=c.subarray(g*a,(g+1)*a),e[l]){case 0:lb(m,y,a);break;case 1:db(m,y,a,s);break;case 2:hb(m,y,u,a);break;case 3:fb(m,y,u,a,s);break;case 4:pb(m,y,u,a,s);break;default:throw new Error(`Unsupported filter: ${e[l]}`)}u=y,l+=a+1}if(o===16){let g=new Uint16Array(c.buffer);if(Eie)for(let R=0;R<g.length;R++)g[R]=Tie(g[R]);return g}else return c}function Tie(t){return(t&255)<<8|t>>8&255}var gb=Uint8Array.of(137,80,78,71,13,10,26,10);function oN(t){if(!Y8(t.readBytes(gb.length)))throw new Error("wrong PNG signature")}function Y8(t){if(t.length<gb.length)return!1;for(let e=0;e<gb.length;e++)if(t[e]!==gb[e])return!1;return!0}var J8="tEXt",Sie=0,Z8=new TextDecoder("latin1");function Cie(t){if(xie(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}var Die=/^[\u0000-\u00FF]*$/;function xie(t){if(!Die.test(t))throw new Error("invalid latin1 text")}function X8(t,e,n){let r=sN(e);t[r]=Nie(e,n-r.length-1)}function sN(t){for(t.mark();t.readByte()!==Sie;);let e=t.offset;t.reset();let n=Z8.decode(t.readBytes(e-t.offset-1));return t.skip(1),Cie(n),n}function Nie(t,e){return Z8.decode(t.readBytes(e))}var Bo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Uy={UNKNOWN:-1,DEFLATE:0},mb={UNKNOWN:-1,ADAPTIVE:0},qy={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},zy={NONE:0,BACKGROUND:1,PREVIOUS:2},yb={SOURCE:0,OVER:1};var vb=class extends Ey{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);let{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new nN,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Uy.UNKNOWN,this._filterMethod=mb.UNKNOWN,this._interlaceMethod=qy.UNKNOWN,this._colorType=Bo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(oN(this);!this._end;){let e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(oN(this);!this._end;){let e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){let r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case J8:X8(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?rN(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){let r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?rN(this,e+4,n):this.skip(4)}decodeIHDR(){let e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Rie(this.readUint8());let n=this.readUint8();this._colorType=n;let r;switch(n){case Bo.GREYSCALE:r=1;break;case Bo.TRUECOLOUR:r=3;break;case Bo.INDEXED_COLOUR:r=1;break;case Bo.GREYSCALE_ALPHA:r=2;break;case Bo.TRUECOLOUR_ALPHA:r=4;break;case Bo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Uy.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);let n=e/3;this._hasPalette=!0;let r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Bo.GREYSCALE:case Bo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case Bo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){let r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Bo.UNKNOWN:case Bo.GREYSCALE_ALPHA:case Bo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){let n=sN(this),r=this.readUint8();if(r!==Uy.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);let i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:H8(i)}}decodepHYs(){let e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){let n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=iN({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{let i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case zy.NONE:break;case zy.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){let s=(i*e.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[s+a]=0}break;case zy.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){let r=1<<this._png.depth,i=(o,s)=>{let a=((o+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,c=(o*n.width+s)*this._png.channels;return{index:a,frameIndex:c}};switch(n.blendOp){case yb.SOURCE:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){let{index:a,frameIndex:c}=i(o,s);for(let u=0;u<this._png.channels;u++)e.data[a+u]=n.data[c+u]}break;case yb.OVER:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){let{index:a,frameIndex:c}=i(o,s);for(let u=0;u<this._png.channels;u++){let l=n.data[c+this._png.channels-1]/r,m=u%(this._png.channels-1)===0?1:n.data[c+u],y=Math.floor(l*m+(1-l)*e.data[a+u]);e.data[a+u]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==mb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===qy.NO_INTERLACE)this._png.data=iN({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===qy.ADAM7)this._png.data=Q8({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:zy.NONE,blendOp:yb.SOURCE,data:e}),this._inflator=new nN,this._writingDataChunks=!1}};function Rie(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}function eB(t,e){return new vb(t,e).decode()}var $t=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function aN(){$t.console&&typeof $t.console.log=="function"&&$t.console.log.apply($t.console,arguments)}var ur={log:aN,warn:function(t){$t.console&&(typeof $t.console.warn=="function"?$t.console.warn.apply($t.console,arguments):aN.call(null,arguments))},error:function(t){$t.console&&(typeof $t.console.error=="function"?$t.console.error.apply($t.console,arguments):aN(t))}};function cN(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){_h(r.response,e,n)},r.onerror=function(){ur.error("could not download file")},r.send()}function tB(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function _b(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var _h=$t.saveAs||((typeof window>"u"?"undefined":er(window))!=="object"||window!==$t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=$t.URL||$t.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?tB(i.href)?cN(t,e,n):_b(i,i.target="_blank"):_b(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){_b(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(tB(t))cN(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){_b(r)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:er(o)!=="object"&&(ur.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return cN(t,e,n);var i=t.type==="application/octet-stream",o=/constructor/i.test($t.HTMLElement)||$t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":er(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var l=a.result;l=s?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=l:location=l,r=null},a.readAsDataURL(t)}else{var c=$t.URL||$t.webkitURL,u=c.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});function AB(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+a+c+u}}var Ib=$t.atob.bind($t),nB=$t.btoa.bind($t);function uN(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=ho(n,r,i,o,e[0],7,-680876936),o=ho(o,n,r,i,e[1],12,-389564586),i=ho(i,o,n,r,e[2],17,606105819),r=ho(r,i,o,n,e[3],22,-1044525330),n=ho(n,r,i,o,e[4],7,-176418897),o=ho(o,n,r,i,e[5],12,1200080426),i=ho(i,o,n,r,e[6],17,-1473231341),r=ho(r,i,o,n,e[7],22,-45705983),n=ho(n,r,i,o,e[8],7,1770035416),o=ho(o,n,r,i,e[9],12,-1958414417),i=ho(i,o,n,r,e[10],17,-42063),r=ho(r,i,o,n,e[11],22,-1990404162),n=ho(n,r,i,o,e[12],7,1804603682),o=ho(o,n,r,i,e[13],12,-40341101),i=ho(i,o,n,r,e[14],17,-1502002290),n=fo(n,r=ho(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=fo(o,n,r,i,e[6],9,-1069501632),i=fo(i,o,n,r,e[11],14,643717713),r=fo(r,i,o,n,e[0],20,-373897302),n=fo(n,r,i,o,e[5],5,-701558691),o=fo(o,n,r,i,e[10],9,38016083),i=fo(i,o,n,r,e[15],14,-660478335),r=fo(r,i,o,n,e[4],20,-405537848),n=fo(n,r,i,o,e[9],5,568446438),o=fo(o,n,r,i,e[14],9,-1019803690),i=fo(i,o,n,r,e[3],14,-187363961),r=fo(r,i,o,n,e[8],20,1163531501),n=fo(n,r,i,o,e[13],5,-1444681467),o=fo(o,n,r,i,e[2],9,-51403784),i=fo(i,o,n,r,e[7],14,1735328473),n=po(n,r=fo(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=po(o,n,r,i,e[8],11,-2022574463),i=po(i,o,n,r,e[11],16,1839030562),r=po(r,i,o,n,e[14],23,-35309556),n=po(n,r,i,o,e[1],4,-1530992060),o=po(o,n,r,i,e[4],11,1272893353),i=po(i,o,n,r,e[7],16,-155497632),r=po(r,i,o,n,e[10],23,-1094730640),n=po(n,r,i,o,e[13],4,681279174),o=po(o,n,r,i,e[0],11,-358537222),i=po(i,o,n,r,e[3],16,-722521979),r=po(r,i,o,n,e[6],23,76029189),n=po(n,r,i,o,e[9],4,-640364487),o=po(o,n,r,i,e[12],11,-421815835),i=po(i,o,n,r,e[15],16,530742520),n=go(n,r=po(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=go(o,n,r,i,e[7],10,1126891415),i=go(i,o,n,r,e[14],15,-1416354905),r=go(r,i,o,n,e[5],21,-57434055),n=go(n,r,i,o,e[12],6,1700485571),o=go(o,n,r,i,e[3],10,-1894986606),i=go(i,o,n,r,e[10],15,-1051523),r=go(r,i,o,n,e[1],21,-2054922799),n=go(n,r,i,o,e[8],6,1873313359),o=go(o,n,r,i,e[15],10,-30611744),i=go(i,o,n,r,e[6],15,-1560198380),r=go(r,i,o,n,e[13],21,1309151649),n=go(n,r,i,o,e[4],6,-145523070),o=go(o,n,r,i,e[11],10,-1120210379),i=go(i,o,n,r,e[2],15,718787259),r=go(r,i,o,n,e[9],21,-343485551),t[0]=Ql(n,t[0]),t[1]=Ql(r,t[1]),t[2]=Ql(i,t[2]),t[3]=Ql(o,t[3])}function Nb(t,e,n,r,i,o){return e=Ql(Ql(e,t),Ql(r,o)),Ql(e<<i|e>>>32-i,n)}function ho(t,e,n,r,i,o,s){return Nb(e&n|~e&r,t,e,i,o,s)}function fo(t,e,n,r,i,o,s){return Nb(e&r|n&~r,t,e,i,o,s)}function po(t,e,n,r,i,o,s){return Nb(e^n^r,t,e,i,o,s)}function go(t,e,n,r,i,o,s){return Nb(n^(e|~r),t,e,i,o,s)}function SB(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)uN(r,Pie(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(uN(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,uN(r,i),r}function Pie(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var rB="0123456789abcdef".split("");function kie(t){for(var e="",n=0;n<4;n++)e+=rB[t>>8*n+4&15]+rB[t>>8*n&15];return e}function Mie(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function gN(t){return SB(t).map(Mie).join("")}var Oie=(function(t){for(var e=0;e<t.length;e++)t[e]=kie(t[e]);return t.join("")})(SB("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ql(t,e){if(Oie){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function mN(t,e){var n,r,i,o;if(t!==n){for(var s=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),a=[],c=0;c<256;c++)a[c]=c;var u=0;for(c=0;c<256;c++){var l=a[c];u=(u+l+s.charCodeAt(c))%256,a[c]=a[u],a[u]=l}n=t,r=a}else a=r;var m=e.length,y=0,g=0,R="";for(c=0;c<m;c++)g=(g+(l=a[y=(y+1)%256]))%256,a[y]=a[g],a[g]=l,s=a[(a[y]+a[g])%256],R+=String.fromCharCode(e.charCodeAt(c)^s);return R}var iB={print:4,modify:8,copy:16,"annot-forms":32};function Cp(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(iB.perm!==void 0)throw new Error("Invalid permission: "+a);i+=iB[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=gN(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=mN(this.encryptionKey,this.padding)}function Dp(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function oB(t){if(er(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(a){$t.console&&ur.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Db(t){if(!(this instanceof Db))return new Db(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function CB(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function wh(t,e,n,r,i){if(!(this instanceof wh))return new wh(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,CB.call(this,r,i)}function xp(t,e,n,r,i){if(!(this instanceof xp))return new xp(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,CB.call(this,r,i)}function yt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,c=16,u="S",l=null;er(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,(l=t.encryption||null)!==null&&(l.userPassword=l.userPassword||"",l.ownerPassword=l.ownerPassword||"",l.userPermissions=l.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=oB;var R="1.3",k=g.__private__.getPdfVersion=function(){return R};g.__private__.setPdfVersion=function(v){R=v};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return M};var L=g.__private__.getPageFormat=function(v){return M[v]};i=i||"a4";var Z="compat",J="advanced",Y=Z;function fe(){this.saveGraphicsState(),H(new lt(Ut,0,0,-Ut,0,Ho()*Ut).toString()+" cm"),this.setFontSize(this.getFontSize()/Ut),u="n",Y=J}function be(){this.restoreGraphicsState(),u="S",Y=Z}var P=g.__private__.combineFontStyleAndFontWeight=function(v,O){if(v=="bold"&&O=="normal"||v=="bold"&&O==400||v=="normal"&&O=="italic"||v=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(v=O==400||O==="normal"?v==="italic"?"italic":"normal":O!=700&&O!=="bold"||v!=="normal"?(O==700?"bold":O)+""+v:"bold"),v};g.advancedAPI=function(v){var O=Y===Z;return O&&fe.call(this),typeof v!="function"||(v(this),O&&be.call(this)),this},g.compatAPI=function(v){var O=Y===J;return O&&be.call(this),typeof v!="function"||(v(this),O&&fe.call(this)),this},g.isAdvancedAPI=function(){return Y===J};var T,w=function(v){if(Y!==J)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=g.roundToPrecision=g.__private__.roundToPrecision=function(v,O){var G=e||O;if(isNaN(v)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(G).replace(/0+$/,"")};T=g.hpf=g.__private__.hpf=typeof c=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return D(v,c)}:c==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return D(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return D(v,16)};var _=g.f2=g.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return D(v,2)},S=g.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return D(v,3)},I=g.scale=g.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return Y===Z?v*Ut:Y===J?v:void 0},ee=function(v){return I((function(O){return Y===Z?Ho()-O:Y===J?O:void 0})(v))};g.__private__.setPrecision=g.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var ve,Ce="00000000000000000000000000000000",Te=g.__private__.getFileId=function(){return Ce},pe=g.__private__.setFileId=function(v){return Ce=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():Ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),l!==null&&(rr=new Cp(l.userPermissions,l.userPassword,l.ownerPassword,Ce)),Ce};g.setFileId=function(v){return pe(v),this},g.getFileId=function(){return Te()};var Ae=g.__private__.convertDateToPDFDate=function(v){var O=v.getTimezoneOffset(),G=O<0?"+":"-",te=Math.floor(Math.abs(O/60)),le=Math.abs(O%60),Se=[G,X(te),"'",X(le),"'"].join("");return["D:",v.getFullYear(),X(v.getMonth()+1),X(v.getDate()),X(v.getHours()),X(v.getMinutes()),X(v.getSeconds()),Se].join("")},$e=g.__private__.convertPDFDateToDate=function(v){var O=parseInt(v.substr(2,4),10),G=parseInt(v.substr(6,2),10)-1,te=parseInt(v.substr(8,2),10),le=parseInt(v.substr(10,2),10),Se=parseInt(v.substr(12,2),10),ke=parseInt(v.substr(14,2),10);return new Date(O,G,te,le,Se,ke,0)},Me=g.__private__.setCreationDate=function(v){var O;if(v===void 0&&(v=new Date),v instanceof Date)O=Ae(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=v}return ve=O},B=g.__private__.getCreationDate=function(v){var O=ve;return v==="jsDate"&&(O=$e(ve)),O};g.setCreationDate=function(v){return Me(v),this},g.getCreationDate=function(v){return B(v)};var W,X=g.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},ne=g.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},ce=0,de=[],Ee=[],Ie=0,xe=[],Be=[],Je=!1,Ke=Ee;g.__private__.setCustomOutputDestination=function(v){Je=!0,Ke=v};var ct=function(v){Je||(Ke=v)};g.__private__.resetCustomOutputDestination=function(){Je=!1,Ke=Ee};var H=g.__private__.out=function(v){return v=v.toString(),Ie+=v.length+1,Ke.push(v),Ke},Qe=g.__private__.write=function(v){return H(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},jt=g.__private__.getArrayBuffer=function(v){for(var O=v.length,G=new ArrayBuffer(O),te=new Uint8Array(G);O--;)te[O]=v.charCodeAt(O);return G},bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return bt};var Fe=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(v){return Fe=Y===J?v/Ut:v,this};var Ze,Ge=g.__private__.getFontSize=g.getFontSize=function(){return Y===Z?Fe:Fe*Ut},gt=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(v){return gt=v,this},g.__private__.getR2L=g.getR2L=function(){return gt};var vt,ln=g.__private__.setZoomMode=function(v){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Ze=v;else if(isNaN(v)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Ze=v}else Ze=parseInt(v,10)};g.__private__.getZoomMode=function(){return Ze};var Xt,Dt=g.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');vt=v};g.__private__.getPageMode=function(){return vt};var Et=g.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');Xt=v};g.__private__.getLayoutMode=function(){return Xt},g.__private__.setDisplayMode=g.setDisplayMode=function(v,O,G){return ln(v),Et(O),Dt(G),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(v){if(Object.keys(It).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[v]},g.__private__.getDocumentProperties=function(){return It},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(v){for(var O in It)It.hasOwnProperty(O)&&v[O]&&(It[O]=v[O]);return this},g.__private__.setDocumentProperty=function(v,O){if(Object.keys(It).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[v]=O};var tt,Ut,dt,lr,en,Ft={},Ht={},Ln=[],ut={},Vn={},_t={},Mt={},Pn=null,qt=0,Xe=[],dn=new oB(g),Mr=t.hotfixes||[],mr={},Yi={},mo=[],lt=function v(O,G,te,le,Se,ke){if(!(this instanceof v))return new v(O,G,te,le,Se,ke);isNaN(O)&&(O=1),isNaN(G)&&(G=0),isNaN(te)&&(te=0),isNaN(le)&&(le=1),isNaN(Se)&&(Se=0),isNaN(ke)&&(ke=0),this._matrix=[O,G,te,le,Se,ke]};Object.defineProperty(lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(v)},lt.prototype.multiply=function(v){var O=v.sx*this.sx+v.shy*this.shx,G=v.sx*this.shy+v.shy*this.sy,te=v.shx*this.sx+v.sy*this.shx,le=v.shx*this.shy+v.sy*this.sy,Se=v.tx*this.sx+v.ty*this.shx+this.tx,ke=v.tx*this.shy+v.ty*this.sy+this.ty;return new lt(O,G,te,le,Se,ke)},lt.prototype.decompose=function(){var v=this.sx,O=this.shy,G=this.shx,te=this.sy,le=this.tx,Se=this.ty,ke=Math.sqrt(v*v+O*O),et=(v/=ke)*G+(O/=ke)*te;G-=v*et,te-=O*et;var it=Math.sqrt(G*G+te*te);return et/=it,v*(te/=it)<O*(G/=it)&&(v=-v,O=-O,et=-et,ke=-ke),{scale:new lt(ke,0,0,it,0,0),translate:new lt(1,0,0,1,le,Se),rotate:new lt(v,O,-O,v,0,0),skew:new lt(1,0,et,1,0,0)}},lt.prototype.toString=function(v){return this.join(" ")},lt.prototype.inversed=function(){var v=this.sx,O=this.shy,G=this.shx,te=this.sy,le=this.tx,Se=this.ty,ke=1/(v*te-O*G),et=te*ke,it=-O*ke,xt=-G*ke,Nt=v*ke;return new lt(et,it,xt,Nt,-et*le-xt*Se,-it*le-Nt*Se)},lt.prototype.applyToPoint=function(v){var O=v.x*this.sx+v.y*this.shx+this.tx,G=v.x*this.shy+v.y*this.sy+this.ty;return new us(O,G)},lt.prototype.applyToRectangle=function(v){var O=this.applyToPoint(v),G=this.applyToPoint(new us(v.x+v.w,v.y+v.h));return new zo(O.x,O.y,G.x-O.x,G.y-O.y)},lt.prototype.clone=function(){var v=this.sx,O=this.shy,G=this.shx,te=this.sy,le=this.tx,Se=this.ty;return new lt(v,O,G,te,le,Se)},g.Matrix=lt;var jo=g.matrixMult=function(v,O){return O.multiply(v)},nr=new lt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=nr;var Kr=function(v,O){if(!Vn[v]){var G=(O instanceof wh?"Sh":"P")+(Object.keys(ut).length+1).toString(10);O.id=G,Vn[v]=G,ut[G]=O,dn.publish("addPattern",O)}};g.ShadingPattern=wh,g.TilingPattern=xp,g.addShadingPattern=function(v,O){return w("addShadingPattern()"),Kr(v,O),this},g.beginTilingPattern=function(v){w("beginTilingPattern()"),qs(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},g.endTilingPattern=function(v,O){w("endTilingPattern()"),O.stream=Be[W].join(`
`),Kr(v,O),dn.publish("endTilingPattern",O),mo.pop().restore()};var Or,Bn=g.__private__.newObject=function(){var v=_r();return yr(v,!0),v},_r=g.__private__.newObjectDeferred=function(){return ce++,de[ce]=function(){return Ie},ce},yr=function(v,O){return O=typeof O=="boolean"&&O,de[v]=Ie,O&&H(v+" 0 obj"),v},Ji=g.__private__.newAdditionalObject=function(){var v={objId:_r(),content:""};return xe.push(v),v},di=_r(),Zi=_r(),Ei=g.__private__.decodeColorString=function(v){var O=v.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var G=parseFloat(O[0]);O=[G,G,G,"r"]}for(var te="#",le=0;le<3;le++)te+=("0"+Math.floor(255*parseFloat(O[le])).toString(16)).slice(-2);return te},Ii=g.__private__.encodeColorString=function(v){var O;typeof v=="string"&&(v={ch1:v});var G=v.ch1,te=v.ch2,le=v.ch3,Se=v.ch4,ke=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var et=new AB(G);if(et.ok)G=et.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var it=parseInt(G.substr(1),16);G=it>>16&255,te=it>>8&255,le=255&it}if(te===void 0||Se===void 0&&G===te&&te===le)O=typeof G=="string"?G+" "+ke[0]:v.precision===2?_(G/255)+" "+ke[0]:S(G/255)+" "+ke[0];else if(Se===void 0||er(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return["1.","1.","1.",ke[1]].join(" ");O=typeof G=="string"?[G,te,le,ke[1]].join(" "):v.precision===2?[_(G/255),_(te/255),_(le/255),ke[1]].join(" "):[S(G/255),S(te/255),S(le/255),ke[1]].join(" ")}else O=typeof G=="string"?[G,te,le,Se,ke[2]].join(" "):v.precision===2?[_(G),_(te),_(le),_(Se),ke[2]].join(" "):[S(G),S(te),S(le),S(Se),ke[2]].join(" ");return O},hi=g.__private__.getFilters=function(){return s},Qr=g.__private__.putStream=function(v){var O=(v=v||{}).data||"",G=v.filters||hi(),te=v.alreadyAppliedFilters||[],le=v.addLength1||!1,Se=O.length,ke=v.objectId,et=function(f){return f};if(l!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");l!==null&&(et=rr.encryptor(ke,0));var it={};G===!0&&(G=["FlateEncode"]);var xt=v.additionalKeyValues||[],Nt=(it=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(O,G):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(it.data.length!==0&&(xt.push({key:"Length",value:it.data.length}),le===!0&&xt.push({key:"Length1",value:Se})),Nt.length!=0)if(Nt.split("/").length-1==1)xt.push({key:"Filter",value:Nt});else{xt.push({key:"Filter",value:"["+Nt+"]"});for(var kt=0;kt<xt.length;kt+=1)if(xt[kt].key==="DecodeParms"){for(var Yn=[],jn=0;jn<it.reverseChain.split("/").length-1;jn+=1)Yn.push("null");Yn.push(xt[kt].value),xt[kt].value="["+Yn.join(" ")+"]"}}H("<<");for(var pn=0;pn<xt.length;pn++)H("/"+xt[pn].key+" "+xt[pn].value);H(">>"),it.data.length!==0&&(H("stream"),H(et(it.data)),H("endstream"))},Ti=g.__private__.putPage=function(v){var O=v.number,G=v.data,te=v.objId,le=v.contentsObjId;yr(te,!0),H("<</Type /Page"),H("/Parent "+v.rootDictionaryObjId+" 0 R"),H("/Resources "+v.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(T(v.mediaBox.bottomLeftX))+" "+parseFloat(T(v.mediaBox.bottomLeftY))+" "+T(v.mediaBox.topRightX)+" "+T(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&H("/CropBox ["+T(v.cropBox.bottomLeftX)+" "+T(v.cropBox.bottomLeftY)+" "+T(v.cropBox.topRightX)+" "+T(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&H("/BleedBox ["+T(v.bleedBox.bottomLeftX)+" "+T(v.bleedBox.bottomLeftY)+" "+T(v.bleedBox.topRightX)+" "+T(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&H("/TrimBox ["+T(v.trimBox.bottomLeftX)+" "+T(v.trimBox.bottomLeftY)+" "+T(v.trimBox.topRightX)+" "+T(v.trimBox.topRightY)+"]"),v.artBox!==null&&H("/ArtBox ["+T(v.artBox.bottomLeftX)+" "+T(v.artBox.bottomLeftY)+" "+T(v.artBox.topRightX)+" "+T(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&H("/UserUnit "+v.userUnit),dn.publish("putPage",{objId:te,pageContext:Xe[O],pageNumber:O,page:G}),H("/Contents "+le+" 0 R"),H(">>"),H("endobj");var Se=G.join(`
`);return Y===J&&(Se+=`
Q`),yr(le,!0),Qr({data:Se,filters:hi(),objectId:le}),H("endobj"),te},Xi=g.__private__.putPages=function(){var v,O,G=[];for(v=1;v<=qt;v++)Xe[v].objId=_r(),Xe[v].contentsObjId=_r();for(v=1;v<=qt;v++)G.push(Ti({number:v,data:Be[v],objId:Xe[v].objId,contentsObjId:Xe[v].contentsObjId,mediaBox:Xe[v].mediaBox,cropBox:Xe[v].cropBox,bleedBox:Xe[v].bleedBox,trimBox:Xe[v].trimBox,artBox:Xe[v].artBox,userUnit:Xe[v].userUnit,rootDictionaryObjId:di,resourceDictionaryObjId:Zi}));yr(di,!0),H("<</Type /Pages");var te="/Kids [";for(O=0;O<qt;O++)te+=G[O]+" 0 R ";H(te+"]"),H("/Count "+qt),H(">>"),H("endobj"),dn.publish("postPutPages")},Ms=function(v){dn.publish("putFont",{font:v,out:H,newObject:Bn,putStream:Qr}),v.isAlreadyPutted!==!0&&(v.objectNumber=Bn(),H("<<"),H("/Type /Font"),H("/BaseFont /"+Dp(v.postScriptName)),H("/Subtype /Type1"),typeof v.encoding=="string"&&H("/Encoding /"+v.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},yo=function(v){v.objectNumber=Bn();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[T(v.x),T(v.y),T(v.x+v.width),T(v.y+v.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var G=v.pages[1].join(`
`);Qr({data:G,additionalKeyValues:O,objectId:v.objectNumber}),H("endobj")},is=function(v,O){O||(O=21);var G=Bn(),te=(function(ke,et){var it,xt=[],Nt=1/(et-1);for(it=0;it<1;it+=Nt)xt.push(it);if(xt.push(1),ke[0].offset!=0){var kt={offset:0,color:ke[0].color};ke.unshift(kt)}if(ke[ke.length-1].offset!=1){var Yn={offset:1,color:ke[ke.length-1].color};ke.push(Yn)}for(var jn="",pn=0,f=0;f<xt.length;f++){for(it=xt[f];it>ke[pn+1].offset;)pn++;var A=ke[pn].offset,N=(it-A)/(ke[pn+1].offset-A),q=ke[pn].color,oe=ke[pn+1].color;jn+=ne(Math.round((1-N)*q[0]+N*oe[0]).toString(16))+ne(Math.round((1-N)*q[1]+N*oe[1]).toString(16))+ne(Math.round((1-N)*q[2]+N*oe[2]).toString(16))}return jn.trim()})(v.colors,O),le=[];le.push({key:"FunctionType",value:"0"}),le.push({key:"Domain",value:"[0.0 1.0]"}),le.push({key:"Size",value:"["+O+"]"}),le.push({key:"BitsPerSample",value:"8"}),le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qr({data:te,additionalKeyValues:le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),H("endobj"),v.objectNumber=Bn(),H("<< /ShadingType "+v.type),H("/ColorSpace /DeviceRGB");var Se="/Coords ["+T(parseFloat(v.coords[0]))+" "+T(parseFloat(v.coords[1]))+" ";v.type===2?Se+=T(parseFloat(v.coords[2]))+" "+T(parseFloat(v.coords[3])):Se+=T(parseFloat(v.coords[2]))+" "+T(parseFloat(v.coords[3]))+" "+T(parseFloat(v.coords[4]))+" "+T(parseFloat(v.coords[5])),H(Se+="]"),v.matrix&&H("/Matrix ["+v.matrix.toString()+"]"),H("/Function "+G+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},os=function(v,O){var G=_r(),te=Bn();O.push({resourcesOid:G,objectOid:te}),v.objectNumber=te;var le=[];le.push({key:"Type",value:"/Pattern"}),le.push({key:"PatternType",value:"1"}),le.push({key:"PaintType",value:"1"}),le.push({key:"TilingType",value:"1"}),le.push({key:"BBox",value:"["+v.boundingBox.map(T).join(" ")+"]"}),le.push({key:"XStep",value:T(v.xStep)}),le.push({key:"YStep",value:T(v.yStep)}),le.push({key:"Resources",value:G+" 0 R"}),v.matrix&&le.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Qr({data:v.stream,additionalKeyValues:le,objectId:v.objectNumber}),H("endobj")},Os=function(v){for(var O in v.objectNumber=Bn(),H("<<"),v)switch(O){case"opacity":H("/ca "+_(v[O]));break;case"stroke-opacity":H("/CA "+_(v[O]))}H(">>"),H("endobj")},vo=function(v){yr(v.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var O in H("/Font <<"),Ft)Ft.hasOwnProperty(O)&&(m===!1||m===!0&&y.hasOwnProperty(O))&&H("/"+O+" "+Ft[O].objectNumber+" 0 R");H(">>")})(),(function(){if(Object.keys(ut).length>0){for(var O in H("/Shading <<"),ut)ut.hasOwnProperty(O)&&ut[O]instanceof wh&&ut[O].objectNumber>=0&&H("/"+O+" "+ut[O].objectNumber+" 0 R");dn.publish("putShadingPatternDict"),H(">>")}})(),(function(O){if(Object.keys(ut).length>0){for(var G in H("/Pattern <<"),ut)ut.hasOwnProperty(G)&&ut[G]instanceof g.TilingPattern&&ut[G].objectNumber>=0&&ut[G].objectNumber<O&&H("/"+G+" "+ut[G].objectNumber+" 0 R");dn.publish("putTilingPatternDict"),H(">>")}})(v.objectOid),(function(){if(Object.keys(_t).length>0){var O;for(O in H("/ExtGState <<"),_t)_t.hasOwnProperty(O)&&_t[O].objectNumber>=0&&H("/"+O+" "+_t[O].objectNumber+" 0 R");dn.publish("putGStateDict"),H(">>")}})(),(function(){for(var O in H("/XObject <<"),mr)mr.hasOwnProperty(O)&&mr[O].objectNumber>=0&&H("/"+O+" "+mr[O].objectNumber+" 0 R");dn.publish("putXobjectDict"),H(">>")})(),H(">>"),H("endobj")},ss=function(v){Ht[v.fontName]=Ht[v.fontName]||{},Ht[v.fontName][v.fontStyle]=v.id},Uc=function(v,O,G,te,le){var Se={id:"F"+(Object.keys(Ft).length+1).toString(10),postScriptName:v,fontName:O,fontStyle:G,encoding:te,isStandardFont:le||!1,metadata:{}};return dn.publish("addFont",{font:Se,instance:this}),Ft[Se.id]=Se,ss(Se),Se.id},fi=g.__private__.pdfEscape=g.pdfEscape=function(v,O){return(function(G,te){var le,Se,ke,et,it,xt,Nt,kt,Yn;if(ke=(te=te||{}).sourceEncoding||"Unicode",it=te.outputEncoding,(te.autoencode||it)&&Ft[tt].metadata&&Ft[tt].metadata[ke]&&Ft[tt].metadata[ke].encoding&&(et=Ft[tt].metadata[ke].encoding,!it&&Ft[tt].encoding&&(it=Ft[tt].encoding),!it&&et.codePages&&(it=et.codePages[0]),typeof it=="string"&&(it=et[it]),it)){for(Nt=!1,xt=[],le=0,Se=G.length;le<Se;le++)(kt=it[G.charCodeAt(le)])?xt.push(String.fromCharCode(kt)):xt.push(G[le]),xt[le].charCodeAt(0)>>8&&(Nt=!0);G=xt.join("")}for(le=G.length;Nt===void 0&&le!==0;)G.charCodeAt(le-1)>>8&&(Nt=!0),le--;if(!Nt)return G;for(xt=te.noBOM?[]:[254,255],le=0,Se=G.length;le<Se;le++){if((Yn=(kt=G.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+G+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xt.push(Yn),xt.push(kt-(Yn<<8))}return String.fromCharCode.apply(void 0,xt)})(v,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uo=g.__private__.beginPage=function(v){Be[++qt]=[],Xe[qt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},tc(qt),ct(Be[W])},_o=function(v,O){var G,te,le;switch(n=O||n,typeof v=="string"&&(G=L(v.toLowerCase()),Array.isArray(G)&&(te=G[0],le=G[1])),Array.isArray(v)&&(te=v[0]*Ut,le=v[1]*Ut),isNaN(te)&&(te=i[0],le=i[1]),(te>14400||le>14400)&&(ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),le=Math.min(14400,le)),i=[te,le],n.substr(0,1)){case"l":le>te&&(i=[le,te]);break;case"p":te>le&&(i=[le,te])}Uo(i),Pt(sc),H(wn),qo!==0&&H(qo+" J"),hn!==0&&H(hn+" j"),dn.publish("addPage",{pageNumber:qt})},as=function(v){v>0&&v<=qt&&(Be.splice(v,1),Xe.splice(v,1),qt--,W>qt&&(W=qt),this.setPage(W))},tc=function(v){v>0&&v<=qt&&(W=v)},nc=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Be.length-1},rc=function(v,O,G){var te,le=void 0;return G=G||{},v=v!==void 0?v:Ft[tt].fontName,O=O!==void 0?O:Ft[tt].fontStyle,te=v.toLowerCase(),Ht[te]!==void 0&&Ht[te][O]!==void 0?le=Ht[te][O]:Ht[v]!==void 0&&Ht[v][O]!==void 0?le=Ht[v][O]:G.disableWarning===!1&&ur.warn("Unable to look up font label for font '"+v+"', '"+O+"'. Refer to getFontList() for available fonts."),le||G.noFallback||(le=Ht.times[O])==null&&(le=Ht.times.normal),le},eo=g.__private__.putInfo=function(){var v=Bn(),O=function(te){return te};for(var G in l!==null&&(O=rr.encryptor(v,0)),H("<<"),H("/Producer ("+fi(O("jsPDF "+yt.version))+")"),It)It.hasOwnProperty(G)&&It[G]&&H("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+fi(O(It[G]))+")");H("/CreationDate ("+fi(O(ve))+")"),H(">>"),H("endobj")},Ls=g.__private__.putCatalog=function(v){var O=(v=v||{}).rootDictionaryObjId||di;switch(Bn(),H("<<"),H("/Type /Catalog"),H("/Pages "+O+" 0 R"),Ze||(Ze="fullwidth"),Ze){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+Ze;G.substr(G.length-1)==="%"&&(Ze=parseInt(Ze)/100),typeof Ze=="number"&&H("/OpenAction [3 0 R /XYZ null null "+_(Ze)+"]")}switch(Xt||(Xt="continuous"),Xt){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}vt&&H("/PageMode /"+vt),dn.publish("putCatalog"),H(">>"),H("endobj")},to=g.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(ce+1)),H("/Root "+ce+" 0 R"),H("/Info "+(ce-1)+" 0 R"),l!==null&&H("/Encrypt "+rr.oid+" 0 R"),H("/ID [ <"+Ce+"> <"+Ce+"> ]"),H(">>")},In=g.__private__.putHeader=function(){H("%PDF-"+R),H("%\xBA\xDF\xAC\xE0")},cs=g.__private__.putXRef=function(){var v="0000000000";H("xref"),H("0 "+(ce+1)),H("0000000000 65535 f ");for(var O=1;O<=ce;O++)typeof de[O]=="function"?H((v+de[O]()).slice(-10)+" 00000 n "):de[O]!==void 0?H((v+de[O]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},Ai=g.__private__.buildDocument=function(){var v;ce=0,Ie=0,Ee=[],de=[],xe=[],di=_r(),Zi=_r(),ct(Ee),dn.publish("buildDocument"),In(),Xi(),(function(){dn.publish("putAdditionalObjects");for(var G=0;G<xe.length;G++){var te=xe[G];yr(te.objId,!0),H(te.content),H("endobj")}dn.publish("postPutAdditionalObjects")})(),v=[],(function(){for(var G in Ft)Ft.hasOwnProperty(G)&&(m===!1||m===!0&&y.hasOwnProperty(G))&&Ms(Ft[G])})(),(function(){var G;for(G in _t)_t.hasOwnProperty(G)&&Os(_t[G])})(),(function(){for(var G in mr)mr.hasOwnProperty(G)&&yo(mr[G])})(),(function(G){var te;for(te in ut)ut.hasOwnProperty(te)&&(ut[te]instanceof wh?is(ut[te]):ut[te]instanceof xp&&os(ut[te],G))})(v),dn.publish("putResources"),v.forEach(vo),vo({resourcesOid:Zi,objectOid:Number.MAX_SAFE_INTEGER}),dn.publish("postPutResources"),l!==null&&(rr.oid=Bn(),H("<<"),H("/Filter /Standard"),H("/V "+rr.v),H("/R "+rr.r),H("/U <"+rr.toHexString(rr.U)+">"),H("/O <"+rr.toHexString(rr.O)+">"),H("/P "+rr.P),H(">>"),H("endobj")),eo(),Ls();var O=Ie;return cs(),to(),H("startxref"),H(""+O),H("%%EOF"),ct(Be[W]),Ee.join(`
`)},Fs=g.__private__.getBlob=function(v){return new Blob([jt(v)],{type:"application/pdf"})},kn=g.output=g.__private__.output=(Or=function(v,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",v){case void 0:return Ai();case"save":g.save(O.filename);break;case"arraybuffer":return jt(Ai());case"blob":return Fs(Ai());case"bloburi":case"bloburl":if($t.URL!==void 0&&typeof $t.URL.createObjectURL=="function")return $t.URL&&$t.URL.createObjectURL(Fs(Ai()))||void 0;ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",te=Ai();try{G=nB(te)}catch{G=nB(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+O.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(le=O.pdfObjectUrl,Se="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+le+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",et=$t.open();return et!==null&&et.document.write(ke),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',xt=$t.open();if(xt!==null){xt.document.write(it);var Nt=this;xt.document.documentElement.querySelector("#pdfViewer").onload=function(){xt.document.title=O.filename,xt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return xt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call($t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',Yn=$t.open();if(Yn!==null&&(Yn.document.write(kt),Yn.document.title=O.filename),Yn||typeof safari>"u")return Yn;break;case"datauri":case"dataurl":return $t.document.location.href=this.output("datauristring",O);default:return null}},Or.foo=function(){try{return Or.apply(this,arguments)}catch(G){var v=G.stack||"";~v.indexOf(" at ")&&(v=v.split(" at ")[1]);var O="Error in function "+v.split(`
`)[0].split("<")[0]+": "+G.message;if(!$t.console)throw new Error(O);$t.console.error(O,G),$t.alert&&alert(O)}},Or.foo.bar=Or,Or.foo),Yr=function(v){return Array.isArray(Mr)===!0&&Mr.indexOf(v)>-1};switch(r){case"pt":Ut=1;break;case"mm":Ut=72/25.4;break;case"cm":Ut=72/2.54;break;case"in":Ut=72;break;case"px":Ut=Yr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ut=12;break;case"ex":Ut=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ut=r}var rr=null;Me(),pe();var Ar=g.__private__.getPageInfo=g.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xe[v].objId,pageNumber:v,pageContext:Xe[v]}},no=g.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in Xe)if(Xe[O].objId===v)break;return Ar(O)},_a=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Xe[W].objId,pageNumber:W,pageContext:Xe[W]}};g.addPage=function(){return _o.apply(this,arguments),this},g.setPage=function(){return tc.apply(this,arguments),ct.call(this,Be[W]),this},g.insertPage=function(v){return this.addPage(),this.movePage(W,v),this},g.movePage=function(v,O){var G,te;if(v>O){G=Be[v],te=Xe[v];for(var le=v;le>O;le--)Be[le]=Be[le-1],Xe[le]=Xe[le-1];Be[O]=G,Xe[O]=te,this.setPage(O)}else if(v<O){G=Be[v],te=Xe[v];for(var Se=v;Se<O;Se++)Be[Se]=Be[Se+1],Xe[Se]=Xe[Se+1];Be[O]=G,Xe[O]=te,this.setPage(O)}return this},g.deletePage=function(){return as.apply(this,arguments),this},g.__private__.text=g.text=function(v,O,G,te,le){var Se,ke,et,it,xt,Nt,kt,Yn,jn,pn=(te=te||{}).scope||this;if(typeof v=="number"&&typeof O=="number"&&(typeof G=="string"||Array.isArray(G))){var f=G;G=O,O=v,v=f}if(arguments[3]instanceof lt==0?(et=arguments[4],it=arguments[5],er(kt=arguments[3])==="object"&&kt!==null||(typeof et=="string"&&(it=et,et=null),typeof kt=="string"&&(it=kt,kt=null),typeof kt=="number"&&(et=kt,kt=null),te={flags:kt,angle:et,align:it})):(w("The transform parameter of text() with a Matrix value"),jn=le),isNaN(O)||isNaN(G)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return pn;var A,N="",q=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:Ci,oe=pn.internal.scaleFactor;function me(Gn){return Gn=Gn.split("	").join(Array(te.TabLen||9).join(" ")),fi(Gn,kt)}function He(Gn){for(var or,Br=Gn.concat(),gi=[],Yc=Br.length;Yc--;)typeof(or=Br.shift())=="string"?gi.push(or):Array.isArray(Gn)&&(or.length===1||or[1]===void 0&&or[2]===void 0)?gi.push(or[0]):gi.push([or[0],or[1],or[2]]);return gi}function At(Gn,or){var Br;if(typeof Gn=="string")Br=or(Gn)[0];else if(Array.isArray(Gn)){for(var gi,Yc,Up=Gn.concat(),Th=[],Gy=Up.length;Gy--;)typeof(gi=Up.shift())=="string"?Th.push(or(gi)[0]):Array.isArray(gi)&&typeof gi[0]=="string"&&(Yc=or(gi[0],gi[1],gi[2]),Th.push([Yc[0],Yc[1],Yc[2]]));Br=Th}return Br}var d=!1,b=!0;if(typeof v=="string")d=!0;else if(Array.isArray(v)){var x=v.concat();ke=[];for(var U,ie=x.length;ie--;)(typeof(U=x.shift())!="string"||Array.isArray(U)&&typeof U[0]!="string")&&(b=!1);d=b}if(d===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var _e=Fe/pn.internal.scaleFactor,qe=_e*(q-1);switch(te.baseline){case"bottom":G-=qe;break;case"top":G+=_e-qe;break;case"hanging":G+=_e-2*qe;break;case"middle":G+=_e/2-qe}if((Nt=te.maxWidth||0)>0&&(typeof v=="string"?v=pn.splitTextToSize(v,Nt):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(Gn,or){return Gn.concat(pn.splitTextToSize(or,Nt))},[]))),Se={text:v,x:O,y:G,options:te,mutex:{pdfEscape:fi,activeFontKey:tt,fonts:Ft,activeFontSize:Fe}},dn.publish("preProcessText",Se),v=Se.text,et=(te=Se.options).angle,jn instanceof lt==0&&et&&typeof et=="number"){et*=Math.PI/180,te.rotationDirection===0&&(et=-et),Y===J&&(et=-et);var un=Math.cos(et),ir=Math.sin(et);jn=new lt(un,ir,-ir,un,0,0)}else et&&et instanceof lt&&(jn=et);Y!==J||jn||(jn=nr),(xt=te.charSpace||Di)!==void 0&&(N+=T(I(xt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yn=te.horizontalScale)!==void 0&&(N+=T(100*Yn)+` Tz
`),te.lang;var Vt=-1,dr=te.renderingMode!==void 0?te.renderingMode:te.stroke,Sr=pn.internal.getCurrentPageInfo().pageContext;switch(dr){case 0:case!1:case"fill":Vt=0;break;case 1:case!0:case"stroke":Vt=1;break;case 2:case"fillThenStroke":Vt=2;break;case 3:case"invisible":Vt=3;break;case 4:case"fillAndAddForClipping":Vt=4;break;case 5:case"strokeAndAddPathForClipping":Vt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vt=6;break;case 7:case"addToPathForClipping":Vt=7}var Ia=Sr.usedRenderingMode!==void 0?Sr.usedRenderingMode:-1;Vt!==-1?N+=Vt+` Tr
`:Ia!==-1&&(N+=`0 Tr
`),Vt!==-1&&(Sr.usedRenderingMode=Vt),it=te.align||"left";var br,zs=Fe*q,Kc=pn.internal.pageSize.getWidth(),Op=Ft[tt];xt=te.charSpace||Di,Nt=te.maxWidth||0,kt=Object.assign({autoencode:!0,noBOM:!0},te.flags);var Hu=[],Jl=function(Gn){return pn.getStringUnitWidth(Gn,{font:Op,charSpace:xt,fontSize:Fe,doKerning:!1})*Fe/oe};if(Object.prototype.toString.call(v)==="[object Array]"){var ds;ke=He(v),it!=="left"&&(br=ke.map(Jl));var hs,Gu=0;if(it==="right"){O-=br[0],v=[],ie=ke.length;for(var Qc=0;Qc<ie;Qc++)Qc===0?(hs=Li(O),ds=wr(G)):(hs=I(Gu-br[Qc]),ds=-zs),v.push([ke[Qc],hs,ds]),Gu=br[Qc]}else if(it==="center"){O-=br[0]/2,v=[],ie=ke.length;for(var Wu=0;Wu<ie;Wu++)Wu===0?(hs=Li(O),ds=wr(G)):(hs=I((Gu-br[Wu])/2),ds=-zs),v.push([ke[Wu],hs,ds]),Gu=br[Wu]}else if(it==="left"){v=[],ie=ke.length;for(var Lp=0;Lp<ie;Lp++)v.push(ke[Lp])}else if(it==="justify"&&Op.encoding==="Identity-H"){v=[],ie=ke.length,Nt=Nt!==0?Nt:Kc;for(var Ih=0,Vr=0;Vr<ie;Vr++)if(ds=Vr===0?wr(G):-zs,hs=Vr===0?Li(O):Ih,Vr<ie-1){var Hy=I((Nt-br[Vr])/(ke[Vr].split(" ").length-1)),uc=ke[Vr].split(" ");v.push([uc[0]+" ",hs,ds]),Ih=0;for(var lc=1;lc<uc.length;lc++){var Fp=(Jl(uc[lc-1]+" "+uc[lc])-Jl(uc[lc]))*oe+Hy;lc==uc.length-1?v.push([uc[lc],Fp,0]):v.push([uc[lc]+" ",Fp,0]),Ih-=Fp}}else v.push([ke[Vr],hs,ds]);v.push(["",Ih,0])}else{if(it!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],ie=ke.length,Nt=Nt!==0?Nt:Kc,Vr=0;Vr<ie;Vr++){ds=Vr===0?wr(G):-zs,hs=Vr===0?Li(O):0;var Vp=ke[Vr].split(" ").length-1,Bp=Vp>0?(Nt-br[Vr])/Vp:0;Vr<ie-1?Hu.push(T(I(Bp))):Hu.push(0),v.push([ke[Vr],hs,ds])}}}(typeof te.R2L=="boolean"?te.R2L:gt)===!0&&(v=At(v,function(Gn,or,Br){return[Gn.split("").reverse().join(""),or,Br]})),Se={text:v,x:O,y:G,options:te,mutex:{pdfEscape:fi,activeFontKey:tt,fonts:Ft,activeFontSize:Fe}},dn.publish("postProcessText",Se),v=Se.text,A=Se.mutex.isHex||!1;var jp=Ft[tt].encoding;jp!=="WinAnsiEncoding"&&jp!=="StandardEncoding"||(v=At(v,function(Gn,or,Br){return[me(Gn),or,Br]})),ke=He(v),v=[];for(var Ku,Qu,Yu,Zl=Array.isArray(ke[0])?1:0,Ju="",Xl=function(Gn,or,Br){var gi="";return Br instanceof lt?(Br=typeof te.angle=="number"?jo(Br,new lt(1,0,0,1,Gn,or)):jo(new lt(1,0,0,1,Gn,or),Br),Y===J&&(Br=jo(new lt(1,0,0,-1,0,0),Br)),gi=Br.join(" ")+` Tm
`):gi=T(Gn)+" "+T(or)+` Td
`,gi},$s=0;$s<ke.length;$s++){switch(Ju="",Zl){case 1:Yu=(A?"<":"(")+ke[$s][0]+(A?">":")"),Ku=parseFloat(ke[$s][1]),Qu=parseFloat(ke[$s][2]);break;case 0:Yu=(A?"<":"(")+ke[$s]+(A?">":")"),Ku=Li(O),Qu=wr(G)}Hu!==void 0&&Hu[$s]!==void 0&&(Ju=Hu[$s]+` Tw
`),$s===0?v.push(Ju+Xl(Ku,Qu,jn)+Yu):Zl===0?v.push(Ju+Yu):Zl===1&&v.push(Ju+Xl(Ku,Qu,jn)+Yu)}v=Zl===0?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var dc=`BT
/`;return dc+=tt+" "+Fe+` Tf
`,dc+=T(Fe*q)+` TL
`,dc+=Bs+`
`,dc+=N,dc+=v,H(dc+="ET"),y[tt]=!0,pn};var ic=g.__private__.clip=g.clip=function(v){return H(v==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return ic("evenodd")},g.__private__.discardPath=g.discardPath=function(){return H("n"),this};var wo=g.__private__.isValidStyle=function(v){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(O=!0),O};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(v){return wo(v)&&(u=v),this};var Fn=g.__private__.getStyle=g.getStyle=function(v){var O=u;switch(v){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=v}return O},wa=g.close=function(){return H("h"),this};g.stroke=function(){return H("S"),this},g.fill=function(v){return Si("f",v),this},g.fillEvenOdd=function(v){return Si("f*",v),this},g.fillStroke=function(v){return Si("B",v),this},g.fillStrokeEvenOdd=function(v){return Si("B*",v),this};var Si=function(v,O){er(O)==="object"?qc(O,v):H(v)},Lr=function(v){v===null||Y===J&&v===void 0||(v=Fn(v),H(v))};function Uu(v,O,G,te,le){var Se=new xp(O||this.boundingBox,G||this.xStep,te||this.yStep,this.gState,le||this.matrix);Se.stream=this.stream;var ke=v+"$$"+this.cloneIndex+++"$$";return Kr(ke,Se),Se}var qc=function(v,O){var G=Vn[v.key],te=ut[G];if(te instanceof wh)H("q"),H(qu(O)),te.gState&&g.setGState(te.gState),H(v.matrix.toString()+" cm"),H("/"+G+" sh"),H("Q");else if(te instanceof xp){var le=new lt(1,0,0,-1,0,Ho());v.matrix&&(le=le.multiply(v.matrix||nr),G=Uu.call(te,v.key,v.boundingBox,v.xStep,v.yStep,le).id),H("q"),H("/Pattern cs"),H("/"+G+" scn"),te.gState&&g.setGState(te.gState),H(O),H("Q")}},qu=function(v){switch(v){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},oc=g.moveTo=function(v,O){return H(T(I(v))+" "+T(ee(O))+" m"),this},zc=g.lineTo=function(v,O){return H(T(I(v))+" "+T(ee(O))+" l"),this},Jr=g.curveTo=function(v,O,G,te,le,Se){return H([T(I(v)),T(ee(O)),T(I(G)),T(ee(te)),T(I(le)),T(ee(Se)),"c"].join(" ")),this};g.__private__.line=g.line=function(v,O,G,te,le){if(isNaN(v)||isNaN(O)||isNaN(G)||isNaN(te)||!wo(le))throw new Error("Invalid arguments passed to jsPDF.line");return Y===Z?this.lines([[G-v,te-O]],v,O,[1,1],le||"S"):this.lines([[G-v,te-O]],v,O,[1,1]).stroke()},g.__private__.lines=g.lines=function(v,O,G,te,le,Se){var ke,et,it,xt,Nt,kt,Yn,jn,pn,f,A,N;if(typeof v=="number"&&(N=G,G=O,O=v,v=N),te=te||[1,1],Se=Se||!1,isNaN(O)||isNaN(G)||!Array.isArray(v)||!Array.isArray(te)||!wo(le)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(oc(O,G),ke=te[0],et=te[1],xt=v.length,f=O,A=G,it=0;it<xt;it++)(Nt=v[it]).length===2?(f=Nt[0]*ke+f,A=Nt[1]*et+A,zc(f,A)):(kt=Nt[0]*ke+f,Yn=Nt[1]*et+A,jn=Nt[2]*ke+f,pn=Nt[3]*et+A,f=Nt[4]*ke+f,A=Nt[5]*et+A,Jr(kt,Yn,jn,pn,f,A));return Se&&wa(),Lr(le),this},g.path=function(v){for(var O=0;O<v.length;O++){var G=v[O],te=G.c;switch(G.op){case"m":oc(te[0],te[1]);break;case"l":zc(te[0],te[1]);break;case"c":Jr.apply(this,te);break;case"h":wa()}}return this},g.__private__.rect=g.rect=function(v,O,G,te,le){if(isNaN(v)||isNaN(O)||isNaN(G)||isNaN(te)||!wo(le))throw new Error("Invalid arguments passed to jsPDF.rect");return Y===Z&&(te=-te),H([T(I(v)),T(ee(O)),T(I(G)),T(I(te)),"re"].join(" ")),Lr(le),this},g.__private__.triangle=g.triangle=function(v,O,G,te,le,Se,ke){if(isNaN(v)||isNaN(O)||isNaN(G)||isNaN(te)||isNaN(le)||isNaN(Se)||!wo(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-v,te-O],[le-G,Se-te],[v-le,O-Se]],v,O,[1,1],ke,!0),this},g.__private__.roundedRect=g.roundedRect=function(v,O,G,te,le,Se,ke){if(isNaN(v)||isNaN(O)||isNaN(G)||isNaN(te)||isNaN(le)||isNaN(Se)||!wo(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return le=Math.min(le,.5*G),Se=Math.min(Se,.5*te),this.lines([[G-2*le,0],[le*et,0,le,Se-Se*et,le,Se],[0,te-2*Se],[0,Se*et,-le*et,Se,-le,Se],[2*le-G,0],[-le*et,0,-le,-Se*et,-le,-Se],[0,2*Se-te],[0,-Se*et,le*et,-Se,le,-Se]],v+le,O,[1,1],ke,!0),this},g.__private__.ellipse=g.ellipse=function(v,O,G,te,le){if(isNaN(v)||isNaN(O)||isNaN(G)||isNaN(te)||!wo(le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*G,ke=4/3*(Math.SQRT2-1)*te;return oc(v+G,O),Jr(v+G,O-ke,v+Se,O-te,v,O-te),Jr(v-Se,O-te,v-G,O-ke,v-G,O),Jr(v-G,O+ke,v-Se,O+te,v,O+te),Jr(v+Se,O+te,v+G,O+ke,v+G,O),Lr(le),this},g.__private__.circle=g.circle=function(v,O,G,te){if(isNaN(v)||isNaN(O)||isNaN(G)||!wo(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,O,G,G,te)},g.setFont=function(v,O,G){return G&&(O=P(O,G)),tt=rc(v,O,{disableWarning:!1}),this};var ba=g.__private__.getFont=g.getFont=function(){return Ft[rc.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var v,O,G={};for(v in Ht)if(Ht.hasOwnProperty(v))for(O in G[v]=[],Ht[v])Ht[v].hasOwnProperty(O)&&G[v].push(O);return G},g.addFont=function(v,O,G,te,le){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?le=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(G=P(G,te)),Uc.call(this,v,O,G,le=le||"Identity-H")};var Ci,sc=t.lineWidth||.200025,bo=g.__private__.getLineWidth=g.getLineWidth=function(){return sc},Pt=g.__private__.setLineWidth=g.setLineWidth=function(v){return sc=v,H(T(I(v))+" w"),this};g.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(v,O){if(v=v||[],O=O||0,isNaN(O)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(G){return T(I(G))}).join(" "),O=T(I(O)),H("["+v+"] "+O+" d"),this};var Eo=g.__private__.getLineHeight=g.getLineHeight=function(){return Fe*Ci};g.__private__.getLineHeight=g.getLineHeight=function(){return Fe*Ci};var ac=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Ci=v),this},zu=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ci};ac(t.lineHeight);var Li=g.__private__.getHorizontalCoordinate=function(v){return I(v)},wr=g.__private__.getVerticalCoordinate=function(v){return Y===J?v:Xe[W].mediaBox.topRightY-Xe[W].mediaBox.bottomLeftY-I(v)},$u=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(v){return T(Li(v))},$c=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(v){return T(wr(v))},wn=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Ei(wn)},g.__private__.setStrokeColor=g.setDrawColor=function(v,O,G,te){return wn=Ii({ch1:v,ch2:O,ch3:G,ch4:te,pdfColorType:"draw",precision:2}),H(wn),this};var Vs=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Ei(Vs)},g.__private__.setFillColor=g.setFillColor=function(v,O,G,te){return Vs=Ii({ch1:v,ch2:O,ch3:G,ch4:te,pdfColorType:"fill",precision:2}),H(Vs),this};var Bs=t.textColor||"0 g",js=g.__private__.getTextColor=g.getTextColor=function(){return Ei(Bs)};g.__private__.setTextColor=g.setTextColor=function(v,O,G,te){return Bs=Ii({ch1:v,ch2:O,ch3:G,ch4:te,pdfColorType:"text",precision:3}),this};var Di=t.charSpace,Hc=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Di||0)};g.__private__.setCharSpace=g.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Di=v,this};var qo=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(v){var O=g.CapJoinStyles[v];if(O===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qo=O,H(O+" J"),this};var hn=0;g.__private__.setLineJoin=g.setLineJoin=function(v){var O=g.CapJoinStyles[v];if(O===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hn=O,H(O+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(T(I(v))+" M"),this},g.GState=Db,g.setGState=function(v){(v=typeof v=="string"?_t[Mt[v]]:Gc(null,v)).equals(Pn)||(H("/"+v.id+" gs"),Pn=v)};var Gc=function(v,O){if(!v||!Mt[v]){var G=!1;for(var te in _t)if(_t.hasOwnProperty(te)&&_t[te].equals(O)){G=!0;break}if(G)O=_t[te];else{var le="GS"+(Object.keys(_t).length+1).toString(10);_t[le]=O,O.id=le}return v&&(Mt[v]=O.id),dn.publish("addGState",O),O}};g.addGState=function(v,O){return Gc(v,O),this},g.saveGraphicsState=function(){return H("q"),Ln.push({key:tt,size:Fe,color:Bs}),this},g.restoreGraphicsState=function(){H("Q");var v=Ln.pop();return tt=v.key,Fe=v.size,Bs=v.color,Pn=null,this},g.setCurrentTransformationMatrix=function(v){return H(v.toString()+" cm"),this},g.comment=function(v){return H("#"+v),this};var us=function(v,O){var G=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(Se){isNaN(Se)||(G=parseFloat(Se))}});var te=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(Se){isNaN(Se)||(te=parseFloat(Se))}});var le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return le},set:function(Se){le=Se.toString()}}),this},zo=function(v,O,G,te){us.call(this,v,O),this.type="rect";var le=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return le},set:function(ke){isNaN(ke)||(le=parseFloat(ke))}});var Se=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(ke){isNaN(ke)||(Se=parseFloat(ke))}}),this},Us=function(){this.page=qt,this.currentPage=W,this.pages=Be.slice(0),this.pagesContext=Xe.slice(0),this.x=dt,this.y=lr,this.matrix=en,this.width=Ea(W),this.height=Wc(W),this.outputDestination=Ke,this.id="",this.objectNumber=-1};Us.prototype.restore=function(){qt=this.page,W=this.currentPage,Xe=this.pagesContext,Be=this.pages,dt=this.x,lr=this.y,en=this.matrix,pi(W,this.width),$o(W,this.height),Ke=this.outputDestination};var qs=function(v,O,G,te,le){mo.push(new Us),qt=W=0,Be=[],dt=v,lr=O,en=le,Uo([G,te])};for(var Fi in g.beginFormObject=function(v,O,G,te,le){return qs(v,O,G,te,le),this},g.endFormObject=function(v){return(function(O){if(Yi[O])mo.pop().restore();else{var G=new Us,te="Xo"+(Object.keys(mr).length+1).toString(10);G.id=te,Yi[O]=te,mr[te]=G,dn.publish("addFormObject",G),mo.pop().restore()}})(v),this},g.doFormObject=function(v,O){var G=mr[Yi[v]];return H("q"),H(O.toString()+" cm"),H("/"+G.id+" Do"),H("Q"),this},g.getFormObject=function(v){var O=mr[Yi[v]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},g.save=function(v,O){return v=v||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(_h(Fs(Ai()),v),typeof _h.unload=="function"&&$t.setTimeout&&setTimeout(_h.unload,911),this):new Promise(function(G,te){try{var le=_h(Fs(Ai()),v);typeof _h.unload=="function"&&$t.setTimeout&&setTimeout(_h.unload,911),G(le)}catch(Se){te(Se.message)}})},yt.API)yt.API.hasOwnProperty(Fi)&&(Fi==="events"&&yt.API.events.length?(function(v,O){var G,te,le;for(le=O.length-1;le!==-1;le--)G=O[le][0],te=O[le][1],v.subscribe.apply(v,[G].concat(typeof te=="function"?[te]:te))})(dn,yt.API.events):g[Fi]=yt.API[Fi]);function Ea(v){return Xe[v].mediaBox.topRightX-Xe[v].mediaBox.bottomLeftX}function pi(v,O){Xe[v].mediaBox.topRightX=O+Xe[v].mediaBox.bottomLeftX}function Wc(v){return Xe[v].mediaBox.topRightY-Xe[v].mediaBox.bottomLeftY}function $o(v,O){Xe[v].mediaBox.topRightY=O+Xe[v].mediaBox.bottomLeftY}var Fr=g.getPageWidth=function(v){return Ea(v=v||W)/Ut},cc=g.setPageWidth=function(v,O){pi(v,O*Ut)},Ho=g.getPageHeight=function(v){return Wc(v=v||W)/Ut},ls=g.setPageHeight=function(v,O){$o(v,O*Ut)};return g.internal={pdfEscape:fi,getStyle:Fn,getFont:ba,getFontSize:Ge,getCharSpace:Hc,getTextColor:js,getLineHeight:Eo,getLineHeightFactor:zu,getLineWidth:bo,write:Qe,getHorizontalCoordinate:Li,getVerticalCoordinate:wr,getCoordinateString:$u,getVerticalCoordinateString:$c,collections:{},newObject:Bn,newAdditionalObject:Ji,newObjectDeferred:_r,newObjectDeferredBegin:yr,getFilters:hi,putStream:Qr,events:dn,scaleFactor:Ut,pageSize:{getWidth:function(){return Fr(W)},setWidth:function(v){cc(W,v)},getHeight:function(){return Ho(W)},setHeight:function(v){ls(W,v)}},encryptionOptions:l,encryption:rr,getEncryptor:function(v){return l!==null?rr.encryptor(v,0):function(O){return O}},output:kn,getNumberOfPages:nc,get pages(){return Be},out:H,f2:_,f3:S,getPageInfo:Ar,getPageInfoByObjId:no,getCurrentPageInfo:_a,getPDFVersion:k,Point:us,Rectangle:zo,Matrix:lt,hasHotfix:Yr},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Fr(W)},set:function(v){cc(W,v)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Ho(W)},set:function(v){ls(W,v)},enumerable:!0,configurable:!0}),function(v){for(var O=0,G=bt.length;O<G;O++){var te=Uc.call(this,v[O][0],v[O][1],v[O][2],bt[O][3],!0);m===!1&&(y[te]=!0);var le=v[O][0].split("-");ss({id:te,fontName:le[0],fontStyle:le[1]||""})}dn.publish("addFonts",{fonts:Ft,dictionary:Ht})}.call(g,bt),tt="F1",_o(i,n),dn.publish("initialized"),g}Cp.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Cp.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Cp.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Cp.prototype.processOwnerPassword=function(t,e){return mN(gN(e).substr(0,5),t)},Cp.prototype.encryptor=function(t,e){var n=gN(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return mN(n,r)}},Db.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||er(t)!==er(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},yt.API={events:[]},yt.version="3.0.4";var kr=yt.API,_N=1,Eh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ap=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qt=function(t){return t.toFixed(2)},Kl=function(t){return t.toFixed(5)};kr.__acroform__={};var rs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},sB=function(t){return t*_N},Vc=function(t){var e=new xB,n=at.internal.getHeight(t)||0,r=at.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Qt(r)),Number(Qt(n))],e},Lie=kr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Fie=kr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Vie=kr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Hr=kr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Vie(t,e-1)},Gr=kr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Lie(t,e-1)},Wr=kr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Fie(t,e-1)},Bie=kr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(o+a)||0,c.upperRight_X=n(i+s)||0,c.upperRight_Y=r(o)||0,[Number(Qt(c.lowerLeft_X)),Number(Qt(c.lowerLeft_Y)),Number(Qt(c.upperRight_X)),Number(Qt(c.upperRight_Y))]},jie=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=yN(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Qt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Vc(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},yN=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(_){return _.split(`
`)}):i.map(function(_){return[_]});var o=n,s=at.internal.getHeight(t)||0;s=s<0?-s:s;var a=at.internal.getWidth(t)||0;a=a<0?-a:a;var c=function(_,S,I){if(_+1<i.length){var ee=S+" "+i[_+1][0];return wb(ee,t,I).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var u,l,m=wb("3",t,o).height,y=t.multiline?s-o:(s-m)/2,g=y+=2,R=0,k=0,M=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+wb(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var L="",Z=0,J=0;J<i.length;J++)if(i.hasOwnProperty(J)){var Y=!1;if(i[J].length!==1&&M!==i[J].length-1){if((m+2)*(Z+2)+2>s)continue e;L+=i[J][M],Y=!0,k=J,J--}else{L=(L+=i[J][M]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var fe=parseInt(J),be=c(fe,L,o),P=J>=i.length-1;if(be&&!P){L+=" ",M=0;continue}if(be||P){if(P)k=fe;else if(t.multiline&&(m+2)*(Z+2)+2>s)continue e}else{if(!t.multiline||(m+2)*(Z+2)+2>s)continue e;k=fe}}for(var T="",w=R;w<=k;w++){var D=i[w];if(t.multiline){if(w===k){T+=D[M]+" ",M=(M+1)%D.length;continue}if(w===R){T+=D[D.length-1]+" ";continue}}T+=D[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,l=wb(T,t,o).width,t.textAlign){case"right":u=a-l-2;break;case"center":u=(a-l)/2;break;default:u=2}e+=Qt(u)+" "+Qt(g)+` Td
`,e+="("+Eh(T)+`) Tj
`,e+=-Qt(u)+` 0 Td
`,g=-(o+2),l=0,R=Y?k:k+1,Z++,L=""}break}return r.text=e,r.fontSize=o,r},wb=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Uie={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qie=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},zie=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Xa.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Uie)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_N=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new NB,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&qie(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],c=[],u=a.Rect;if(a.Rect&&(a.Rect=Bie(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=at.createDefaultAppearanceStream(a),er(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(c=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var l=jie(a);c.push({key:"AP",value:"<</N "+l+">>"}),i.internal.acroformPlugin.xForms.push(l)}if(a.appearanceStreamContent){var m="";for(var y in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(y)){var g=a.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var R=g[s];typeof R=="function"&&(R=R.call(i,a)),m+="/"+s+" "+R+" ",i.internal.acroformPlugin.xForms.indexOf(R)>=0||i.internal.acroformPlugin.xForms.push(R)}}else typeof(R=g)=="function"&&(R=R.call(i,a)),m+="/"+s+" "+R,i.internal.acroformPlugin.xForms.indexOf(R)>=0||i.internal.acroformPlugin.xForms.push(R);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:a.objId}),i.internal.out("endobj")}o&&(function(k,M){for(var L in k)if(k.hasOwnProperty(L)){var Z=L,J=k[L];M.internal.newObjectDeferredBegin(J.objId,!0),er(J)==="object"&&typeof J.putStream=="function"&&J.putStream(),delete k[Z]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},DB=kr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),er(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Eh(r(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},lN=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Eh(r(t))+")"},Bc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bc.prototype.toString=function(){return this.objId+" 0 R"},Bc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Bc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:DB(i,this.objId,this.scope)}):i instanceof Bc?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var xB=function(){Bc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};rs(xB,Bc);var NB=function(){Bc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Eh(n(t))+")"}},set:function(n){t=n}})};rs(NB,Bc);var Xa=function t(){Bc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');e=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Hr(e,3)},set:function(L){L?this.F=Gr(e,3):this.F=Wr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');n=L}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(L){r=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(L){r[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(L){r[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(L){r[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(L){r[3]=L}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof xb)return;o="FieldObject"+t.FieldNum++}var L=function(Z){return Z};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+Eh(L(o))+")"},set:function(L){o=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(L){o=L}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(L){s=L}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(L){a=L}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(L){c=L}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/_N:u},set:function(L){u=L}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(L){l=L}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof xb||this instanceof bh))return lN(m,this.objId,this.scope)},set:function(L){L=L.toString(),m=L}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Oi==0?lN(y,this.objId,this.scope):y},set:function(L){L=L.toString(),y=this instanceof Oi==0?L.substr(0,1)==="("?Ap(L.substr(1,L.length-2)):Ap(L):L}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oi==1?Ap(y.substr(1,y.length-1)):y},set:function(L){L=L.toString(),y=this instanceof Oi==1?"/"+L:L}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Oi==0?lN(g,this.objId,this.scope):g},set:function(L){L=L.toString(),g=this instanceof Oi==0?L.substr(0,1)==="("?Ap(L.substr(1,L.length-2)):Ap(L):L}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oi==1?Ap(g.substr(1,g.length-1)):g},set:function(L){L=L.toString(),g=this instanceof Oi==1?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(L){L=!!L,k=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(L){R=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,1)},set:function(L){L?this.Ff=Gr(this.Ff,1):this.Ff=Wr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,2)},set:function(L){L?this.Ff=Gr(this.Ff,2):this.Ff=Wr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,3)},set:function(L){L?this.Ff=Gr(this.Ff,3):this.Ff=Wr(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');M=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(M){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:M=2;break;case"center":case 1:M=1;break;default:M=0}}})};rs(Xa,Bc);var Np=function(){Xa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return DB(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(o,s,a){a||(a=1);for(var c,u=[];c=s.exec(o);)u.push(c[a]);return u})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,18)},set:function(n){n?this.Ff=Gr(this.Ff,18):this.Ff=Wr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Gr(this.Ff,19):this.Ff=Wr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,20)},set:function(n){n?(this.Ff=Gr(this.Ff,20),e.sort()):this.Ff=Wr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,22)},set:function(n){n?this.Ff=Gr(this.Ff,22):this.Ff=Wr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,23)},set:function(n){n?this.Ff=Gr(this.Ff,23):this.Ff=Wr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,27)},set:function(n){n?this.Ff=Gr(this.Ff,27):this.Ff=Wr(this.Ff,27)}}),this.hasAppearanceStream=!1};rs(Np,Xa);var Rp=function(){Np.call(this),this.fontName="helvetica",this.combo=!1};rs(Rp,Np);var Pp=function(){Rp.call(this),this.combo=!0};rs(Pp,Rp);var Tb=function(){Pp.call(this),this.edit=!0};rs(Tb,Pp);var Oi=function(){Xa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,15)},set:function(n){n?this.Ff=Gr(this.Ff,15):this.Ff=Wr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,16)},set:function(n){n?this.Ff=Gr(this.Ff,16):this.Ff=Wr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,17)},set:function(n){n?this.Ff=Gr(this.Ff,17):this.Ff=Wr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,26)},set:function(n){n?this.Ff=Gr(this.Ff,26):this.Ff=Wr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Eh(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){er(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};rs(Oi,Xa);var Ab=function(){Oi.call(this),this.pushButton=!0};rs(Ab,Oi);var kp=function(){Oi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};rs(kp,Oi);var xb=function(){var t,e;Xa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Eh(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){er(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=at.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};rs(xb,Xa),kp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},kp.prototype.createOption=function(t){var e=new xb;return e.Parent=this,e.optionName=t,this.Kids.push(e),$ie.call(this.scope,e),e};var Sb=function(){Oi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=at.CheckBox.createAppearanceStream()};rs(Sb,Oi);var bh=function(){Xa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,13)},set:function(e){e?this.Ff=Gr(this.Ff,13):this.Ff=Wr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,21)},set:function(e){e?this.Ff=Gr(this.Ff,21):this.Ff=Wr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,23)},set:function(e){e?this.Ff=Gr(this.Ff,23):this.Ff=Wr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,24)},set:function(e){e?this.Ff=Gr(this.Ff,24):this.Ff=Wr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,25)},set:function(e){e?this.Ff=Gr(this.Ff,25):this.Ff=Wr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,26)},set:function(e){e?this.Ff=Gr(this.Ff,26):this.Ff=Wr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};rs(bh,Xa);var Cb=function(){bh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Hr(this.Ff,14)},set:function(t){t?this.Ff=Gr(this.Ff,14):this.Ff=Wr(this.Ff,14)}}),this.password=!0};rs(Cb,bh);var at={CheckBox:{createAppearanceStream:function(){return{N:{On:at.CheckBox.YesNormal},D:{On:at.CheckBox.YesPushDown,Off:at.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Vc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=yN(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Qt(at.internal.getWidth(t))+" "+Qt(at.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Qt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Vc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=at.internal.getHeight(t),s=at.internal.getWidth(t),a=yN(t,t.caption);return i.push("1 g"),i.push("0 0 "+Qt(s)+" "+Qt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Qt(s-1)+" "+Qt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Qt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Vc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(at.internal.getWidth(t))+" "+Qt(at.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:at.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=at.RadioButton.Circle.YesNormal,e.D[t]=at.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Vc(t);e.scope=t.scope;var n=[],r=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=at.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Kl(at.internal.getWidth(t)/2)+" "+Kl(at.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Vc(t);e.scope=t.scope;var n=[],r=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*at.internal.Bezier_C).toFixed(5)),s=Number((r*at.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Kl(at.internal.getWidth(t)/2)+" "+Kl(at.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Kl(at.internal.getWidth(t)/2)+" "+Kl(at.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Vc(t);e.scope=t.scope;var n=[],r=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*at.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Kl(at.internal.getWidth(t)/2)+" "+Kl(at.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:at.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=at.RadioButton.Cross.YesNormal,e.D[t]=at.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Vc(t);e.scope=t.scope;var n=[],r=at.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Qt(at.internal.getWidth(t)-2)+" "+Qt(at.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Qt(r.x1.x)+" "+Qt(r.x1.y)+" m"),n.push(Qt(r.x2.x)+" "+Qt(r.x2.y)+" l"),n.push(Qt(r.x4.x)+" "+Qt(r.x4.y)+" m"),n.push(Qt(r.x3.x)+" "+Qt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Vc(t);e.scope=t.scope;var n=at.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Qt(at.internal.getWidth(t))+" "+Qt(at.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Qt(at.internal.getWidth(t)-2)+" "+Qt(at.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Qt(n.x1.x)+" "+Qt(n.x1.y)+" m"),r.push(Qt(n.x2.x)+" "+Qt(n.x2.y)+" l"),r.push(Qt(n.x4.x)+" "+Qt(n.x4.y)+" m"),r.push(Qt(n.x3.x)+" "+Qt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Vc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(at.internal.getWidth(t))+" "+Qt(at.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};at.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=at.internal.getWidth(t),n=at.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},at.internal.getWidth=function(t){var e=0;return er(t)==="object"&&(e=sB(t.Rect[2])),e},at.internal.getHeight=function(t){var e=0;return er(t)==="object"&&(e=sB(t.Rect[3])),e};var $ie=kr.addField=function(t){if(zie(this,t),!(t instanceof Xa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};kr.AcroFormChoiceField=Np,kr.AcroFormListBox=Rp,kr.AcroFormComboBox=Pp,kr.AcroFormEditBox=Tb,kr.AcroFormButton=Oi,kr.AcroFormPushButton=Ab,kr.AcroFormRadioButton=kp,kr.AcroFormCheckBox=Sb,kr.AcroFormTextField=bh,kr.AcroFormPasswordField=Cb,kr.AcroFormAppearance=at,kr.AcroForm={ChoiceField:Np,ListBox:Rp,ComboBox:Pp,EditBox:Tb,Button:Oi,PushButton:Ab,RadioButton:kp,CheckBox:Sb,TextField:bh,PasswordField:Cb,Appearance:at},yt.AcroForm={ChoiceField:Np,ListBox:Rp,ComboBox:Pp,EditBox:Tb,Button:Oi,PushButton:Ab,RadioButton:kp,CheckBox:Sb,TextField:bh,PasswordField:Cb,Appearance:at};var uCe=yt.AcroForm;function RB(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(_,S){var I,ee,ve,Ce,Te,pe=n;if((S=S||n)==="RGBA"||_.data!==void 0&&_.data instanceof Uint8ClampedArray&&"height"in _&&"width"in _)return"RGBA";if(be(_))for(Te in r)for(ve=r[Te],I=0;I<ve.length;I+=1){for(Ce=!0,ee=0;ee<ve[I].length;ee+=1)if(ve[I][ee]!==void 0&&ve[I][ee]!==_[ee]){Ce=!1;break}if(Ce===!0){pe=Te;break}}else for(Te in r)for(ve=r[Te],I=0;I<ve.length;I+=1){for(Ce=!0,ee=0;ee<ve[I].length;ee+=1)if(ve[I][ee]!==void 0&&ve[I][ee]!==_.charCodeAt(ee)){Ce=!1;break}if(Ce===!0){pe=Te;break}}return pe===n&&S!==n&&(pe=S),pe},o=function _(S){for(var I=this.internal.write,ee=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);S.objectId=this.internal.newObject();var Ce=[];if(Ce.push({key:"Type",value:"/XObject"}),Ce.push({key:"Subtype",value:"/Image"}),Ce.push({key:"Width",value:S.width}),Ce.push({key:"Height",value:S.height}),S.colorSpace===L.INDEXED?Ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(S.palette.length/3-1)+" "+("sMask"in S&&S.sMask!==void 0?S.objectId+2:S.objectId+1)+" 0 R]"}):(Ce.push({key:"ColorSpace",value:"/"+S.colorSpace}),S.colorSpace===L.DEVICE_CMYK&&Ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ce.push({key:"BitsPerComponent",value:S.bitsPerComponent}),"decodeParameters"in S&&S.decodeParameters!==void 0&&Ce.push({key:"DecodeParms",value:"<<"+S.decodeParameters+">>"}),"transparency"in S&&Array.isArray(S.transparency)&&S.transparency.length>0){for(var Te="",pe=0,Ae=S.transparency.length;pe<Ae;pe++)Te+=S.transparency[pe]+" "+S.transparency[pe]+" ";Ce.push({key:"Mask",value:"["+Te+"]"})}S.sMask!==void 0&&Ce.push({key:"SMask",value:S.objectId+1+" 0 R"});var $e=S.filter!==void 0?["/"+S.filter]:void 0;if(ee({data:S.data,additionalKeyValues:Ce,alreadyAppliedFilters:$e,objectId:S.objectId}),I("endobj"),"sMask"in S&&S.sMask!==void 0){var Me,B=(Me=S.sMaskBitsPerComponent)!==null&&Me!==void 0?Me:S.bitsPerComponent,W={width:S.width,height:S.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:S.sMask};"filter"in S&&(W.decodeParameters="/Predictor ".concat(S.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(S.width),W.filter=S.filter),_.call(this,W)}if(S.colorSpace===L.INDEXED){var X=this.internal.newObject();ee({data:T(new Uint8Array(S.palette)),objectId:X}),I("endobj")}},s=function(){var _=this.internal.collections[e+"images"];for(var S in _)o.call(this,_[S])},a=function(){var _,S=this.internal.collections[e+"images"],I=this.internal.write;for(var ee in S)I("/I"+(_=S[ee]).index,_.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var _=this.internal.collections[e+"images"];return c.call(this),_},l=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(_){return typeof t["process"+_.toUpperCase()]=="function"},y=function(_){return er(_)==="object"&&_.nodeType===1},g=function(_,S){if(_.nodeName==="IMG"&&_.hasAttribute("src")){var I=""+_.getAttribute("src");if(I.indexOf("data:image/")===0)return Ib(unescape(I).split("base64,").pop());var ee=t.loadFile(I,!0);if(ee!==void 0)return ee}if(_.nodeName==="CANVAS"){if(_.width===0||_.height===0)throw new Error("Given canvas must have data. Canvas width: "+_.width+", height: "+_.height);var ve;switch(S){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;default:ve="image/jpeg"}return Ib(_.toDataURL(ve,1).split("base64,").pop())}},R=function(_){var S=this.internal.collections[e+"images"];if(S){for(var I in S)if(_===S[I].alias)return S[I]}},k=function(_,S,I){return _||S||(_=-96,S=-96),_<0&&(_=-1*I.width*72/_/this.internal.scaleFactor),S<0&&(S=-1*I.height*72/S/this.internal.scaleFactor),_===0&&(_=S*I.width/I.height),S===0&&(S=_*I.height/I.width),[_,S]},M=function(_,S,I,ee,ve,Ce){var Te=k.call(this,I,ee,ve),pe=this.internal.getCoordinateString,Ae=this.internal.getVerticalCoordinateString,$e=u.call(this);if(I=Te[0],ee=Te[1],$e[ve.index]=ve,Ce){Ce*=Math.PI/180;var Me=Math.cos(Ce),B=Math.sin(Ce),W=function(ne){return ne.toFixed(4)},X=[W(Me),W(B),W(-1*B),W(Me),0,0,"cm"]}this.internal.write("q"),Ce?(this.internal.write([1,"0","0",1,pe(_),Ae(S+ee),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([pe(I),"0","0",pe(ee),"0","0","cm"].join(" "))):this.internal.write([pe(I),"0","0",pe(ee),pe(_),Ae(S+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},L=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Z=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},J=t.__addimage__.sHashCode=function(_){var S,I,ee=0;if(typeof _=="string")for(I=_.length,S=0;S<I;S++)ee=(ee<<5)-ee+_.charCodeAt(S),ee|=0;else if(be(_))for(I=_.byteLength/2,S=0;S<I;S++)ee=(ee<<5)-ee+_[S],ee|=0;return ee},Y=t.__addimage__.validateStringAsBase64=function(_){(_=_||"").toString().trim();var S=!0;return _.length===0&&(S=!1),_.length%4!=0&&(S=!1),/^[A-Za-z0-9+/]+$/.test(_.substr(0,_.length-2))===!1&&(S=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(_.substr(-2))===!1&&(S=!1),S},fe=t.__addimage__.extractImageFromDataUrl=function(_){if(_==null||!(_=_.trim()).startsWith("data:"))return null;var S=_.indexOf(",");return S<0?null:_.substring(0,S).trim().endsWith("base64")?_.substring(S+1):null};t.__addimage__.isArrayBuffer=function(_){return _ instanceof ArrayBuffer};var be=t.__addimage__.isArrayBufferView=function(_){return _ instanceof Int8Array||_ instanceof Uint8Array||_ instanceof Uint8ClampedArray||_ instanceof Int16Array||_ instanceof Uint16Array||_ instanceof Int32Array||_ instanceof Uint32Array||_ instanceof Float32Array||_ instanceof Float64Array},P=t.__addimage__.binaryStringToUint8Array=function(_){for(var S=_.length,I=new Uint8Array(S),ee=0;ee<S;ee++)I[ee]=_.charCodeAt(ee);return I},T=t.__addimage__.arrayBufferToBinaryString=function(_){for(var S="",I=be(_)?_:new Uint8Array(_),ee=0;ee<I.length;ee+=8192)S+=String.fromCharCode.apply(null,I.subarray(ee,ee+8192));return S};t.addImage=function(){var _,S,I,ee,ve,Ce,Te,pe,Ae;if(typeof arguments[1]=="number"?(S=n,I=arguments[1],ee=arguments[2],ve=arguments[3],Ce=arguments[4],Te=arguments[5],pe=arguments[6],Ae=arguments[7]):(S=arguments[1],I=arguments[2],ee=arguments[3],ve=arguments[4],Ce=arguments[5],Te=arguments[6],pe=arguments[7],Ae=arguments[8]),er(_=arguments[0])==="object"&&!y(_)&&"imageData"in _){var $e=_;_=$e.imageData,S=$e.format||S||n,I=$e.x||I||0,ee=$e.y||ee||0,ve=$e.w||$e.width||ve,Ce=$e.h||$e.height||Ce,Te=$e.alias||Te,pe=$e.compression||pe,Ae=$e.rotation||$e.angle||Ae}var Me=this.internal.getFilters();if(pe===void 0&&Me.indexOf("FlateEncode")!==-1&&(pe="SLOW"),isNaN(I)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var B=w.call(this,_,S,Te,pe);return M.call(this,I,ee,ve,Ce,B,Ae),this};var w=function(_,S,I,ee){var ve,Ce,Te;if(typeof _=="string"&&i(_)===n){_=unescape(_);var pe=D(_,!1);(pe!==""||(pe=t.loadFile(_,!0))!==void 0)&&(_=pe)}if(y(_)&&(_=g(_,S)),S=i(_,S),!m(S))throw new Error("addImage does not support files of type '"+S+"', please ensure that a plugin for '"+S+"' support is added.");if(((Te=I)==null||Te.length===0)&&(I=(function(Ae){return typeof Ae=="string"||be(Ae)?J(Ae):be(Ae.data)?J(Ae.data):null})(_)),(ve=R.call(this,I))||(_ instanceof Uint8Array||S==="RGBA"||(Ce=_,_=P(_)),ve=this["process"+S.toUpperCase()](_,l.call(this),I,(function(Ae){return Ae&&typeof Ae=="string"&&(Ae=Ae.toUpperCase()),Ae in t.image_compression?Ae:Z.NONE})(ee),Ce)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},D=t.__addimage__.convertBase64ToBinaryString=function(_,S){S=typeof S!="boolean"||S;var I,ee="";if(typeof _=="string"){var ve;I=(ve=fe(_))!==null&&ve!==void 0?ve:_;try{ee=Ib(I)}catch(Ce){if(S)throw Y(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};t.getImageProperties=function(_){var S,I,ee="";if(y(_)&&(_=g(_)),typeof _=="string"&&i(_)===n&&((ee=D(_,!1))===""&&(ee=t.loadFile(_)||""),_=ee),I=i(_),!m(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(_ instanceof Uint8Array||(_=P(_)),!(S=this["process"+I.toUpperCase()](_)))throw new Error("An unknown error occurred whilst processing the image");return S.fileType=I,S}})(yt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};yt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,l=!1,m=0;m<u.length&&!l;m++)switch((r=u[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(l!=0){this.internal.write("/Annots [");for(var y=0;y<u.length;y++){r=u[y];var g=this.internal.pdfEscape,R=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(k.objId),Z=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(L(r.contents))+")",o+=" /Popup "+M.objId+" 0 R",o+=" /P "+c.objId+" 0 R",o+=" /T ("+g(L(Z))+") >>",k.content=o;var J=k.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+J,r.open&&(o+=" /Open true"),o+=" >>",M.content=o,this.internal.write(k.objId,"0 R",M.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var Y=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(R(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Y+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var fe=this.annotations._nameMap[r.options.name];r.options.pageNumber=fe.page,r.options.top=fe.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(R(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var be=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+be+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+i),h:u(r+o)},options:s,type:"link"})},t.textWithLink=function(n,r,i,o){var s,a,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var l=this.splitTextToSize(n,a).length;s=Math.ceil(u*l)}else a=c,s=u;return this.text(n,r,i,o),i+=.2*u,o.align==="center"&&(r-=c/2),o.align==="right"&&(r-=c),this.link(r,i-u,a,s,o),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(yt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},a=t.__arabicParser__.isArabicEndLetter=function(k){return s(k)&&o(k)&&e[k.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(k){return s(k)&&i.indexOf(k.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return s(k)&&o(k)&&e[k.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(k){return s(k)&&o(k)&&e[k.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(k){return s(k)&&o(k)&&e[k.charCodeAt(0)].length>=3};var l=t.__arabicParser__.arabicLetterHasMedialForm=function(k){return s(k)&&o(k)&&e[k.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(k){var M=0,L=n,Z="",J=0;for(M=0;M<k.length;M+=1)L[k.charCodeAt(M)]!==void 0?(J++,typeof(L=L[k.charCodeAt(M)])=="number"&&(Z+=String.fromCharCode(L),L=n,J=0),M===k.length-1&&(L=n,Z+=k.charAt(M-(J-1)),M-=J-1,J=0)):(L=n,Z+=k.charAt(M-J),M-=J,J=0);return Z};t.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&r[k.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(k,M,L){return s(k)?o(k)===!1?-1:!u(k)||!s(M)&&!s(L)||!s(L)&&a(M)||a(k)&&!s(M)||a(k)&&c(M)||a(k)&&a(M)?0:l(k)&&s(M)&&!a(M)&&s(L)&&u(L)?3:a(k)||!s(L)?1:2:-1},g=function(k){var M=0,L=0,Z=0,J="",Y="",fe="",be=(k=k||"").split("\\s+"),P=[];for(M=0;M<be.length;M+=1){for(P.push(""),L=0;L<be[M].length;L+=1)J=be[M][L],Y=be[M][L-1],fe=be[M][L+1],s(J)?(Z=y(J,Y,fe),P[M]+=Z!==-1?String.fromCharCode(e[J.charCodeAt(0)][Z]):J):P[M]+=J;P[M]=m(P[M])}return P.join(" ")},R=t.__arabicParser__.processArabic=t.processArabic=function(){var k,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(M)){var Z=0;for(L=[],Z=0;Z<M.length;Z+=1)Array.isArray(M[Z])?L.push([g(M[Z][0]),M[Z][1],M[Z][2]]):L.push([g(M[Z])]);k=L}else k=g(M);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};t.events.push(["preProcessText",R])})(yt.API),yt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(yt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(k){c=k}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(k){u=k}});var l=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return l},set:function(k){l=k}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(k){y=k}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(k){R=k}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){r.call(this);var l=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),y=u.scaleFactor||this.internal.scaleFactor,g=0,R=0,k=0,M=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var L=u.maxWidth;L>0?typeof c=="string"?c=this.splitTextToSize(c,L):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(J,Y){return J.concat(M.splitTextToSize(Y,L))},[])):c=Array.isArray(c)?c:[c];for(var Z=0;Z<c.length;Z++)g<(k=this.getStringUnitWidth(c[Z],{font:m})*l)&&(g=k);return g!==0&&(R=c.length),{w:g/=y,h:Math.max((R*l*this.getLineHeightFactor()-l*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,l=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,g&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-l,c.y+l,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+l,{align:"center",baseline:"top",maxWidth:c.width-l-l}):this.text(c.text,c.x+l,c.y+l,{align:"left",baseline:"top",maxWidth:c.width-l-l})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,l,m,y){if(r.call(this),!l)throw new Error("No data for PDF table.");var g,R,k,M,L=[],Z=[],J=[],Y={},fe={},be=[],P=[],T=(y=y||{}).autoSize||!1,w=y.printHeaders!==!1,D=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,_=y.margins||Object.assign({width:this.getPageWidth()},e),S=typeof y.padding=="number"?y.padding:3,I=y.headerBackgroundColor||"#c8c8c8",ee=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=w,this.internal.__cell__.margins=_,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=ee,this.setFontSize(D),m==null)Z=L=Object.keys(l[0]),J=L.map(function(){return"left"});else if(Array.isArray(m)&&er(m[0])==="object")for(L=m.map(function($e){return $e.name}),Z=m.map(function($e){return $e.prompt||$e.name||""}),J=m.map(function($e){return $e.align||"left"}),g=0;g<m.length;g+=1)fe[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(Z=L=m,J=L.map(function(){return"left"}));if(T||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<L.length;g+=1){for(Y[M=L[g]]=l.map(function($e){return $e[M]}),this.setFont(void 0,"bold"),be.push(this.getTextDimensions(Z[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=Y[M],this.setFont(void 0,"normal"),k=0;k<R.length;k+=1)be.push(this.getTextDimensions(R[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);fe[M]=Math.max.apply(null,be)+S+S,be=[]}if(w){var ve={};for(g=0;g<L.length;g+=1)ve[L[g]]={},ve[L[g]].text=Z[g],ve[L[g]].align=J[g];var Ce=a.call(this,ve,fe);P=L.map(function($e){return new o(c,u,fe[$e],Ce,ve[$e].text,void 0,ve[$e].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var Te=m.reduce(function($e,Me){return $e[Me.name]=Me.align,$e},{});for(g=0;g<l.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:l[g]},this);var pe=a.call(this,l[g],fe);for(k=0;k<L.length;k+=1){var Ae=l[g][L[k]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:k,data:Ae},this),s.call(this,new o(c,u,fe[L[k]],pe,Ae,g+2,Te[L[k]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var a=function(c,u){var l=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(g){var R=c[g];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,u[g]-l-l)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/y+l+l},this).reduce(function(g,R){return Math.max(g,R)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var l;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){l=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(l.y=this.internal.__cell__.margins.top||0,y.push(l)),l.lineNumber=c;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,l),this.setTextColor(R)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}})(yt.API);var PB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vN=RB(kB),MB=[100,200,300,400,500,600,700,800,900],Hie=RB(MB);function dN(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(o){return PB[o=o||"normal"]?o:"normal"})(t.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),i=(function(o){return typeof vN[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function aB(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Gie={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},cB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function uB(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function lB(t){return t.trimLeft()}function Wie(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Kie(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var bb,dB,hB,Sp,Eb,fB,pB,gB,hN=["times"];function mB(t,e,n,r,i){var o=4,s=vB;switch(i){case yt.API.image_compression.FAST:o=1,s=yB;break;case yt.API.image_compression.MEDIUM:o=6,s=_B;break;case yt.API.image_compression.SLOW:o=9,s=wB}t=(function(c,u,l,m){for(var y,g=c.length/u,R=new Uint8Array(c.length+g),k=[Qie,yB,vB,_B,wB],M=0;M<g;M+=1){var L=M*u,Z=c.subarray(L,L+u);if(m)R.set(m(Z,l,y),L+M);else{for(var J=k.length,Y=[],fe=0;fe<J;fe+=1)Y[fe]=k[fe](Z,l,y);var be=Jie(Y.concat());R.set(Y[be],L+M)}y=Z}return R})(t,e,Math.ceil(n*r/8),s);var a=J1(t,{level:o});return yt.API.__addimage__.arrayBufferToBinaryString(a)}function Qie(t){var e=Array.apply([],t);return e.unshift(0),e}function yB(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var o=t[i-e]||0;r[i+1]=t[i]-o+256&255}return r}function vB(t,e,n){var r=t.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var s=n&&n[o]||0;i[o+1]=t[o]-s+256&255}return i}function _B(t,e,n){var r=t.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var s=t[o-e]||0,a=n&&n[o]||0;i[o+1]=t[o]+256-(s+a>>>1)&255}return i}function wB(t,e,n){var r=t.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=Yie(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);i[o+1]=t[o]-s+256&255}return i}function Yie(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),o=Math.abs(t+e-n-n);return r<=i&&r<=o?t:i<=o?e:n}function Jie(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function fN(t,e,n){var r=e*n,i=Math.floor(r/8),o=16-(r-8*i+n),s=(1<<n)-1;return OB(t,i)>>o&s}function bB(t,e,n,r){var i=n*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,c=(e&a)<<s;(function(u,l,m){if(l+1<u.byteLength)u.setUint16(l,m,!1);else{var y=m>>8&255;u.setUint8(l,y)}})(t,o,OB(t,o)&~(a<<s)&65535|c)}function OB(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Zie(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,s=1<<1+(7&i);t[e++],t[e++];var a=null,c=null;o&&(a=e,c=s,e+=3*s);var u=!0,l=[],m=0,y=null,g=0,R=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,R=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=t[e++];m=t[e++]|t[e++]<<8,y=t[e++],1&k||(y=null),g=k>>2&7,e++;break;case 254:for(;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var M=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,Z=t[e++]|t[e++]<<8,J=t[e++]|t[e++]<<8,Y=t[e++],fe=Y>>6&1,be=1<<1+(7&Y),P=a,T=c,w=!1;Y>>7&&(w=!0,P=e,T=be,e+=3*be);var D=e;for(e++;;){var _;if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}l.push({x:M,y:L,width:Z,height:J,has_local_palette:w,palette_offset:P,palette_size:T,data_offset:D,data_length:e-D,transparent_index:y,interlaced:!!fe,delay:m,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return R},this.frameInfo=function(S){if(S<0||S>=l.length)throw new Error("Frame index out of range.");return l[S]},this.decodeAndBlitFrameBGRA=function(S,I){var ee=this.frameInfo(S),ve=ee.width*ee.height,Ce=new Uint8Array(ve);EB(t,ee.data_offset,Ce,ve);var Te=ee.palette_offset,pe=ee.transparent_index;pe===null&&(pe=256);var Ae=ee.width,$e=n-Ae,Me=Ae,B=4*(ee.y*n+ee.x),W=4*((ee.y+ee.height)*n+ee.x),X=B,ne=4*$e;ee.interlaced===!0&&(ne+=4*n*7);for(var ce=8,de=0,Ee=Ce.length;de<Ee;++de){var Ie=Ce[de];if(Me===0&&(Me=Ae,(X+=ne)>=W&&(ne=4*$e+4*n*(ce-1),X=B+(Ae+$e)*(ce<<1),ce>>=1)),Ie===pe)X+=4;else{var xe=t[Te+3*Ie],Be=t[Te+3*Ie+1],Je=t[Te+3*Ie+2];I[X++]=Je,I[X++]=Be,I[X++]=xe,I[X++]=255}--Me}},this.decodeAndBlitFrameRGBA=function(S,I){var ee=this.frameInfo(S),ve=ee.width*ee.height,Ce=new Uint8Array(ve);EB(t,ee.data_offset,Ce,ve);var Te=ee.palette_offset,pe=ee.transparent_index;pe===null&&(pe=256);var Ae=ee.width,$e=n-Ae,Me=Ae,B=4*(ee.y*n+ee.x),W=4*((ee.y+ee.height)*n+ee.x),X=B,ne=4*$e;ee.interlaced===!0&&(ne+=4*n*7);for(var ce=8,de=0,Ee=Ce.length;de<Ee;++de){var Ie=Ce[de];if(Me===0&&(Me=Ae,(X+=ne)>=W&&(ne=4*$e+4*n*(ce-1),X=B+(Ae+$e)*(ce<<1),ce>>=1)),Ie===pe)X+=4;else{var xe=t[Te+3*Ie],Be=t[Te+3*Ie+1],Je=t[Te+3*Ie+2];I[X++]=xe,I[X++]=Be,I[X++]=Je,I[X++]=255}--Me}}}function EB(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,c=i+1,u=(1<<c)-1,l=0,m=0,y=0,g=t[e++],R=new Int32Array(4096),k=null;;){for(;l<16&&g!==0;)m|=t[e++]<<l,l+=8,g===1?g=t[e++]:--g;if(l<c)break;var M=m&u;if(m>>=c,l-=c,M!==o){if(M===s)break;for(var L=M<a?M:k,Z=0,J=L;J>o;)J=R[J]>>8,++Z;var Y=J;if(y+Z+(L!==M?1:0)>r)return void ur.log("Warning, gif stream longer than expected.");n[y++]=Y;var fe=y+=Z;for(L!==M&&(n[y++]=Y),J=L;Z--;)J=R[J],n[--fe]=255&J,J>>=8;k!==null&&a<4096&&(R[a++]=k<<8|Y,a>=u+1&&c<12&&(++c,u=u<<1|1)),k=M}else a=s+1,u=(1<<(c=i+1))-1,k=null}return y!==r&&ur.log("Warning, gif stream shorter than expected."),n}function pN(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),c=new Array(64),u=new Array(64),l=new Array(64),m=new Array(65535),y=new Array(65535),g=new Array(64),R=new Array(64),k=[],M=0,L=7,Z=new Array(64),J=new Array(64),Y=new Array(64),fe=new Array(256),be=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],w=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ce(B,W){for(var X=0,ne=0,ce=new Array,de=1;de<=16;de++){for(var Ee=1;Ee<=B[de];Ee++)ce[W[ne]]=[],ce[W[ne]][0]=X,ce[W[ne]][1]=de,ne++,X++;X*=2}return ce}function Te(B){for(var W=B[0],X=B[1]-1;X>=0;)W&1<<X&&(M|=1<<L),X--,--L<0&&(M==255?(pe(255),pe(0)):pe(M),L=7,M=0)}function pe(B){k.push(B)}function Ae(B){pe(B>>8&255),pe(255&B)}function $e(B,W,X,ne,ce){for(var de,Ee=ce[0],Ie=ce[240],xe=(function(Fe,Ze){var Ge,gt,vt,ln,Xt,Dt,Et,It,tt,Ut,dt=0;for(tt=0;tt<8;++tt){Ge=Fe[dt],gt=Fe[dt+1],vt=Fe[dt+2],ln=Fe[dt+3],Xt=Fe[dt+4],Dt=Fe[dt+5],Et=Fe[dt+6];var lr=Ge+(It=Fe[dt+7]),en=Ge-It,Ft=gt+Et,Ht=gt-Et,Ln=vt+Dt,ut=vt-Dt,Vn=ln+Xt,_t=ln-Xt,Mt=lr+Vn,Pn=lr-Vn,qt=Ft+Ln,Xe=Ft-Ln;Fe[dt]=Mt+qt,Fe[dt+4]=Mt-qt;var dn=.707106781*(Xe+Pn);Fe[dt+2]=Pn+dn,Fe[dt+6]=Pn-dn;var Mr=.382683433*((Mt=_t+ut)-(Xe=Ht+en)),mr=.5411961*Mt+Mr,Yi=1.306562965*Xe+Mr,mo=.707106781*(qt=ut+Ht),lt=en+mo,jo=en-mo;Fe[dt+5]=jo+mr,Fe[dt+3]=jo-mr,Fe[dt+1]=lt+Yi,Fe[dt+7]=lt-Yi,dt+=8}for(dt=0,tt=0;tt<8;++tt){Ge=Fe[dt],gt=Fe[dt+8],vt=Fe[dt+16],ln=Fe[dt+24],Xt=Fe[dt+32],Dt=Fe[dt+40],Et=Fe[dt+48];var nr=Ge+(It=Fe[dt+56]),Kr=Ge-It,Or=gt+Et,Bn=gt-Et,_r=vt+Dt,yr=vt-Dt,Ji=ln+Xt,di=ln-Xt,Zi=nr+Ji,Ei=nr-Ji,Ii=Or+_r,hi=Or-_r;Fe[dt]=Zi+Ii,Fe[dt+32]=Zi-Ii;var Qr=.707106781*(hi+Ei);Fe[dt+16]=Ei+Qr,Fe[dt+48]=Ei-Qr;var Ti=.382683433*((Zi=di+yr)-(hi=Bn+Kr)),Xi=.5411961*Zi+Ti,Ms=1.306562965*hi+Ti,yo=.707106781*(Ii=yr+Bn),is=Kr+yo,os=Kr-yo;Fe[dt+40]=os+Xi,Fe[dt+24]=os-Xi,Fe[dt+8]=is+Ms,Fe[dt+56]=is-Ms,dt++}for(tt=0;tt<64;++tt)Ut=Fe[tt]*Ze[tt],g[tt]=Ut>0?Ut+.5|0:Ut-.5|0;return g})(B,W),Be=0;Be<64;++Be)R[P[Be]]=xe[Be];var Je=R[0]-X;X=R[0],Je==0?Te(ne[0]):(Te(ne[y[de=32767+Je]]),Te(m[de]));for(var Ke=63;Ke>0&&R[Ke]==0;)Ke--;if(Ke==0)return Te(Ee),X;for(var ct,H=1;H<=Ke;){for(var Qe=H;R[H]==0&&H<=Ke;)++H;var jt=H-Qe;if(jt>=16){ct=jt>>4;for(var bt=1;bt<=ct;++bt)Te(Ie);jt&=15}de=32767+R[H],Te(ce[(jt<<4)+y[de]]),Te(m[de]),H++}return Ke!=63&&Te(Ee),X}function Me(B){B=Math.min(Math.max(B,1),100),o!=B&&((function(W){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ce=s((X[ne]*W+50)/100);ce=Math.min(Math.max(ce,1),255),a[P[ne]]=ce}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var Ie=s((de[Ee]*W+50)/100);Ie=Math.min(Math.max(Ie,1),255),c[P[Ee]]=Ie}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Be=0,Je=0;Je<8;Je++)for(var Ke=0;Ke<8;Ke++)u[Be]=1/(a[P[Be]]*xe[Je]*xe[Ke]*8),l[Be]=1/(c[P[Be]]*xe[Je]*xe[Ke]*8),Be++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),o=B)}this.encode=function(B,W){W&&Me(W),k=new Array,M=0,L=7,Ae(65496),Ae(65504),Ae(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),Ae(1),Ae(1),pe(0),pe(0),(function(){Ae(65499),Ae(132),pe(0);for(var gt=0;gt<64;gt++)pe(a[gt]);pe(1);for(var vt=0;vt<64;vt++)pe(c[vt])})(),(function(gt,vt){Ae(65472),Ae(17),pe(8),Ae(vt),Ae(gt),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)})(B.width,B.height),(function(){Ae(65476),Ae(418),pe(0);for(var gt=0;gt<16;gt++)pe(T[gt+1]);for(var vt=0;vt<=11;vt++)pe(w[vt]);pe(16);for(var ln=0;ln<16;ln++)pe(D[ln+1]);for(var Xt=0;Xt<=161;Xt++)pe(_[Xt]);pe(1);for(var Dt=0;Dt<16;Dt++)pe(S[Dt+1]);for(var Et=0;Et<=11;Et++)pe(I[Et]);pe(17);for(var It=0;It<16;It++)pe(ee[It+1]);for(var tt=0;tt<=161;tt++)pe(ve[tt])})(),Ae(65498),Ae(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var X=0,ne=0,ce=0;M=0,L=7,this.encode.displayName="_encode_";for(var de,Ee,Ie,xe,Be,Je,Ke,ct,H,Qe=B.data,jt=B.width,bt=B.height,Fe=4*jt,Ze=0;Ze<bt;){for(de=0;de<Fe;){for(Be=Fe*Ze+de,Ke=-1,ct=0,H=0;H<64;H++)Je=Be+(ct=H>>3)*Fe+(Ke=4*(7&H)),Ze+ct>=bt&&(Je-=Fe*(Ze+1+ct-bt)),de+Ke>=Fe&&(Je-=de+Ke-Fe+4),Ee=Qe[Je++],Ie=Qe[Je++],xe=Qe[Je++],Z[H]=(be[Ee]+be[Ie+256|0]+be[xe+512|0]>>16)-128,J[H]=(be[Ee+768|0]+be[Ie+1024|0]+be[xe+1280|0]>>16)-128,Y[H]=(be[Ee+1280|0]+be[Ie+1536|0]+be[xe+1792|0]>>16)-128;X=$e(Z,u,X,e,r),ne=$e(J,l,ne,n,i),ce=$e(Y,l,ce,n,i),de+=32}Ze+=8}if(L>=0){var Ge=[];Ge[1]=L+1,Ge[0]=(1<<L+1)-1,Te(Ge)}return Ae(65497),new Uint8Array(k)},t=t||50,(function(){for(var B=String.fromCharCode,W=0;W<256;W++)fe[W]=B(W)})(),e=Ce(T,w),n=Ce(S,I),r=Ce(D,_),i=Ce(ee,ve),(function(){for(var B=1,W=2,X=1;X<=15;X++){for(var ne=B;ne<W;ne++)y[32767+ne]=X,m[32767+ne]=[],m[32767+ne][1]=X,m[32767+ne][0]=ne;for(var ce=-(W-1);ce<=-B;ce++)y[32767+ce]=X,m[32767+ce]=[],m[32767+ce][1]=X,m[32767+ce][0]=W-1+ce;B<<=1,W<<=1}})(),(function(){for(var B=0;B<256;B++)be[B]=19595*B,be[B+256|0]=38470*B,be[B+512|0]=7471*B+32768,be[B+768|0]=-11059*B,be[B+1024|0]=-21709*B,be[B+1280|0]=32768*B+8421375,be[B+1536|0]=-27439*B,be[B+1792|0]=-5329*B})(),Me(t)}function Za(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function IB(t){function e(w){if(!w)throw Error("assert :P")}function n(w,D,_){for(var S=0;4>S;S++)if(w[D+S]!=_.charCodeAt(S))return!0;return!1}function r(w,D,_,S,I){for(var ee=0;ee<I;ee++)w[D+ee]=_[S+ee]}function i(w,D,_,S){for(var I=0;I<S;I++)w[D+I]=_}function o(w){return new Int32Array(w)}function s(w,D){for(var _=[],S=0;S<w;S++)_.push(new D);return _}function a(w,D){var _=[];return(function S(I,ee,ve){for(var Ce=ve[ee],Te=0;Te<Ce&&(I.push(ve.length>ee+1?[]:new D),!(ve.length<ee+1));Te++)S(I[Te],ee+1,ve)})(_,0,w),_}var c=function(){var w=this;function D(h,p){for(var E=1<<p-1>>>0;h&E;)E>>>=1;return E?(h&E-1)+E:h}function _(h,p,E,C,F){e(!(C%E));do h[p+(C-=E)]=F;while(0<C)}function S(h,p,E,C,F){if(e(2328>=F),512>=F)var V=o(512);else if((V=o(F))==null)return 0;return(function(j,z,$,K,re,ye){var Q,ue,he=z,De=1<<$,ge=o(16),Ne=o(16);for(e(re!=0),e(K!=null),e(j!=null),e(0<$),ue=0;ue<re;++ue){if(15<K[ue])return 0;++ge[K[ue]]}if(ge[0]==re)return 0;for(Ne[1]=0,Q=1;15>Q;++Q){if(ge[Q]>1<<Q)return 0;Ne[Q+1]=Ne[Q]+ge[Q]}for(ue=0;ue<re;++ue)Q=K[ue],0<K[ue]&&(ye[Ne[Q]++]=ue);if(Ne[15]==1)return(K=new I).g=0,K.value=ye[0],_(j,he,1,De,K),De;var Pe,ze=-1,Ve=De-1,wt=0,ot=1,tn=1,ft=1<<$;for(ue=0,Q=1,re=2;Q<=$;++Q,re<<=1){if(ot+=tn<<=1,0>(tn-=ge[Q]))return 0;for(;0<ge[Q];--ge[Q])(K=new I).g=Q,K.value=ye[ue++],_(j,he+wt,re,ft,K),wt=D(wt,Q)}for(Q=$+1,re=2;15>=Q;++Q,re<<=1){if(ot+=tn<<=1,0>(tn-=ge[Q]))return 0;for(;0<ge[Q];--ge[Q]){if(K=new I,(wt&Ve)!=ze){for(he+=ft,Pe=1<<(ze=Q)-$;15>ze&&!(0>=(Pe-=ge[ze]));)++ze,Pe<<=1;De+=ft=1<<(Pe=ze-$),j[z+(ze=wt&Ve)].g=Pe+$,j[z+ze].value=he-z-ze}K.g=Q-$,K.value=ye[ue++],_(j,he+(wt>>$),re,ft,K),wt=D(wt,Q)}}return ot!=2*Ne[15]-1?0:De})(h,p,E,C,F,V)}function I(){this.value=this.g=0}function ee(){this.value=this.g=0}function ve(){this.G=s(5,I),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Jl,ee)}function Ce(h,p,E,C){e(h!=null),e(p!=null),e(2147483648>C),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=p,h.pa=E,h.Jd=p,h.Yc=E+C,h.Zc=4<=C?E+C-4+1:E,Ee(h)}function Te(h,p){for(var E=0;0<p--;)E|=xe(h,128)<<p;return E}function pe(h,p){var E=Te(h,p);return Ie(h)?-E:E}function Ae(h,p,E,C){var F,V=0;for(e(h!=null),e(p!=null),e(4294967288>C),h.Sb=C,h.Ra=0,h.u=0,h.h=0,4<C&&(C=4),F=0;F<C;++F)V+=p[E+F]<<8*F;h.Ra=V,h.bb=C,h.oa=p,h.pa=E}function $e(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Gu-8>>>0,++h.bb,h.u-=8;ne(h)&&(h.h=1,h.u=0)}function Me(h,p){if(e(0<=p),!h.h&&p<=hs){var E=X(h)&ds[p];return h.u+=p,$e(h),E}return h.h=1,h.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(h){return h.Ra>>>(h.u&Gu-1)>>>0}function ne(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Gu}function ce(h,p){h.u=p,h.h=ne(h)}function de(h){h.u>=Qc&&(e(h.u>=Qc),$e(h))}function Ee(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function Ie(h){return Te(h,1)}function xe(h,p){var E=h.Ca;0>h.b&&Ee(h);var C=h.b,F=E*p>>>8,V=(h.I>>>C>F)+0;for(V?(E-=F,h.I-=F+1<<C>>>0):E=F+1,C=E,F=0;256<=C;)F+=8,C>>=8;return C=7^F+Wu[C],h.b-=C,h.Ca=(E<<C)-1,V}function Be(h,p,E){h[p+0]=E>>24&255,h[p+1]=E>>16&255,h[p+2]=E>>8&255,h[p+3]=255&E}function Je(h,p){return h[p+0]|h[p+1]<<8}function Ke(h,p){return Je(h,p)|h[p+2]<<16}function ct(h,p){return Je(h,p)|Je(h,p+2)<<16}function H(h,p){var E=1<<p;return e(h!=null),e(0<p),h.X=o(E),h.X==null?0:(h.Mb=32-p,h.Xa=p,1)}function Qe(h,p){e(h!=null),e(p!=null),e(h.Xa==p.Xa),r(p.X,0,h.X,0,1<<p.Xa)}function jt(){this.X=[],this.Xa=this.Mb=0}function bt(h,p,E,C){e(E!=null),e(C!=null);var F=E[0],V=C[0];return F==0&&(F=(h*V+p/2)/p),V==0&&(V=(p*F+h/2)/h),0>=F||0>=V?0:(E[0]=F,C[0]=V,1)}function Fe(h,p){return h+(1<<p)-1>>>p}function Ze(h,p){return((4278255360&h)+(4278255360&p)>>>0&4278255360)+((16711935&h)+(16711935&p)>>>0&16711935)>>>0}function Ge(h,p){w[p]=function(E,C,F,V,j,z,$){var K;for(K=0;K<j;++K){var re=w[h](z[$+K-1],F,V+K);z[$+K]=Ze(E[C+K],re)}}}function gt(){this.ud=this.hd=this.jd=0}function vt(h,p){return((4278124286&(h^p))>>>1)+(h&p)>>>0}function ln(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Xt(h,p){return ln(h+(h-p+.5>>1))}function Dt(h,p,E){return Math.abs(p-E)-Math.abs(h-E)}function Et(h,p,E,C,F,V,j){for(C=V[j-1],E=0;E<F;++E)V[j+E]=C=Ze(h[p+E],C)}function It(h,p,E,C,F){var V;for(V=0;V<E;++V){var j=h[p+V],z=j>>8&255,$=16711935&($=($=16711935&j)+((z<<16)+z));C[F+V]=(4278255360&j)+$>>>0}}function tt(h,p){p.jd=255&h,p.hd=h>>8&255,p.ud=h>>16&255}function Ut(h,p,E,C,F,V){var j;for(j=0;j<C;++j){var z=p[E+j],$=z>>>8,K=z,re=255&(re=(re=z>>>16)+((h.jd<<24>>24)*($<<24>>24)>>>5));K=255&(K=(K+=(h.hd<<24>>24)*($<<24>>24)>>>5)+((h.ud<<24>>24)*(re<<24>>24)>>>5)),F[V+j]=(4278255360&z)+(re<<16)+K}}function dt(h,p,E,C,F){w[p]=function(V,j,z,$,K,re,ye,Q,ue){for($=ye;$<Q;++$)for(ye=0;ye<ue;++ye)K[re++]=F(z[C(V[j++])])},w[h]=function(V,j,z,$,K,re,ye){var Q=8>>V.b,ue=V.Ea,he=V.K[0],De=V.w;if(8>Q)for(V=(1<<V.b)-1,De=(1<<Q)-1;j<z;++j){var ge,Ne=0;for(ge=0;ge<ue;++ge)ge&V||(Ne=C($[K++])),re[ye++]=F(he[Ne&De]),Ne>>=Q}else w["VP8LMapColor"+E]($,K,he,De,re,ye,j,z,ue)}}function lr(h,p,E,C,F){for(E=p+E;p<E;){var V=h[p++];C[F++]=V>>16&255,C[F++]=V>>8&255,C[F++]=255&V}}function en(h,p,E,C,F){for(E=p+E;p<E;){var V=h[p++];C[F++]=V>>16&255,C[F++]=V>>8&255,C[F++]=255&V,C[F++]=V>>24&255}}function Ft(h,p,E,C,F){for(E=p+E;p<E;){var V=(j=h[p++])>>16&240|j>>12&15,j=240&j|j>>28&15;C[F++]=V,C[F++]=j}}function Ht(h,p,E,C,F){for(E=p+E;p<E;){var V=(j=h[p++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;C[F++]=V,C[F++]=j}}function Ln(h,p,E,C,F){for(E=p+E;p<E;){var V=h[p++];C[F++]=255&V,C[F++]=V>>8&255,C[F++]=V>>16&255}}function ut(h,p,E,C,F,V){if(V==0)for(E=p+E;p<E;)Be(C,((V=h[p++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),F+=32;else r(C,F,h,p,E)}function Vn(h,p){w[p][0]=w[h+"0"],w[p][1]=w[h+"1"],w[p][2]=w[h+"2"],w[p][3]=w[h+"3"],w[p][4]=w[h+"4"],w[p][5]=w[h+"5"],w[p][6]=w[h+"6"],w[p][7]=w[h+"7"],w[p][8]=w[h+"8"],w[p][9]=w[h+"9"],w[p][10]=w[h+"10"],w[p][11]=w[h+"11"],w[p][12]=w[h+"12"],w[p][13]=w[h+"13"],w[p][14]=w[h+"0"],w[p][15]=w[h+"0"]}function _t(h){return h==Ub||h==qb||h==Zy||h==zb}function Mt(){this.eb=[],this.size=this.A=this.fb=0}function Pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Mt,this.f.kb=new Pn,this.sd=null}function Xe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Mr(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function mr(h,p){var E=h.T,C=p.ba.f.RGBA,F=C.eb,V=C.fb+h.ka*C.A,j=Gs[p.ba.S],z=h.y,$=h.O,K=h.f,re=h.N,ye=h.ea,Q=h.W,ue=p.cc,he=p.dc,De=p.Mc,ge=p.Nc,Ne=h.ka,Pe=h.ka+h.T,ze=h.U,Ve=ze+1>>1;for(Ne==0?j(z,$,null,null,K,re,ye,Q,K,re,ye,Q,F,V,null,null,ze):(j(p.ec,p.fc,z,$,ue,he,De,ge,K,re,ye,Q,F,V-C.A,F,V,ze),++E);Ne+2<Pe;Ne+=2)ue=K,he=re,De=ye,ge=Q,re+=h.Rc,Q+=h.Rc,V+=2*C.A,j(z,($+=2*h.fa)-h.fa,z,$,ue,he,De,ge,K,re,ye,Q,F,V-C.A,F,V,ze);return $+=h.fa,h.j+Pe<h.o?(r(p.ec,p.fc,z,$,ze),r(p.cc,p.dc,K,re,Ve),r(p.Mc,p.Nc,ye,Q,Ve),E--):1&Pe||j(z,$,null,null,K,re,ye,Q,K,re,ye,Q,F,V+C.A,null,null,ze),E}function Yi(h,p,E){var C=h.F,F=[h.J];if(C!=null){var V=h.U,j=p.ba.S,z=j==Jy||j==Zy;p=p.ba.f.RGBA;var $=[0],K=h.ka;$[0]=h.T,h.Kb&&(K==0?--$[0]:(--K,F[0]-=h.width),h.j+h.ka+h.T==h.o&&($[0]=h.o-h.j-K));var re=p.eb;K=p.fb+K*p.A,h=LN(C,F[0],h.width,V,$,re,K+(z?0:3),p.A),e(E==$),h&&_t(j)&&qp(re,K,z,V,$,p.A)}return 0}function mo(h){var p=h.ma,E=p.ba.S,C=11>E,F=E==Qy||E==Yy||E==Jy||E==jb||E==12||_t(E);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!Kc(p.Oa,h,F?11:12))return 0;if(F&&_t(E)&&He(),h.da)alert("todo:use_scaling");else{if(C){if(p.Ib=Mr,h.Kb){if(E=h.U+1>>1,p.memory=o(h.U+2*E),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+h.U,p.Mc=p.cc,p.Nc=p.dc+E,p.Ib=mr,He()}}else alert("todo:EmitYUV");F&&(p.Jb=Yi,C&&oe())}if(C&&!XN){for(h=0;256>h;++h)Aj[h]=89858*(h-128)+ev>>Xy,Dj[h]=-22014*(h-128)+ev,Cj[h]=-45773*(h-128),Sj[h]=113618*(h-128)+ev>>Xy;for(h=$p;h<Gb;++h)p=76283*(h-16)+ev>>Xy,xj[h-$p]=eo(p,255),Nj[h-$p]=eo(p+8>>4,15);XN=1}return 1}function lt(h){var p=h.ma,E=h.U,C=h.T;return e(!(1&h.ka)),0>=E||0>=C?0:(E=p.Ib(h,p),p.Jb!=null&&p.Jb(h,p,E),p.Dc+=E,1)}function jo(h){h.ma.memory=null}function nr(h,p,E,C){return Me(h,8)!=47?0:(p[0]=Me(h,14)+1,E[0]=Me(h,14)+1,C[0]=Me(h,1),Me(h,3)!=0?0:!h.h)}function Kr(h,p){if(4>h)return h+1;var E=h-2>>1;return(2+(1&h)<<E)+Me(p,E)+1}function Or(h,p){return 120<p?p-120:1<=(E=((E=dj[p-1])>>4)*h+(8-(15&E)))?E:1;var E}function Bn(h,p,E){var C=X(E),F=h[p+=255&C].g-8;return 0<F&&(ce(E,E.u+8),C=X(E),p+=h[p].value,p+=C&(1<<F)-1),ce(E,E.u+h[p].g),h[p].value}function _r(h,p,E){return E.g+=h.g,E.value+=h.value<<p>>>0,e(8>=E.g),h.g}function yr(h,p,E){var C=h.xc;return e((p=C==0?0:h.vc[h.md*(E>>C)+(p>>C)])<h.Wb),h.Ya[p]}function Ji(h,p,E,C){var F=h.ab,V=h.c*p,j=h.C;p=j+p;var z=E,$=C;for(C=h.Ta,E=h.Ua;0<F--;){var K=h.gc[F],re=j,ye=p,Q=z,ue=$,he=($=C,z=E,K.Ea);switch(e(re<ye),e(ye<=K.nc),K.hc){case 2:Vr(Q,ue,(ye-re)*he,$,z);break;case 0:var De=re,ge=ye,Ne=$,Pe=z,ze=(ft=K).Ea;De==0&&(Lp(Q,ue,null,null,1,Ne,Pe),Et(Q,ue+1,0,0,ze-1,Ne,Pe+1),ue+=ze,Pe+=ze,++De);for(var Ve=1<<ft.b,wt=Ve-1,ot=Fe(ze,ft.b),tn=ft.K,ft=ft.w+(De>>ft.b)*ot;De<ge;){var bn=tn,mi=ft,nn=1;for(Ih(Q,ue,Ne,Pe-ze,1,Ne,Pe);nn<ze;){var pt=(nn&~wt)+Ve;pt>ze&&(pt=ze),(0,Vp[bn[mi++]>>8&15])(Q,ue+ +nn,Ne,Pe+nn-ze,pt-nn,Ne,Pe+nn),nn=pt}ue+=ze,Pe+=ze,++De&wt||(ft+=ot)}ye!=K.nc&&r($,z-he,$,z+(ye-re-1)*he,he);break;case 1:for(he=Q,ge=ue,ze=(Q=K.Ea)-(Pe=Q&~(Ne=(ue=1<<K.b)-1)),De=Fe(Q,K.b),Ve=K.K,K=K.w+(re>>K.b)*De;re<ye;){for(wt=Ve,ot=K,tn=new gt,ft=ge+Pe,bn=ge+Q;ge<ft;)tt(wt[ot++],tn),Bp(tn,he,ge,ue,$,z),ge+=ue,z+=ue;ge<bn&&(tt(wt[ot++],tn),Bp(tn,he,ge,ze,$,z),ge+=ze,z+=ze),++re&Ne||(K+=De)}break;case 3:if(Q==$&&ue==z&&0<K.b){for(ge=$,Q=he=z+(ye-re)*he-(Pe=(ye-re)*Fe(K.Ea,K.b)),ue=$,Ne=z,De=[],Pe=(ze=Pe)-1;0<=Pe;--Pe)De[Pe]=ue[Ne+Pe];for(Pe=ze-1;0<=Pe;--Pe)ge[Q+Pe]=De[Pe];Hy(K,re,ye,$,he,$,z)}else Hy(K,re,ye,Q,ue,$,z)}z=C,$=E}$!=E&&r(C,E,z,$,V)}function di(h,p){var E=h.V,C=h.Ba+h.c*h.C,F=p-h.C;if(e(p<=h.l.o),e(16>=F),0<F){var V=h.l,j=h.Ta,z=h.Ua,$=V.width;if(Ji(h,F,E,C),F=z=[z],e((E=h.C)<(C=p)),e(V.v<V.va),C>V.o&&(C=V.o),E<V.j){var K=V.j-E;E=V.j,F[0]+=K*$}if(E>=C?E=0:(F[0]+=4*V.v,V.ka=E-V.j,V.U=V.va-V.v,V.T=C-E,E=1),E){if(z=z[0],11>(E=h.ca).S){var re=E.f.RGBA,ye=(C=E.S,F=V.U,V=V.T,K=re.eb,re.A),Q=V;for(re=re.fb+h.Ma*re.A;0<Q--;){var ue=j,he=z,De=F,ge=K,Ne=re;switch(C){case Ky:jp(ue,he,De,ge,Ne);break;case Qy:Ku(ue,he,De,ge,Ne);break;case Ub:Ku(ue,he,De,ge,Ne),qp(ge,Ne,0,De,1,0);break;case zN:Zl(ue,he,De,ge,Ne);break;case Yy:ut(ue,he,De,ge,Ne,1);break;case qb:ut(ue,he,De,ge,Ne,1),qp(ge,Ne,0,De,1,0);break;case Jy:ut(ue,he,De,ge,Ne,0);break;case Zy:ut(ue,he,De,ge,Ne,0),qp(ge,Ne,1,De,1,0);break;case jb:Qu(ue,he,De,ge,Ne);break;case zb:Qu(ue,he,De,ge,Ne),ON(ge,Ne,De,1,0);break;case $N:Yu(ue,he,De,ge,Ne);break;default:e(0)}z+=$,re+=ye}h.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=E.height)}}h.C=p,e(h.C<=h.i)}function Zi(h){var p;if(0<h.ua)return 0;for(p=0;p<h.Wb;++p){var E=h.Ya[p].G,C=h.Ya[p].H;if(0<E[1][C[1]+0].g||0<E[2][C[2]+0].g||0<E[3][C[3]+0].g)return 0}return 1}function Ei(h,p,E,C,F,V){if(h.Z!=0){var j=h.qd,z=h.rd;for(e(Xu[h.Z]!=null);p<E;++p)Xu[h.Z](j,z,C,F,C,F,V),j=C,z=F,F+=V;h.qd=j,h.rd=z}}function Ii(h,p){var E=h.l.ma,C=E.Z==0||E.Z==1?h.l.j:h.C;if(C=h.C<C?C:h.C,e(p<=h.l.o),p>C){var F=h.l.width,V=E.ca,j=E.tb+F*C,z=h.V,$=h.Ba+h.c*C,K=h.gc;e(h.ab==1),e(K[0].hc==3),lc(K[0],C,p,z,$,V,j),Ei(E,C,p,V,j,F)}h.C=h.Ma=p}function hi(h,p,E,C,F,V,j){var z=h.$/C,$=h.$%C,K=h.m,re=h.s,ye=E+h.$,Q=ye;F=E+C*F;var ue=E+C*V,he=280+re.ua,De=h.Pb?z:16777216,ge=0<re.ua?re.Wa:null,Ne=re.wc,Pe=ye<ue?yr(re,$,z):null;e(h.C<V),e(ue<=F);var ze=!1;e:for(;;){for(;ze||ye<ue;){var Ve=0;if(z>=De){var wt=ye-E;e((De=h).Pb),De.wd=De.m,De.xd=wt,0<De.s.ua&&Qe(De.s.Wa,De.s.vb),De=z+fj}if($&Ne||(Pe=yr(re,$,z)),e(Pe!=null),Pe.Qb&&(p[ye]=Pe.qb,ze=!0),!ze)if(de(K),Pe.jc){Ve=K,wt=p;var ot=ye,tn=Pe.pd[X(Ve)&Jl-1];e(Pe.jc),256>tn.g?(ce(Ve,Ve.u+tn.g),wt[ot]=tn.value,Ve=0):(ce(Ve,Ve.u+tn.g-256),e(256<=tn.value),Ve=tn.value),Ve==0&&(ze=!0)}else Ve=Bn(Pe.G[0],Pe.H[0],K);if(K.h)break;if(ze||256>Ve){if(!ze)if(Pe.nd)p[ye]=(Pe.qb|Ve<<8)>>>0;else{if(de(K),ze=Bn(Pe.G[1],Pe.H[1],K),de(K),wt=Bn(Pe.G[2],Pe.H[2],K),ot=Bn(Pe.G[3],Pe.H[3],K),K.h)break;p[ye]=(ot<<24|ze<<16|Ve<<8|wt)>>>0}if(ze=!1,++ye,++$>=C&&($=0,++z,j!=null&&z<=V&&!(z%16)&&j(h,z),ge!=null))for(;Q<ye;)Ve=p[Q++],ge.X[(506832829*Ve&4294967295)>>>ge.Mb]=Ve}else if(280>Ve){if(Ve=Kr(Ve-256,K),wt=Bn(Pe.G[4],Pe.H[4],K),de(K),wt=Or(C,wt=Kr(wt,K)),K.h)break;if(ye-E<wt||F-ye<Ve)break e;for(ot=0;ot<Ve;++ot)p[ye+ot]=p[ye+ot-wt];for(ye+=Ve,$+=Ve;$>=C;)$-=C,++z,j!=null&&z<=V&&!(z%16)&&j(h,z);if(e(ye<=F),$&Ne&&(Pe=yr(re,$,z)),ge!=null)for(;Q<ye;)Ve=p[Q++],ge.X[(506832829*Ve&4294967295)>>>ge.Mb]=Ve}else{if(!(Ve<he))break e;for(ze=Ve-280,e(ge!=null);Q<ye;)Ve=p[Q++],ge.X[(506832829*Ve&4294967295)>>>ge.Mb]=Ve;Ve=ye,e(!(ze>>>(wt=ge).Xa)),p[Ve]=wt.X[ze],ze=!0}ze||e(K.h==ne(K))}if(h.Pb&&K.h&&ye<F)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Qe(h.s.vb,h.s.Wa);else{if(K.h)break e;j?.(h,z>V?V:z),h.a=0,h.$=ye-E}return 1}return h.a=3,0}function Qr(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var p=h.Wa;p!=null&&(p.X=null),h.vb=null,e(h!=null)}function Ti(){var h=new xt;return h==null?null:(h.a=0,h.xb=WN,Vn("Predictor","VP8LPredictors"),Vn("Predictor","VP8LPredictors_C"),Vn("PredictorAdd","VP8LPredictorsAdd"),Vn("PredictorAdd","VP8LPredictorsAdd_C"),Vr=It,Bp=Ut,jp=lr,Ku=en,Qu=Ft,Yu=Ht,Zl=Ln,w.VP8LMapColor32b=uc,w.VP8LMapColor8b=Fp,h)}function Xi(h,p,E,C,F){var V=1,j=[h],z=[p],$=C.m,K=C.s,re=null,ye=0;e:for(;;){if(E)for(;V&&Me($,1);){var Q=j,ue=z,he=C,De=1,ge=he.m,Ne=he.gc[he.ab],Pe=Me(ge,2);if(he.Oc&1<<Pe)V=0;else{switch(he.Oc|=1<<Pe,Ne.hc=Pe,Ne.Ea=Q[0],Ne.nc=ue[0],Ne.K=[null],++he.ab,e(4>=he.ab),Pe){case 0:case 1:Ne.b=Me(ge,3)+2,De=Xi(Fe(Ne.Ea,Ne.b),Fe(Ne.nc,Ne.b),0,he,Ne.K),Ne.K=Ne.K[0];break;case 3:var ze,Ve=Me(ge,8)+1,wt=16<Ve?0:4<Ve?1:2<Ve?2:3;if(Q[0]=Fe(Ne.Ea,wt),Ne.b=wt,ze=De=Xi(Ve,1,0,he,Ne.K)){var ot,tn=Ve,ft=Ne,bn=1<<(8>>ft.b),mi=o(bn);if(mi==null)ze=0;else{var nn=ft.K[0],pt=ft.w;for(mi[0]=ft.K[0][0],ot=1;ot<1*tn;++ot)mi[ot]=Ze(nn[pt+ot],mi[ot-1]);for(;ot<4*bn;++ot)mi[ot]=0;ft.K[0]=null,ft.K[0]=mi,ze=1}}De=ze;break;case 2:break;default:e(0)}V=De}}if(j=j[0],z=z[0],V&&Me($,1)&&!(V=1<=(ye=Me($,4))&&11>=ye)){C.a=3;break e}var Ye;if(Ye=V)t:{var jr,Yt,Tn,vr=C,Vi=j,Io=z,xr=ye,ro=E,To=vr.m,yi=vr.s,Mn=[null],Jn=1,Nr=0,Zn=hj[xr];n:for(;;){if(ro&&Me(To,1)){var Bi=Me(To,3)+2,Aa=Fe(Vi,Bi),Ur=Fe(Io,Bi),Go=Aa*Ur;if(!Xi(Aa,Ur,0,vr,Mn))break n;for(Mn=Mn[0],yi.xc=Bi,jr=0;jr<Go;++jr){var sr=Mn[jr]>>8&65535;Mn[jr]=sr,sr>=Jn&&(Jn=sr+1)}}if(To.h)break n;for(Yt=0;5>Yt;++Yt){var vi=HN[Yt];!Yt&&0<xr&&(vi+=1<<xr),Nr<vi&&(Nr=vi)}var ps=s(Jn*Zn,I),Ao=Jn,gs=s(Ao,ve);if(gs==null)var ms=null;else e(65536>=Ao),ms=gs;var Wo=o(Nr);if(ms==null||Wo==null||ps==null){vr.a=1;break n}var ys=ps;for(jr=Tn=0;jr<Jn;++jr){var hr=ms[jr],vs=hr.G,Sa=hr.H,ed=0,Zc=1,ji=0;for(Yt=0;5>Yt;++Yt){vi=HN[Yt],vs[Yt]=ys,Sa[Yt]=Tn,!Yt&&0<xr&&(vi+=1<<xr);i:{var nv,Wb=vi,rv=vr,Hp=Wo,kj=ys,Mj=Tn,Kb=0,el=rv.m,Oj=Me(el,1);if(i(Hp,0,0,Wb),Oj){var Lj=Me(el,1)+1,Fj=Me(el,1),nR=Me(el,Fj==0?1:8);Hp[nR]=1,Lj==2&&(Hp[nR=Me(el,8)]=1);var iv=1}else{var rR=o(19),iR=Me(el,4)+4;if(19<iR){rv.a=3;var ov=0;break i}for(nv=0;nv<iR;++nv)rR[lj[nv]]=Me(el,3);var Qb=void 0,Gp=void 0,oR=rv,Vj=rR,sv=Wb,sR=Hp,Yb=0,tl=oR.m,aR=8,cR=s(128,I);r:for(;S(cR,0,7,Vj,19);){if(Me(tl,1)){var Bj=2+2*Me(tl,3);if((Qb=2+Me(tl,Bj))>sv)break r}else Qb=sv;for(Gp=0;Gp<sv&&Qb--;){de(tl);var uR=cR[0+(127&X(tl))];ce(tl,tl.u+uR.g);var Ah=uR.value;if(16>Ah)sR[Gp++]=Ah,Ah!=0&&(aR=Ah);else{var jj=Ah==16,lR=Ah-16,Uj=cj[lR],dR=Me(tl,aj[lR])+Uj;if(Gp+dR>sv)break r;for(var qj=jj?aR:0;0<dR--;)sR[Gp++]=qj}}Yb=1;break r}Yb||(oR.a=3),iv=Yb}(iv=iv&&!el.h)&&(Kb=S(kj,Mj,8,Hp,Wb)),iv&&Kb!=0?ov=Kb:(rv.a=3,ov=0)}if(ov==0)break n;if(Zc&&uj[Yt]==1&&(Zc=ys[Tn].g==0),ed+=ys[Tn].g,Tn+=ov,3>=Yt){var Wp,Jb=Wo[0];for(Wp=1;Wp<vi;++Wp)Wo[Wp]>Jb&&(Jb=Wo[Wp]);ji+=Jb}}if(hr.nd=Zc,hr.Qb=0,Zc&&(hr.qb=(vs[3][Sa[3]+0].value<<24|vs[1][Sa[1]+0].value<<16|vs[2][Sa[2]+0].value)>>>0,ed==0&&256>vs[0][Sa[0]+0].value&&(hr.Qb=1,hr.qb+=vs[0][Sa[0]+0].value<<8)),hr.jc=!hr.Qb&&6>ji,hr.jc){var av,Xc=hr;for(av=0;av<Jl;++av){var nl=av,rl=Xc.pd[nl],cv=Xc.G[0][Xc.H[0]+nl];256<=cv.value?(rl.g=cv.g+256,rl.value=cv.value):(rl.g=0,rl.value=0,nl>>=_r(cv,8,rl),nl>>=_r(Xc.G[1][Xc.H[1]+nl],16,rl),nl>>=_r(Xc.G[2][Xc.H[2]+nl],0,rl),_r(Xc.G[3][Xc.H[3]+nl],24,rl))}}}yi.vc=Mn,yi.Wb=Jn,yi.Ya=ms,yi.yc=ps,Ye=1;break t}Ye=0}if(!(V=Ye)){C.a=3;break e}if(0<ye){if(K.ua=1<<ye,!H(K.Wa,ye)){C.a=1,V=0;break e}}else K.ua=0;var Zb=C,hR=j,zj=z,Xb=Zb.s,eE=Xb.xc;if(Zb.c=hR,Zb.i=zj,Xb.md=Fe(hR,eE),Xb.wc=eE==0?-1:(1<<eE)-1,E){C.xb=wj;break e}if((re=o(j*z))==null){C.a=1,V=0;break e}V=(V=hi(C,re,0,j,z,z,null))&&!$.h;break e}return V?(F!=null?F[0]=re:(e(re==null),e(E)),C.$=0,E||Qr(K)):Qr(K),V}function Ms(h,p){var E=h.c*h.i,C=E+p+16*p;return e(h.c<=p),h.V=o(C),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+E+p,1)}function yo(h,p){var E=h.C,C=p-E,F=h.V,V=h.Ba+h.c*E;for(e(p<=h.l.o);0<C;){var j=16<C?16:C,z=h.l.ma,$=h.l.width,K=$*j,re=z.ca,ye=z.tb+$*E,Q=h.Ta,ue=h.Ua;Ji(h,j,F,V),FN(Q,ue,re,ye,K),Ei(z,E,E+j,re,ye,$),C-=j,F+=j*h.c,E+=j}e(E==p),h.C=h.Ma=p}function is(){this.ub=this.yd=this.td=this.Rb=0}function os(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Os(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function vo(){this.Yb=(function(){var h=[];return(function p(E,C,F){for(var V=F[C],j=0;j<V&&(E.push(F.length>C+1?[]:0),!(F.length<C+1));j++)p(E[j],C+1,F)})(h,0,[3,11]),h})()}function ss(){this.jb=o(3),this.Wc=a([4,8],vo),this.Xc=a([4,17],vo)}function Uc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function fi(){this.ld=this.La=this.dd=this.tc=0}function Uo(){this.Na=this.la=0}function _o(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function as(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function tc(){this.uc=this.M=this.Nb=0,this.wa=Array(new fi),this.Y=0,this.ya=Array(new as),this.aa=0,this.l=new Ls}function nc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function rc(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new is,this.Kc=new os,this.ed=new Uc,this.Qa=new Os,this.Ic=this.$c=this.Aa=0,this.D=new tc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,B),this.ia=0,this.pb=s(4,_o),this.Pa=new ss,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new nc),this.Hd=0,this.rb=Array(new Uo),this.sb=0,this.wa=Array(new fi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new as),this.L=this.aa=0,this.gd=a([4,2],fi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function eo(h,p){return 0>h?0:h>p?p:h}function Ls(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function to(){var h=new rc;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,zp||(zp=Fs)),h}function In(h,p,E){return h.a==0&&(h.a=p,h.sc=E,h.cb=0),0}function cs(h,p,E){return 3<=E&&h[p+0]==157&&h[p+1]==1&&h[p+2]==42}function Ai(h,p){if(h==null)return 0;if(h.a=0,h.sc="OK",p==null)return In(h,2,"null VP8Io passed to VP8GetHeaders()");var E=p.data,C=p.w,F=p.ha;if(4>F)return In(h,7,"Truncated header.");var V=E[C+0]|E[C+1]<<8|E[C+2]<<16,j=h.Od;if(j.Rb=!(1&V),j.td=V>>1&7,j.yd=V>>4&1,j.ub=V>>5,3<j.td)return In(h,3,"Incorrect keyframe parameters.");if(!j.yd)return In(h,4,"Frame not displayable.");C+=3,F-=3;var z=h.Kc;if(j.Rb){if(7>F)return In(h,7,"cannot parse picture header");if(!cs(E,C,F))return In(h,3,"Bad code word");z.c=16383&(E[C+4]<<8|E[C+3]),z.Td=E[C+4]>>6,z.i=16383&(E[C+6]<<8|E[C+5]),z.Ud=E[C+6]>>6,C+=7,F-=7,h.za=z.c+15>>4,h.Ub=z.i+15>>4,p.width=z.c,p.height=z.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((V=h.Pa).jb,0,255,V.jb.length),e((V=h.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,i(V.Zb,0,0,V.Zb.length),i(V.Lb,0,0,V.Lb)}if(j.ub>F)return In(h,7,"bad partition length");Ce(V=h.m,E,C,j.ub),C+=j.ub,F-=j.ub,j.Rb&&(z.Ld=Ie(V),z.Kd=Ie(V)),z=h.Qa;var $,K=h.Pa;if(e(V!=null),e(z!=null),z.Cb=Ie(V),z.Cb){if(z.Bb=Ie(V),Ie(V)){for(z.Fb=Ie(V),$=0;4>$;++$)z.Zb[$]=Ie(V)?pe(V,7):0;for($=0;4>$;++$)z.Lb[$]=Ie(V)?pe(V,6):0}if(z.Bb)for($=0;3>$;++$)K.jb[$]=Ie(V)?Te(V,8):255}else z.Bb=0;if(V.Ka)return In(h,3,"cannot parse segment header");if((z=h.ed).zd=Ie(V),z.Tb=Te(V,6),z.wb=Te(V,3),z.Pc=Ie(V),z.Pc&&Ie(V)){for(K=0;4>K;++K)Ie(V)&&(z.vd[K]=pe(V,6));for(K=0;4>K;++K)Ie(V)&&(z.od[K]=pe(V,6))}if(h.L=z.Tb==0?0:z.zd?1:2,V.Ka)return In(h,3,"cannot parse filter header");var re=F;if(F=$=C,C=$+re,z=re,h.Xb=(1<<Te(h.m,2))-1,re<3*(K=h.Xb))E=7;else{for($+=3*K,z-=3*K,re=0;re<K;++re){var ye=E[F+0]|E[F+1]<<8|E[F+2]<<16;ye>z&&(ye=z),Ce(h.Jc[+re],E,$,ye),$+=ye,z-=ye,F+=3}Ce(h.Jc[+K],E,$,z),E=$<C?0:5}if(E!=0)return In(h,E,"cannot parse partitions");for(E=Te($=h.m,7),F=Ie($)?pe($,4):0,C=Ie($)?pe($,4):0,z=Ie($)?pe($,4):0,K=Ie($)?pe($,4):0,$=Ie($)?pe($,4):0,re=h.Qa,ye=0;4>ye;++ye){if(re.Cb){var Q=re.Zb[ye];re.Fb||(Q+=E)}else{if(0<ye){h.pb[ye]=h.pb[0];continue}Q=E}var ue=h.pb[ye];ue.Sc[0]=$b[eo(Q+F,127)],ue.Sc[1]=Hb[eo(Q+0,127)],ue.Eb[0]=2*$b[eo(Q+C,127)],ue.Eb[1]=101581*Hb[eo(Q+z,127)]>>16,8>ue.Eb[1]&&(ue.Eb[1]=8),ue.Qc[0]=$b[eo(Q+K,117)],ue.Qc[1]=Hb[eo(Q+$,127)],ue.lc=Q+$}if(!j.Rb)return In(h,4,"Not a key frame.");for(Ie(V),j=h.Pa,E=0;4>E;++E){for(F=0;8>F;++F)for(C=0;3>C;++C)for(z=0;11>z;++z)K=xe(V,vj[E][F][C][z])?Te(V,8):mj[E][F][C][z],j.Wc[E][F].Yb[C][z]=K;for(F=0;17>F;++F)j.Xc[E][F]=j.Wc[E][_j[F]]}return h.kc=Ie(V),h.kc&&(h.Bd=Te(V,8)),h.cb=1}function Fs(h,p,E,C,F,V,j){var z=p[F].Yb[E];for(E=0;16>F;++F){if(!xe(h,z[E+0]))return F;for(;!xe(h,z[E+1]);)if(z=p[++F].Yb[0],E=0,F==16)return 16;var $=p[F+1].Yb;if(xe(h,z[E+2])){var K=h,re=0;if(xe(K,(Q=z)[(ye=E)+3]))if(xe(K,Q[ye+6])){for(z=0,ye=2*(re=xe(K,Q[ye+8]))+(Q=xe(K,Q[ye+9+re])),re=0,Q=pj[ye];Q[z];++z)re+=re+xe(K,Q[z]);re+=3+(8<<ye)}else xe(K,Q[ye+7])?(re=7+2*xe(K,165),re+=xe(K,145)):re=5+xe(K,159);else re=xe(K,Q[ye+4])?3+xe(K,Q[ye+5]):2;z=$[2]}else re=1,z=$[1];$=j+gj[F],0>(K=h).b&&Ee(K);var ye,Q=K.b,ue=(ye=K.Ca>>1)-(K.I>>Q)>>31;--K.b,K.Ca+=ue,K.Ca|=1,K.I-=(ye+1&ue)<<Q,V[$]=((re^ue)-ue)*C[(0<F)+0]}return 16}function kn(h){var p=h.rb[h.sb-1];p.la=0,p.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function Yr(h,p,E,C,F){F=h[p+E+32*C]+(F>>3),h[p+E+32*C]=-256&F?0>F?0:255:F}function rr(h,p,E,C,F,V){Yr(h,p,0,E,C+F),Yr(h,p,1,E,C+V),Yr(h,p,2,E,C-V),Yr(h,p,3,E,C-F)}function Ar(h){return(20091*h>>16)+h}function no(h,p,E,C){var F,V=0,j=o(16);for(F=0;4>F;++F){var z=h[p+0]+h[p+8],$=h[p+0]-h[p+8],K=(35468*h[p+4]>>16)-Ar(h[p+12]),re=Ar(h[p+4])+(35468*h[p+12]>>16);j[V+0]=z+re,j[V+1]=$+K,j[V+2]=$-K,j[V+3]=z-re,V+=4,p++}for(F=V=0;4>F;++F)z=(h=j[V+0]+4)+j[V+8],$=h-j[V+8],K=(35468*j[V+4]>>16)-Ar(j[V+12]),Yr(E,C,0,0,z+(re=Ar(j[V+4])+(35468*j[V+12]>>16))),Yr(E,C,1,0,$+K),Yr(E,C,2,0,$-K),Yr(E,C,3,0,z-re),V++,C+=32}function _a(h,p,E,C){var F=h[p+0]+4,V=35468*h[p+4]>>16,j=Ar(h[p+4]),z=35468*h[p+1]>>16;rr(E,C,0,F+j,h=Ar(h[p+1]),z),rr(E,C,1,F+V,h,z),rr(E,C,2,F-V,h,z),rr(E,C,3,F-j,h,z)}function ic(h,p,E,C,F){no(h,p,E,C),F&&no(h,p+16,E,C+4)}function wo(h,p,E,C){Xl(h,p+0,E,C,1),Xl(h,p+32,E,C+128,1)}function Fn(h,p,E,C){var F;for(h=h[p+0]+4,F=0;4>F;++F)for(p=0;4>p;++p)Yr(E,C,p,F,h)}function wa(h,p,E,C){h[p+0]&&Gn(h,p+0,E,C),h[p+16]&&Gn(h,p+16,E,C+4),h[p+32]&&Gn(h,p+32,E,C+128),h[p+48]&&Gn(h,p+48,E,C+128+4)}function Si(h,p,E,C){var F,V=o(16);for(F=0;4>F;++F){var j=h[p+0+F]+h[p+12+F],z=h[p+4+F]+h[p+8+F],$=h[p+4+F]-h[p+8+F],K=h[p+0+F]-h[p+12+F];V[0+F]=j+z,V[8+F]=j-z,V[4+F]=K+$,V[12+F]=K-$}for(F=0;4>F;++F)j=(h=V[0+4*F]+3)+V[3+4*F],z=V[1+4*F]+V[2+4*F],$=V[1+4*F]-V[2+4*F],K=h-V[3+4*F],E[C+0]=j+z>>3,E[C+16]=K+$>>3,E[C+32]=j-z>>3,E[C+48]=K-$>>3,C+=64}function Lr(h,p,E){var C,F=p-32,V=fs,j=255-h[F-1];for(C=0;C<E;++C){var z,$=V,K=j+h[p-1];for(z=0;z<E;++z)h[p+z]=$[K+h[F+z]];p+=32}}function Uu(h,p){Lr(h,p,4)}function qc(h,p){Lr(h,p,8)}function qu(h,p){Lr(h,p,16)}function oc(h,p){var E;for(E=0;16>E;++E)r(h,p+32*E,h,p-32,16)}function zc(h,p){var E;for(E=16;0<E;--E)i(h,p,h[p-1],16),p+=32}function Jr(h,p,E){var C;for(C=0;16>C;++C)i(p,E+32*C,h,16)}function ba(h,p){var E,C=16;for(E=0;16>E;++E)C+=h[p-1+32*E]+h[p+E-32];Jr(C>>5,h,p)}function Ci(h,p){var E,C=8;for(E=0;16>E;++E)C+=h[p-1+32*E];Jr(C>>4,h,p)}function sc(h,p){var E,C=8;for(E=0;16>E;++E)C+=h[p+E-32];Jr(C>>4,h,p)}function bo(h,p){Jr(128,h,p)}function Pt(h,p,E){return h+2*p+E+2>>2}function Eo(h,p){var E,C=p-32;for(C=new Uint8Array([Pt(h[C-1],h[C+0],h[C+1]),Pt(h[C+0],h[C+1],h[C+2]),Pt(h[C+1],h[C+2],h[C+3]),Pt(h[C+2],h[C+3],h[C+4])]),E=0;4>E;++E)r(h,p+32*E,C,0,C.length)}function ac(h,p){var E=h[p-1],C=h[p-1+32],F=h[p-1+64],V=h[p-1+96];Be(h,p+0,16843009*Pt(h[p-1-32],E,C)),Be(h,p+32,16843009*Pt(E,C,F)),Be(h,p+64,16843009*Pt(C,F,V)),Be(h,p+96,16843009*Pt(F,V,V))}function zu(h,p){var E,C=4;for(E=0;4>E;++E)C+=h[p+E-32]+h[p-1+32*E];for(C>>=3,E=0;4>E;++E)i(h,p+32*E,C,4)}function Li(h,p){var E=h[p-1+0],C=h[p-1+32],F=h[p-1+64],V=h[p-1-32],j=h[p+0-32],z=h[p+1-32],$=h[p+2-32],K=h[p+3-32];h[p+0+96]=Pt(C,F,h[p-1+96]),h[p+1+96]=h[p+0+64]=Pt(E,C,F),h[p+2+96]=h[p+1+64]=h[p+0+32]=Pt(V,E,C),h[p+3+96]=h[p+2+64]=h[p+1+32]=h[p+0+0]=Pt(j,V,E),h[p+3+64]=h[p+2+32]=h[p+1+0]=Pt(z,j,V),h[p+3+32]=h[p+2+0]=Pt($,z,j),h[p+3+0]=Pt(K,$,z)}function wr(h,p){var E=h[p+1-32],C=h[p+2-32],F=h[p+3-32],V=h[p+4-32],j=h[p+5-32],z=h[p+6-32],$=h[p+7-32];h[p+0+0]=Pt(h[p+0-32],E,C),h[p+1+0]=h[p+0+32]=Pt(E,C,F),h[p+2+0]=h[p+1+32]=h[p+0+64]=Pt(C,F,V),h[p+3+0]=h[p+2+32]=h[p+1+64]=h[p+0+96]=Pt(F,V,j),h[p+3+32]=h[p+2+64]=h[p+1+96]=Pt(V,j,z),h[p+3+64]=h[p+2+96]=Pt(j,z,$),h[p+3+96]=Pt(z,$,$)}function $u(h,p){var E=h[p-1+0],C=h[p-1+32],F=h[p-1+64],V=h[p-1-32],j=h[p+0-32],z=h[p+1-32],$=h[p+2-32],K=h[p+3-32];h[p+0+0]=h[p+1+64]=V+j+1>>1,h[p+1+0]=h[p+2+64]=j+z+1>>1,h[p+2+0]=h[p+3+64]=z+$+1>>1,h[p+3+0]=$+K+1>>1,h[p+0+96]=Pt(F,C,E),h[p+0+64]=Pt(C,E,V),h[p+0+32]=h[p+1+96]=Pt(E,V,j),h[p+1+32]=h[p+2+96]=Pt(V,j,z),h[p+2+32]=h[p+3+96]=Pt(j,z,$),h[p+3+32]=Pt(z,$,K)}function $c(h,p){var E=h[p+0-32],C=h[p+1-32],F=h[p+2-32],V=h[p+3-32],j=h[p+4-32],z=h[p+5-32],$=h[p+6-32],K=h[p+7-32];h[p+0+0]=E+C+1>>1,h[p+1+0]=h[p+0+64]=C+F+1>>1,h[p+2+0]=h[p+1+64]=F+V+1>>1,h[p+3+0]=h[p+2+64]=V+j+1>>1,h[p+0+32]=Pt(E,C,F),h[p+1+32]=h[p+0+96]=Pt(C,F,V),h[p+2+32]=h[p+1+96]=Pt(F,V,j),h[p+3+32]=h[p+2+96]=Pt(V,j,z),h[p+3+64]=Pt(j,z,$),h[p+3+96]=Pt(z,$,K)}function wn(h,p){var E=h[p-1+0],C=h[p-1+32],F=h[p-1+64],V=h[p-1+96];h[p+0+0]=E+C+1>>1,h[p+2+0]=h[p+0+32]=C+F+1>>1,h[p+2+32]=h[p+0+64]=F+V+1>>1,h[p+1+0]=Pt(E,C,F),h[p+3+0]=h[p+1+32]=Pt(C,F,V),h[p+3+32]=h[p+1+64]=Pt(F,V,V),h[p+3+64]=h[p+2+64]=h[p+0+96]=h[p+1+96]=h[p+2+96]=h[p+3+96]=V}function Vs(h,p){var E=h[p-1+0],C=h[p-1+32],F=h[p-1+64],V=h[p-1+96],j=h[p-1-32],z=h[p+0-32],$=h[p+1-32],K=h[p+2-32];h[p+0+0]=h[p+2+32]=E+j+1>>1,h[p+0+32]=h[p+2+64]=C+E+1>>1,h[p+0+64]=h[p+2+96]=F+C+1>>1,h[p+0+96]=V+F+1>>1,h[p+3+0]=Pt(z,$,K),h[p+2+0]=Pt(j,z,$),h[p+1+0]=h[p+3+32]=Pt(E,j,z),h[p+1+32]=h[p+3+64]=Pt(C,E,j),h[p+1+64]=h[p+3+96]=Pt(F,C,E),h[p+1+96]=Pt(V,F,C)}function Bs(h,p){var E;for(E=0;8>E;++E)r(h,p+32*E,h,p-32,8)}function js(h,p){var E;for(E=0;8>E;++E)i(h,p,h[p-1],8),p+=32}function Di(h,p,E){var C;for(C=0;8>C;++C)i(p,E+32*C,h,8)}function Hc(h,p){var E,C=8;for(E=0;8>E;++E)C+=h[p+E-32]+h[p-1+32*E];Di(C>>4,h,p)}function qo(h,p){var E,C=4;for(E=0;8>E;++E)C+=h[p+E-32];Di(C>>3,h,p)}function hn(h,p){var E,C=4;for(E=0;8>E;++E)C+=h[p-1+32*E];Di(C>>3,h,p)}function Gc(h,p){Di(128,h,p)}function us(h,p,E){var C=h[p-E],F=h[p+0],V=3*(F-C)+Bb[1020+h[p-2*E]-h[p+E]],j=Wy[112+(V+4>>3)];h[p-E]=fs[255+C+Wy[112+(V+3>>3)]],h[p+0]=fs[255+F-j]}function zo(h,p,E,C){var F=h[p+0],V=h[p+E];return Hs[255+h[p-2*E]-h[p-E]]>C||Hs[255+V-F]>C}function Us(h,p,E,C){return 4*Hs[255+h[p-E]-h[p+0]]+Hs[255+h[p-2*E]-h[p+E]]<=C}function qs(h,p,E,C,F){var V=h[p-3*E],j=h[p-2*E],z=h[p-E],$=h[p+0],K=h[p+E],re=h[p+2*E],ye=h[p+3*E];return 4*Hs[255+z-$]+Hs[255+j-K]>C?0:Hs[255+h[p-4*E]-V]<=F&&Hs[255+V-j]<=F&&Hs[255+j-z]<=F&&Hs[255+ye-re]<=F&&Hs[255+re-K]<=F&&Hs[255+K-$]<=F}function Fi(h,p,E,C){var F=2*C+1;for(C=0;16>C;++C)Us(h,p+C,E,F)&&us(h,p+C,E)}function Ea(h,p,E,C){var F=2*C+1;for(C=0;16>C;++C)Us(h,p+C*E,1,F)&&us(h,p+C*E,1)}function pi(h,p,E,C){var F;for(F=3;0<F;--F)Fi(h,p+=4*E,E,C)}function Wc(h,p,E,C){var F;for(F=3;0<F;--F)Ea(h,p+=4,E,C)}function $o(h,p,E,C,F,V,j,z){for(V=2*V+1;0<F--;){if(qs(h,p,E,V,j))if(zo(h,p,E,z))us(h,p,E);else{var $=h,K=p,re=E,ye=$[K-2*re],Q=$[K-re],ue=$[K+0],he=$[K+re],De=$[K+2*re],ge=27*(Pe=Bb[1020+3*(ue-Q)+Bb[1020+ye-he]])+63>>7,Ne=18*Pe+63>>7,Pe=9*Pe+63>>7;$[K-3*re]=fs[255+$[K-3*re]+Pe],$[K-2*re]=fs[255+ye+Ne],$[K-re]=fs[255+Q+ge],$[K+0]=fs[255+ue-ge],$[K+re]=fs[255+he-Ne],$[K+2*re]=fs[255+De-Pe]}p+=C}}function Fr(h,p,E,C,F,V,j,z){for(V=2*V+1;0<F--;){if(qs(h,p,E,V,j))if(zo(h,p,E,z))us(h,p,E);else{var $=h,K=p,re=E,ye=$[K-re],Q=$[K+0],ue=$[K+re],he=Wy[112+(4+(De=3*(Q-ye))>>3)],De=Wy[112+(De+3>>3)],ge=he+1>>1;$[K-2*re]=fs[255+$[K-2*re]+ge],$[K-re]=fs[255+ye+De],$[K+0]=fs[255+Q-he],$[K+re]=fs[255+ue-ge]}p+=C}}function cc(h,p,E,C,F,V){$o(h,p,E,1,16,C,F,V)}function Ho(h,p,E,C,F,V){$o(h,p,1,E,16,C,F,V)}function ls(h,p,E,C,F,V){var j;for(j=3;0<j;--j)Fr(h,p+=4*E,E,1,16,C,F,V)}function v(h,p,E,C,F,V){var j;for(j=3;0<j;--j)Fr(h,p+=4,1,E,16,C,F,V)}function O(h,p,E,C,F,V,j,z){$o(h,p,F,1,8,V,j,z),$o(E,C,F,1,8,V,j,z)}function G(h,p,E,C,F,V,j,z){$o(h,p,1,F,8,V,j,z),$o(E,C,1,F,8,V,j,z)}function te(h,p,E,C,F,V,j,z){Fr(h,p+4*F,F,1,8,V,j,z),Fr(E,C+4*F,F,1,8,V,j,z)}function le(h,p,E,C,F,V,j,z){Fr(h,p+4,1,F,8,V,j,z),Fr(E,C+4,1,F,8,V,j,z)}function Se(){this.ba=new qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function et(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function it(){this.ua=0,this.Wa=new jt,this.vb=new jt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ve,this.yc=new I}function xt(){this.xb=this.a=0,this.l=new Ls,this.ca=new qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new it,this.ab=0,this.gc=s(4,et),this.Oc=0}function Nt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ls,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function kt(h,p,E,C,F,V,j){for(h=h==null?0:h[p+0],p=0;p<j;++p)F[V+p]=h+E[C+p]&255,h=F[V+p]}function Yn(h,p,E,C,F,V,j){var z;if(h==null)kt(null,null,E,C,F,V,j);else for(z=0;z<j;++z)F[V+z]=h[p+z]+E[C+z]&255}function jn(h,p,E,C,F,V,j){if(h==null)kt(null,null,E,C,F,V,j);else{var z,$=h[p+0],K=$,re=$;for(z=0;z<j;++z)K=re+($=h[p+z])-K,re=E[C+z]+(-256&K?0>K?0:255:K)&255,K=$,F[V+z]=re}}function pn(h,p,E,C){var F=p.width,V=p.o;if(e(h!=null&&p!=null),0>E||0>=C||E+C>V)return null;if(!h.Cc){if(h.ga==null){var j;if(h.ga=new Nt,(j=h.ga==null)||(j=p.width*p.o,e(h.Gb.length==0),h.Gb=o(j),h.Uc=0,h.Gb==null?j=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,j=1),j=!j),!j){j=h.ga;var z=h.Fa,$=h.P,K=h.qc,re=h.mb,ye=h.nb,Q=$+1,ue=K-1,he=j.l;if(e(z!=null&&re!=null&&p!=null),Xu[0]=null,Xu[1]=kt,Xu[2]=Yn,Xu[3]=jn,j.ca=re,j.tb=ye,j.c=p.width,j.i=p.height,e(0<j.c&&0<j.i),1>=K)p=0;else if(j.$a=3&z[$+0],j.Z=z[$+0]>>2&3,j.Lc=z[$+0]>>4&3,$=z[$+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||$)p=0;else if(he.put=lt,he.ac=mo,he.bc=jo,he.ma=j,he.width=p.width,he.height=p.height,he.Da=p.Da,he.v=p.v,he.va=p.va,he.j=p.j,he.o=p.o,j.$a)e:{e(j.$a==1),p=Ti();t:for(;;){if(p==null){p=0;break e}if(e(j!=null),j.mc=p,p.c=j.c,p.i=j.i,p.l=j.l,p.l.ma=j,p.l.width=j.c,p.l.height=j.i,p.a=0,Ae(p.m,z,Q,ue),!Xi(j.c,j.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&Zi(p.s)?(j.ic=1,z=p.c*p.i,p.Ta=null,p.Ua=0,p.V=o(z),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(j.ic=0,p=Ms(p,j.c)),!p))break t;p=1;break e}j.mc=null,p=0}else p=ue>=j.c*j.i;j=!p}if(j)return null;h.ga.Lc!=1?h.Ga=0:C=V-E}e(h.ga!=null),e(E+C<=V);e:{if(p=(z=h.ga).c,V=z.l.o,z.$a==0){if(Q=h.rc,ue=h.Vc,he=h.Fa,$=h.P+1+E*p,K=h.mb,re=h.nb+E*p,e($<=h.P+h.qc),z.Z!=0)for(e(Xu[z.Z]!=null),j=0;j<C;++j)Xu[z.Z](Q,ue,he,$,K,re,p),Q=K,ue=re,re+=p,$+=p;else for(j=0;j<C;++j)r(K,re,he,$,p),Q=K,ue=re,re+=p,$+=p;h.rc=Q,h.Vc=ue}else{if(e(z.mc!=null),p=E+C,e((j=z.mc)!=null),e(p<=j.i),j.C>=p)p=1;else if(z.ic||oe(),z.ic){z=j.V,Q=j.Ba,ue=j.c;var De=j.i,ge=(he=1,$=j.$/ue,K=j.$%ue,re=j.m,ye=j.s,j.$),Ne=ue*De,Pe=ue*p,ze=ye.wc,Ve=ge<Pe?yr(ye,K,$):null;e(ge<=Ne),e(p<=De),e(Zi(ye));t:for(;;){for(;!re.h&&ge<Pe;){if(K&ze||(Ve=yr(ye,K,$)),e(Ve!=null),de(re),256>(De=Bn(Ve.G[0],Ve.H[0],re)))z[Q+ge]=De,++ge,++K>=ue&&(K=0,++$<=p&&!($%16)&&Ii(j,$));else{if(!(280>De)){he=0;break t}De=Kr(De-256,re);var wt,ot=Bn(Ve.G[4],Ve.H[4],re);if(de(re),!(ge>=(ot=Or(ue,ot=Kr(ot,re)))&&Ne-ge>=De)){he=0;break t}for(wt=0;wt<De;++wt)z[Q+ge+wt]=z[Q+ge+wt-ot];for(ge+=De,K+=De;K>=ue;)K-=ue,++$<=p&&!($%16)&&Ii(j,$);ge<Pe&&K&ze&&(Ve=yr(ye,K,$))}e(re.h==ne(re))}Ii(j,$>p?p:$);break t}!he||re.h&&ge<Ne?(he=0,j.a=re.h?5:3):j.$=ge,p=he}else p=hi(j,j.V,j.Ba,j.c,j.i,p,yo);if(!p){C=0;break e}}E+C>=V&&(h.Cc=1),C=1}if(!C)return null;if(h.Cc&&((C=h.ga)!=null&&(C.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+E*F}function f(h,p,E,C,F,V){for(;0<F--;){var j,z=h,$=p+(E?1:0),K=h,re=p+(E?0:3);for(j=0;j<C;++j){var ye=K[re+4*j];ye!=255&&(ye*=32897,z[$+4*j+0]=z[$+4*j+0]*ye>>23,z[$+4*j+1]=z[$+4*j+1]*ye>>23,z[$+4*j+2]=z[$+4*j+2]*ye>>23)}p+=V}}function A(h,p,E,C,F){for(;0<C--;){var V;for(V=0;V<E;++V){var j=h[p+2*V+0],z=15&(K=h[p+2*V+1]),$=4369*z,K=(240&K|K>>4)*$>>16;h[p+2*V+0]=(240&j|j>>4)*$>>16&240|(15&j|j<<4)*$>>16>>4&15,h[p+2*V+1]=240&K|z}p+=F}}function N(h,p,E,C,F,V,j,z){var $,K,re=255;for(K=0;K<F;++K){for($=0;$<C;++$){var ye=h[p+$];V[j+4*$]=ye,re&=ye}p+=E,j+=z}return re!=255}function q(h,p,E,C,F){var V;for(V=0;V<F;++V)E[C+V]=h[p+V]>>8}function oe(){qp=f,ON=A,LN=N,FN=q}function me(h,p,E){w[h]=function(C,F,V,j,z,$,K,re,ye,Q,ue,he,De,ge,Ne,Pe,ze){var Ve,wt=ze-1>>1,ot=z[$+0]|K[re+0]<<16,tn=ye[Q+0]|ue[he+0]<<16;e(C!=null);var ft=3*ot+tn+131074>>2;for(p(C[F+0],255&ft,ft>>16,De,ge),V!=null&&(ft=3*tn+ot+131074>>2,p(V[j+0],255&ft,ft>>16,Ne,Pe)),Ve=1;Ve<=wt;++Ve){var bn=z[$+Ve]|K[re+Ve]<<16,mi=ye[Q+Ve]|ue[he+Ve]<<16,nn=ot+bn+tn+mi+524296,pt=nn+2*(bn+tn)>>3;ft=pt+ot>>1,ot=(nn=nn+2*(ot+mi)>>3)+bn>>1,p(C[F+2*Ve-1],255&ft,ft>>16,De,ge+(2*Ve-1)*E),p(C[F+2*Ve-0],255&ot,ot>>16,De,ge+(2*Ve-0)*E),V!=null&&(ft=nn+tn>>1,ot=pt+mi>>1,p(V[j+2*Ve-1],255&ft,ft>>16,Ne,Pe+(2*Ve-1)*E),p(V[j+2*Ve+0],255&ot,ot>>16,Ne,Pe+(2*Ve+0)*E)),ot=bn,tn=mi}1&ze||(ft=3*ot+tn+131074>>2,p(C[F+ze-1],255&ft,ft>>16,De,ge+(ze-1)*E),V!=null&&(ft=3*tn+ot+131074>>2,p(V[j+ze-1],255&ft,ft>>16,Ne,Pe+(ze-1)*E)))}}function He(){Gs[Ky]=bj,Gs[Qy]=KN,Gs[zN]=Ej,Gs[Yy]=QN,Gs[Jy]=YN,Gs[jb]=JN,Gs[$N]=Ij,Gs[Ub]=KN,Gs[qb]=QN,Gs[Zy]=YN,Gs[zb]=JN}function At(h){return h&~Tj?0>h?0:255:h>>ZN}function d(h,p){return At((19077*h>>8)+(26149*p>>8)-14234)}function b(h,p,E){return At((19077*h>>8)-(6419*p>>8)-(13320*E>>8)+8708)}function x(h,p){return At((19077*h>>8)+(33050*p>>8)-17685)}function U(h,p,E,C,F){C[F+0]=d(h,E),C[F+1]=b(h,p,E),C[F+2]=x(h,p)}function ie(h,p,E,C,F){C[F+0]=x(h,p),C[F+1]=b(h,p,E),C[F+2]=d(h,E)}function _e(h,p,E,C,F){var V=b(h,p,E);p=V<<3&224|x(h,p)>>3,C[F+0]=248&d(h,E)|V>>5,C[F+1]=p}function qe(h,p,E,C,F){var V=240&x(h,p)|15;C[F+0]=240&d(h,E)|b(h,p,E)>>4,C[F+1]=V}function un(h,p,E,C,F){C[F+0]=255,U(h,p,E,C,F+1)}function ir(h,p,E,C,F){ie(h,p,E,C,F),C[F+3]=255}function Vt(h,p,E,C,F){U(h,p,E,C,F),C[F+3]=255}function dr(h,p,E){w[h]=function(C,F,V,j,z,$,K,re,ye){for(var Q=re+(-2&ye)*E;re!=Q;)p(C[F+0],V[j+0],z[$+0],K,re),p(C[F+1],V[j+0],z[$+0],K,re+E),F+=2,++j,++$,re+=2*E;1&ye&&p(C[F+0],V[j+0],z[$+0],K,re)}}function Sr(h,p,E){return E==0?h==0?p==0?6:5:p==0?4:0:E}function Ia(h,p,E,C,F){switch(h>>>30){case 3:Xl(p,E,C,F,0);break;case 2:$s(p,E,C,F);break;case 1:Gn(p,E,C,F)}}function br(h,p){var E,C,F=p.M,V=p.Nb,j=h.oc,z=h.pc+40,$=h.oc,K=h.pc+584,re=h.oc,ye=h.pc+600;for(E=0;16>E;++E)j[z+32*E-1]=129;for(E=0;8>E;++E)$[K+32*E-1]=129,re[ye+32*E-1]=129;for(0<F?j[z-1-32]=$[K-1-32]=re[ye-1-32]=129:(i(j,z-32-1,127,21),i($,K-32-1,127,9),i(re,ye-32-1,127,9)),C=0;C<h.za;++C){var Q=p.ya[p.aa+C];if(0<C){for(E=-1;16>E;++E)r(j,z+32*E-4,j,z+32*E+12,4);for(E=-1;8>E;++E)r($,K+32*E-4,$,K+32*E+4,4),r(re,ye+32*E-4,re,ye+32*E+4,4)}var ue=h.Gd,he=h.Hd+C,De=Q.ad,ge=Q.Hc;if(0<F&&(r(j,z-32,ue[he].y,0,16),r($,K-32,ue[he].f,0,8),r(re,ye-32,ue[he].ea,0,8)),Q.Za){var Ne=j,Pe=z-32+16;for(0<F&&(C>=h.za-1?i(Ne,Pe,ue[he].y[15],4):r(Ne,Pe,ue[he+1].y,0,4)),E=0;4>E;E++)Ne[Pe+128+E]=Ne[Pe+256+E]=Ne[Pe+384+E]=Ne[Pe+0+E];for(E=0;16>E;++E,ge<<=2)Ne=j,Pe=z+eR[E],Ta[Q.Ob[E]](Ne,Pe),Ia(ge,De,16*+E,Ne,Pe)}else if(Ne=Sr(C,F,Q.Ob[0]),Zu[Ne](j,z),ge!=0)for(E=0;16>E;++E,ge<<=2)Ia(ge,De,16*+E,j,z+eR[E]);for(E=Q.Gc,Ne=Sr(C,F,Q.Dd),Jc[Ne]($,K),Jc[Ne](re,ye),ge=De,Ne=$,Pe=K,255&(Q=0|E)&&(170&Q?dc(ge,256,Ne,Pe):or(ge,256,Ne,Pe)),Q=re,ge=ye,255&(E>>=8)&&(170&E?dc(De,320,Q,ge):or(De,320,Q,ge)),F<h.Ub-1&&(r(ue[he].y,0,j,z+480,16),r(ue[he].f,0,$,K+224,8),r(ue[he].ea,0,re,ye+224,8)),E=8*V*h.B,ue=h.sa,he=h.ta+16*C+16*V*h.R,De=h.qa,Q=h.ra+8*C+E,ge=h.Ha,Ne=h.Ia+8*C+E,E=0;16>E;++E)r(ue,he+E*h.R,j,z+32*E,16);for(E=0;8>E;++E)r(De,Q+E*h.B,$,K+32*E,8),r(ge,Ne+E*h.B,re,ye+32*E,8)}}function zs(h,p,E,C,F,V,j,z,$){var K=[0],re=[0],ye=0,Q=$!=null?$.kd:0,ue=$??new ke;if(h==null||12>E)return 7;ue.data=h,ue.w=p,ue.ha=E,p=[p],E=[E],ue.gb=[ue.gb];e:{var he=p,De=E,ge=ue.gb;if(e(h!=null),e(De!=null),e(ge!=null),ge[0]=0,12<=De[0]&&!n(h,he[0],"RIFF")){if(n(h,he[0]+8,"WEBP")){ge=3;break e}var Ne=ct(h,he[0]+4);if(12>Ne||4294967286<Ne){ge=3;break e}if(Q&&Ne>De[0]-8){ge=7;break e}ge[0]=Ne,he[0]+=12,De[0]-=12}ge=0}if(ge!=0)return ge;for(Ne=0<ue.gb[0],E=E[0];;){e:{var Pe=h;De=p,ge=E;var ze=K,Ve=re,wt=he=[0];if((ft=ye=[ye])[0]=0,8>ge[0])ge=7;else{if(!n(Pe,De[0],"VP8X")){if(ct(Pe,De[0]+4)!=10){ge=3;break e}if(18>ge[0]){ge=7;break e}var ot=ct(Pe,De[0]+8),tn=1+Ke(Pe,De[0]+12);if(2147483648<=tn*(Pe=1+Ke(Pe,De[0]+15))){ge=3;break e}wt!=null&&(wt[0]=ot),ze!=null&&(ze[0]=tn),Ve!=null&&(Ve[0]=Pe),De[0]+=18,ge[0]-=18,ft[0]=1}ge=0}}if(ye=ye[0],he=he[0],ge!=0)return ge;if(De=!!(2&he),!Ne&&ye)return 3;if(V!=null&&(V[0]=!!(16&he)),j!=null&&(j[0]=De),z!=null&&(z[0]=0),j=K[0],he=re[0],ye&&De&&$==null){ge=0;break}if(4>E){ge=7;break}if(Ne&&ye||!Ne&&!ye&&!n(h,p[0],"ALPH")){E=[E],ue.na=[ue.na],ue.P=[ue.P],ue.Sa=[ue.Sa];e:{ot=h,ge=p,Ne=E;var ft=ue.gb;ze=ue.na,Ve=ue.P,wt=ue.Sa,tn=22,e(ot!=null),e(Ne!=null),Pe=ge[0];var bn=Ne[0];for(e(ze!=null),e(wt!=null),ze[0]=null,Ve[0]=null,wt[0]=0;;){if(ge[0]=Pe,Ne[0]=bn,8>bn){ge=7;break e}var mi=ct(ot,Pe+4);if(4294967286<mi){ge=3;break e}var nn=8+mi+1&-2;if(tn+=nn,0<ft&&tn>ft){ge=3;break e}if(!n(ot,Pe,"VP8 ")||!n(ot,Pe,"VP8L")){ge=0;break e}if(bn[0]<nn){ge=7;break e}n(ot,Pe,"ALPH")||(ze[0]=ot,Ve[0]=Pe+8,wt[0]=mi),Pe+=nn,bn-=nn}}if(E=E[0],ue.na=ue.na[0],ue.P=ue.P[0],ue.Sa=ue.Sa[0],ge!=0)break}E=[E],ue.Ja=[ue.Ja],ue.xa=[ue.xa];e:if(ft=h,ge=p,Ne=E,ze=ue.gb[0],Ve=ue.Ja,wt=ue.xa,ot=ge[0],Pe=!n(ft,ot,"VP8 "),tn=!n(ft,ot,"VP8L"),e(ft!=null),e(Ne!=null),e(Ve!=null),e(wt!=null),8>Ne[0])ge=7;else{if(Pe||tn){if(ft=ct(ft,ot+4),12<=ze&&ft>ze-12){ge=3;break e}if(Q&&ft>Ne[0]-8){ge=7;break e}Ve[0]=ft,ge[0]+=8,Ne[0]-=8,wt[0]=tn}else wt[0]=5<=Ne[0]&&ft[ot+0]==47&&!(ft[ot+4]>>5),Ve[0]=Ne[0];ge=0}if(E=E[0],ue.Ja=ue.Ja[0],ue.xa=ue.xa[0],p=p[0],ge!=0)break;if(4294967286<ue.Ja)return 3;if(z==null||De||(z[0]=ue.xa?2:1),j=[j],he=[he],ue.xa){if(5>E){ge=7;break}z=j,Q=he,De=V,h==null||5>E?h=0:5<=E&&h[p+0]==47&&!(h[p+4]>>5)?(Ne=[0],ft=[0],ze=[0],Ae(Ve=new W,h,p,E),nr(Ve,Ne,ft,ze)?(z!=null&&(z[0]=Ne[0]),Q!=null&&(Q[0]=ft[0]),De!=null&&(De[0]=ze[0]),h=1):h=0):h=0}else{if(10>E){ge=7;break}z=he,h==null||10>E||!cs(h,p+3,E-3)?h=0:(Q=h[p+0]|h[p+1]<<8|h[p+2]<<16,De=16383&(h[p+7]<<8|h[p+6]),h=16383&(h[p+9]<<8|h[p+8]),1&Q||3<(Q>>1&7)||!(Q>>4&1)||Q>>5>=ue.Ja||!De||!h?h=0:(j&&(j[0]=De),z&&(z[0]=h),h=1))}if(!h||(j=j[0],he=he[0],ye&&(K[0]!=j||re[0]!=he)))return 3;$!=null&&($[0]=ue,$.offset=p-$.w,e(4294967286>p-$.w),e($.offset==$.ha-E));break}return ge==0||ge==7&&ye&&$==null?(V!=null&&(V[0]|=ue.na!=null&&0<ue.na.length),C!=null&&(C[0]=j),F!=null&&(F[0]=he),0):ge}function Kc(h,p,E){var C=p.width,F=p.height,V=0,j=0,z=C,$=F;if(p.Da=h!=null&&0<h.Da,p.Da&&(z=h.cd,$=h.bd,V=h.v,j=h.j,11>E||(V&=-2,j&=-2),0>V||0>j||0>=z||0>=$||V+z>C||j+$>F))return 0;if(p.v=V,p.j=j,p.va=V+z,p.o=j+$,p.U=z,p.T=$,p.da=h!=null&&0<h.da,p.da){if(!bt(z,$,E=[h.ib],V=[h.hb]))return 0;p.ib=E[0],p.hb=V[0]}return p.ob=h!=null&&h.ob,p.Kb=h==null||!h.Sd,p.da&&(p.ob=p.ib<3*C/4&&p.hb<3*F/4,p.Kb=0),1}function Op(h){if(h==null)return 2;if(11>h.S){var p=h.f.RGBA;p.fb+=(h.height-1)*p.A,p.A=-p.A}else p=h.f.kb,h=h.height,p.O+=(h-1)*p.fa,p.fa=-p.fa,p.N+=(h-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(h-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(h-1)*p.lb,p.lb=-p.lb);return 0}function Hu(h,p,E,C){if(C==null||0>=h||0>=p)return 2;if(E!=null){if(E.Da){var F=E.cd,V=E.bd,j=-2&E.v,z=-2&E.j;if(0>j||0>z||0>=F||0>=V||j+F>h||z+V>p)return 2;h=F,p=V}if(E.da){if(!bt(h,p,F=[E.ib],V=[E.hb]))return 2;h=F[0],p=V[0]}}C.width=h,C.height=p;e:{var $=C.width,K=C.height;if(h=C.S,0>=$||0>=K||!(h>=Ky&&13>h))h=2;else{if(0>=C.Rd&&C.sd==null){j=V=F=p=0;var re=(z=$*tR[h])*K;if(11>h||(V=(K+1)/2*(p=($+1)/2),h==12&&(j=(F=$)*K)),(K=o(re+2*V+j))==null){h=1;break e}C.sd=K,11>h?(($=C.f.RGBA).eb=K,$.fb=0,$.A=z,$.size=re):(($=C.f.kb).y=K,$.O=0,$.fa=z,$.Fd=re,$.f=K,$.N=0+re,$.Ab=p,$.Cd=V,$.ea=K,$.W=0+re+V,$.Db=p,$.Ed=V,h==12&&($.F=K,$.J=0+re+2*V),$.Tc=j,$.lb=F)}if(p=1,F=C.S,V=C.width,j=C.height,F>=Ky&&13>F)if(11>F)h=C.f.RGBA,p&=(z=Math.abs(h.A))*(j-1)+V<=h.size,p&=z>=V*tR[F],p&=h.eb!=null;else{h=C.f.kb,z=(V+1)/2,re=(j+1)/2,$=Math.abs(h.fa),K=Math.abs(h.Ab);var ye=Math.abs(h.Db),Q=Math.abs(h.lb),ue=Q*(j-1)+V;p&=$*(j-1)+V<=h.Fd,p&=K*(re-1)+z<=h.Cd,p=(p&=ye*(re-1)+z<=h.Ed)&$>=V&K>=z&ye>=z,p&=h.y!=null,p&=h.f!=null,p&=h.ea!=null,F==12&&(p&=Q>=V,p&=ue<=h.Tc,p&=h.F!=null)}else p=0;h=p?0:2}}return h!=0||E!=null&&E.fd&&(h=Op(C)),h}var Jl=64,ds=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hs=24,Gu=32,Qc=8,Wu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ge("Predictor0","PredictorAdd0"),w.Predictor0=function(){return 4278190080},w.Predictor1=function(h){return h},w.Predictor2=function(h,p,E){return p[E+0]},w.Predictor3=function(h,p,E){return p[E+1]},w.Predictor4=function(h,p,E){return p[E-1]},w.Predictor5=function(h,p,E){return vt(vt(h,p[E+1]),p[E+0])},w.Predictor6=function(h,p,E){return vt(h,p[E-1])},w.Predictor7=function(h,p,E){return vt(h,p[E+0])},w.Predictor8=function(h,p,E){return vt(p[E-1],p[E+0])},w.Predictor9=function(h,p,E){return vt(p[E+0],p[E+1])},w.Predictor10=function(h,p,E){return vt(vt(h,p[E-1]),vt(p[E+0],p[E+1]))},w.Predictor11=function(h,p,E){var C=p[E+0];return 0>=Dt(C>>24&255,h>>24&255,(p=p[E-1])>>24&255)+Dt(C>>16&255,h>>16&255,p>>16&255)+Dt(C>>8&255,h>>8&255,p>>8&255)+Dt(255&C,255&h,255&p)?C:h},w.Predictor12=function(h,p,E){var C=p[E+0];return(ln((h>>24&255)+(C>>24&255)-((p=p[E-1])>>24&255))<<24|ln((h>>16&255)+(C>>16&255)-(p>>16&255))<<16|ln((h>>8&255)+(C>>8&255)-(p>>8&255))<<8|ln((255&h)+(255&C)-(255&p)))>>>0},w.Predictor13=function(h,p,E){var C=p[E-1];return(Xt((h=vt(h,p[E+0]))>>24&255,C>>24&255)<<24|Xt(h>>16&255,C>>16&255)<<16|Xt(h>>8&255,C>>8&255)<<8|Xt(255&h,255&C))>>>0};var Lp=w.PredictorAdd0;w.PredictorAdd1=Et,Ge("Predictor2","PredictorAdd2"),Ge("Predictor3","PredictorAdd3"),Ge("Predictor4","PredictorAdd4"),Ge("Predictor5","PredictorAdd5"),Ge("Predictor6","PredictorAdd6"),Ge("Predictor7","PredictorAdd7"),Ge("Predictor8","PredictorAdd8"),Ge("Predictor9","PredictorAdd9"),Ge("Predictor10","PredictorAdd10"),Ge("Predictor11","PredictorAdd11"),Ge("Predictor12","PredictorAdd12"),Ge("Predictor13","PredictorAdd13");var Ih=w.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Vr,Hy=w.ColorIndexInverseTransform,uc=w.MapARGB,lc=w.VP8LColorIndexInverseTransformAlpha,Fp=w.MapAlpha,Vp=w.VP8LPredictorsAdd=[];Vp.length=16,(w.VP8LPredictors=[]).length=16,(w.VP8LPredictorsAdd_C=[]).length=16,(w.VP8LPredictors_C=[]).length=16;var Bp,jp,Ku,Qu,Yu,Zl,Ju,Xl,$s,dc,Gn,or,Br,gi,Yc,Up,Th,Gy,xN,NN,RN,PN,kN,MN,qp,ON,LN,FN,VN=o(511),BN=o(2041),jN=o(225),UN=o(767),qN=0,Bb=BN,Wy=jN,fs=UN,Hs=VN,Ky=0,Qy=1,zN=2,Yy=3,Jy=4,jb=5,$N=6,Ub=7,qb=8,Zy=9,zb=10,aj=[2,3,7],cj=[3,3,11],HN=[280,256,256,256,40],uj=[0,1,1,1,0],lj=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],dj=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hj=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fj=8,$b=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Hb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zp=null,pj=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],gj=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],GN=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],mj=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yj=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vj=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_j=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zu=[],Ta=[],Jc=[],wj=1,WN=2,Xu=[],Gs=[];me("UpsampleRgbLinePair",U,3),me("UpsampleBgrLinePair",ie,3),me("UpsampleRgbaLinePair",Vt,4),me("UpsampleBgraLinePair",ir,4),me("UpsampleArgbLinePair",un,4),me("UpsampleRgba4444LinePair",qe,2),me("UpsampleRgb565LinePair",_e,2);var bj=w.UpsampleRgbLinePair,Ej=w.UpsampleBgrLinePair,KN=w.UpsampleRgbaLinePair,QN=w.UpsampleBgraLinePair,YN=w.UpsampleArgbLinePair,JN=w.UpsampleRgba4444LinePair,Ij=w.UpsampleRgb565LinePair,Xy=16,ev=1<<Xy-1,$p=-227,Gb=482,ZN=6,Tj=(256<<ZN)-1,XN=0,Aj=o(256),Sj=o(256),Cj=o(256),Dj=o(256),xj=o(Gb-$p),Nj=o(Gb-$p);dr("YuvToRgbRow",U,3),dr("YuvToBgrRow",ie,3),dr("YuvToRgbaRow",Vt,4),dr("YuvToBgraRow",ir,4),dr("YuvToArgbRow",un,4),dr("YuvToRgba4444Row",qe,2),dr("YuvToRgb565Row",_e,2);var eR=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tv=[0,2,8],Rj=[8,7,6,4,4,2,2,2,1,1,1,1],Pj=1;this.WebPDecodeRGBA=function(h,p,E,C,F){var V=Qy,j=new Se,z=new qt;j.ba=z,z.S=V,z.width=[z.width],z.height=[z.height];var $=z.width,K=z.height,re=new Xe;if(re==null||h==null)var ye=2;else e(re!=null),ye=zs(h,p,E,re.width,re.height,re.Pd,re.Qd,re.format,null);if(ye!=0?$=0:($!=null&&($[0]=re.width[0]),K!=null&&(K[0]=re.height[0]),$=1),$){z.width=z.width[0],z.height=z.height[0],C!=null&&(C[0]=z.width),F!=null&&(F[0]=z.height);e:{if(C=new Ls,(F=new ke).data=h,F.w=p,F.ha=E,F.kd=1,p=[0],e(F!=null),((h=zs(F.data,F.w,F.ha,null,null,null,p,null,F))==0||h==7)&&p[0]&&(h=4),(p=h)==0){if(e(j!=null),C.data=F.data,C.w=F.w+F.offset,C.ha=F.ha-F.offset,C.put=lt,C.ac=mo,C.bc=jo,C.ma=j,F.xa){if((h=Ti())==null){j=1;break e}if((function(Q,ue){var he=[0],De=[0],ge=[0];t:for(;;){if(Q==null)return 0;if(ue==null)return Q.a=2,0;if(Q.l=ue,Q.a=0,Ae(Q.m,ue.data,ue.w,ue.ha),!nr(Q.m,he,De,ge)){Q.a=3;break t}if(Q.xb=WN,ue.width=he[0],ue.height=De[0],!Xi(he[0],De[0],1,Q,null))break t;return 1}return e(Q.a!=0),0})(h,C)){if(C=(p=Hu(C.width,C.height,j.Oa,j.ba))==0){t:{C=h;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((E=C.l)!=null),e((F=E.ma)!=null),C.xb!=0){if(C.ca=F.ba,C.tb=F.tb,e(C.ca!=null),!Kc(F.Oa,E,Yy)){C.a=2;break n}if(!Ms(C,E.width)||E.da)break n;if((E.da||_t(C.ca.S))&&oe(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&oe()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!H(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!hi(C,C.V,C.Ba,C.c,C.i,E.o,di))break n;F.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(p=h.a)}else p=h.a}else{if((h=new to)==null){j=1;break e}if(h.Fa=F.na,h.P=F.P,h.qc=F.Sa,Ai(h,C)){if((p=Hu(C.width,C.height,j.Oa,j.ba))==0){if(h.Aa=0,E=j.Oa,e((F=h)!=null),E!=null){if(0<($=0>($=E.Md)?0:100<$?255:255*$/100)){for(K=re=0;4>K;++K)12>(ye=F.pb[K]).lc&&(ye.ia=$*Rj[0>ye.lc?0:ye.lc]>>3),re|=ye.ia;re&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=E.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}(function(Q,ue){if(Q==null)return 0;if(ue==null)return In(Q,2,"NULL VP8Io parameter in VP8Decode().");if(!Q.cb&&!Ai(Q,ue))return 0;if(e(Q.cb),ue.ac==null||ue.ac(ue)){ue.ob&&(Q.L=0);var he=tv[Q.L];if(Q.L==2?(Q.yb=0,Q.zb=0):(Q.yb=ue.v-he>>4,Q.zb=ue.j-he>>4,0>Q.yb&&(Q.yb=0),0>Q.zb&&(Q.zb=0)),Q.Va=ue.o+15+he>>4,Q.Hb=ue.va+15+he>>4,Q.Hb>Q.za&&(Q.Hb=Q.za),Q.Va>Q.Ub&&(Q.Va=Q.Ub),0<Q.L){var De=Q.ed;for(he=0;4>he;++he){var ge;if(Q.Qa.Cb){var Ne=Q.Qa.Lb[he];Q.Qa.Fb||(Ne+=De.Tb)}else Ne=De.Tb;for(ge=0;1>=ge;++ge){var Pe=Q.gd[he][ge],ze=Ne;if(De.Pc&&(ze+=De.vd[0],ge&&(ze+=De.od[0])),0<(ze=0>ze?0:63<ze?63:ze)){var Ve=ze;0<De.wb&&(Ve=4<De.wb?Ve>>2:Ve>>1)>9-De.wb&&(Ve=9-De.wb),1>Ve&&(Ve=1),Pe.dd=Ve,Pe.tc=2*ze+Ve,Pe.ld=40<=ze?2:15<=ze?1:0}else Pe.tc=0;Pe.La=ge}}}he=0}else In(Q,6,"Frame setup failed"),he=Q.a;if(he=he==0){if(he){Q.$c=0,0<Q.Aa||(Q.Ic=Pj);t:{he=Q.Ic,De=4*(Ve=Q.za);var wt=32*Ve,ot=Ve+1,tn=0<Q.L?Ve*(0<Q.Aa?2:1):0,ft=(Q.Aa==2?2:1)*Ve;if((Pe=De+832+(ge=3*(16*he+tv[Q.L])/2*wt)+(Ne=Q.Fa!=null&&0<Q.Fa.length?Q.Kc.c*Q.Kc.i:0))!=Pe)he=0;else{if(Pe>Q.Vb){if(Q.Vb=0,Q.Ec=o(Pe),Q.Fc=0,Q.Ec==null){he=In(Q,1,"no memory during frame initialization.");break t}Q.Vb=Pe}Pe=Q.Ec,ze=Q.Fc,Q.Ac=Pe,Q.Bc=ze,ze+=De,Q.Gd=s(wt,nc),Q.Hd=0,Q.rb=s(ot+1,Uo),Q.sb=1,Q.wa=tn?s(tn,fi):null,Q.Y=0,Q.D.Nb=0,Q.D.wa=Q.wa,Q.D.Y=Q.Y,0<Q.Aa&&(Q.D.Y+=Ve),e(!0),Q.oc=Pe,Q.pc=ze,ze+=832,Q.ya=s(ft,as),Q.aa=0,Q.D.ya=Q.ya,Q.D.aa=Q.aa,Q.Aa==2&&(Q.D.aa+=Ve),Q.R=16*Ve,Q.B=8*Ve,Ve=(wt=tv[Q.L])*Q.R,wt=wt/2*Q.B,Q.sa=Pe,Q.ta=ze+Ve,Q.qa=Q.sa,Q.ra=Q.ta+16*he*Q.R+wt,Q.Ha=Q.qa,Q.Ia=Q.ra+8*he*Q.B+wt,Q.$c=0,ze+=ge,Q.mb=Ne?Pe:null,Q.nb=Ne?ze:null,e(ze+Ne<=Q.Fc+Q.Vb),kn(Q),i(Q.Ac,Q.Bc,0,De),he=1}}if(he){if(ue.ka=0,ue.y=Q.sa,ue.O=Q.ta,ue.f=Q.qa,ue.N=Q.ra,ue.ea=Q.Ha,ue.Vd=Q.Ia,ue.fa=Q.R,ue.Rc=Q.B,ue.F=null,ue.J=0,!qN){for(he=-255;255>=he;++he)VN[255+he]=0>he?-he:he;for(he=-1020;1020>=he;++he)BN[1020+he]=-128>he?-128:127<he?127:he;for(he=-112;112>=he;++he)jN[112+he]=-16>he?-16:15<he?15:he;for(he=-255;510>=he;++he)UN[255+he]=0>he?0:255<he?255:he;qN=1}Ju=Si,Xl=ic,dc=wo,Gn=Fn,or=wa,$s=_a,Br=cc,gi=Ho,Yc=O,Up=G,Th=ls,Gy=v,xN=te,NN=le,RN=Fi,PN=Ea,kN=pi,MN=Wc,Ta[0]=zu,Ta[1]=Uu,Ta[2]=Eo,Ta[3]=ac,Ta[4]=Li,Ta[5]=$u,Ta[6]=wr,Ta[7]=$c,Ta[8]=Vs,Ta[9]=wn,Zu[0]=ba,Zu[1]=qu,Zu[2]=oc,Zu[3]=zc,Zu[4]=Ci,Zu[5]=sc,Zu[6]=bo,Jc[0]=Hc,Jc[1]=qc,Jc[2]=Bs,Jc[3]=js,Jc[4]=hn,Jc[5]=qo,Jc[6]=Gc,he=1}else he=0}he&&(he=(function(bn,mi){for(bn.M=0;bn.M<bn.Va;++bn.M){var nn,pt=bn.Jc[bn.M&bn.Xb],Ye=bn.m,jr=bn;for(nn=0;nn<jr.za;++nn){var Yt=Ye,Tn=jr,vr=Tn.Ac,Vi=Tn.Bc+4*nn,Io=Tn.zc,xr=Tn.ya[Tn.aa+nn];if(Tn.Qa.Bb?xr.$b=xe(Yt,Tn.Pa.jb[0])?2+xe(Yt,Tn.Pa.jb[2]):xe(Yt,Tn.Pa.jb[1]):xr.$b=0,Tn.kc&&(xr.Ad=xe(Yt,Tn.Bd)),xr.Za=!xe(Yt,145)+0,xr.Za){var ro=xr.Ob,To=0;for(Tn=0;4>Tn;++Tn){var yi,Mn=Io[0+Tn];for(yi=0;4>yi;++yi){Mn=yj[vr[Vi+yi]][Mn];for(var Jn=GN[xe(Yt,Mn[0])];0<Jn;)Jn=GN[2*Jn+xe(Yt,Mn[Jn])];Mn=-Jn,vr[Vi+yi]=Mn}r(ro,To,vr,Vi,4),To+=4,Io[0+Tn]=Mn}}else Mn=xe(Yt,156)?xe(Yt,128)?1:3:xe(Yt,163)?2:0,xr.Ob[0]=Mn,i(vr,Vi,Mn,4),i(Io,0,Mn,4);xr.Dd=xe(Yt,142)?xe(Yt,114)?xe(Yt,183)?1:3:2:0}if(jr.m.Ka)return In(bn,7,"Premature end-of-partition0 encountered.");for(;bn.ja<bn.za;++bn.ja){if(jr=pt,Yt=(Ye=bn).rb[Ye.sb-1],vr=Ye.rb[Ye.sb+Ye.ja],nn=Ye.ya[Ye.aa+Ye.ja],Vi=Ye.kc?nn.Ad:0)Yt.la=vr.la=0,nn.Za||(Yt.Na=vr.Na=0),nn.Hc=0,nn.Gc=0,nn.ia=0;else{var Nr,Zn;if(Yt=vr,vr=jr,Vi=Ye.Pa.Xc,Io=Ye.ya[Ye.aa+Ye.ja],xr=Ye.pb[Io.$b],Tn=Io.ad,ro=0,To=Ye.rb[Ye.sb-1],Mn=yi=0,i(Tn,ro,0,384),Io.Za)var Bi=0,Aa=Vi[3];else{Jn=o(16);var Ur=Yt.Na+To.Na;if(Ur=zp(vr,Vi[1],Ur,xr.Eb,0,Jn,0),Yt.Na=To.Na=(0<Ur)+0,1<Ur)Ju(Jn,0,Tn,ro);else{var Go=Jn[0]+3>>3;for(Jn=0;256>Jn;Jn+=16)Tn[ro+Jn]=Go}Bi=1,Aa=Vi[0]}var sr=15&Yt.la,vi=15&To.la;for(Jn=0;4>Jn;++Jn){var ps=1&vi;for(Go=Zn=0;4>Go;++Go)sr=sr>>1|(ps=(Ur=zp(vr,Aa,Ur=ps+(1&sr),xr.Sc,Bi,Tn,ro))>Bi)<<7,Zn=Zn<<2|(3<Ur?3:1<Ur?2:Tn[ro+0]!=0),ro+=16;sr>>=4,vi=vi>>1|ps<<7,yi=(yi<<8|Zn)>>>0}for(Aa=sr,Bi=vi>>4,Nr=0;4>Nr;Nr+=2){for(Zn=0,sr=Yt.la>>4+Nr,vi=To.la>>4+Nr,Jn=0;2>Jn;++Jn){for(ps=1&vi,Go=0;2>Go;++Go)Ur=ps+(1&sr),sr=sr>>1|(ps=0<(Ur=zp(vr,Vi[2],Ur,xr.Qc,0,Tn,ro)))<<3,Zn=Zn<<2|(3<Ur?3:1<Ur?2:Tn[ro+0]!=0),ro+=16;sr>>=2,vi=vi>>1|ps<<5}Mn|=Zn<<4*Nr,Aa|=sr<<4<<Nr,Bi|=(240&vi)<<Nr}Yt.la=Aa,To.la=Bi,Io.Hc=yi,Io.Gc=Mn,Io.ia=43690&Mn?0:xr.ia,Vi=!(yi|Mn)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[nn.$b][nn.Za],Ye.wa[Ye.Y+Ye.ja].La|=!Vi),jr.Ka)return In(bn,7,"Premature end-of-file encountered.")}if(kn(bn),Ye=mi,jr=1,nn=(pt=bn).D,Yt=0<pt.L&&pt.M>=pt.zb&&pt.M<=pt.Va,pt.Aa==0)t:{if(nn.M=pt.M,nn.uc=Yt,br(pt,nn),jr=1,nn=(Zn=pt.D).Nb,Yt=(Mn=tv[pt.L])*pt.R,vr=Mn/2*pt.B,Jn=16*nn*pt.R,Go=8*nn*pt.B,Vi=pt.sa,Io=pt.ta-Yt+Jn,xr=pt.qa,Tn=pt.ra-vr+Go,ro=pt.Ha,To=pt.Ia-vr+Go,vi=(sr=Zn.M)==0,yi=sr>=pt.Va-1,pt.Aa==2&&br(pt,Zn),Zn.uc)for(ps=(Ur=pt).D.M,e(Ur.D.uc),Zn=Ur.yb;Zn<Ur.Hb;++Zn){Bi=Zn,Aa=ps;var Ao=(gs=(ji=Ur).D).Nb;Nr=ji.R;var gs=gs.wa[gs.Y+Bi],ms=ji.sa,Wo=ji.ta+16*Ao*Nr+16*Bi,ys=gs.dd,hr=gs.tc;if(hr!=0)if(e(3<=hr),ji.L==1)0<Bi&&PN(ms,Wo,Nr,hr+4),gs.La&&MN(ms,Wo,Nr,hr),0<Aa&&RN(ms,Wo,Nr,hr+4),gs.La&&kN(ms,Wo,Nr,hr);else{var vs=ji.B,Sa=ji.qa,ed=ji.ra+8*Ao*vs+8*Bi,Zc=ji.Ha,ji=ji.Ia+8*Ao*vs+8*Bi;Ao=gs.ld,0<Bi&&(gi(ms,Wo,Nr,hr+4,ys,Ao),Up(Sa,ed,Zc,ji,vs,hr+4,ys,Ao)),gs.La&&(Gy(ms,Wo,Nr,hr,ys,Ao),NN(Sa,ed,Zc,ji,vs,hr,ys,Ao)),0<Aa&&(Br(ms,Wo,Nr,hr+4,ys,Ao),Yc(Sa,ed,Zc,ji,vs,hr+4,ys,Ao)),gs.La&&(Th(ms,Wo,Nr,hr,ys,Ao),xN(Sa,ed,Zc,ji,vs,hr,ys,Ao))}}if(pt.ia&&alert("todo:DitherRow"),Ye.put!=null){if(Zn=16*sr,sr=16*(sr+1),vi?(Ye.y=pt.sa,Ye.O=pt.ta+Jn,Ye.f=pt.qa,Ye.N=pt.ra+Go,Ye.ea=pt.Ha,Ye.W=pt.Ia+Go):(Zn-=Mn,Ye.y=Vi,Ye.O=Io,Ye.f=xr,Ye.N=Tn,Ye.ea=ro,Ye.W=To),yi||(sr-=Mn),sr>Ye.o&&(sr=Ye.o),Ye.F=null,Ye.J=null,pt.Fa!=null&&0<pt.Fa.length&&Zn<sr&&(Ye.J=pn(pt,Ye,Zn,sr-Zn),Ye.F=pt.mb,Ye.F==null&&Ye.F.length==0)){jr=In(pt,3,"Could not decode alpha data.");break t}Zn<Ye.j&&(Mn=Ye.j-Zn,Zn=Ye.j,e(!(1&Mn)),Ye.O+=pt.R*Mn,Ye.N+=pt.B*(Mn>>1),Ye.W+=pt.B*(Mn>>1),Ye.F!=null&&(Ye.J+=Ye.width*Mn)),Zn<sr&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,Ye.F!=null&&(Ye.J+=Ye.v),Ye.ka=Zn-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=sr-Zn,jr=Ye.put(Ye))}nn+1!=pt.Ic||yi||(r(pt.sa,pt.ta-Yt,Vi,Io+16*pt.R,Yt),r(pt.qa,pt.ra-vr,xr,Tn+8*pt.B,vr),r(pt.Ha,pt.Ia-vr,ro,To+8*pt.B,vr))}if(!jr)return In(bn,6,"Output aborted.")}return 1})(Q,ue)),ue.bc!=null&&ue.bc(ue),he&=1}return he?(Q.cb=0,he):0})(h,C)||(p=h.a)}}else p=h.a}p==0&&j.Oa!=null&&j.Oa.fd&&(p=Op(j.ba))}j=p}V=j!=0?null:11>V?z.f.RGBA.eb:z.f.kb.y}else V=null;return V};var tR=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(w,D){for(var _="",S=0;S<4;S++)_+=String.fromCharCode(w[D++]);return _}function l(w,D){return w[D+0]|w[D+1]<<8}function m(w,D){return(w[D+0]|w[D+1]<<8|w[D+2]<<16)>>>0}function y(w,D){return(w[D+0]|w[D+1]<<8|w[D+2]<<16|w[D+3]<<24)>>>0}new c;var g=[0],R=[0],k=[],M=new c,L=t,Z=(function(w,D){var _={},S=0,I=!1,ee=0,ve=0;if(_.frames=[],!(function(B,W){for(var X=0;X<4;X++)if(B[W+X]!="RIFF".charCodeAt(X))return!0;return!1})(w,D)){for(y(w,D+=4),D+=8;D<w.length;){var Ce=u(w,D),Te=y(w,D+=4);D+=4;var pe=Te+(1&Te);switch(Ce){case"VP8 ":case"VP8L":_.frames[S]===void 0&&(_.frames[S]={}),(Me=_.frames[S]).src_off=I?ve:D-8,Me.src_size=ee+Te+8,S++,I&&(I=!1,ee=0,ve=0);break;case"VP8X":(Me=_.header={}).feature_flags=w[D];var Ae=D+4;Me.canvas_width=1+m(w,Ae),Ae+=3,Me.canvas_height=1+m(w,Ae),Ae+=3;break;case"ALPH":I=!0,ee=pe+8,ve=D-8;break;case"ANIM":(Me=_.header).bgcolor=y(w,D),Ae=D+4,Me.loop_count=l(w,Ae),Ae+=2;break;case"ANMF":var $e,Me;(Me=_.frames[S]={}).offset_x=2*m(w,D),D+=3,Me.offset_y=2*m(w,D),D+=3,Me.width=1+m(w,D),D+=3,Me.height=1+m(w,D),D+=3,Me.duration=m(w,D),D+=3,$e=w[D++],Me.dispose=1&$e,Me.blend=$e>>1&1}Ce!="ANMF"&&(D+=pe)}return _}})(L,0);Z.response=L,Z.rgbaoutput=!0,Z.dataurl=!1;var J=Z.header?Z.header:null,Y=Z.frames?Z.frames:null;if(J){J.loop_counter=J.loop_count,g=[J.canvas_height],R=[J.canvas_width];for(var fe=0;fe<Y.length&&Y[fe].blend!=0;fe++);}var be=Y[0],P=M.WebPDecodeRGBA(L,be.src_off,be.src_size,R,g);be.rgba=P,be.imgwidth=R[0],be.imgheight=g[0];for(var T=0;T<R[0]*g[0]*4;T++)k[T]=P[T];return this.width=R,this.height=g,this.data=k,this}(function(t){var e,n,r,i,o,s,a,c,u,l=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new s,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new s,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,c=this.internal.Matrix,u=new l}]);var m=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=B;Object.defineProperty(this,"pdf",{get:function(){return W}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(H){X=!!H}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(H){ne=!!H}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(H){isNaN(H)||(ce=H)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(H){isNaN(H)||(de=H)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(H){var Qe;typeof H=="number"?Qe=[H,H,H,H]:((Qe=new Array(4))[0]=H[0],Qe[1]=H.length>=2?H[1]:Qe[0],Qe[2]=H.length>=3?H[2]:Qe[0],Qe[3]=H.length>=4?H[3]:Qe[1]),u.margin=Qe}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(H){Ee=H}});var Ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ie},set:function(H){Ie=H}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(H){xe=H}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(H){H instanceof l&&(u=H)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(H){u.path=H}});var Be=[];Object.defineProperty(this,"ctxStack",{get:function(){return Be},set:function(H){Be=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var Qe;Qe=y(H),this.ctx.fillStyle=Qe.style,this.ctx.isFillTransparent=Qe.a===0,this.ctx.fillOpacity=Qe.a,this.pdf.setFillColor(Qe.r,Qe.g,Qe.b,{a:Qe.a}),this.pdf.setTextColor(Qe.r,Qe.g,Qe.b,{a:Qe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var Qe=y(H);this.ctx.strokeStyle=Qe.style,this.ctx.isStrokeTransparent=Qe.a===0,this.ctx.strokeOpacity=Qe.a,Qe.a===0?this.pdf.setDrawColor(255,255,255):(Qe.a,this.pdf.setDrawColor(Qe.r,Qe.g,Qe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var Je=null,Ke=null,ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return ct},set:function(H){Je=null,Ke=null,ct=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var Qe;if(this.ctx.font=H,(Qe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(H))!==null){var jt=Qe[1];Qe[2];var bt=Qe[3],Fe=Qe[4];Qe[5];var Ze=Qe[6],Ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Fe)[2];Fe=Math.floor(Ge==="px"?parseFloat(Fe)*this.pdf.internal.scaleFactor:Ge==="em"?parseFloat(Fe)*this.pdf.getFontSize():parseFloat(Fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Fe);var gt=(function(dt){var lr,en,Ft=[],Ht=dt.trim();if(Ht==="")return hN;if(Ht in cB)return[cB[Ht]];for(;Ht!=="";){switch(en=null,lr=(Ht=lB(Ht)).charAt(0)){case'"':case"'":en=Wie(Ht.substring(1),lr);break;default:en=Kie(Ht)}if(en===null||(Ft.push(en[0]),(Ht=lB(en[1]))!==""&&Ht.charAt(0)!==","))return hN;Ht=Ht.replace(/^,/,"")}return Ft})(Ze);if(this.fontFaces){var vt=(function(dt,lr){var en=dt.getFontList(),Ft=JSON.stringify(en);if(Je===null||Ke!==Ft){var Ht=(function(Ln){var ut=[];return Object.keys(Ln).forEach(function(Vn){Ln[Vn].forEach(function(_t){var Mt=null;switch(_t){case"bold":Mt={family:Vn,weight:"bold"};break;case"italic":Mt={family:Vn,style:"italic"};break;case"bolditalic":Mt={family:Vn,weight:"bold",style:"italic"};break;case"":case"normal":Mt={family:Vn}}Mt!==null&&(Mt.ref={name:Vn,style:_t},ut.push(Mt))})}),ut})(en);Je=(function(Ln){for(var ut={},Vn=0;Vn<Ln.length;++Vn){var _t=dN(Ln[Vn]),Mt=_t.family,Pn=_t.stretch,qt=_t.style,Xe=_t.weight;ut[Mt]=ut[Mt]||{},ut[Mt][Pn]=ut[Mt][Pn]||{},ut[Mt][Pn][qt]=ut[Mt][Pn][qt]||{},ut[Mt][Pn][qt][Xe]=_t}return ut})(Ht.concat(lr)),Ke=Ft}return Je})(this.pdf,this.fontFaces),ln=gt.map(function(dt){return{family:dt,stretch:"normal",weight:bt,style:jt}}),Xt=(function(dt,lr,en){for(var Ft=(en=en||{}).defaultFontFamily||"times",Ht=Object.assign({},Gie,en.genericFontFamilies||{}),Ln=null,ut=null,Vn=0;Vn<lr.length;++Vn)if(Ht[(Ln=dN(lr[Vn])).family]&&(Ln.family=Ht[Ln.family]),dt.hasOwnProperty(Ln.family)){ut=dt[Ln.family];break}if(!(ut=ut||dt[Ft]))throw new Error("Could not find a font-family for the rule '"+uB(Ln)+"' and default family '"+Ft+"'.");if(ut=(function(_t,Mt){if(Mt[_t])return Mt[_t];var Pn=vN[_t],qt=Pn<=vN.normal?-1:1,Xe=aB(Mt,kB,Pn,qt);if(!Xe)throw new Error("Could not find a matching font-stretch value for "+_t);return Xe})(Ln.stretch,ut),ut=(function(_t,Mt){if(Mt[_t])return Mt[_t];for(var Pn=PB[_t],qt=0;qt<Pn.length;++qt)if(Mt[Pn[qt]])return Mt[Pn[qt]];throw new Error("Could not find a matching font-style for "+_t)})(Ln.style,ut),!(ut=(function(_t,Mt){if(Mt[_t])return Mt[_t];if(_t===400&&Mt[500])return Mt[500];if(_t===500&&Mt[400])return Mt[400];var Pn=Hie[_t],qt=aB(Mt,MB,Pn,_t<400?-1:1);if(!qt)throw new Error("Could not find a matching font-weight for value "+_t);return qt})(Ln.weight,ut)))throw new Error("Failed to resolve a font for the rule '"+uB(Ln)+"'.");return ut})(vt,ln);this.pdf.setFont(Xt.ref.name,Xt.ref.style)}else{var Dt="";(bt==="bold"||parseInt(bt,10)>=700||jt==="bold")&&(Dt="bold"),jt==="italic"&&(Dt+="italic"),Dt.length===0&&(Dt="normal");for(var Et="",It={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tt=0;tt<gt.length;tt++){if(this.pdf.internal.getFont(gt[tt],Dt,{noFallback:!0,disableWarning:!0})!==void 0){Et=gt[tt];break}if(Dt==="bolditalic"&&this.pdf.internal.getFont(gt[tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Et=gt[tt],Dt="bold";else if(this.pdf.internal.getFont(gt[tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Et=gt[tt],Dt="normal";break}}if(Et===""){for(var Ut=0;Ut<gt.length;Ut++)if(It[gt[Ut]]){Et=It[gt[Ut]];break}}Et=Et===""?"Times":Et,this.pdf.setFont(Et,Dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,Me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,Me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};m.prototype.setLineDash=function(B){this.lineDash=B},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){Y.call(this,"fill",!1)},m.prototype.stroke=function(){Y.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(B,W){if(isNaN(B)||isNaN(W))throw ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new s(B,W));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new s(B,W)},m.prototype.closePath=function(){var B=new s(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&er(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){B=new s(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(B.x,B.y)},m.prototype.lineTo=function(B,W){if(isNaN(B)||isNaN(W))throw ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new s(B,W));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new s(X.x,X.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Y.call(this,null,!0)},m.prototype.quadraticCurveTo=function(B,W,X,ne){if(isNaN(X)||isNaN(ne)||isNaN(B)||isNaN(W))throw ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new s(X,ne)),de=this.ctx.transform.applyToPoint(new s(B,W));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},m.prototype.bezierCurveTo=function(B,W,X,ne,ce,de){if(isNaN(ce)||isNaN(de)||isNaN(B)||isNaN(W)||isNaN(X)||isNaN(ne))throw ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new s(ce,de)),Ie=this.ctx.transform.applyToPoint(new s(B,W)),xe=this.ctx.transform.applyToPoint(new s(X,ne));this.path.push({type:"bct",x1:Ie.x,y1:Ie.y,x2:xe.x,y2:xe.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new s(Ee.x,Ee.y)},m.prototype.arc=function(B,W,X,ne,ce,de){if(isNaN(B)||isNaN(W)||isNaN(X)||isNaN(ne)||isNaN(ce))throw ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new s(B,W));B=Ee.x,W=Ee.y;var Ie=this.ctx.transform.applyToPoint(new s(0,X)),xe=this.ctx.transform.applyToPoint(new s(0,0));X=Math.sqrt(Math.pow(Ie.x-xe.x,2)+Math.pow(Ie.y-xe.y,2))}Math.abs(ce-ne)>=2*Math.PI&&(ne=0,ce=2*Math.PI),this.path.push({type:"arc",x:B,y:W,radius:X,startAngle:ne,endAngle:ce,counterclockwise:de})},m.prototype.arcTo=function(B,W,X,ne,ce){throw new Error("arcTo not implemented.")},m.prototype.rect=function(B,W,X,ne){if(isNaN(B)||isNaN(W)||isNaN(X)||isNaN(ne))throw ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,W),this.lineTo(B+X,W),this.lineTo(B+X,W+ne),this.lineTo(B,W+ne),this.lineTo(B,W),this.lineTo(B+X,W),this.lineTo(B,W)},m.prototype.fillRect=function(B,W,X,ne){if(isNaN(B)||isNaN(W)||isNaN(X)||isNaN(ne))throw ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,W,X,ne),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},m.prototype.strokeRect=function(B,W,X,ne){if(isNaN(B)||isNaN(W)||isNaN(X)||isNaN(ne))throw ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(B,W,X,ne),this.stroke())},m.prototype.clearRect=function(B,W,X,ne){if(isNaN(B)||isNaN(W)||isNaN(X)||isNaN(ne))throw ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,W,X,ne))},m.prototype.save=function(B){B=typeof B!="boolean"||B;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new l(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},m.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(W),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(B){var W,X,ne,ce;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))W=0,X=0,ne=0,ce=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(de!==null)W=parseInt(de[1]),X=parseInt(de[2]),ne=parseInt(de[3]),ce=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)W=parseInt(de[1]),X=parseInt(de[2]),ne=parseInt(de[3]),ce=parseFloat(de[4]);else{if(ce=1,typeof B=="string"&&B.charAt(0)!=="#"){var Ee=new AB(B);B=Ee.ok?Ee.toHex():"#000000"}B.length===4?(W=B.substring(1,2),W+=W,X=B.substring(2,3),X+=X,ne=B.substring(3,4),ne+=ne):(W=B.substring(1,3),X=B.substring(3,5),ne=B.substring(5,7)),W=parseInt(W,16),X=parseInt(X,16),ne=parseInt(ne,16)}}return{r:W,g:X,b:ne,a:ce,style:B}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},R=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(B,W,X,ne){if(isNaN(W)||isNaN(X)||typeof B!="string")throw ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!g.call(this)){var ce=pe(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;S.call(this,{text:B,x:W,y:X,scale:de,angle:ce,align:this.textAlign,maxWidth:ne})}},m.prototype.strokeText=function(B,W,X,ne){if(isNaN(W)||isNaN(X)||typeof B!="string")throw ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){ne=isNaN(ne)?void 0:ne;var ce=pe(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;S.call(this,{text:B,x:W,y:X,scale:de,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ne})}},m.prototype.measureText=function(B){if(typeof B!="string")throw ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,X=this.pdf.internal.scaleFactor,ne=W.internal.getFontSize(),ce=W.getStringUnitWidth(B)*ne/W.internal.scaleFactor;return new function(de){var Ee=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:ce*=Math.round(96*X/72*1e4)/1e4})},m.prototype.scale=function(B,W){if(isNaN(B)||isNaN(W))throw ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(B,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.rotate=function(B){if(isNaN(B))throw ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},m.prototype.translate=function(B,W){if(isNaN(B)||isNaN(W))throw ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,B,W);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.transform=function(B,W,X,ne,ce,de){if(isNaN(B)||isNaN(W)||isNaN(X)||isNaN(ne)||isNaN(ce)||isNaN(de))throw ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new c(B,W,X,ne,ce,de);this.ctx.transform=this.ctx.transform.multiply(Ee)},m.prototype.setTransform=function(B,W,X,ne,ce,de){B=isNaN(B)?1:B,W=isNaN(W)?0:W,X=isNaN(X)?0:X,ne=isNaN(ne)?1:ne,ce=isNaN(ce)?0:ce,de=isNaN(de)?0:de,this.ctx.transform=new c(B,W,X,ne,ce,de)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(B,W,X,ne,ce,de,Ee,Ie,xe){var Be=this.pdf.getImageProperties(B),Je=1,Ke=1,ct=1,H=1;ne!==void 0&&Ie!==void 0&&(ct=Ie/ne,H=xe/ce,Je=Be.width/ne*Ie/ne,Ke=Be.height/ce*xe/ce),de===void 0&&(de=W,Ee=X,W=0,X=0),ne!==void 0&&Ie===void 0&&(Ie=ne,xe=ce),ne===void 0&&Ie===void 0&&(Ie=Be.width,xe=Be.height);var Qe=this.ctx.transform.decompose(),jt=pe(Qe.rotate.shx),bt=new c,Fe=(bt=(bt=(bt=bt.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale)).applyToRectangle(new a(de-W*ct,Ee-X*H,ne*Je,ce*Ke));if(this.autoPaging){for(var Ze,Ge=M.call(this,Fe),gt=[],vt=0;vt<Ge.length;vt+=1)gt.indexOf(Ge[vt])===-1&&gt.push(Ge[vt]);J(gt);for(var ln=gt[0],Xt=gt[gt.length-1],Dt=ln;Dt<Xt+1;Dt++){this.pdf.setPage(Dt);var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=Dt===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Dt===1?0:tt+(Dt-2)*Ut;if(this.ctx.clip_path.length!==0){var lr=this.path;Ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(Ze,this.posX+this.margin[3],-dt+It+this.ctx.prevPageLastElemOffset),fe.call(this,"fill",!0),this.path=lr}var en=JSON.parse(JSON.stringify(Fe));en=Z([en],this.posX+this.margin[3],-dt+It+this.ctx.prevPageLastElemOffset)[0];var Ft=(Dt>ln||Dt<Xt)&&k.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,Ut,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",en.x,en.y,en.w,en.h,null,null,jt),Ft&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,jt)};var M=function(B,W,X){var ne=[];W=W||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ne.push(Math.floor((B.y+ce)/X)+1);break;case"arc":ne.push(Math.floor((B.y+ce-B.radius)/X)+1),ne.push(Math.floor((B.y+ce+B.radius)/X)+1);break;case"qct":var de=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ne.push(Math.floor((de.y+ce)/X)+1),ne.push(Math.floor((de.y+de.h+ce)/X)+1);break;case"bct":var Ee=$e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ne.push(Math.floor((Ee.y+ce)/X)+1),ne.push(Math.floor((Ee.y+Ee.h+ce)/X)+1);break;case"rect":ne.push(Math.floor((B.y+ce)/X)+1),ne.push(Math.floor((B.y+B.h+ce)/X)+1)}for(var Ie=0;Ie<ne.length;Ie+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Ie];)L.call(this);return ne},L=function(){var B=this.fillStyle,W=this.strokeStyle,X=this.font,ne=this.lineCap,ce=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=W,this.font=X,this.lineCap=ne,this.lineWidth=ce,this.lineJoin=de},Z=function(B,W,X){for(var ne=0;ne<B.length;ne++)switch(B[ne].type){case"bct":B[ne].x2+=W,B[ne].y2+=X;case"qct":B[ne].x1+=W,B[ne].y1+=X;default:B[ne].x+=W,B[ne].y+=X}return B},J=function(B){return B.sort(function(W,X){return W-X})},Y=function(B,W){var X=this.fillStyle,ne=this.strokeStyle,ce=this.lineCap,de=this.lineWidth,Ee=Math.abs(de*this.ctx.transform.scaleX),Ie=this.lineJoin;if(this.autoPaging){for(var xe,Be,Je=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),ct=[],H=0;H<Ke.length;H++)if(Ke[H].x!==void 0)for(var Qe=M.call(this,Ke[H]),jt=0;jt<Qe.length;jt+=1)ct.indexOf(Qe[jt])===-1&&ct.push(Qe[jt]);for(var bt=0;bt<ct.length;bt++)for(;this.pdf.internal.getNumberOfPages()<ct[bt];)L.call(this);J(ct);for(var Fe=ct[0],Ze=ct[ct.length-1],Ge=Fe;Ge<Ze+1;Ge++){this.pdf.setPage(Ge),this.fillStyle=X,this.strokeStyle=ne,this.lineCap=ce,this.lineWidth=Ee,this.lineJoin=Ie;var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=Ge===1?this.posY+this.margin[0]:this.margin[0],ln=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dt=Ge===1?0:ln+(Ge-2)*Xt;if(this.ctx.clip_path.length!==0){var Et=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(xe,this.posX+this.margin[3],-Dt+vt+this.ctx.prevPageLastElemOffset),fe.call(this,B,!0),this.path=Et}if(Be=JSON.parse(JSON.stringify(Je)),this.path=Z(Be,this.posX+this.margin[3],-Dt+vt+this.ctx.prevPageLastElemOffset),W===!1||Ge===0){var It=(Ge>Fe||Ge<Ze)&&k.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,Xt,null).clip().discardPath()),fe.call(this,B,W),It&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=Je}else this.lineWidth=Ee,fe.call(this,B,W),this.lineWidth=de},fe=function(B,W){if((B!=="stroke"||W||!R.call(this))&&(B==="stroke"||W||!g.call(this))){for(var X,ne,ce=[],de=this.path,Ee=0;Ee<de.length;Ee++){var Ie=de[Ee];switch(Ie.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Ie,deltas:[],abs:[]});break;case"lt":var xe=ce.length;if(de[Ee-1]&&!isNaN(de[Ee-1].x)&&(X=[Ie.x-de[Ee-1].x,Ie.y-de[Ee-1].y],xe>0)){for(;xe>=0;xe--)if(ce[xe-1].close!==!0&&ce[xe-1].begin!==!0){ce[xe-1].deltas.push(X),ce[xe-1].abs.push(Ie);break}}break;case"bct":X=[Ie.x1-de[Ee-1].x,Ie.y1-de[Ee-1].y,Ie.x2-de[Ee-1].x,Ie.y2-de[Ee-1].y,Ie.x-de[Ee-1].x,Ie.y-de[Ee-1].y],ce[ce.length-1].deltas.push(X);break;case"qct":var Be=de[Ee-1].x+2/3*(Ie.x1-de[Ee-1].x),Je=de[Ee-1].y+2/3*(Ie.y1-de[Ee-1].y),Ke=Ie.x+2/3*(Ie.x1-Ie.x),ct=Ie.y+2/3*(Ie.y1-Ie.y),H=Ie.x,Qe=Ie.y;X=[Be-de[Ee-1].x,Je-de[Ee-1].y,Ke-de[Ee-1].x,ct-de[Ee-1].y,H-de[Ee-1].x,Qe-de[Ee-1].y],ce[ce.length-1].deltas.push(X);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Ie)}}ne=W?null:B==="stroke"?"stroke":"fill";for(var jt=!1,bt=0;bt<ce.length;bt++)if(ce[bt].arc)for(var Fe=ce[bt].abs,Ze=0;Ze<Fe.length;Ze++){var Ge=Fe[Ze];Ge.type==="arc"?T.call(this,Ge.x,Ge.y,Ge.radius,Ge.startAngle,Ge.endAngle,Ge.counterclockwise,void 0,W,!jt):I.call(this,Ge.x,Ge.y),jt=!0}else if(ce[bt].close===!0)this.pdf.internal.out("h"),jt=!1;else if(ce[bt].begin!==!0){var gt=ce[bt].start.x,vt=ce[bt].start.y;ee.call(this,ce[bt].deltas,gt,vt),jt=!0}ne&&w.call(this,ne),W&&D.call(this)}},be=function(B){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-X;case"top":return B+W-X;case"hanging":return B+W-2*X;case"middle":return B+W/2-X;default:return B}},P=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(W,X){this.colorStops.push([W,X])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(B,W,X,ne,ce,de,Ee,Ie,xe){for(var Be=Ce.call(this,X,ne,ce,de),Je=0;Je<Be.length;Je++){var Ke=Be[Je];Je===0&&(xe?_.call(this,Ke.x1+B,Ke.y1+W):I.call(this,Ke.x1+B,Ke.y1+W)),ve.call(this,B,W,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}Ie?D.call(this):w.call(this,Ee)},w=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(B,W){this.pdf.internal.out(n(B)+" "+r(W)+" m")},S=function(B){var W;switch(B.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var X,ne,ce,de=this.pdf.getTextDimensions(B.text),Ee=be.call(this,B.y),Ie=P.call(this,Ee)-de.h,xe=this.ctx.transform.applyToPoint(new s(B.x,Ee));if(this.autoPaging){var Be=this.ctx.transform.decompose(),Je=new c;Je=(Je=(Je=Je.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale);for(var Ke=this.ctx.transform.applyToRectangle(new a(B.x,Ee,de.w,de.h)),ct=Je.applyToRectangle(new a(B.x,Ie,de.w,de.h)),H=M.call(this,ct),Qe=[],jt=0;jt<H.length;jt+=1)Qe.indexOf(H[jt])===-1&&Qe.push(H[jt]);J(Qe);for(var bt=Qe[0],Fe=Qe[Qe.length-1],Ze=bt;Ze<Fe+1;Ze++){this.pdf.setPage(Ze);var Ge=Ze===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],ln=vt-this.margin[0],Xt=this.pdf.internal.pageSize.width-this.margin[1],Dt=Xt-this.margin[3],Et=Ze===1?0:gt+(Ze-2)*ln;if(this.ctx.clip_path.length!==0){var It=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(X,this.posX+this.margin[3],-1*Et+Ge),fe.call(this,"fill",!0),this.path=It}var tt=Z([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-Et+Ge+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*B.scale),ce=this.lineWidth,this.lineWidth=ce*B.scale);var Ut=this.autoPaging!=="text";if(Ut||tt.y+tt.h<=vt){if(Ut||tt.y>=Ge&&tt.x<=Xt){var dt=Ut?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Xt-tt.x)[0],lr=Z([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Et+Ge+this.ctx.prevPageLastElemOffset)[0],en=Ut&&(Ze>bt||Ze<Fe)&&k.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,ln,null).clip().discardPath()),this.pdf.text(dt,lr.x,lr.y,{angle:B.angle,align:W,renderingMode:B.renderingMode}),en&&this.pdf.restoreGraphicsState()}}else tt.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-tt.y);B.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ce)}}else B.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*B.scale),ce=this.lineWidth,this.lineWidth=ce*B.scale),this.pdf.text(B.text,xe.x+this.posX,xe.y+this.posY,{angle:B.angle,align:W,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ce)},I=function(B,W,X,ne){X=X||0,ne=ne||0,this.pdf.internal.out(n(B+X)+" "+r(W+ne)+" l")},ee=function(B,W,X){return this.pdf.lines(B,W,X,null,null)},ve=function(B,W,X,ne,ce,de,Ee,Ie){this.pdf.internal.out([e(i(X+B)),e(o(ne+W)),e(i(ce+B)),e(o(de+W)),e(i(Ee+B)),e(o(Ie+W)),"c"].join(" "))},Ce=function(B,W,X,ne){for(var ce=2*Math.PI,de=Math.PI/2;W>X;)W-=ce;var Ee=Math.abs(X-W);Ee<ce&&ne&&(Ee=ce-Ee);for(var Ie=[],xe=ne?-1:1,Be=W;Ee>1e-5;){var Je=Be+xe*Math.min(Ee,de);Ie.push(Te.call(this,B,Be,Je)),Ee-=Math.abs(Je-Be),Be=Je}return Ie},Te=function(B,W,X){var ne=(X-W)/2,ce=B*Math.cos(ne),de=B*Math.sin(ne),Ee=ce,Ie=-de,xe=Ee*Ee+Ie*Ie,Be=xe+Ee*ce+Ie*de,Je=4/3*(Math.sqrt(2*xe*Be)-Be)/(Ee*de-Ie*ce),Ke=Ee-Je*Ie,ct=Ie+Je*Ee,H=Ke,Qe=-ct,jt=ne+W,bt=Math.cos(jt),Fe=Math.sin(jt);return{x1:B*Math.cos(W),y1:B*Math.sin(W),x2:Ke*bt-ct*Fe,y2:Ke*Fe+ct*bt,x3:H*bt-Qe*Fe,y3:H*Fe+Qe*bt,x4:B*Math.cos(X),y4:B*Math.sin(X)}},pe=function(B){return 180*B/Math.PI},Ae=function(B,W,X,ne,ce,de){var Ee=B+.5*(X-B),Ie=W+.5*(ne-W),xe=ce+.5*(X-ce),Be=de+.5*(ne-de),Je=Math.min(B,ce,Ee,xe),Ke=Math.max(B,ce,Ee,xe),ct=Math.min(W,de,Ie,Be),H=Math.max(W,de,Ie,Be);return new a(Je,ct,Ke-Je,H-ct)},$e=function(B,W,X,ne,ce,de,Ee,Ie){var xe,Be,Je,Ke,ct,H,Qe,jt,bt,Fe,Ze,Ge,gt,vt,ln=X-B,Xt=ne-W,Dt=ce-X,Et=de-ne,It=Ee-ce,tt=Ie-de;for(Be=0;Be<41;Be++)bt=(Qe=(Je=B+(xe=Be/40)*ln)+xe*((ct=X+xe*Dt)-Je))+xe*(ct+xe*(ce+xe*It-ct)-Qe),Fe=(jt=(Ke=W+xe*Xt)+xe*((H=ne+xe*Et)-Ke))+xe*(H+xe*(de+xe*tt-H)-jt),Be==0?(Ze=bt,Ge=Fe,gt=bt,vt=Fe):(Ze=Math.min(Ze,bt),Ge=Math.min(Ge,Fe),gt=Math.max(gt,bt),vt=Math.max(vt,Fe));return new a(Math.round(Ze),Math.round(Ge),Math.round(gt-Ze),Math.round(vt-Ge))},Me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,W,X=(B=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:W}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(yt.API),(function(t){var e=function(s){var a,c,u,l,m,y,g,R,k,M;for(/[^\x00-\xFF]/.test(s),c=[],u=0,l=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;l>u;u+=4)(m=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(y=(m=((m=((m=((m=(m-(M=m%85))/85)-(k=m%85))/85)-(R=m%85))/85)-(g=m%85))/85)%85,c.push(y+33,g+33,R+33,k+33,M+33)):c.push(122);return(function(L,Z){for(var J=Z;J>0;J--)L.pop()})(c,a.length),String.fromCharCode.apply(String,c)+"~>"},n=function(s){var a,c,u,l,m,y=String,g="length",R=255,k="charCodeAt",M="slice",L="replace";for(s[M](-2),s=s[M](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),u=[],l=0,m=(s+=a="uuuuu"[M](s[g]%5||5))[g];m>l;l+=5)c=52200625*(s[k](l)-33)+614125*(s[k](l+1)-33)+7225*(s[k](l+2)-33)+85*(s[k](l+3)-33)+(s[k](l+4)-33),u.push(R&c>>24,R&c>>16,R&c>>8,R&c);return(function(Z,J){for(var Y=J;Y>0;Y--)Z.pop()})(u,a[g]),y.fromCharCode.apply(y,u)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},o=function(s){for(var a=new Uint8Array(s.length),c=s.length;c--;)a[c]=s.charCodeAt(c);return(a=J1(a)).reduce(function(u,l){return u+String.fromCharCode(l)},"")};t.processDataByFilters=function(s,a){var c=0,u=s||"",l=[];for(typeof(a=a||[])=="string"&&(a=[a]),c=0;c<a.length;c+=1)switch(a[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=o(u),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[c]+'" is not implemented')}return{data:u,reverseChain:l.reverse().join(" ")}}})(yt.API),(function(t){t.loadFile=function(e,n,r){return(function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=(function(c,u,l){var m=new XMLHttpRequest,y=0,g=function(R){var k=R.length,M=[],L=String.fromCharCode;for(y=0;y<k;y+=1)M.push(L(255&R.charCodeAt(y)));return M.join("")};if(m.open("GET",c,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?l(g(this.responseText)):l(void 0)}),m.send(null),u&&m.status===200)return g(m.responseText)})(i,o,s)}catch{}return a})(e,n,r)},t.loadImageFile=t.loadFile})(yt.API),(function(t){function e(){return($t.html2canvas?Promise.resolve($t.html2canvas):import("./chunk-7G76UXZ4.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return($t.DOMPurify?Promise.resolve($t.DOMPurify):import("./chunk-UUYKBFRF.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var c=er(a);return c==="undefined"?"undefined":c==="string"||a instanceof String?"string":c==="number"||a instanceof Number?"number":c==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(a,c){var u=document.createElement(a);for(var l in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[l]=c.style[l];return u},o=function a(c,u){for(var l=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||l.appendChild(a(m,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(l.width=c.width,l.height=c.height,l.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(l.value=c.value),l.addEventListener("load",function(){l.scrollTop=c.scrollTop,l.scrollLeft=c.scrollLeft},!0)),l},s=function a(c){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),l=a.convert(Promise.resolve(),u);return(l=l.setProgress(1,a,1,[a])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,c){return a.__proto__=c||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,c){return this.then(function(){switch(c=c||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),c){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var u=this.opt.jsPDF,l=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=l,l)for(var g=0;g<l.length;++g){var R=l[g],k=R.src.find(function(M){return M.format==="truetype"});k&&u.addFont(k.url,R.ref.name,R.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,c):this.outputPdf(a,c)},s.prototype.outputPdf=function(a,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,c)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var c=Object.keys(a||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(a,c){return this.then(function(){var u=a in s.template.prop?this.prop[a]:this.opt[a];return c?c(u):u})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function c(u,l){return Math.floor(u*l/72*96)}return this.then(function(){(a=a||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:c(a.inner.width,a.k),height:c(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,c,u,l){return a!=null&&(this.progress.val=a),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),l!=null&&(this.progress.stack=l),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,c,u,l){return this.setProgress(a?this.progress.val+a:null,c||null,u?this.progress.n+u:null,l?this.progress.stack.concat(l):null)},s.prototype.then=function(a,c){var u=this;return this.thenCore(a,c,function(l,m){return u.updateProgress(null,null,1,[l]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,l),y}).then(l,m).then(function(y){return u.updateProgress(1),y})})},s.prototype.thenCore=function(a,c,u){u=u||Promise.prototype.then;var l=this;a&&(a=a.bind(l)),c&&(c=c.bind(l));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?l:s.convert(Object.assign({},l),Promise.prototype),y=u.call(m,a,c);return s.convert(y,l.__proto__)},s.prototype.thenExternal=function(a,c){return Promise.prototype.then.call(this,a,c)},s.prototype.thenList=function(a){var c=this;return a.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(a){a&&(a=a.bind(this));var c=Promise.prototype.catch.call(this,a);return s.convert(c,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,yt.getPageSize=function(a,c,u){if(er(a)==="object"){var l=a;a=l.orientation,c=l.unit||c,u=l.format||u}c=c||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var m,y=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var R,k=0,M=0;if(g.hasOwnProperty(y))k=g[y][1]/m,M=g[y][0]/m;else try{k=u[1],M=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",M>k&&(R=M,M=k,k=R);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",k>M&&(R=M,M=k,k=R)}return{width:M,height:k,unit:c,k:m,orientation:a}},t.html=function(a,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(dN):null;var u=new s(c);return c.worker?u:u.from(a).doCallback()}})(yt.API),yt.API.addJS=function(t){return hB=t,this.internal.events.subscribe("postPutResources",function(){bb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bb!==void 0&&dB!==void 0&&this.internal.out("/Names <</JavaScript "+bb+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var c=a[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,l=[];for(o=0;o<u;o++){var m=n.internal.newObject();l.push(m);var y=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<l.length;o++)n.internal.write("(page_"+(o+1)+")"+l[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var c=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])})(yt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,s,a){var c,u=this.decode.DCT_DECODE,l=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(m){for(var y,g=256*m.charCodeAt(4)+m.charCodeAt(5),R=m.length,k={width:0,height:0,numcomponents:1},M=4;M<R;M+=2){if(M+=g,e.indexOf(m.charCodeAt(M+1))!==-1){y=256*m.charCodeAt(M+5)+m.charCodeAt(M+6),k={width:256*m.charCodeAt(M+7)+m.charCodeAt(M+8),height:y,numcomponents:m.charCodeAt(M+9)};break}g=256*m.charCodeAt(M+2)+m.charCodeAt(M+3)}return k})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}l={data:n,width:c.width,height:c.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return l}})(yt.API),yt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=eB(t,{checkCrc:!0}),s=o.width,a=o.height,c=o.channels,u=o.palette,l=o.depth;i=u&&c===1?(function(T){for(var w=T.width,D=T.height,_=T.data,S=T.palette,I=T.depth,ee=!1,ve=[],Ce=[],Te=void 0,pe=!1,Ae=0,$e=0;$e<S.length;$e++){var Me=Ix(S[$e],4),B=Me[0],W=Me[1],X=Me[2],ne=Me[3];ve.push(B,W,X),ne!=null&&(ne===0?(Ae++,Ce.length<1&&Ce.push($e)):ne<255&&(pe=!0))}if(pe||Ae>1){ee=!0,Ce=void 0;var ce=w*D;Te=new Uint8Array(ce);for(var de=new DataView(_.buffer),Ee=0;Ee<ce;Ee++){var Ie=fN(de,Ee,I),xe=Ix(S[Ie],4)[3];Te[Ee]=xe}}else Ae===0&&(Ce=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:_,alphaBytes:Te,needSMask:ee,palette:ve,mask:Ce}})(o):c===2||c===4?(function(T){for(var w=T.data,D=T.width,_=T.height,S=T.channels,I=T.depth,ee=S===2?"DeviceGray":"DeviceRGB",ve=S-1,Ce=D*_,Te=ve,pe=Ce*Te,Ae=1*Ce,$e=Math.ceil(pe*I/8),Me=Math.ceil(Ae*I/8),B=new Uint8Array($e),W=new Uint8Array(Me),X=new DataView(w.buffer),ne=new DataView(B.buffer),ce=new DataView(W.buffer),de=!1,Ee=0;Ee<Ce;Ee++){for(var Ie=Ee*S,xe=0;xe<Te;xe++)bB(ne,fN(X,Ie+xe,I),Ee*Te+xe,I);var Be=fN(X,Ie+Te,I);Be<(1<<I)-1&&(de=!0),bB(ce,Be,1*Ee,I)}return{colorSpace:ee,colorsPerPixel:ve,sMaskBitsPerComponent:de?I:void 0,colorBytes:B,alphaBytes:W,needSMask:de}})(o):(function(T){var w=T.data,D=T.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:w instanceof Uint16Array?(function(_){for(var S=_.length,I=new Uint8Array(2*S),ee=new DataView(I.buffer,I.byteOffset,I.byteLength),ve=0;ve<S;ve++)ee.setUint16(2*ve,_[ve],!1);return I})(w):w,needSMask:!1}})(o);var m,y,g,R=i,k=R.colorSpace,M=R.colorsPerPixel,L=R.sMaskBitsPerComponent,Z=R.colorBytes,J=R.alphaBytes,Y=R.needSMask,fe=R.palette,be=R.mask,P=null;return r!==yt.API.image_compression.NONE&&typeof J1=="function"?(P=(function(T){var w;switch(T){case yt.API.image_compression.FAST:w=11;break;case yt.API.image_compression.MEDIUM:w=13;break;case yt.API.image_compression.SLOW:w=14;break;default:w=12}return w})(r),m=this.decode.FLATE_DECODE,y="/Predictor ".concat(P," /Colors ").concat(M," /BitsPerComponent ").concat(l," /Columns ").concat(s),t=mB(Z,Math.ceil(s*M*l/8),M,l,r),Y&&(g=mB(J,Math.ceil(s*L/8),1,L,r))):(m=void 0,y=void 0,t=Z,Y&&(g=J)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:n,data:t,index:e,filter:m,decodeParameters:y,transparency:be,palette:fe,sMask:g,predictor:P,width:s,height:a,bitsPerComponent:l,sMaskBitsPerComponent:L,colorSpace:k}}},(function(t){t.processGIF89A=function(e,n,r,i){var o=new Zie(e),s=o.width,a=o.height,c=[];o.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:a},l=new pN(100).encode(u,100);return t.processJPEG.call(this,l,n,r,i)},t.processGIF87A=t.processGIF89A})(yt.API),Za.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Za.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){ur.log("bit decode error:"+n)}},Za.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var c=this.palette[o>>7-a&1];this.data[s+4*a]=c.blue,this.data[s+4*a+1]=c.green,this.data[s+4*a+2]=c.red,this.data[s+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Za.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,c=15&o,u=this.palette[a];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Za.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},Za.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,c=(o>>10&e)/e*255|0,u=o>>15?255:0,l=r*this.width*4+4*i;this.data[l]=c,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=u}this.pos+=t}},Za.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,c=(s>>5&n)/n*255|0,u=(s>>11)/e*255|0,l=i*this.width*4+4*o;this.data[l]=u,this.data[l+1]=c,this.data[l+2]=a,this.data[l+3]=255}this.pos+=t}},Za.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Za.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Za.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var o=new Za(e,!1),s=o.width,a=o.height,c={data:o.getData(),width:s,height:a},u=new pN(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)}})(yt.API),IB.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var o=new IB(e),s=o.width,a=o.height,c={data:o.getData(),width:s,height:a},u=new pN(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)}})(yt.API),yt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,c=0,u=0;u<i;u+=4){var l=r[u],m=r[u+1],y=r[u+2],g=r[u+3];o[a++]=l,o[a++]=m,o[a++]=y,s[c++]=g}var R=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:R,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},yt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Sp=yt.API,Eb=Sp.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,c=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,l=u.fof?u.fof:1,m=e.doKerning!==!1,y=0,g=t.length,R=0,k=a[0]||c,M=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?M.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(y=m&&er(u[r])==="object"&&!isNaN(parseInt(u[r][R],10))?u[r][R]/l:0,M.push((a[r]||k)/c+y)),R=r;return M},fB=Sp.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Sp.processArabic&&(t=Sp.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Eb.apply(this,arguments).reduce(function(o,s){return o+s},0)},pB=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var c=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(c,o)),a=0,c=o),a+=e[o],o++;return c!==o&&i.push(t.slice(c,o)),i},gB=function(t,e,n){n||(n={});var r,i,o,s,a,c,u,l=[],m=[l],y=n.textIndent||0,g=0,R=0,k=t.split(" "),M=Eb.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?k[0].length+2:n.lineIndent||0){var L=Array(c).join(" "),Z=[];k.map(function(Y){(Y=Y.split(/\s*\n/)).length>1?Z=Z.concat(Y.map(function(fe,be){return(be&&fe.length?`
`:"")+fe})):Z.push(Y[0])}),k=Z,c=fB.apply(this,[L,n])}for(o=0,s=k.length;o<s;o++){var J=0;if(r=k[o],c&&r[0]==`
`&&(r=r.substr(1),J=1),y+g+(R=(i=Eb.apply(this,[r,n])).reduce(function(Y,fe){return Y+fe},0))>e||J){if(R>e){for(a=pB.apply(this,[r,i,e-(y+g),e]),l.push(a.shift()),l=[a.pop()];a.length;)m.push([a.shift()]);R=i.slice(r.length-(l[0]?l[0].length:0)).reduce(function(Y,fe){return Y+fe},0)}else l=[r];m.push(l),y=R+c,g=M}else l.push(r),y+=g+R,g=M}return u=c?function(Y,fe){return(fe?L:"")+Y.join(" ")}:function(Y){return Y.join(" ")},m.map(u)},Sp.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(l){if(l.widths&&l.kerning)return{widths:l.widths,kerning:l.kerning};var m=this.internal.getFont(l.fontName,l.fontStyle),y="Unicode";return m.metadata[y]?{widths:m.metadata[y].widths||{0:1},kerning:m.metadata[y].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,c,u=[];for(a=0,c=r.length;a<c;a++)u=u.concat(gB.apply(this,[r[a],s,o]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[n[o]]=e[o],i[e[o]]=n[o];var s=function(y){return"0x"+parseInt(y,10).toString(16)},a=t.__fontmetrics__.compress=function(y){var g,R,k,M,L=["{"];for(var Z in y){if(g=y[Z],isNaN(parseInt(Z,10))?R="'"+Z+"'":(Z=parseInt(Z,10),R=(R=s(Z).slice(2)).slice(0,-1)+i[R.slice(-1)]),typeof g=="number")g<0?(k=s(g).slice(3),M="-"):(k=s(g).slice(2),M=""),k=M+k.slice(0,-1)+i[k.slice(-1)];else{if(er(g)!=="object")throw new Error("Don't know what to do with value type "+er(g)+".");k=a(g)}L.push(R+k)}return L.push("}"),L.join("")},c=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,R,k,M,L={},Z=1,J=L,Y=[],fe="",be="",P=y.length-1,T=1;T<P;T+=1)(M=y[T])=="'"?g?(k=g.join(""),g=void 0):g=[]:g?g.push(M):M=="{"?(Y.push([J,k]),J={},k=void 0):M=="}"?((R=Y.pop())[0][R[1]]=J,k=void 0,J=R[0]):M=="-"?Z=-1:k===void 0?r.hasOwnProperty(M)?(fe+=r[M],k=parseInt(fe,16)*Z,Z=1,fe=""):fe+=M:r.hasOwnProperty(M)?(be+=r[M],J[k]=parseInt(be,16)*Z,Z=1,k=void 0,be=""):be+=M;return L},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var g=y.font,R=m.Unicode[g.postScriptName];R&&(g.metadata.Unicode={},g.metadata.Unicode.widths=R.widths,g.metadata.Unicode.kerning=R.kerning);var k=l.Unicode[g.postScriptName];k&&(g.metadata.Unicode.encoding=k,g.encoding=k.codePages[0])}])})(yt.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Ib(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(yt),yt.API.addSvgAsImage=function(t,e,n,r,i,o,s,a){if(isNaN(e)||isNaN(n))throw ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var l={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return($t.canvg?Promise.resolve($t.canvg):import("./chunk-LZKGYWCY.js")).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(u,t,l)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(l)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),e,n,r,i,s,a)})},yt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},yt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),c=[],u=0,l=0,m=0;function y(R,k){var M,L=!1;for(M=0;M<R.length;M+=1)R[M]===k&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=a.length;for(m=0;m<g;m+=1)n[a[m]].value=n[a[m]].defaultValue,n[a[m]].explicitSet=!1}if(er(t)==="object"){for(i in t)if(o=t[i],y(a,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&y(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(u=0;u<o.length;u+=1)if(r=!0,o[u].length===1&&typeof o[u][0]=="number")c.push(String(o[u]-1));else if(o[u].length>1){for(l=0;l<o[u].length;l+=1)typeof o[u][l]!="number"&&(r=!1);r===!0&&c.push([o[u][0]-1,o[u][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var R,k=[];for(R in n)n[R].explicitSet===!0&&(n[R].type==="name"?k.push("/"+R+" /"+n[R].value):k.push("/"+R+" "+n[R].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=o.length+s.length+a.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(yt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(o,s){for(var a,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],l=[""],m=0,y=o.length;m<y;++m){if(a=s.metadata.characterToGlyph(o.charCodeAt(m)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(m),c.indexOf(a)==-1&&(c.push(a),c.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return l.join("");a=a.toString(16),l.push(u[4-a.length],a)}return l.join("")},r=function(o){var s,a,c,u,l,m,y;for(l=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,y=(a=Object.keys(o).sort(function(g,R){return g-R})).length;m<y;m++)s=a[m],c.length>=100&&(l+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(u=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(l+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),l+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,c=s.out,u=s.newObject,l=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var m=a.metadata.Unicode.widths,y=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",R=0;R<y.length;R++)g+=String.fromCharCode(y[R]);var k=u();l({data:g,addLength1:!0,objectId:k}),c("endobj");var M=u();l({data:r(a.metadata.toUnicode),addLength1:!0,objectId:M}),c("endobj");var L=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Dp(a.fontName)),c("/FontFile2 "+k+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/Flags "+a.metadata.flags),c("/StemV "+a.metadata.stemV),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c(">>"),c("endobj");var Z=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Dp(a.fontName)),c("/FontDescriptor "+L+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+a.encoding+")"),c(">>"),c(">>"),c("endobj"),a.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+M+" 0 R"),c("/BaseFont /"+Dp(a.fontName)),c("/Encoding /"+a.encoding),c("/DescendantFonts ["+Z+" 0 R]"),c(">>"),c("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,c=s.out,u=s.newObject,l=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var m=a.metadata.rawData,y="",g=0;g<m.length;g++)y+=String.fromCharCode(m[g]);var R=u();l({data:y,addLength1:!0,objectId:R}),c("endobj");var k=u();l({data:r(a.metadata.toUnicode),addLength1:!0,objectId:k}),c("endobj");var M=u();c("<<"),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c("/StemV "+a.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+R+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/FontName /"+Dp(a.fontName)),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c(">>"),c("endobj"),a.objectNumber=u();for(var L=0;L<a.metadata.hmtx.widths.length;L++)a.metadata.hmtx.widths[L]=parseInt(a.metadata.hmtx.widths[L]*(1e3/a.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+Dp(a.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),c("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",c=o.x,u=o.y,l=o.options||{},m=o.mutex||{},y=m.pdfEscape,g=m.activeFontKey,R=m.fonts,k=g,M="",L=0,Z="",J=R[k].encoding;if(R[k].encoding!=="Identity-H")return{text:a,x:c,y:u,options:l,mutex:m};for(Z=a,k=g,Array.isArray(a)&&(Z=a[0]),L=0;L<Z.length;L+=1)R[k].metadata.hasOwnProperty("cmap")&&(s=R[k].metadata.cmap.unicode.codeMap[Z[L].charCodeAt(0)]),s||Z[L].charCodeAt(0)<256&&R[k].metadata.hasOwnProperty("Unicode")?M+=Z[L]:M+="";var Y="";return parseInt(k.slice(1))<14||J==="WinAnsiEncoding"?Y=y(M,k).split("").map(function(fe){return fe.charCodeAt(0).toString(16)}).join(""):J==="Identity-H"&&(Y=n(M,R[k])),m.isHex=!0,{text:Y,x:c,y:u,options:l,mutex:m}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],c={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?a.push([i(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):a.push(i(Object.assign({},c,{text:s[u]})).text);o.text=a}else o.text=i(Object.assign({},c,{text:s})).text}])})(yt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(yt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,s,a,c,u,l,m=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Z=!1,J=0;this.__bidiEngine__={};var Y=function(_){var S=_.charCodeAt(),I=S>>8,ee=k[I];return ee!==void 0?m[256*ee+(255&S)]:I===252||I===253?"AL":L.test(I)?"L":I===8?"R":"N"},fe=function(_){for(var S,I=0;I<_.length;I++){if((S=Y(_.charAt(I)))==="L")return!1;if(S==="R")return!0}return!1},be=function(_,S,I,ee){var ve,Ce,Te,pe,Ae=S[ee];switch(Ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Z=!1;break;case"N":case"AN":break;case"EN":Z&&(Ae="AN");break;case"AL":Z=!0,Ae="R";break;case"WS":case"BN":Ae="N";break;case"CS":ee<1||ee+1>=S.length||(ve=I[ee-1])!=="EN"&&ve!=="AN"||(Ce=S[ee+1])!=="EN"&&Ce!=="AN"?Ae="N":Z&&(Ce="AN"),Ae=Ce===ve?Ce:"N";break;case"ES":Ae=(ve=ee>0?I[ee-1]:"B")==="EN"&&ee+1<S.length&&S[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&I[ee-1]==="EN"){Ae="EN";break}if(Z){Ae="N";break}for(Te=ee+1,pe=S.length;Te<pe&&S[Te]==="ET";)Te++;Ae=Te<pe&&S[Te]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(pe=S.length,Te=ee+1;Te<pe&&S[Te]==="NSM";)Te++;if(Te<pe){var $e=_[ee],Me=$e>=1425&&$e<=2303||$e===64286;if(ve=S[Te],Me&&(ve==="R"||ve==="AL")){Ae="R";break}}}Ae=ee<1||(ve=S[ee-1])==="B"?"N":I[ee-1];break;case"B":Z=!1,i=!0,Ae=J;break;case"S":o=!0,Ae="N"}return Ae},P=function(_,S,I){var ee=_.split("");return I&&T(ee,I,{hiLevel:J}),ee.reverse(),S&&S.reverse(),ee.join("")},T=function(_,S,I){var ee,ve,Ce,Te,pe,Ae=-1,$e=_.length,Me=0,B=[],W=J?g:y,X=[];for(Z=!1,i=!1,o=!1,ve=0;ve<$e;ve++)X[ve]=Y(_[ve]);for(Ce=0;Ce<$e;Ce++){if(pe=Me,B[Ce]=be(_,X,B,Ce),ee=240&(Me=W[pe][R[B[Ce]]]),Me&=15,S[Ce]=Te=W[Me][5],ee>0)if(ee===16){for(ve=Ae;ve<Ce;ve++)S[ve]=1;Ae=-1}else Ae=-1;if(W[Me][6])Ae===-1&&(Ae=Ce);else if(Ae>-1){for(ve=Ae;ve<Ce;ve++)S[ve]=Te;Ae=-1}X[Ce]==="B"&&(S[Ce]=0),I.hiLevel|=Te}o&&(function(ne,ce,de){for(var Ee=0;Ee<de;Ee++)if(ne[Ee]==="S"){ce[Ee]=J;for(var Ie=Ee-1;Ie>=0&&ne[Ie]==="WS";Ie--)ce[Ie]=J}})(X,S,$e)},w=function(_,S,I,ee,ve){if(!(ve.hiLevel<_)){if(_===1&&J===1&&!i)return S.reverse(),void(I&&I.reverse());for(var Ce,Te,pe,Ae,$e=S.length,Me=0;Me<$e;){if(ee[Me]>=_){for(pe=Me+1;pe<$e&&ee[pe]>=_;)pe++;for(Ae=Me,Te=pe-1;Ae<Te;Ae++,Te--)Ce=S[Ae],S[Ae]=S[Te],S[Te]=Ce,I&&(Ce=I[Ae],I[Ae]=I[Te],I[Te]=Ce);Me=pe}Me++}}},D=function(_,S,I){var ee=_.split(""),ve={hiLevel:J};return I||(I=[]),T(ee,I,ve),(function(Ce,Te,pe){if(pe.hiLevel!==0&&l)for(var Ae,$e=0;$e<Ce.length;$e++)Te[$e]===1&&(Ae=M.indexOf(Ce[$e]))>=0&&(Ce[$e]=M[Ae+1])})(ee,I,ve),w(2,ee,S,I,ve),w(1,ee,S,I,ve),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(_,S,I){if((function(ve,Ce){if(Ce)for(var Te=0;Te<ve.length;Te++)Ce[Te]=Te;a===void 0&&(a=fe(ve)),u===void 0&&(u=fe(ve))})(_,S),s||!c||u)if(s&&c&&a^u)J=a?1:0,_=P(_,S,I);else if(!s&&c&&u)J=a?1:0,_=D(_,S,I),_=P(_,S);else if(!s||a||c||u){if(s&&!c&&a^u)_=P(_,S),a?(J=0,_=D(_,S,I)):(J=1,_=D(_,S,I),_=P(_,S));else if(s&&a&&!c&&u)J=1,_=D(_,S,I),_=P(_,S);else if(!s&&!c&&a^u){var ee=l;a?(J=1,_=D(_,S,I),J=0,l=!1,_=D(_,S,I),l=ee):(J=0,_=D(_,S,I),_=P(_,S),J=1,l=!1,_=D(_,S,I),l=ee,_=P(_,S))}}else J=0,_=D(_,S,I);else J=a?1:0,_=D(_,S,I);return _},this.__bidiEngine__.setOptions=function(_){_&&(s=_.isInputVisual,c=_.isOutputVisual,a=_.isInputRtl,u=_.isOutputRtl,l=_.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(yt),yt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Yl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new foe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Xie(this.contents),this.head=new toe(this),this.name=new soe(this),this.cmap=new LB(this),this.toUnicode={},this.hhea=new noe(this),this.maxp=new aoe(this),this.hmtx=new coe(this),this.post=new ioe(this),this.os2=new roe(this),this.loca=new hoe(this),this.glyf=new uoe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,a,c,u;for(u=[],s=0,a=(c=this.bbox).length;s<a;s++)e=c[s],u.push(Math.round(e*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var ec,Yl=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,s,a,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],o.push(this.writeByte(n));return o},t})(),Xie=(function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,o,s,a,c,u,l,m,y,g,R,k;for(k in g=Object.keys(n).length,c=Math.log(2),m=16*Math.floor(Math.log(g)/c),s=Math.floor(m/c),l=16*g-m,(i=new Yl).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(s),i.writeShort(l),o=16*g,u=i.pos+o,a=null,R=[],n)for(y=n[k],i.writeString(k),i.writeInt(t(y)),i.writeInt(u),i.writeInt(y.length),R=R.concat(y),k==="head"&&(a=u),u+=y.length;u%4;)R.push(0),u++;return i.write(R),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,s;for(n=FB.call(n);n.length%4;)n.push(0);for(o=new Yl(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e})(),eoe={}.hasOwnProperty,jc=function(t,e){for(var n in e)eoe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ec=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var toe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Yl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),TB=(function(){function t(e,n){var r,i,o,s,a,c,u,l,m,y,g,R,k,M,L,Z,J;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(g=e.readUInt16(),y=g/2,e.pos+=6,o=(function(){var Y,fe;for(fe=[],c=Y=0;0<=y?Y<y:Y>y;c=0<=y?++Y:--Y)fe.push(e.readUInt16());return fe})(),e.pos+=2,k=(function(){var Y,fe;for(fe=[],c=Y=0;0<=y?Y<y:Y>y;c=0<=y?++Y:--Y)fe.push(e.readUInt16());return fe})(),u=(function(){var Y,fe;for(fe=[],c=Y=0;0<=y?Y<y:Y>y;c=0<=y?++Y:--Y)fe.push(e.readUInt16());return fe})(),l=(function(){var Y,fe;for(fe=[],c=Y=0;0<=y?Y<y:Y>y;c=0<=y?++Y:--Y)fe.push(e.readUInt16());return fe})(),i=(this.length-e.pos+this.offset)/2,a=(function(){var Y,fe;for(fe=[],c=Y=0;0<=i?Y<i:Y>i;c=0<=i?++Y:--Y)fe.push(e.readUInt16());return fe})(),c=L=0,J=o.length;L<J;c=++L)for(M=o[c],r=Z=R=k[c];R<=M?Z<=M:Z>=M;r=R<=M?++Z:--Z)l[c]===0?s=r+u[c]:(s=a[l[c]/2+(r-R)-(y-c)]||0)!==0&&(s+=u[c]),this.codeMap[r]=65535&s}e.pos=m}return t.encode=function(e,n){var r,i,o,s,a,c,u,l,m,y,g,R,k,M,L,Z,J,Y,fe,be,P,T,w,D,_,S,I,ee,ve,Ce,Te,pe,Ae,$e,Me,B,W,X,ne,ce,de,Ee,Ie,xe,Be,Je;switch(ee=new Yl,s=Object.keys(e).sort(function(Ke,ct){return Ke-ct}),n){case"macroman":for(k=0,M=(function(){var Ke=[];for(R=0;R<256;++R)Ke.push(0);return Ke})(),Z={0:0},o={},ve=0,Ae=s.length;ve<Ae;ve++)Z[Ie=e[i=s[ve]]]==null&&(Z[Ie]=++k),o[i]={old:e[i],new:Z[e[i]]},M[i]=Z[e[i]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(M),{charMap:o,subtable:ee.data,maxGlyphID:k+1};case"unicode":for(S=[],m=[],J=0,Z={},r={},L=u=null,Ce=0,$e=s.length;Ce<$e;Ce++)Z[fe=e[i=s[Ce]]]==null&&(Z[fe]=++J),r[i]={old:fe,new:Z[fe]},a=Z[fe]-i,L!=null&&a===u||(L&&m.push(L),S.push(i),u=a),L=i;for(L&&m.push(L),m.push(65535),S.push(65535),D=2*(w=S.length),T=2*Math.pow(Math.log(w)/Math.LN2,2),y=Math.log(T/2)/Math.LN2,P=2*w-T,c=[],be=[],g=[],R=Te=0,Me=S.length;Te<Me;R=++Te){if(_=S[R],l=m[R],_===65535){c.push(0),be.push(0);break}if(_-(I=r[_].new)>=32768)for(c.push(0),be.push(2*(g.length+w-R)),i=pe=_;_<=l?pe<=l:pe>=l;i=_<=l?++pe:--pe)g.push(r[i].new);else c.push(I-_),be.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*w+2*g.length),ee.writeUInt16(0),ee.writeUInt16(D),ee.writeUInt16(T),ee.writeUInt16(y),ee.writeUInt16(P),de=0,B=m.length;de<B;de++)i=m[de],ee.writeUInt16(i);for(ee.writeUInt16(0),Ee=0,W=S.length;Ee<W;Ee++)i=S[Ee],ee.writeUInt16(i);for(xe=0,X=c.length;xe<X;xe++)a=c[xe],ee.writeUInt16(a);for(Be=0,ne=be.length;Be<ne;Be++)Y=be[Be],ee.writeUInt16(Y);for(Je=0,ce=g.length;Je<ce;Je++)k=g[Je],ee.writeUInt16(k);return{charMap:r,subtable:ee.data,maxGlyphID:J+1}}},t})(),LB=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new TB(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=TB.encode(e,n),(i=new Yl).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),noe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),roe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),ioe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var s,a,c;for(c=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)c.push(e.readUInt32());return c}.call(this)}},t})(),ooe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},soe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,o,s,a,c,u,l,m,y;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(c={},o=l=0,m=r.length;l<m;o=++l)i=r[o],e.pos=i.offset,u=e.readString(i.length),s=new ooe(u,i),c[y=i.nameID]==null&&(c[y]=[]),c[i.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),aoe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),coe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,o,s,a,c;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,l;for(l=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)l.push(e.readInt16());return l})(),this.widths=function(){var u,l,m,y;for(y=[],u=0,l=(m=this.metrics).length;u<l;u++)o=m[u],y.push(o.advance);return y}.call(this),r=this.widths[this.widths.length-1],c=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),FB=[].slice,uoe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,o,s,a,c,u,l,m;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(a=new Yl(n.read(i))).readShort(),u=a.readShort(),m=a.readShort(),c=a.readShort(),l=a.readShort(),this.cache[e]=s===-1?new doe(a,u,m,c,l):new loe(a,s,u,m,c,l),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,o,s,a,c;for(s=[],o=[],a=0,c=n.length;a<c;a++)i=e[n[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},t})(),loe=(function(){function t(e,n,r,i,o,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),doe=(function(){function t(e,n,r,i,o){var s,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Yl(FB.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),hoe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<n.length&&n[o]==s){++o,r[s]=i;var a=this.offsets[s],c=this.offsets[s+1]-a;c>0&&(i+=c)}for(var u=new Array(4*r.length),l=0;l<r.length;++l)u[4*l+3]=255&r[l],u[4*l+2]=(65280&r[l])>>8,u[4*l+1]=(16711680&r[l])>>16,u[4*l]=(4278190080&r[l])>>24;return u},t})(),foe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,s,a,c;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in c=this.glyphsFor(n))r=c[o],i[o]=r;return i},t.prototype.encode=function(e,n){var r,i,o,s,a,c,u,l,m,y,g,R,k,M,L;for(i in r=LB.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),g={0:0},L=r.charMap)g[(c=L[i]).old]=c.new;for(R in y=r.maxGlyphID,s)R in g||(g[R]=y++);return l=(function(Z){var J,Y;for(J in Y={},Z)Y[Z[J]]=J;return Y})(g),m=Object.keys(l).sort(function(Z,J){return Z-J}),k=(function(){var Z,J,Y;for(Y=[],Z=0,J=m.length;Z<J;Z++)a=m[Z],Y.push(l[a]);return Y})(),o=this.font.glyf.encode(s,k,g),u=this.font.loca.encode(o.offsets,k),M={cmap:this.font.cmap.raw(),glyf:o.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},t})();yt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+(function(){var a,c,u;for(u=[],a=0,c=n.length;a<c;a++)r=n[a],u.push(e.convert(r));return u})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+n},e})();function zB(t,e,n,r,i){r=r||{};var o=1.15,s=i.internal.scaleFactor,a=i.internal.getFontSize()/s,c=i.getLineHeightFactor?i.getLineHeightFactor():o,u=a*c,l=/\r\n|\r|\n/g,m="",y=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(m=typeof t=="string"?t.split(l):t,y=m.length||1),n+=a*(2-o),r.valign==="middle"?n-=y/2*u:r.valign==="bottom"&&(n-=y*u),r.halign==="center"||r.halign==="right"){var g=a;if(r.halign==="center"&&(g*=.5),m&&y>=1){for(var R=0;R<m.length;R++)i.text(m[R],e-i.getStringUnitWidth(m[R])*g,n),n+=u;return i}e-=i.getStringUnitWidth(t)*g}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var VB={},Mp=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:VB=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,o;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),a=s.fontStyle,c=s.fontName;if(e.font&&(c=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(c,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var l=t.unifyColor(e.fillColor);l&&(r=this.jsPDFDocument).setFillColor.apply(r,l),l=t.unifyColor(e.textColor),l&&(i=this.jsPDFDocument).setTextColor.apply(i,l),l=t.unifyColor(e.lineColor),l&&(o=this.jsPDFDocument).setDrawColor.apply(o,l),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,o){return this.jsPDFDocument.rect(e,n,r,i,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return VB||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),SN=function(t,e){return SN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},SN(t,e)};function $B(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");SN(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var HB=(function(t){$B(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e})(Array);function poe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function goe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Rb(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(o){return n.getTextWidth(o)}).reduce(function(o,s){return Math.max(o,s)},0);return i}function GB(t,e,n,r){var i=e.settings.tableLineWidth,o=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:o});var s=WB(i,!1);s&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,s)}function WB(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function kb(t,e){var n,r,i,o;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(o=t.bottom)!==null&&o!==void 0?o:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function KB(t,e){var n=kb(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function moe(t,e,n,r,i){var o={},s=1.3333333333333333,a=wN(e,function(J){return i.getComputedStyle(J).backgroundColor});a!=null&&(o.fillColor=a);var c=wN(e,function(J){return i.getComputedStyle(J).color});c!=null&&(o.textColor=c);var u=voe(r,n);u&&(o.cellPadding=u);var l="borderTopColor",m=s*n,y=r.borderTopWidth;if(r.borderBottomWidth===y&&r.borderRightWidth===y&&r.borderLeftWidth===y){var g=(parseFloat(y)||0)/m;g&&(o.lineWidth=g)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/m,right:(parseFloat(r.borderRightWidth)||0)/m,bottom:(parseFloat(r.borderBottomWidth)||0)/m,left:(parseFloat(r.borderLeftWidth)||0)/m},o.lineWidth.top||(o.lineWidth.right?l="borderRightColor":o.lineWidth.bottom?l="borderBottomColor":o.lineWidth.left&&(l="borderLeftColor"));var R=wN(e,function(J){return i.getComputedStyle(J)[l]});R!=null&&(o.lineColor=R);var k=["left","right","center","justify"];k.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),k=["middle","bottom","top"],k.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var M=parseInt(r.fontSize||"");isNaN(M)||(o.fontSize=M/s);var L=yoe(r);L&&(o.fontStyle=L);var Z=(r.fontFamily||"").toLowerCase();return t.indexOf(Z)!==-1&&(o.font=Z),o}function yoe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function wN(t,e){var n=QB(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function QB(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:QB(t.parentElement,e):n}function voe(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,o=n.map(function(a){return parseInt(a||"0")/r}),s=kb(o,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function YB(t,e,n,r,i){var o,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),l=[],m=[],y=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:l,body:m,foot:y};for(var g=0;g<a.rows.length;g++){var R=a.rows[g],k=(s=(o=R?.parentElement)===null||o===void 0?void 0:o.tagName)===null||s===void 0?void 0:s.toLowerCase(),M=_oe(c,u,n,R,r,i);M&&(k==="thead"?l.push(M):k==="tfoot"?y.push(M):m.push(M))}return{head:l,body:m,foot:y}}function _oe(t,e,n,r,i,o){for(var s=new HB(r),a=0;a<r.cells.length;a++){var c=r.cells[a],u=n.getComputedStyle(c);if(i||u.display!=="none"){var l=void 0;o&&(l=moe(t,c,e,u,n)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:l,_element:c,content:woe(c)})}}var m=n.getComputedStyle(r);if(s.length>0&&(i||m.display!=="none"))return s}function woe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function boe(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var o=i[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Bu(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),s=1;s<arguments.length;s++){var a=arguments[s];if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o}function JB(t,e){var n=new Mp(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();boe(i,r,e);var o=Bu({},i,r,e),s;typeof window<"u"&&(s=window);var a=Eoe(i,r,e),c=Ioe(i,r,e),u=Toe(n,o),l=Soe(n,o,s);return{id:e.tableId,content:l,hooks:c,styles:a,settings:u}}function Eoe(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var u=t[c],l=e[c],m=n[c];r.columnStyles=Bu({},u,l,m)}else{var y=[t,e,n],g=y.map(function(R){return R[c]||{}});r[c]=Bu({},g[0],g[1],g[2])}},o=0,s=Object.keys(r);o<s.length;o++){var a=s[o];i(a)}return r}function Ioe(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,s=r;o<s.length;o++){var a=s[o];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function Toe(t,e){var n,r,i,o,s,a,c,u,l,m,y,g,R=kb(e.margin,40/t.scaleFactor()),k=(n=Aoe(t,e.startY))!==null&&n!==void 0?n:R.top,M;e.showFoot===!0?M="everyPage":e.showFoot===!1?M="never":M=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var L;e.showHead===!0?L="everyPage":e.showHead===!1?L="never":L=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var Z=(o=e.useCss)!==null&&o!==void 0?o:!1,J=e.theme||(Z?"plain":"striped"),Y=!!e.horizontalPageBreak,fe=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:Z,theme:J,startY:k,margin:R,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(l=e.tableWidth)!==null&&l!==void 0?l:"auto",showHead:L,showFoot:M,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:Y,horizontalPageBreakRepeat:fe,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function Aoe(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),o=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;o=s===i}return typeof e=="number"?e:(e==null||e===!1)&&o&&n?.finalY!=null?n.finalY+20/r:null}function Soe(t,e,n){var r=e.head||[],i=e.body||[],o=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(n){var a=YB(t,e.html,n,s,e.useCss)||{};r=a.head||r,i=a.body||r,o=a.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||Coe(r,i,o);return{columns:c,head:r,body:i,foot:o}}function Coe(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var s=1,a;Array.isArray(r)?a=r[parseInt(o)]:a=r[o],typeof a=="object"&&!Array.isArray(a)&&(s=a?.colSpan||1);for(var c=0;c<s;c++){var u=void 0;Array.isArray(r)?u=i.length:u=o+(c>0?"_".concat(c):"");var l={dataKey:u};i.push(l)}}),i}var CN=(function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t})(),Doe=(function(t){$B(e,t);function e(n,r,i,o,s,a){var c=t.call(this,n,r,a)||this;return c.cell=i,c.row=o,c.column=s,c.section=o.section,c}return e})(CN),xoe=(function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,o,s){for(var a=0,c=n;a<c.length;a++){var u=c[a],l=new Doe(e,this,r,i,o,s),m=u(l)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var o=i[r];o(new CN(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var o=i[r];o(new CN(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t})(),ZB=(function(){function t(e,n,r,i,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof HB&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var o;return Math.max(r,((o=n.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,o){var s=r.cells[o.index];if(!s)return 0;var a=n.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),u=c+a;return u>i?u:i},0)},t})(),XB=(function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=o!=null?""+o:"",a=/\r\n|\r|\n/g;this.text=s.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,o=r*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=kb(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t})(),Noe=(function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var o=i[r],s=o.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},t})();function Roe(t,e){Poe(t,e);var n=[],r=0;e.columns.forEach(function(o){var s=o.getMaxCustomCellWidth(e);s?o.width=s:(o.width=o.wrappedWidth,n.push(o)),r+=o.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=DN(n,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=DN(n,i,function(o){return o.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Moe(e),Ooe(e,t),koe(e)}function Poe(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=KB(t,e);e.allRows().forEach(function(o){for(var s=0,a=e.columns;s<a.length;s++){var c=a[s],u=o.cells[c.index];if(u){var l=e.hooks.didParseCell;e.callCellHooks(t,l,u,o,c,null);var m=u.padding("horizontal");u.contentWidth=Rb(u.text,u.styles,t)+m;var y=Rb(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=y+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var g=10/n;u.minWidth=u.styles.minCellWidth||g,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(o){for(var s=0,a=e.columns;s<a.length;s++){var c=a[s],u=o.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var l=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},m=l.cellWidth||l.minCellWidth;m&&typeof m=="number"&&(c.minWidth=m,c.wrappedWidth=m)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function DN(t,e,n){for(var r=e,i=t.reduce(function(g,R){return g+R.wrappedWidth},0),o=0;o<t.length;o++){var s=t[o],a=s.wrappedWidth/i,c=r*a,u=s.width+c,l=n(s),m=u<l?l:u;e-=m-s.width,s.width=m}if(e=Math.round(e*1e10)/1e10,e){var y=t.filter(function(g){return e<0?g.width>n(g):!0});y.length&&(e=DN(y,e,n))}return e}function koe(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var o=r[i],s=0,a=t.columns;s<a.length;s++){var c=a[s],u=e[c.index];if(n>1)n--,delete o.cells[c.index];else if(u)u.cell.height+=o.height,n=u.cell.colSpan,delete o.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var l=o.cells[c.index];if(!l)continue;if(l.height=o.height,l.rowSpan>1){var m=r.length-i,y=l.rowSpan>m?m:l.rowSpan;e[c.index]={cell:l,left:y,row:o}}}}}function Moe(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,o=0,s=0,a=0;a<t.columns.length;a++){var c=t.columns[a];if(s-=1,s>1&&t.columns[a+1])o+=c.width,delete r.cells[c.index];else if(i){var u=i;delete r.cells[c.index],i=null,u.width=c.width+o}else{var u=r.cells[c.index];if(!u)continue;if(s=u.colSpan,o=0,u.colSpan>1){i=u,o+=c.width;continue}u.width=c.width+o}}}function Ooe(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var o=i[r],s=0,a=t.columns;s<a.length;s++){var c=a[s],u=o.cells[c.index];if(u){e.applyStyles(u.styles,!0);var l=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,l+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=BB(u.text,l,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=BB(u.text,l,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var m=u.styles.overflow(u.text,l);typeof m=="string"?u.text=[m]:u.text=m}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<y*u.rowSpan?n={height:y,count:u.rowSpan}:n&&n.count>0&&n.height>y&&(y=n.height),y>o.height&&(o.height=y)}}n.count--}}function BB(t,e,n,r,i){return t.map(function(o){return Loe(o,e,n,r,i)})}function Loe(t,e,n,r,i){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Rb(t,n,r))return t;for(;e<Rb(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function ej(t,e){var n=new Mp(t),r=Foe(e,n.scaleFactor()),i=new xoe(e,r);return Roe(n,i),n.applyStyles(n.userStyles),i}function Foe(t,e){var n=t.content,r=Boe(n.columns);if(n.head.length===0){var i=jB(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=jB(r,"foot");i&&n.foot.push(i)}var o=t.settings.theme,s=t.styles;return{columns:r,head:bN("head",n.head,r,s,o,e),body:bN("body",n.body,r,s,o,e),foot:bN("foot",n.foot,r,s,o,e)}}function bN(t,e,n,r,i,o){var s={},a=e.map(function(c,u){for(var l=0,m={},y=0,g=0,R=0,k=n;R<k.length;R++){var M=k[R];if(s[M.index]==null||s[M.index].left===0)if(g===0){var L=void 0;Array.isArray(c)?L=c[M.index-y-l]:L=c[M.dataKey];var Z={};typeof L=="object"&&!Array.isArray(L)&&(Z=L?.styles||{});var J=joe(t,M,u,i,r,o,Z),Y=new XB(L,J,t);m[M.dataKey]=Y,m[M.index]=Y,g=Y.colSpan-1,s[M.index]={left:Y.rowSpan-1,times:g}}else g--,y++;else s[M.index].left--,g=s[M.index].times,l++}return new ZB(c,u,t,m)});return a}function jB(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=Voe(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function Voe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Boe(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new Noe(i,e,n)})}function joe(t,e,n,r,i,o,s){var a=goe(r),c;t==="head"?c=i.headStyles:t==="body"?c=i.bodyStyles:t==="foot"&&(c=i.footStyles);var u=Bu({},a.table,a[t],i.styles,c),l=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},m=t==="body"?l:{},y=t==="body"&&n%2===0?Bu({},a.alternateRow,i.alternateRowStyles):{},g=poe(o),R=Bu({},g,u,y,m);return Bu(R,s)}function Uoe(t,e,n){var r;n===void 0&&(n={});var i=KB(t,e),o=new Map,s=[],a=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(y){var g=e.columns.find(function(R){return R.dataKey===y||R.index===y});g&&!o.has(g.index)&&(o.set(g.index,!0),s.push(g.index),a.push(e.columns[g.index]),i-=g.wrappedWidth)});for(var u=!0,l=(r=n?.start)!==null&&r!==void 0?r:0;l<e.columns.length;){if(o.has(l)){l++;continue}var m=e.columns[l].wrappedWidth;if(u||i>=m)u=!1,s.push(l),a.push(e.columns[l]),i-=m;else break;l++}return{colIndexes:s,columns:a,lastIndex:l-1}}function qoe(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=Uoe(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function tj(t,e){var n=e.settings,r=n.startY,i=n.margin,o={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+s;if(n.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(y,g){return y+g.height},0);a+=u}var l=new Mp(t);(n.pageBreak==="always"||n.startY!=null&&a>l.pageSize().height)&&(rj(l),o.y=i.top),e.callWillDrawPageHooks(l,o);var m=Bu({},o);e.startPageNumber=l.pageNumber(),n.horizontalPageBreak?zoe(l,e,m,o):(l.applyStyles(l.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(y){return ju(l,e,y,o,e.columns)}),l.applyStyles(l.userStyles),e.body.forEach(function(y,g){var R=g===e.body.length-1;Pb(l,e,y,R,m,o,e.columns)}),l.applyStyles(l.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(y){return ju(l,e,y,o,e.columns)})),GB(l,e,m,o),e.callEndPageHooks(l,o),e.finalY=o.y,t.lastAutoTable=e,l.applyStyles(l.userStyles)}function zoe(t,e,n,r){var i=qoe(t,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,l){t.applyStyles(t.userStyles),l>0?$y(t,e,n,r,u.columns,!0):UB(t,e,r,u.columns),$oe(t,e,n,r,u.columns),EN(t,e,r,u.columns)});else for(var s=-1,a=i[0],c=function(){var u=s;if(a){t.applyStyles(t.userStyles);var l=a.columns;s>=0?$y(t,e,n,r,l,!0):UB(t,e,r,l),u=qB(t,e,s+1,r,l),EN(t,e,r,l)}var m=u-s;i.slice(1).forEach(function(y){t.applyStyles(t.userStyles),$y(t,e,n,r,y.columns,!0),qB(t,e,s+1,r,y.columns,m),EN(t,e,r,y.columns)}),s=u};s<e.body.length-1;)c()}function UB(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(o){return ju(t,e,o,n,r)})}function $oe(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(o,s){var a=s===e.body.length-1;Pb(t,e,o,a,n,r,i)})}function qB(t,e,n,r,i,o){t.applyStyles(t.userStyles),o=o??e.body.length;var s=Math.min(n+o,e.body.length),a=-1;return e.body.slice(n,s).forEach(function(c,u){var l=n+u===e.body.length-1,m=nj(t,e,l,r);c.canEntireRowFit(m,i)&&(ju(t,e,c,r,i),a=n+u)}),a}function EN(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(o){return ju(t,e,o,n,r)})}function Hoe(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),o=Math.floor((e-i)/r);return Math.max(0,o)}function Goe(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var o=0,s=0,a=n.columns;s<a.length;s++){var c=a[s],u=t.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var l=new XB(u.raw,u.styles,u.section);l=Bu(l,u),l.text=[];var m=Hoe(u,e,r);u.text.length>m&&(l.text=u.text.splice(m,u.text.length));var y=r.scaleFactor(),g=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(y,g),u.contentHeight>=e&&(u.contentHeight=e,l.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),l.contentHeight=l.getContentHeight(y,g),l.contentHeight>o&&(o=l.contentHeight),i[c.index]=l}}var R=new ZB(t.raw,-1,t.section,i,!0);R.height=o;for(var k=0,M=n.columns;k<M.length;k++){var c=M[k],l=R.cells[c.index];l&&(l.height=R.height);var u=t.cells[c.index];u&&(u.height=t.height)}return R}function Woe(t,e,n,r){var i=t.pageSize().height,o=r.settings.margin,s=o.top+o.bottom,a=i-s;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,t),u=c<n;if(c>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var l=e.hasRowSpan(r.columns),m=e.getMaxCellHeight(r.columns)>a;return m?(l&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(l||r.settings.rowPageBreak==="avoid")}function Pb(t,e,n,r,i,o,s){var a=nj(t,e,r,o);if(n.canEntireRowFit(a,s))ju(t,e,n,o,s);else if(Woe(t,n,a,e)){var c=Goe(n,a,e,t);ju(t,e,n,o,s),$y(t,e,i,o,s),Pb(t,e,c,r,i,o,s)}else $y(t,e,i,o,s),Pb(t,e,n,r,i,o,s)}function ju(t,e,n,r,i){r.x=e.settings.margin.left;for(var o=0,s=i;o<s.length;o++){var a=s[o],c=n.cells[a.index];if(!c){r.x+=a.width;continue}t.applyStyles(c.styles),c.x=r.x,c.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,c,n,a,r);if(u===!1){r.x+=a.width;continue}Koe(t,c,r);var l=c.getTextPos();zB(c.text,l.x,l.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,n,a,r),r.x+=a.width}r.y+=n.height}function Koe(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=WB(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),Qoe(t,e,n,r.lineWidth))}function Qoe(t,e,n,r){var i,o,s,a;r.top&&(i=n.x,o=n.y,s=n.x+e.width,a=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,o,s,a)),r.bottom&&(i=n.x,o=n.y+e.height,s=n.x+e.width,a=n.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,o,s,a)),r.left&&(i=n.x,o=n.y,s=n.x,a=n.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(a+=.5*r.bottom),c(r.left,i,o,s,a)),r.right&&(i=n.x+e.width,o=n.y,s=n.x+e.width,a=n.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(a+=.5*r.bottom),c(r.right,i,o,s,a));function c(u,l,m,y,g){t.getDocument().setLineWidth(u),t.getDocument().line(l,m,y,g,"S")}}function nj(t,e,n,r){var i=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function $y(t,e,n,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(a){return ju(t,e,a,r,i)}),e.callEndPageHooks(t,r);var s=e.settings.margin;GB(t,e,n,r),rj(t),e.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return ju(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function rj(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function Yoe(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=JB(this,r),o=ej(this,i);return tj(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){zB(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return Mp.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Mp.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Mp(this),o=YB(i,e,window,n,!1),s=o.head,a=o.body,c=((r=s[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:c,rows:a,data:a}}}var IN;function ij(t,e){var n=JB(t,e),r=ej(t,n);tj(t,r)}try{typeof window<"u"&&window&&(TN=window,AN=TN.jsPDF||((IN=TN.jspdf)===null||IN===void 0?void 0:IN.jsPDF),AN&&Yoe(AN))}catch(t){console.error("Could not apply autoTable plugin",t)}var TN,AN;function Joe(t,e){if(t&1&&(ae(0,"div",17)(1,"p",26),we(2,"Preview:"),se(),Es(3,"img",27),se()),t&2){let n=Rt();Le(3),Zt("src",n.previewImage,bl)}}function Zoe(t,e){if(t&1&&Es(0,"img",33),t&2){let n=Rt().$implicit;Zt("alt",XT(n.name))("src",n.imageUrl,bl)}}function Xoe(t,e){if(t&1){let n=Wi();ae(0,"tr")(1,"td"),ar(2,Zoe,1,3,"img",28),se(),ae(3,"td"),we(4),se(),ae(5,"td"),we(6),se(),ae(7,"td"),we(8),se(),ae(9,"td"),we(10),se(),ae(11,"td",29)(12,"button",30),Tt("click",function(){let i=an(n).$implicit,o=Rt();return cn(o.decreaseStock(i,1))}),we(13,"-1"),se(),ae(14,"button",31),Tt("click",function(){let i=an(n).$implicit,o=Rt();return cn(o.editItem(i))}),we(15,"Edit"),se(),ae(16,"button",32),Tt("click",function(){let i=an(n).$implicit,o=Rt();return cn(o.deleteItem(i))}),we(17,"Delete"),se()()()}if(t&2){let n=e.$implicit;Le(2),Zt("ngIf",n.imageUrl),Le(2),cr(n.name),Le(2),fr("\u20B9",n.price),Le(2),cr(n.quantityAvailable),Le(2),cr(n.category)}}function ese(t,e){if(t&1){let n=Wi();ae(0,"div",34)(1,"div",35)(2,"h4"),we(3,"Edit Item"),se(),ae(4,"div",4)(5,"div",36)(6,"label"),we(7,"Name"),se(),ae(8,"input",37),Sn("ngModelChange",function(i){an(n);let o=Rt();return On(o.selectedItem.name,i)||(o.selectedItem.name=i),cn(i)}),se()(),ae(9,"div",38)(10,"label"),we(11,"Price"),se(),ae(12,"input",39),Sn("ngModelChange",function(i){an(n);let o=Rt();return On(o.selectedItem.price,i)||(o.selectedItem.price=i),cn(i)}),se()(),ae(13,"div",38)(14,"label"),we(15,"Quantity"),se(),ae(16,"input",39),Sn("ngModelChange",function(i){an(n);let o=Rt();return On(o.selectedItem.quantityAvailable,i)||(o.selectedItem.quantityAvailable=i),cn(i)}),se()(),ae(17,"div",17)(18,"input",18),Tt("change",function(i){an(n);let o=Rt();return cn(o.onFileSelected(i))}),se()(),ae(19,"div",17)(20,"p",26),we(21,"Preview:"),se(),Es(22,"img",27),se(),ae(23,"div",40)(24,"label"),we(25,"Category"),se(),ae(26,"select",41),Sn("ngModelChange",function(i){an(n);let o=Rt();return On(o.selectedItem.category,i)||(o.selectedItem.category=i),cn(i)}),ae(27,"option",13),we(28,"Veg"),se(),ae(29,"option",14),we(30,"Non-Veg"),se()()(),ae(31,"div",40)(32,"label"),we(33,"Availability"),se(),ae(34,"select",41),Sn("ngModelChange",function(i){an(n);let o=Rt();return On(o.selectedItem.isAvailable,i)||(o.selectedItem.isAvailable=i),cn(i)}),ae(35,"option",42),we(36,"Available"),se(),ae(37,"option",42),we(38,"Not Available"),se()()()(),ae(39,"div",43)(40,"button",44),Tt("click",function(){an(n);let i=Rt();return cn(i.updateItem())}),we(41,"Update"),se(),ae(42,"button",45),Tt("click",function(){an(n);let i=Rt();return cn(i.cancelEdit())}),we(43,"Cancel"),se()()()()}if(t&2){let n=Rt();Le(8),An("ngModel",n.selectedItem.name),Le(4),An("ngModel",n.selectedItem.price),Le(4),An("ngModel",n.selectedItem.quantityAvailable),Le(6),Zt("src",n.selectedItem.imageUrl,bl),Le(4),An("ngModel",n.selectedItem.category),Le(8),An("ngModel",n.selectedItem.isAvailable),Le(),Zt("value",!0),Le(2),Zt("value",!1)}}var Mb=class t{constructor(e,n){this.firebaseService=e;this.router=n;this.loadItems()}menuItems=Hi([]);selectedItem=null;lastMonthData;lastMonthDaily=[];newItem={name:"",description:"",price:0,category:"",quantityAvailable:0,imageUrl:""};selectedFile=null;previewImage=null;loading=Hi(!1);async loadLastMonthSales(){let e=await this.firebaseService.getLastMonthStats();this.lastMonthData=e,this.lastMonthDaily=Object.keys(e.daily).map(n=>({date:n,revenue:e.daily[n]}))}async loadItems(){try{let e=await this.firebaseService.getMenuItems();this.menuItems.set(e);let n=await this.firebaseService.getLastMonthStats();this.lastMonthData=n,this.lastMonthDaily=Object.keys(n.daily).map(r=>({date:r,revenue:n.daily[r]}))}catch(e){console.error("Load items error",e)}}emailReport(){}downloadPDF(){let e=new yt;e.text("Chanmura Restaurant - Last Month Report",10,10),ij(e,{head:[["Date","Revenue"]],body:this.lastMonthDaily.map(n=>[n.date,n.revenue.toString()])}),e.save("Monthly_Sales_Report.pdf")}goToDashboard(){this.router.navigate(["/dashboard"])}goToExpenses(){this.router.navigate(["/expenses"])}onFileSelected(e){if(!e?.target?.files?.length)return;this.selectedFile=e.target.files[0];let n=new FileReader;n.onload=()=>{this.previewImage=n.result,this.newItem.imageUrl=this.previewImage},n.readAsDataURL(this.selectedFile)}async addMenuItem(){if(!this.newItem.name||!this.newItem.price||this.newItem.quantityAvailable==null){alert("Please fill name, price and quantity");return}this.loading.set(!0);try{let e=this.newItem.imageUrl||"",n={name:this.newItem.name,description:this.newItem.description||"",price:Number(this.newItem.price),category:this.newItem.category||"",imageUrl:e,quantityAvailable:Number(this.newItem.quantityAvailable),isAvailable:!0,quantity:0};await this.firebaseService.addMenuItem(n),this.newItem={name:"",description:"",price:0,category:"",quantityAvailable:0,imageUrl:""},this.selectedFile=null,this.previewImage=null,await this.loadItems()}catch(e){console.error("Add item error",e),alert("Failed to add item")}finally{this.loading.set(!1)}}async deleteItem(e){e.id&&confirm(`Delete "${e.name}"?`)&&(await this.firebaseService.deleteMenuItem(e.id),await this.loadItems())}editItem(e){this.selectedItem=Oe({},e)}cancelEdit(){this.selectedItem=null,this.previewImage=null}async updateItem(){!this.selectedItem||!this.selectedItem.id||(this.newItem.imageUrl&&(this.selectedItem.imageUrl=this.newItem.imageUrl),await this.firebaseService.updateMenuItem(this.selectedItem.id,this.selectedItem),alert("Item updated successfully!"),this.selectedItem=null,this.newItem={name:"",description:"",price:0,category:"",quantityAvailable:0,imageUrl:""},this.selectedFile=null,this.previewImage=null,this.loadItems())}async decreaseStock(e,n=1){if(!e.id)return;let r=Math.max(0,(e.quantityAvailable||0)-n);await this.firebaseService.updateMenuItem(e.id,{quantityAvailable:r}),await this.loadItems()}static \u0275fac=function(n){return new(n||t)(st(ma),st(sa))};static \u0275cmp=Gi({type:t,selectors:[["app-admin-dashboard"]],decls:54,vars:10,consts:[[1,"admin","container","mt-4"],[1,"mb-4"],[1,"btn","btn-primary",3,"click"],[1,"card","p-3","mb-4"],[1,"row","g-2"],[1,"col-12","col-md-4"],["name","name","placeholder","Name",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-6","col-md-2"],["type","number","placeholder","Enter Price","name","price",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","Enter Quantity","name","quantityAvailable",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-2"],["name","category",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled",""],["value","Veg"],["value","Non-Veg"],[1,"col-12","mt-2"],["name","desc","placeholder","Description",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6","mt-2"],["type","file","accept","image/*",1,"form-control",3,"change"],["class","col-12 col-md-6 mt-2",4,"ngIf"],[1,"col-12","mt-3","text-end"],[1,"btn","btn-primary",3,"click","disabled"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["class","card mt-3",4,"ngIf"],[1,"mb-1"],["alt","preview",1,"img-preview",3,"src"],["width","60",3,"src","alt",4,"ngIf"],[1,"text-nowrap"],[1,"btn","btn-sm","btn-warning","me-1","mb-1",3,"click"],[1,"btn","btn-sm","btn-primary","me-1","mb-1",3,"click"],[1,"btn","btn-sm","btn-danger","mb-1",3,"click"],["width","60",3,"src","alt"],[1,"card","mt-3"],[1,"card-body"],[1,"col-12","col-md-6"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-6","col-md-3"],["type","number",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-6","col-md-3","mt-2"],[1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],[1,"mt-3"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(n,r){n&1&&(ae(0,"div",0)(1,"h2",1),we(2,"Admin Dashboard"),se(),ae(3,"button",2),Tt("click",function(){return r.goToDashboard()}),we(4,"\u{1F4CA} Sales Dashboard"),se(),ae(5,"button",2),Tt("click",function(){return r.goToExpenses()}),we(6,"\u{1F4CA} Expenses Dashboard"),se(),ae(7,"div",3)(8,"h5"),we(9,"Add / Upload Menu Item"),se(),ae(10,"div",4)(11,"div",5)(12,"input",6),Sn("ngModelChange",function(o){return On(r.newItem.name,o)||(r.newItem.name=o),o}),se()(),ae(13,"div",7)(14,"input",8),Tt("ngModelChange",function(o){return r.newItem.price=o}),se()(),ae(15,"div",7)(16,"input",9),Tt("ngModelChange",function(o){return r.newItem.quantityAvailable=o}),se()(),ae(17,"div",10)(18,"select",11),Sn("ngModelChange",function(o){return On(r.newItem.category,o)||(r.newItem.category=o),o}),ae(19,"option",12),we(20,"Select Category"),se(),ae(21,"option",13),we(22,"Veg"),se(),ae(23,"option",14),we(24,"Non-Veg"),se()()(),ae(25,"div",15)(26,"textarea",16),Sn("ngModelChange",function(o){return On(r.newItem.description,o)||(r.newItem.description=o),o}),se()(),ae(27,"div",17)(28,"input",18),Tt("change",function(o){return r.onFileSelected(o)}),se()(),ar(29,Joe,4,1,"div",19),ae(30,"div",20)(31,"button",21),Tt("click",function(){return r.addMenuItem()}),we(32),se()()()(),ae(33,"h5"),we(34,"Menu Items"),se(),ae(35,"div",22)(36,"table",23)(37,"thead")(38,"tr")(39,"th"),we(40,"Image"),se(),ae(41,"th"),we(42,"Name"),se(),ae(43,"th"),we(44,"Price"),se(),ae(45,"th"),we(46,"Qty"),se(),ae(47,"th"),we(48,"Category"),se(),ae(49,"th"),we(50,"Actions"),se()()(),ae(51,"tbody"),ar(52,Xoe,18,5,"tr",24),se()()(),ar(53,ese,44,8,"div",25),se()),n&2&&(Le(12),An("ngModel",r.newItem.name),Le(2),Zt("ngModel",r.newItem.price===0?"":r.newItem.price),Le(2),Zt("ngModel",r.newItem.quantityAvailable===0?"":r.newItem.quantityAvailable),Le(2),An("ngModel",r.newItem.category),Le(8),An("ngModel",r.newItem.description),Le(3),Zt("ngIf",r.previewImage),Le(2),Zt("disabled",r.loading()),Le(),fr(" ",r.loading()?"Saving...":"Add Menu Item"," "),Le(20),Zt("ngForOf",r.menuItems()),Le(),Zt("ngIf",r.selectedItem))},dependencies:[Po,oa,Va,Xo,K0,Q0,Zo,yu,Af,aa,Cs],styles:[".admin[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 6px #0000000f}.img-preview[_ngcontent-%COMP%]{max-width:120px;border:1px solid #ddd;border-radius:6px;object-fit:cover}input[type=number][_ngcontent-%COMP%]::placeholder{opacity:1!important}@media(max-width:576px){.text-end[_ngcontent-%COMP%]{text-align:center!important}.text-nowrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem}}"]})};function tse(t,e){t&1&&(ae(0,"h1"),we(1,"Still no orders Today"),se())}function nse(t,e){if(t&1&&(ae(0,"tr")(1,"td"),we(2),se(),ae(3,"td"),we(4),se(),ae(5,"td"),we(6),se(),ae(7,"td"),we(8),se()()),t&2){let n=e.$implicit;Le(2),cr(n.name),Le(2),cr(n.quantity),Le(2),fr("\u20B9",n.price),Le(2),fr("\u20B9",n.totalPrice)}}function rse(t,e){if(t&1&&(ae(0,"tr",15)(1,"td",16)(2,"h5"),we(3,"\u{1F6D2} Items"),se(),ae(4,"div",9)(5,"table",17)(6,"thead")(7,"tr")(8,"th"),we(9,"Item Name"),se(),ae(10,"th"),we(11,"Qty"),se(),ae(12,"th"),we(13,"Price"),se(),ae(14,"th"),we(15,"Total"),se()()(),ae(16,"tbody"),ar(17,nse,9,4,"tr",12),se()()()()()),t&2){let n=Rt().$implicit;Le(17),Zt("ngForOf",n.items)}}function ise(t,e){if(t&1){let n=Wi();Ad(0),ae(1,"tr")(2,"td"),we(3),se(),ae(4,"td"),we(5),se(),ae(6,"td"),we(7),se(),ae(8,"td")(9,"strong"),we(10),se()(),ae(11,"td"),we(12),Ro(13,"date"),se(),ae(14,"td")(15,"button",13),Tt("click",function(){let i=an(n).$implicit;return cn(i.showItems=!i.showItems)}),we(16),se()()(),ar(17,rse,18,1,"tr",14),Sd()}if(t&2){let n=e.$implicit;Le(3),cr(n.orderId),Le(2),cr(n.customerName),Le(2),cr(n.mobileNumber),Le(3),fr("\u20B9",n.totalAmount),Le(2),cr(sf(13,7,n.createdAt,"shortTime")),Le(4),fr(" ",n.showItems?"Hide":"View"," Items "),Le(),Zt("ngIf",n.showItems)}}function ose(t,e){if(t&1&&(ae(0,"div",9)(1,"table",10)(2,"thead",11)(3,"tr")(4,"th"),we(5,"Order ID"),se(),ae(6,"th"),we(7,"Name"),se(),ae(8,"th"),we(9,"Mobile"),se(),ae(10,"th"),we(11,"Total Amount"),se(),ae(12,"th"),we(13,"Time"),se(),ae(14,"th"),we(15,"Items"),se()()(),ae(16,"tbody"),ar(17,ise,18,10,"ng-container",12),Ro(18,"async"),se()()()),t&2){let n=Rt();Le(17),Zt("ngForOf",La(18,1,n.filteredOrders$))}}var Ob=class t{constructor(e){this.firebaseService=e;this.loadOrdersByDate()}selectedDate="";today=new Date;filteredOrders$;totalRevenue$;loadOrdersByDate(){let e=this.firebaseService.getOrderbyDate(this.selectedDate).pipe(gn(n=>n.map(r=>Ot(Oe({},r),{createdAt:r.createdAt?.toDate?r.createdAt.toDate():new Date(r.createdAt),showItems:!1})).sort((r,i)=>Number(r.orderId)-Number(i.orderId))));this.filteredOrders$=e,this.totalRevenue$=e.pipe(gn(n=>n.reduce((r,i)=>r+Number(i.totalAmount||0),0)))}static \u0275fac=function(n){return new(n||t)(st(ma))};static \u0275cmp=Gi({type:t,selectors:[["app-sales-dashboard"]],decls:27,vars:24,consts:[[1,"dashboard"],[1,"date-filter","mb-3"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"stats-card"],[1,"amount"],[1,"orders","mt-4"],[1,"text-primary"],[4,"ngIf"],["class","table-scroll",4,"ngIf"],[1,"table-scroll"],[1,"table","table-bordered","table-striped"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-primary",3,"click"],["class","table-light",4,"ngIf"],[1,"table-light"],["colspan","6"],[1,"table","table-sm"]],template:function(n,r){if(n&1&&(ae(0,"div",0)(1,"h2"),we(2,"\u{1F4CA} Sales Dashboard"),se(),ae(3,"div",1)(4,"label"),we(5,"Select Date:"),se(),ae(6,"input",2),Sn("ngModelChange",function(o){return On(r.selectedDate,o)||(r.selectedDate=o),o}),Tt("ngModelChange",function(){return r.loadOrdersByDate()}),se()(),ae(7,"div",3)(8,"h3"),we(9),Ro(10,"date"),se(),ae(11,"p",4),we(12),Ro(13,"async"),se()(),ae(14,"div",5)(15,"h3"),we(16," Orders for: "),ae(17,"span",6),we(18),Ro(19,"date"),Ro(20,"date"),se(),we(21),Ro(22,"async"),se(),ar(23,tse,2,0,"h1",7),Ro(24,"async"),ar(25,ose,19,3,"div",8),Ro(26,"async"),se()()),n&2){let i,o,s;Le(6),An("ngModel",r.selectedDate),Le(3),fr("Total Revenue (",r.selectedDate?sf(10,7,r.selectedDate,"dd MMM yyyy"):"Today",")"),Le(3),fr("\u20B9 ",La(13,10,r.totalRevenue$)),Le(6),fr(" ",r.selectedDate?sf(19,12,r.selectedDate,"dd MMM yyyy"):sf(20,15,r.today,"dd MMM yyyy")," "),Le(3),fr(" (",((i=La(22,18,r.filteredOrders$))==null?null:i.length)||0,") "),Le(2),Zt("ngIf",((o=La(24,20,r.filteredOrders$))==null?null:o.length)===0),Le(2),Zt("ngIf",(((s=La(26,22,r.filteredOrders$))==null?null:s.length)??0)>0)}},dependencies:[Po,oa,Va,Xo,Zo,aa,Cs,$g,gA],styles:[".dashboard[_ngcontent-%COMP%]{padding:1rem;font-family:Arial,sans-serif}.date-filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.stats-card[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:1rem;margin-bottom:1rem;border-radius:6px}.amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-top:.5rem}.orders[_ngcontent-%COMP%]{width:100%}.table-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:600px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.5rem;text-align:left}.table-dark[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}.table-light[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#f8f9fa}@media screen and (max-width:768px){.date-filter[_ngcontent-%COMP%]{flex-direction:column}.stats-card[_ngcontent-%COMP%]{font-size:.9rem}table[_ngcontent-%COMP%]{font-size:.85rem;min-width:500px}.btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem}}"]})};var Lb=class t{constructor(e){this.firebase=e}formatDate(e){return e.toISOString().split("T")[0]}getExpensesByDate(e){let n=Ul(this.firebase.db,`expenses/${e}/entries`);return H1(n,{idField:"id"})}async addExpense(e){let n=this.formatDate(e.createdAt),r=Ul(this.firebase.db,`expenses/${n}/entries`),i=Date.now().toString();await Q3(Qa(r,i),e)}async updateExpense(e,n,r){await S1(Qa(this.firebase.db,`expenses/${e}/entries/${n}`),r)}async deleteExpense(e,n){await C1(Qa(this.firebase.db,`expenses/${e}/entries/${n}`))}static \u0275fac=function(n){return new(n||t)(Lt(ma))};static \u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"})};function ase(t,e){if(t&1){let n=Wi();Ad(0),ae(1,"td"),we(2),se(),ae(3,"td"),we(4),se(),ae(5,"td"),we(6),se(),ae(7,"td")(8,"button",12),Tt("click",function(){an(n);let i=Rt().$implicit,o=Rt(2);return cn(o.editExpense(i))}),we(9,"Edit"),se(),we(10,"\xA0 "),ae(11,"button",13),Tt("click",function(){an(n);let i=Rt().$implicit,o=Rt(2);return cn(o.removeExpense(i.id))}),we(12,"Delete"),se()(),Sd()}if(t&2){let n=Rt().$implicit;Le(2),cr(n.title),Le(2),fr("\u20B9",n.amount),Le(2),cr(n.note)}}function cse(t,e){if(t&1){let n=Wi();Ad(0),ae(1,"td")(2,"input",14),Sn("ngModelChange",function(i){an(n);let o=Rt(3);return On(o.editingItem.title,i)||(o.editingItem.title=i),cn(i)}),se()(),ae(3,"td")(4,"input",15),Sn("ngModelChange",function(i){an(n);let o=Rt(3);return On(o.editingItem.amount,i)||(o.editingItem.amount=i),cn(i)}),se()(),ae(5,"td")(6,"input",14),Sn("ngModelChange",function(i){an(n);let o=Rt(3);return On(o.editingItem.note,i)||(o.editingItem.note=i),cn(i)}),se()(),ae(7,"td")(8,"button",16),Tt("click",function(){an(n);let i=Rt(3);return cn(i.saveEdit())}),we(9,"Save"),se(),we(10,"\xA0 "),ae(11,"button",17),Tt("click",function(){an(n);let i=Rt(3);return cn(i.editingItem=null)}),we(12,"Cancel"),se()(),Sd()}if(t&2){let n=Rt(3);Le(2),An("ngModel",n.editingItem.title),Le(2),An("ngModel",n.editingItem.amount),Le(2),An("ngModel",n.editingItem.note)}}function use(t,e){if(t&1&&(ae(0,"tr"),ar(1,ase,13,3,"ng-container",11)(2,cse,13,3,"ng-container",11),se()),t&2){let n=e.$implicit,r=Rt(2);Le(),Zt("ngIf",(r.editingItem==null?null:r.editingItem.id)!==n.id),Le(),Zt("ngIf",(r.editingItem==null?null:r.editingItem.id)===n.id)}}function lse(t,e){if(t&1&&(ae(0,"table",9)(1,"thead")(2,"tr")(3,"th"),we(4,"Title"),se(),ae(5,"th"),we(6,"Amount"),se(),ae(7,"th"),we(8,"Note"),se(),ae(9,"th"),we(10,"Action"),se()()(),ae(11,"tbody"),ar(12,use,3,2,"tr",10),Ro(13,"async"),se()()),t&2){let n=Rt();Le(12),Zt("ngForOf",La(13,1,n.expenses$))}}var Fb=class t{constructor(e){this.expensesService=e}selectedDate="";expenses$;totalExpense$;newExpense={title:"",amount:0,note:""};editingItem=null;ngOnInit(){this.selectedDate=new Date().toISOString().split("T")[0],this.loadExpenses()}loadExpenses(){if(!this.selectedDate)return;let e=this.expensesService.getExpensesByDate(this.selectedDate).pipe(gn(n=>n.map(r=>Ot(Oe({},r),{createdAt:r.createdAt?.toDate?r.createdAt.toDate():new Date(r.createdAt),showItems:!1})).sort((r,i)=>Number(r.orderId)-Number(i.orderId))));this.expenses$=e,this.totalExpense$=e.pipe(gn(n=>n.reduce((r,i)=>r+Number(i.totalAmount||0),0)))}async addExpense(){let e={createdAt:new Date(this.selectedDate),title:this.newExpense.title,amount:this.newExpense.amount,note:this.newExpense.note};await this.expensesService.addExpense(e),this.newExpense={title:"",amount:0,note:""}}editExpense(e){this.editingItem=Oe({},e)}async saveEdit(){await this.expensesService.updateExpense(this.selectedDate,this.editingItem.id,this.editingItem),this.editingItem=null}async removeExpense(e){await this.expensesService.deleteExpense(this.selectedDate,e)}static \u0275fac=function(n){return new(n||t)(st(Lb))};static \u0275cmp=Gi({type:t,selectors:[["app-expenses"]],decls:20,vars:10,consts:[[1,"container","mt-3"],[1,"mb-3"],["type","date",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"card","p-3","mb-3"],["type","text","placeholder","Expense Title",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["type","number","placeholder","Amount",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["placeholder","Note",1,"form-control","mb-2",3,"ngModelChange","ngModel"],[1,"btn","btn-success",3,"click"],["class","table",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"form-control",3,"ngModelChange","ngModel"],["type","number",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-secondary",3,"click"]],template:function(n,r){if(n&1&&(ae(0,"div",0)(1,"h3",1),we(2,"Store Expenses"),se(),ae(3,"div",1)(4,"label"),we(5,"Select Date:"),se(),ae(6,"input",2),Sn("ngModelChange",function(o){return On(r.selectedDate,o)||(r.selectedDate=o),o}),Tt("change",function(){return r.loadExpenses()}),se()(),ae(7,"div",3)(8,"h5"),we(9,"Add Expense"),se(),ae(10,"input",4),Sn("ngModelChange",function(o){return On(r.newExpense.title,o)||(r.newExpense.title=o),o}),se(),ae(11,"input",5),Sn("ngModelChange",function(o){return On(r.newExpense.amount,o)||(r.newExpense.amount=o),o}),se(),ae(12,"textarea",6),Sn("ngModelChange",function(o){return On(r.newExpense.note,o)||(r.newExpense.note=o),o}),se(),ae(13,"button",7),Tt("click",function(){return r.addExpense()}),we(14,"Add"),se()(),ae(15,"h5"),we(16),Ro(17,"async"),se(),ar(18,lse,14,3,"table",8),Ro(19,"async"),se()),n&2){let i;Le(6),An("ngModel",r.selectedDate),Le(4),An("ngModel",r.newExpense.title),Le(),An("ngModel",r.newExpense.amount),Le(),An("ngModel",r.newExpense.note),Le(4),fr("Total Expense: \u20B9",La(17,6,r.totalExpense$)),Le(2),Zt("ngIf",(((i=La(19,8,r.expenses$))==null?null:i.length)??0)>0)}},dependencies:[Po,oa,Va,Xo,Zo,yu,aa,Cs,$g],encapsulation:2})};var oj=[{path:"",redirectTo:"menu",pathMatch:"full"},{path:"menu",component:G1},{path:"cart",component:W1},{path:"table-order",component:Q1},{path:"admin",component:Mb},{path:"dashboard",component:Ob},{path:"expenses",component:Fb},{path:"**",redirectTo:"menu"}];var Vb=class t{constructor(e){this.cartService=e}title="Chanmura";cartCount=0;ngOnInit(){this.cartService.cartCount$.subscribe(e=>{this.cartCount=e})}static \u0275fac=function(n){return new(n||t)(st(ca))};static \u0275cmp=Gi({type:t,selectors:[["app-root"]],decls:21,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["routerLink","/menu","routerLinkActive","active",1,"nav-link"],["routerLink","/cart","routerLinkActive","active",1,"nav-link"],[1,"badge","bg-danger","ms-1"],["routerLink","/admin","routerLinkActive","active",1,"nav-link"],[1,"container","mt-4"]],template:function(n,r){n&1&&(ae(0,"nav",0)(1,"div",1)(2,"a",2),we(3,"Naveen's Delhi Malai Chaap Resturant"),se(),ae(4,"button",3),Es(5,"span",4),se(),ae(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),we(10,"Menu"),se()(),ae(11,"li",7)(12,"a",9),we(13," Cart "),ae(14,"span",10),we(15),se()()(),ae(16,"li",7)(17,"a",11),we(18,"Admin Dashboard"),se()()()()()(),ae(19,"div",12),Es(20,"router-outlet"),se()),n&2&&(Le(15),fr(" ",r.cartCount," "))},dependencies:[lm,Ef,KA,Po],styles:[".cart-badge[_ngcontent-%COMP%]{font-size:11px;position:absolute;top:2px;right:8%;padding:4px 6px;animation:_ngcontent-%COMP%_pop .3s ease-out}@keyframes _ngcontent-%COMP%_pop{0%{transform:scale(.5)}70%{transform:scale(1.3)}to{transform:scale(1)}}"]})};var sj={production:!1,firebaseConfig:{apiKey:"AIzaSyBCEL0W095bO9QdRfWp68FzjIYbTVlu6fw",authDomain:"chanmuraresturantui.firebaseapp.com",projectId:"chanmuraresturantui",storageBucket:"chanmuraresturantui.firebasestorage.app",messagingSenderId:"396550554524",appId:"1:396550554524:web:9cf1983e2842dcb5b03e59"}};TA(Vb,{providers:[QA(oj),Zv(AA,Xo),ML(()=>OL(sj.firebaseConfig)),JV(()=>ZV())]});
