import{a as nr}from"./chunk-FK6H3RFT.js";import{a as Me,b as Mt}from"./chunk-KAT7YFEL.js";var uo=null,Ev=!1,wE=1,DU=null,Ro=Symbol("SIGNAL");function rn(t){let e=uo;return uo=t,e}function Tv(){return uo}var og={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function sg(t){if(Ev)throw new Error("");if(uo===null)return;uo.consumerOnSignalRead(t);let e=uo.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=uo.recomputing;if(r&&(n=e!==void 0?e.nextProducer:uo.producers,n!==void 0&&n.producer===t)){uo.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===uo&&(!r||NU(i,uo)))return;let o=jh(uo),s={producer:t,consumer:uo,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};uo.producersTail=s,e!==void 0?e.nextProducer=s:uo.producers=s,o&&zR(t,s)}function jR(){wE++}function bE(t){if(!(jh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===wE)){if(!t.producerMustRecompute(t)&&!Av(t)){_E(t);return}t.producerRecomputeValue(t),_E(t)}}function EE(t){if(t.consumers===void 0)return;let e=Ev;Ev=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||xU(r)}}finally{Ev=e}}function IE(){return uo?.consumerAllowSignalWrites!==!1}function xU(t){t.dirty=!0,EE(t),t.consumerMarkedDirty?.(t)}function _E(t){t.dirty=!1,t.lastCleanEpoch=wE}function ag(t){return t&&UR(t),rn(t)}function UR(t){t.producersTail=void 0,t.recomputing=!0}function Sv(t,e){rn(e),t&&qR(t)}function qR(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(jh(t))do n=TE(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Av(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(bE(n),r!==n.version))return!0}return!1}function cg(t){if(jh(t)){let e=t.producers;for(;e!==void 0;)e=TE(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function zR(t,e){let n=t.consumersTail,r=jh(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)zR(i.producer,i)}function TE(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!jh(e)){let o=e.producers;for(;o!==void 0;)o=TE(o)}return n}function jh(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function SE(t){DU?.(t)}function NU(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function AE(t,e){return Object.is(t,e)}function Cv(t,e){let n=Object.create(RU);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(bE(n),sg(n),n.value===Iv)throw n.error;return n.value};return r[Ro]=n,SE(n),r}var yE=Symbol("UNSET"),vE=Symbol("COMPUTING"),Iv=Symbol("ERRORED"),RU=Mt(Me({},og),{value:yE,dirty:!0,error:null,equal:AE,kind:"computed",producerMustRecompute(t){return t.value===yE||t.value===vE},producerRecomputeValue(t){if(t.value===vE)throw new Error("");let e=t.value;t.value=vE;let n=ag(t),r,i=!1;try{r=t.computation(),rn(null),i=e!==yE&&e!==Iv&&r!==Iv&&t.equal(e,r)}catch(o){r=Iv,t.error=o}finally{Sv(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function PU(){throw new Error}var $R=PU;function HR(t){$R(t)}function CE(t){$R=t}var kU=null;function DE(t,e){let n=Object.create(Dv);n.value=t,e!==void 0&&(n.equal=e);let r=()=>GR(n);return r[Ro]=n,SE(n),[r,s=>ug(n,s),s=>WR(n,s)]}function GR(t){return sg(t),t.value}function ug(t,e){IE()||HR(t),t.equal(t.value,e)||(t.value=e,MU(t))}function WR(t,e){IE()||HR(t),ug(t,e(t.value))}var Dv=Mt(Me({},og),{equal:AE,value:void 0,kind:"signal"});function MU(t){t.version++,jR(),EE(t),kU?.(t)}function xE(t){let e=rn(null);try{return t()}finally{rn(e)}}function Zt(t){return typeof t=="function"}function Uh(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var xv=Uh(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fd(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ai=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Zt(r))try{r()}catch(o){e=o instanceof xv?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{KR(o)}catch(s){e=e??[],s instanceof xv?e=[...e,...s.errors]:e.push(s)}}if(e)throw new xv(e)}}add(e){var n;if(e&&e!==this)if(this.closed)KR(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fd(n,e)}remove(e){let{_finalizers:n}=this;n&&fd(n,e),e instanceof t&&e._removeParent(this)}};Ai.EMPTY=(()=>{let t=new Ai;return t.closed=!0,t})();var NE=Ai.EMPTY;function Nv(t){return t instanceof Ai||t&&"closed"in t&&Zt(t.remove)&&Zt(t.add)&&Zt(t.unsubscribe)}function KR(t){Zt(t)?t():t.unsubscribe()}var ka={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qh={setTimeout(t,e,...n){let{delegate:r}=qh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=qh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Rv(t){qh.setTimeout(()=>{let{onUnhandledError:e}=ka;if(e)e(t);else throw t})}function lg(){}var QR=RE("C",void 0,void 0);function YR(t){return RE("E",void 0,t)}function JR(t){return RE("N",t,void 0)}function RE(t,e,n){return{kind:t,value:e,error:n}}var pd=null;function zh(t){if(ka.useDeprecatedSynchronousErrorHandling){let e=!pd;if(e&&(pd={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=pd;if(pd=null,n)throw r}}else t()}function ZR(t){ka.useDeprecatedSynchronousErrorHandling&&pd&&(pd.errorThrown=!0,pd.error=t)}var gd=class extends Ai{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Nv(e)&&e.add(this)):this.destination=FU}static create(e,n,r){return new $h(e,n,r)}next(e){this.isStopped?kE(JR(e),this):this._next(e)}error(e){this.isStopped?kE(YR(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?kE(QR,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},OU=Function.prototype.bind;function PE(t,e){return OU.call(t,e)}var ME=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Pv(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Pv(r)}else Pv(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Pv(n)}}},$h=class extends gd{constructor(e,n,r){super();let i;if(Zt(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ka.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&PE(e.next,o),error:e.error&&PE(e.error,o),complete:e.complete&&PE(e.complete,o)}):i=e}this.destination=new ME(i)}};function Pv(t){ka.useDeprecatedSynchronousErrorHandling?ZR(t):Rv(t)}function LU(t){throw t}function kE(t,e){let{onStoppedNotification:n}=ka;n&&qh.setTimeout(()=>n(t,e))}var FU={closed:!0,next:lg,error:LU,complete:lg};var Hh=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ma(t){return t}function kv(...t){return OE(t)}function OE(t){return t.length===0?Ma:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var sn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=BU(n)?n:new $h(n,r,i);return zh(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=XR(r),new r((i,o)=>{let s=new $h({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Hh](){return this}pipe(...n){return OE(n)(this)}toPromise(n){return n=XR(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function XR(t){var e;return(e=t??ka.Promise)!==null&&e!==void 0?e:Promise}function VU(t){return t&&Zt(t.next)&&Zt(t.error)&&Zt(t.complete)}function BU(t){return t&&t instanceof gd||VU(t)&&Nv(t)}function jU(t){return Zt(t?.lift)}function Qn(t){return e=>{if(jU(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Yn(t,e,n,r,i){return new LE(t,e,n,r,i)}var LE=class extends gd{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var e5=Uh(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ni=(()=>{class t extends sn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Mv(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new e5}next(n){zh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){zh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?NE:(this.currentObservers=null,o.push(n),new Ai(()=>{this.currentObservers=null,fd(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new sn;return n.source=this,n}}return t.create=(e,n)=>new Mv(e,n),t})(),Mv=class extends ni{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:NE}};var ri=class extends ni{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var FE={now(){return(FE.delegate||Date).now()},delegate:void 0};var Ov=class extends Ai{constructor(e,n){super()}schedule(e,n=0){return this}};var dg={setInterval(t,e,...n){let{delegate:r}=dg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=dg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Gh=class extends Ov{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return dg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&dg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fd(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Wh=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Wh.now=FE.now;var Kh=class extends Wh{constructor(e,n=Wh.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var VE=new Kh(Gh);var Lv=class extends Gh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Fv=class extends Kh{};var BE=new Fv(Lv);var Yo=new sn(t=>t.complete());function t5(t){return t&&Zt(t.schedule)}function n5(t){return t[t.length-1]}function Vv(t){return Zt(n5(t))?t.pop():void 0}function ll(t){return t5(n5(t))?t.pop():void 0}function jE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function i5(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(m){s(m)}}function c(l){try{u(r.throw(l))}catch(m){s(m)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function r5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function md(t){return this instanceof md?(this.v=t,this):new md(t)}function o5(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(R){return Promise.resolve(R).then(g,m)}}function a(g,R){r[g]&&(i[g]=function(k){return new Promise(function(M,L){o.push([g,k,M,L])>1||c(g,k)})},R&&(i[g]=R(i[g])))}function c(g,R){try{u(r[g](R))}catch(k){y(o[0][3],k)}}function u(g){g.value instanceof md?Promise.resolve(g.value.v).then(l,m):y(o[0][2],g)}function l(g){c("next",g)}function m(g){c("throw",g)}function y(g,R){g(R),o.shift(),o.length&&c(o[0][0],o[0][1])}}function s5(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof r5=="function"?r5(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Bv=t=>t&&typeof t.length=="number"&&typeof t!="function";function jv(t){return Zt(t?.then)}function Uv(t){return Zt(t[Hh])}function qv(t){return Symbol.asyncIterator&&Zt(t?.[Symbol.asyncIterator])}function zv(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function UU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $v=UU();function Hv(t){return Zt(t?.[$v])}function Gv(t){return o5(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield md(n.read());if(i)return yield md(void 0);yield yield md(r)}}finally{n.releaseLock()}})}function Wv(t){return Zt(t?.getReader)}function ii(t){if(t instanceof sn)return t;if(t!=null){if(Uv(t))return qU(t);if(Bv(t))return zU(t);if(jv(t))return $U(t);if(qv(t))return a5(t);if(Hv(t))return HU(t);if(Wv(t))return GU(t)}throw zv(t)}function qU(t){return new sn(e=>{let n=t[Hh]();if(Zt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zU(t){return new sn(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function $U(t){return new sn(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Rv)})}function HU(t){return new sn(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function a5(t){return new sn(e=>{WU(t,e).catch(n=>e.error(n))})}function GU(t){return a5(Gv(t))}function WU(t,e){var n,r,i,o;return i5(this,void 0,void 0,function*(){try{for(n=s5(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Jo(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function dl(t,e=0){return Qn((n,r)=>{n.subscribe(Yn(r,i=>Jo(r,t,()=>r.next(i),e),()=>Jo(r,t,()=>r.complete(),e),i=>Jo(r,t,()=>r.error(i),e)))})}function hl(t,e=0){return Qn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function c5(t,e){return ii(t).pipe(hl(e),dl(e))}function u5(t,e){return ii(t).pipe(hl(e),dl(e))}function l5(t,e){return new sn(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function d5(t,e){return new sn(n=>{let r;return Jo(n,e,()=>{r=t[$v](),Jo(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Zt(r?.return)&&r.return()})}function Kv(t,e){if(!t)throw new Error("Iterable cannot be null");return new sn(n=>{Jo(n,e,()=>{let r=t[Symbol.asyncIterator]();Jo(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function h5(t,e){return Kv(Gv(t),e)}function f5(t,e){if(t!=null){if(Uv(t))return c5(t,e);if(Bv(t))return l5(t,e);if(jv(t))return u5(t,e);if(qv(t))return Kv(t,e);if(Hv(t))return d5(t,e);if(Wv(t))return h5(t,e)}throw zv(t)}function _r(t,e){return e?f5(t,e):ii(t)}function on(...t){let e=ll(t);return _r(t,e)}function UE(t,e){let n=Zt(t)?t:()=>t,r=i=>i.error(n());return new sn(e?i=>e.schedule(r,0,i):r)}function Qv(t){return!!t&&(t instanceof sn||Zt(t.lift)&&Zt(t.subscribe))}var yd=Uh(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function bn(t,e){return Qn((n,r)=>{let i=0;n.subscribe(Yn(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:KU}=Array;function QU(t,e){return KU(e)?t(...e):t(e)}function Yv(t){return bn(e=>QU(t,e))}var{isArray:YU}=Array,{getPrototypeOf:JU,prototype:ZU,keys:XU}=Object;function Jv(t){if(t.length===1){let e=t[0];if(YU(e))return{args:e,keys:null};if(e7(e)){let n=XU(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function e7(t){return t&&typeof t=="object"&&JU(t)===ZU}function Zv(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Xv(...t){let e=ll(t),n=Vv(t),{args:r,keys:i}=Jv(t);if(r.length===0)return _r([],e);let o=new sn(t7(r,e,i?s=>Zv(i,s):Ma));return n?o.pipe(Yv(n)):o}function t7(t,e,n=Ma){return r=>{p5(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)p5(e,()=>{let u=_r(t[c],e),l=!1;u.subscribe(Yn(r,m=>{o[c]=m,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function p5(t,e,n){t?Jo(n,t,e):e()}function g5(t,e,n,r,i,o,s,a){let c=[],u=0,l=0,m=!1,y=()=>{m&&!c.length&&!u&&e.complete()},g=k=>u<r?R(k):c.push(k),R=k=>{o&&e.next(k),u++;let M=!1;ii(n(k,l++)).subscribe(Yn(e,L=>{i?.(L),o?g(L):e.next(L)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;c.length&&u<r;){let L=c.shift();s?Jo(e,s,()=>R(L)):R(L)}y()}catch(L){e.error(L)}}))};return t.subscribe(Yn(e,g,()=>{m=!0,y()})),()=>{a?.()}}function Wi(t,e,n=1/0){return Zt(e)?Wi((r,i)=>bn((o,s)=>e(r,o,i,s))(ii(t(r,i))),n):(typeof e=="number"&&(n=e),Qn((r,i)=>g5(r,i,t,n)))}function fl(t=1/0){return Wi(Ma,t)}function m5(){return fl(1)}function Qh(...t){return m5()(_r(t,ll(t)))}function hg(t){return new sn(e=>{ii(t()).subscribe(e)})}function qE(...t){let e=Vv(t),{args:n,keys:r}=Jv(t),i=new sn(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let m=!1;ii(n[l]).subscribe(Yn(o,y=>{m||(m=!0,u--),a[l]=y},()=>c--,void 0,()=>{(!c||!m)&&(u||o.next(r?Zv(r,a):a),o.complete())}))}});return e?i.pipe(Yv(e)):i}function bs(t,e){return Qn((n,r)=>{let i=0;n.subscribe(Yn(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Yh(t){return Qn((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Yn(n,void 0,void 0,s=>{o=ii(t(s,Yh(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Jh(t,e){return Zt(e)?Wi(t,e,1):Wi(t,1)}function zE(t){return Qn((e,n)=>{let r=!1;e.subscribe(Yn(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function au(t){return t<=0?()=>Yo:Qn((e,n)=>{let r=0;e.subscribe(Yn(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function y5(t=n7){return Qn((e,n)=>{let r=!1;e.subscribe(Yn(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function n7(){return new yd}function $E(t){return Qn((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function cu(t,e){let n=arguments.length>=2;return r=>r.pipe(t?bs((i,o)=>t(i,o,r)):Ma,au(1),n?zE(e):y5(()=>new yd))}function e_(t){return t<=0?()=>Yo:Qn((e,n)=>{let r=[];e.subscribe(Yn(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function t_(...t){let e=ll(t);return Qn((n,r)=>{(e?Qh(t,n,e):Qh(t,n)).subscribe(r)})}function Oa(t,e){return Qn((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Yn(r,c=>{i?.unsubscribe();let u=0,l=o++;ii(t(c,l)).subscribe(i=Yn(r,m=>r.next(e?e(c,m,l,u++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function fg(t){return Qn((e,n)=>{ii(t).subscribe(Yn(n,()=>n.complete(),lg)),!n.closed&&e.subscribe(n)})}function Po(t,e,n){let r=Zt(t)||e||n?{next:t,error:e,complete:n}:t;return r?Qn((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Yn(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ma}var HE;function n_(){return HE}function mc(t){let e=HE;return HE=t,e}var v5=Symbol("NotFound");function Zh(t){return t===v5||t?.name==="\u0275NotFound"}var pl=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},aI=new pl("21.0.0");var a_="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",rt=class extends Error{code;constructor(e,n){super(vl(e,n)),this.code=e}};function o7(t){return`NG0${Math.abs(t)}`}function vl(t,e){return`${o7(t)}${e?": "+e:""}`}var lo=globalThis;function Jn(t){for(let e in t)if(t[e]===Jn)return e;throw Error("")}function I5(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function lu(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(lu).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function cI(t,e){return t?e?`${t} ${e}`:t:e||""}var s7=Jn({__forward_ref__:Jn});function Xs(t){return t.__forward_ref__=Xs,t.toString=function(){return lu(this())},t}function Ki(t){return uI(t)?t():t}function uI(t){return typeof t=="function"&&t.hasOwnProperty(s7)&&t.__forward_ref__===Xs}function it(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Is(t){return{providers:t.providers||[],imports:t.imports||[]}}function _g(t){return a7(t,c_)}function lI(t){return _g(t)!==null}function a7(t,e){return t.hasOwnProperty(e)&&t[e]||null}function c7(t){let e=t?.[c_]??null;return e||null}function WE(t){return t&&t.hasOwnProperty(i_)?t[i_]:null}var c_=Jn({\u0275prov:Jn}),i_=Jn({\u0275inj:Jn}),ct=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=it({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function dI(t){return t&&!!t.\u0275providers}var hI=Jn({\u0275cmp:Jn}),fI=Jn({\u0275dir:Jn}),pI=Jn({\u0275pipe:Jn}),gI=Jn({\u0275mod:Jn}),gg=Jn({\u0275fac:Jn}),Ed=Jn({__NG_ELEMENT_ID__:Jn}),_5=Jn({__NG_ENV_ID__:Jn});function _l(t){return typeof t=="string"?t:t==null?"":String(t)}function T5(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_l(t)}var S5=Jn({ngErrorCode:Jn}),u7=Jn({ngErrorMessage:Jn}),l7=Jn({ngTokenPath:Jn});function mI(t,e){return A5("",-200,e)}function u_(t,e){throw new rt(-201,!1)}function A5(t,e,n){let r=new rt(e,t);return r[S5]=e,r[u7]=t,n&&(r[l7]=n),r}function d7(t){return t[S5]}var KE;function C5(){return KE}function ko(t){let e=KE;return KE=t,e}function yI(t,e,n){let r=_g(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;u_(t,"Injector")}var h7={},vd=h7,QE="__NG_DI_FLAG__",YE=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=_d(n)||0;try{return this.injector.get(e,r&8?null:vd,r)}catch(i){if(Zh(i))return i;throw i}}};function f7(t,e=0){let n=n_();if(n===void 0)throw new rt(-203,!1);if(n===null)return yI(t,void 0,e);{let r=p7(e),i=n.retrieve(t,r);if(Zh(i)){if(r.optional)return null;throw i}return i}}function Tt(t,e=0){return(C5()||f7)(Ki(t),e)}function Fe(t,e){return Tt(t,_d(e))}function _d(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function p7(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function JE(t){let e=[];for(let n=0;n<t.length;n++){let r=Ki(t[n]);if(Array.isArray(r)){if(r.length===0)throw new rt(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=g7(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Tt(i,o))}else e.push(Tt(r))}return e}function D5(t,e){return t[QE]=e,t.prototype[QE]=e,t}function g7(t){return t[QE]}function gl(t,e){let n=t.hasOwnProperty(gg);return n?t[gg]:null}function x5(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function N5(t){return t.flat(Number.POSITIVE_INFINITY)}function l_(t,e){t.forEach(n=>Array.isArray(n)?l_(n,e):e(n))}function vI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function wg(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function R5(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function P5(t,e,n){let r=ef(t,e);return r>=0?t[r|1]=n:(r=~r,R5(t,r,e,n)),r}function d_(t,e){let n=ef(t,e);if(n>=0)return t[n|1]}function ef(t,e){return m7(t,e,1)}function m7(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var wl={},Es=[],tf=new ct(""),_I=new ct("",-1),wI=new ct(""),mg=class{get(e,n=vd){if(n===vd){let i=A5("",-201);throw i.name="\u0275NotFound",i}return n}};function bI(t){return t[gI]||null}function du(t){return t[hI]||null}function EI(t){return t[fI]||null}function k5(t){return t[pI]||null}function vc(t){return{\u0275providers:t}}function h_(...t){return{\u0275providers:II(!0,t),\u0275fromNgModule:!0}}function II(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return l_(e,s=>{let a=s;o_(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&M5(i,o),n}function M5(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];TI(i,o=>{e(o,r)})}}function o_(t,e,n,r){if(t=Ki(t),!t)return!1;let i=null,o=WE(t),s=!o&&du(t);if(!o&&!s){let c=t.ngModule;if(o=WE(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)o_(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{l_(o.imports,l=>{o_(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&M5(u,e)}if(!a){let u=gl(i)||(()=>new i);e({provide:i,useFactory:u,deps:Es},i),e({provide:wI,useValue:i,multi:!0},i),e({provide:tf,useValue:()=>Tt(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;TI(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function TI(t,e){for(let n of t)dI(n)&&(n=n.\u0275providers),Array.isArray(n)?TI(n,e):e(n)}var y7=Jn({provide:String,useValue:Jn});function O5(t){return t!==null&&typeof t=="object"&&y7 in t}function v7(t){return!!(t&&t.useExisting)}function _7(t){return!!(t&&t.useFactory)}function wd(t){return typeof t=="function"}function L5(t){return!!t.useClass}var bg=new ct(""),r_={},w5={},GE;function Eg(){return GE===void 0&&(GE=new mg),GE}var si=class{},bd=class extends si{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,XE(e,s=>this.processProvider(s)),this.records.set(_I,Xh(void 0,this)),i.has("environment")&&this.records.set(si,Xh(void 0,this));let o=this.records.get(bg);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(wI,Es,{self:!0}))}retrieve(e,n){let r=_d(n)||0;try{return this.get(e,vd,r)}catch(i){if(Zh(i))return i;throw i}}destroy(){pg(this),this._destroyed=!0;let e=rn(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),rn(e)}}onDestroy(e){return pg(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){pg(this);let n=mc(this),r=ko(void 0),i;try{return e()}finally{mc(n),ko(r)}}get(e,n=vd,r){if(pg(this),e.hasOwnProperty(_5))return e[_5](this);let i=_d(r),o,s=mc(this),a=ko(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let l=T7(e)&&_g(e);l&&this.injectableDefInScope(l)?u=Xh(ZE(e),r_):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?Eg():this.parent;return n=i&8&&n===vd?null:n,c.get(e,n)}catch(c){let u=d7(c);throw u===-200||u===-201?new rt(u,null):c}finally{ko(a),mc(s)}}resolveInjectorInitializers(){let e=rn(null),n=mc(this),r=ko(void 0),i;try{let o=this.get(tf,Es,{self:!0});for(let s of o)s()}finally{mc(n),ko(r),rn(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(lu(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ki(e);let n=wd(e)?e:Ki(e&&e.provide),r=b7(e);if(!wd(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Xh(void 0,r_,!0),i.factory=()=>JE(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=rn(null);try{if(n.value===w5)throw mI(lu(e));return n.value===r_&&(n.value=w5,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&I7(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{rn(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ki(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ZE(t){let e=_g(t),n=e!==null?e.factory:gl(t);if(n!==null)return n;if(t instanceof ct)throw new rt(204,!1);if(t instanceof Function)return w7(t);throw new rt(204,!1)}function w7(t){if(t.length>0)throw new rt(204,!1);let n=c7(t);return n!==null?()=>n.factory(t):()=>new t}function b7(t){if(O5(t))return Xh(void 0,t.useValue);{let e=SI(t);return Xh(e,r_)}}function SI(t,e,n){let r;if(wd(t)){let i=Ki(t);return gl(i)||ZE(i)}else if(O5(t))r=()=>Ki(t.useValue);else if(_7(t))r=()=>t.useFactory(...JE(t.deps||[]));else if(v7(t))r=(i,o)=>Tt(Ki(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ki(t&&(t.useClass||t.provide));if(E7(t))r=()=>new i(...JE(t.deps));else return gl(i)||ZE(i)}return r}function pg(t){if(t.destroyed)throw new rt(205,!1)}function Xh(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function E7(t){return!!t.deps}function I7(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function T7(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function XE(t,e){for(let n of t)Array.isArray(n)?XE(n,e):n&&dI(n)?XE(n.\u0275providers,e):e(n)}function ci(t,e){let n;t instanceof bd?(pg(t),n=t):n=new YE(t);let r,i=mc(n),o=ko(void 0);try{return e()}finally{mc(i),ko(o)}}function AI(){return C5()!==void 0||n_()!=null}var La=0,jt=1,Kt=2,Li=3,ea=4,ta=5,Ig=6,nf=7,ho=8,bl=9,_c=10,Nr=11,rf=12,CI=13,Id=14,na=15,El=16,Td=17,wc=18,Tg=19,DI=20,uu=21,f_=22,Sg=23,Ts=24,Sd=25,Ag=26,Qi=27,F5=1;var Il=7,Cg=8,Ad=9,Mo=10;function bc(t){return Array.isArray(t)&&typeof t[F5]=="object"}function Fa(t){return Array.isArray(t)&&t[F5]===!0}function xI(t){return(t.flags&4)!==0}function Tl(t){return t.componentOffset>-1}function of(t){return(t.flags&1)===1}function Ec(t){return!!t.template}function sf(t){return(t[Kt]&512)!==0}function Cd(t){return(t[Kt]&256)===256}var V5="svg",B5="math";function ra(t){for(;Array.isArray(t);)t=t[La];return t}function NI(t,e){return ra(e[t])}function Va(t,e){return ra(e[t.index])}function p_(t,e){return t.data[e]}function RI(t,e){return t[e]}function PI(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ia(t,e){let n=e[t];return bc(n)?n:n[La]}function j5(t){return(t[Kt]&4)===4}function g_(t){return(t[Kt]&128)===128}function U5(t){return Fa(t[Li])}function Dg(t,e){return e==null?null:t[e]}function kI(t){t[Td]=0}function MI(t){t[Kt]&1024||(t[Kt]|=1024,g_(t)&&af(t))}function q5(t,e){for(;t>0;)e=e[Id],t--;return e}function xg(t){return!!(t[Kt]&9216||t[Ts]?.dirty)}function m_(t){t[_c].changeDetectionScheduler?.notify(8),t[Kt]&64&&(t[Kt]|=1024),xg(t)&&af(t)}function af(t){t[_c].changeDetectionScheduler?.notify(0);let e=ml(t);for(;e!==null&&!(e[Kt]&8192||(e[Kt]|=8192,!g_(e)));)e=ml(e)}function OI(t,e){if(Cd(t))throw new rt(911,!1);t[uu]===null&&(t[uu]=[]),t[uu].push(e)}function z5(t,e){if(t[uu]===null)return;let n=t[uu].indexOf(e);n!==-1&&t[uu].splice(n,1)}function ml(t){let e=t[Li];return Fa(e)?e[Li]:e}function LI(t){return t[nf]??=[]}function FI(t){return t.cleanup??=[]}function $5(t,e,n,r){let i=LI(e);i.push(n),t.firstCreatePass&&FI(t).push(r,i.length-1)}var an={lFrame:sP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var eI=!1;function H5(){return an.lFrame.elementDepthCount}function G5(){an.lFrame.elementDepthCount++}function W5(){an.lFrame.elementDepthCount--}function y_(){return an.bindingsEnabled}function K5(){return an.skipHydrationRootTNode!==null}function Q5(t){return an.skipHydrationRootTNode===t}function Y5(){an.skipHydrationRootTNode=null}function gn(){return an.lFrame.lView}function Yi(){return an.lFrame.tView}function un(t){return an.lFrame.contextLView=t,t[ho]}function ln(t){return an.lFrame.contextLView=null,t}function Ji(){let t=VI();for(;t!==null&&t.type===64;)t=t.parent;return t}function VI(){return an.lFrame.currentTNode}function J5(){let t=an.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function cf(t,e){let n=an.lFrame;n.currentTNode=t,n.isParent=e}function BI(){return an.lFrame.isParent}function Z5(){an.lFrame.isParent=!1}function jI(){return eI}function UI(t){let e=eI;return eI=t,e}function qI(){let t=an.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function X5(){return an.lFrame.bindingIndex}function eP(t){return an.lFrame.bindingIndex=t}function uf(){return an.lFrame.bindingIndex++}function zI(t){let e=an.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tP(){return an.lFrame.inI18n}function nP(t,e){let n=an.lFrame;n.bindingIndex=n.bindingRootIndex=t,v_(e)}function rP(){return an.lFrame.currentDirectiveIndex}function v_(t){an.lFrame.currentDirectiveIndex=t}function iP(t){let e=an.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $I(){return an.lFrame.currentQueryIndex}function __(t){an.lFrame.currentQueryIndex=t}function S7(t){let e=t[jt];return e.type===2?e.declTNode:e.type===1?t[ta]:null}function HI(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=S7(o),i===null||(o=o[Id],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=an.lFrame=oP();return r.currentTNode=e,r.lView=t,!0}function w_(t){let e=oP(),n=t[jt];an.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function oP(){let t=an.lFrame,e=t===null?null:t.child;return e===null?sP(t):e}function sP(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function aP(){let t=an.lFrame;return an.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var GI=aP;function b_(){let t=aP();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function cP(t){return(an.lFrame.contextLView=q5(t,an.lFrame.contextLView))[ho]}function Sl(){return an.lFrame.selectedIndex}function Al(t){an.lFrame.selectedIndex=t}function E_(){let t=an.lFrame;return p_(t.tView,t.selectedIndex)}function uP(){return an.lFrame.currentNamespace}var lP=!0;function I_(){return lP}function Ng(t){lP=t}function tI(t,e=null,n=null,r){let i=WI(t,e,n,r);return i.resolveInjectorInitializers(),i}function WI(t,e=null,n=null,r,i=new Set){let o=[n||Es,h_(t)];return r=r||(typeof t=="object"?void 0:lu(t)),new bd(o,e||Eg(),r||null,i)}var ai=class t{static THROW_IF_NOT_FOUND=vd;static NULL=new mg;static create(e,n){if(Array.isArray(e))return tI({name:""},n,e,"");{let r=e.name??"";return tI({name:r},e.parent,e.providers,r)}}static \u0275prov=it({token:t,providedIn:"any",factory:()=>Tt(_I)});static __NG_ELEMENT_ID__=-1},Fi=new ct(""),oa=(()=>{class t{static __NG_ELEMENT_ID__=A7;static __NG_ENV_ID__=n=>n}return t})(),nI=class extends oa{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Cd(this._lView)}onDestroy(e){let n=this._lView;return OI(n,e),()=>z5(n,e)}};function A7(){return new nI(gn())}var dP=!1,hu=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ri(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new sn(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=it({token:t,providedIn:"root",factory:()=>new t})}return t})(),rI=class extends ni{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,AI()&&(this.destroyRef=Fe(oa,{optional:!0})??void 0,this.pendingTasks=Fe(hu,{optional:!0})??void 0)}emit(e){let n=rn(null);try{super.next(e)}finally{rn(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ai&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},oi=rI;function s_(...t){}function KI(t){let e,n;function r(){t=s_;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function QI(t){return queueMicrotask(()=>t()),()=>{t=s_}}var YI="isAngularZone",yg=YI+"_ID",C7=0,wr=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new oi(!1);onMicrotaskEmpty=new oi(!1);onStable=new oi(!1);onError=new oi(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=dP}=e;if(typeof Zone>"u")throw new rt(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,N7(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(YI)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new rt(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new rt(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,D7,s_,s_);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},D7={};function JI(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function x7(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){KI(()=>{t.callbackScheduled=!1,iI(t),t.isCheckStableRunning=!0,JI(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),iI(t)}function N7(t){let e=()=>{x7(t)},n=C7++;t._inner=t._inner.fork({name:"angular",properties:{[YI]:!0,[yg]:n,[yg+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(R7(c))return r.invokeTask(o,s,a,c);try{return b5(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),E5(t)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return b5(t),r.invoke(o,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!P7(c)&&e(),E5(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,iI(t),JI(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function iI(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function b5(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function E5(t){t._nesting--,JI(t)}var vg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new oi;onMicrotaskEmpty=new oi;onStable=new oi;onError=new oi;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function R7(t){return hP(t,"__ignore_ng_zone__")}function P7(t){return hP(t,"__scheduler_tick__")}function hP(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var yc=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ss=new ct("",{factory:()=>{let t=Fe(wr),e=Fe(si),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(yc),n.handleError(r))})}}}),fP={provide:tf,useValue:()=>{let t=Fe(yc,{optional:!0})},multi:!0};function $r(t,e){let[n,r,i]=DE(t,e?.equal),o=n,s=o[Ro];return o.set=r,o.update=i,o.asReadonly=pP.bind(o),o}function pP(){let t=this[Ro];if(t.readonlyFn===void 0){let e=()=>this();e[Ro]=t,t.readonlyFn=e}return t.readonlyFn}var T_=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=k7}return t})();function k7(){return new T_(gn(),Ji())}var yl=class{},Rg=new ct("",{factory:()=>!0});var ZI=new ct(""),lf=(()=>{class t{internalPendingTasks=Fe(hu);scheduler=Fe(yl);errorHandler=Fe(Ss);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=it({token:t,providedIn:"root",factory:()=>new t})}return t})(),XI=(()=>{class t{static \u0275prov=it({token:t,providedIn:"root",factory:()=>new oI})}return t})(),oI=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},sI=class{[Ro];constructor(e){this[Ro]=e}destroy(){this[Ro].destroy()}};function Hr(t){return xE(t)}function mf(t){return{toString:t}.toString()}var S_="__parameters__";function U7(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function q7(t,e,n){return mf(()=>{let r=U7(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let m=c.hasOwnProperty(S_)?c[S_]:Object.defineProperty(c,S_,{value:[]})[S_];for(;m.length<=l;)m.push(null);return(m[l]=m[l]||[]).push(s),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var pu=D5(q7("Optional"),8);function z7(t){return typeof t=="function"}function $P(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var P_=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},Sc=(()=>{let t=()=>HP;return t.ngInherit=!0,t})();function HP(t){return t.type.prototype.ngOnChanges&&(t.setInput=H7),$7}function $7(){let t=WP(this),e=t?.current;if(e){let n=t.previous;if(n===wl)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function H7(t,e,n,r,i){let o=this.declaredInputs[r],s=WP(t)||G7(t,{previous:wl,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new P_(u&&u.currentValue,n,c===wl),$P(t,e,i,n)}var GP="__ngSimpleChanges__";function WP(t){return t[GP]||null}function G7(t,e){return t[GP]=e}var gP=[];var tr=function(t,e=null,n){for(let r=0;r<gP.length;r++){let i=gP[r];i(t,e,n)}};function W7(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=HP(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function KP(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function D_(t,e,n){QP(t,e,3,n)}function x_(t,e,n,r){(t[Kt]&3)===n&&QP(t,e,n,r)}function eT(t,e){let n=t[Kt];(n&3)===e&&(n&=16383,n+=1,t[Kt]=n)}function QP(t,e,n,r){let i=r!==void 0?t[Td]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Td]+=65536),(a<o||o==-1)&&(K7(t,n,e,c),t[Td]=(t[Td]&4294901760)+c+2),c++}function mP(t,e){tr(4,t,e);let n=rn(null);try{e.call(t)}finally{rn(n),tr(5,t,e)}}function K7(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Kt]>>14<t[Td]>>16&&(t[Kt]&3)===e&&(t[Kt]+=16384,mP(a,o)):mP(a,o)}var hf=-1,xd=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function Q7(t){return(t.flags&8)!==0}function Y7(t){return(t.flags&16)!==0}function J7(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Z7(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function YP(t){return t===3||t===4||t===6}function Z7(t){return t.charCodeAt(0)===64}function Og(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?yP(t,n,i,null,e[++r]):yP(t,n,i,null,null))}}return t}function yP(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function JP(t){return t!==hf}function k_(t){return t&32767}function X7(t){return t>>16}function M_(t,e){let n=X7(t),r=e;for(;n>0;)r=r[Id],n--;return r}var dT=!0;function O_(t){let e=dT;return dT=t,e}var e9=256,ZP=e9-1,XP=5,t9=0,Ic={};function n9(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ed)&&(r=n[Ed]),r==null&&(r=n[Ed]=t9++);let i=r&ZP,o=1<<i;e.data[t+(i>>XP)]|=o}function L_(t,e){let n=ek(t,e);if(n!==-1)return n;let r=e[jt];r.firstCreatePass&&(t.injectorIndex=e.length,tT(r.data,t),tT(e,null),tT(r.blueprint,null));let i=MT(t,e),o=t.injectorIndex;if(JP(i)){let s=k_(i),a=M_(i,e),c=a[jt].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function tT(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ek(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function MT(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ok(i),r===null)return hf;if(n++,i=i[Id],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return hf}function hT(t,e,n){n9(t,e,n)}function r9(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(YP(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function tk(t,e,n){if(n&8||t!==void 0)return t;u_(e,"NodeInjector")}function nk(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[bl],o=ko(void 0);try{return i?i.get(e,r,n&8):yI(e,r,n&8)}finally{ko(o)}}return tk(r,e,n)}function rk(t,e,n,r=0,i){if(t!==null){if(e[Kt]&2048&&!(r&2)){let s=a9(t,e,n,r,Ic);if(s!==Ic)return s}let o=ik(t,e,n,r,Ic);if(o!==Ic)return o}return nk(e,n,r,i)}function ik(t,e,n,r,i){let o=o9(n);if(typeof o=="function"){if(!HI(e,t,r))return r&1?tk(i,n,r):nk(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))u_(n);else return s}finally{GI()}}else if(typeof o=="number"){let s=null,a=ek(t,e),c=hf,u=r&1?e[na][ta]:null;for((a===-1||r&4)&&(c=a===-1?MT(t,e):e[a+8],c===hf||!_P(r,!1)?a=-1:(s=e[jt],a=k_(c),e=M_(c,e)));a!==-1;){let l=e[jt];if(vP(o,a,l.data)){let m=i9(a,e,n,s,r,u);if(m!==Ic)return m}c=e[a+8],c!==hf&&_P(r,e[jt].data[a+8]===u)&&vP(o,a,e)?(s=l,a=k_(c),e=M_(c,e)):a=-1}}return i}function i9(t,e,n,r,i,o){let s=e[jt],a=s.data[t+8],c=r==null?Tl(a)&&dT:r!=s&&(a.type&3)!==0,u=i&1&&o===a,l=N_(a,s,n,c,u);return l!==null?Lg(e,s,l,a,i):Ic}function N_(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,l=o>>20,m=r?a:a+l,y=i?a+l:u;for(let g=m;g<y;g++){let R=s[g];if(g<c&&n===R||g>=c&&R.type===n)return g}if(i){let g=s[c];if(g&&Ec(g)&&g.type===n)return c}return null}function Lg(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof xd){let a=o;if(a.resolving){let g=T5(s[n]);throw mI(g)}let c=O_(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,m=a.injectImpl?ko(a.injectImpl):null,y=HI(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&W7(n,s[n],e)}finally{m!==null&&ko(m),O_(c),a.resolving=!1,GI()}}return o}function o9(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ed)?t[Ed]:void 0;return typeof e=="number"?e>=0?e&ZP:s9:e}function vP(t,e,n){let r=1<<t;return!!(n[e+(t>>XP)]&r)}function _P(t,e){return!(t&2)&&!(t&1&&e)}var Dd=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rk(this._tNode,this._lView,e,_d(r),n)}};function s9(){return new Dd(Ji(),gn())}function sa(t){return mf(()=>{let e=t.prototype.constructor,n=e[gg]||fT(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[gg]||fT(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function fT(t){return uI(t)?()=>{let e=fT(Ki(t));return e&&e()}:gl(t)}function a9(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Kt]&2048&&!sf(s);){let a=ik(o,s,n,r|2,Ic);if(a!==Ic)return a;let c=o.parent;if(!c){let u=s[DI];if(u){let l=u.get(n,Ic,r);if(l!==Ic)return l}c=ok(s),s=s[Id]}o=c}return i}function ok(t){let e=t[jt],n=e.type;return n===2?e.declTNode:n===1?t[ta]:null}function jg(t){return r9(Ji(),t)}function c9(){return yf(Ji(),gn())}function yf(t,e){return new fo(Va(t,e))}var fo=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=c9}return t})();function u9(t){return t instanceof fo?t.nativeElement:t}function l9(){return this._results[Symbol.iterator]()}var F_=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ni}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=N5(e);(this._changesDetected=!x5(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=l9};function sk(t){return(t.flags&128)===128}var OT=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(OT||{}),ak=new Map,d9=0;function h9(){return d9++}function f9(t){ak.set(t[Tg],t)}function pT(t){ak.delete(t[Tg])}var wP="__ngContext__";function ff(t,e){bc(e)?(t[wP]=e[Tg],f9(e)):t[wP]=e}function ck(t){return lk(t[rf])}function uk(t){return lk(t[ea])}function lk(t){for(;t!==null&&!Fa(t);)t=t[ea];return t}var gT;function LT(t){gT=t}function dk(){if(gT!==void 0)return gT;if(typeof document<"u")return document;throw new rt(210,!1)}var W_=new ct("",{factory:()=>p9}),p9="ng";var K_=new ct(""),Md=new ct("",{providedIn:"platform",factory:()=>"unknown"});var Q_=new ct("",{factory:()=>dk().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var hk=!1,fk=new ct("",{factory:()=>hk});var FT=new ct("");var g9=(t,e,n,r)=>{};function m9(t,e,n,r){g9(t,e,n,r)}function VT(t){return(t.flags&32)===32}var y9=()=>null;function pk(t,e,n=!1){return y9(t,e,n)}function gk(t,e){let n=t.contentQueries;if(n!==null){let r=rn(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];__(o),a.contentQueries(2,e[s],s)}}}finally{rn(r)}}}function mT(t,e,n){__(0);let r=rn(null);try{e(t,n)}finally{rn(r)}}function BT(t,e,n){if(xI(e)){let r=rn(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{rn(r)}}}var ja=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(ja||{});var A_;function v9(){if(A_===void 0&&(A_=null,lo.trustedTypes))try{A_=lo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return A_}function bP(t){return v9()?.createScriptURL(t)||t}var V_=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${a_})`}};function Ug(t){return t instanceof V_?t.changingThisBreaksApplicationSecurity:t}function jT(t,e){let n=mk(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${a_})`)}return n===e}function mk(t){return t instanceof V_&&t.getTypeName()||null}var _9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yk(t){return t=String(t),t.match(_9)?t:"unsafe:"+t}var Y_=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Y_||{});function xl(t){let e=_k();return e?e.sanitize(Y_.URL,t)||"":jT(t,"URL")?Ug(t):yk(_l(t))}function vk(t){let e=_k();if(e)return bP(e.sanitize(Y_.RESOURCE_URL,t)||"");if(jT(t,"ResourceURL"))return bP(Ug(t));throw new rt(904,!1)}function w9(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?vk:xl}function UT(t,e,n){return w9(e,n)(t)}function _k(){let t=gn();return t&&t[_c].sanitizer}var b9=/^>|^->|<!--|-->|--!>|<!-$/g,E9=/(<|>)/g,I9="\u200B$1\u200B";function T9(t){return t.replace(b9,e=>e.replace(E9,I9))}function qT(t){return t.ownerDocument.defaultView}function wk(t){return t instanceof Function?t():t}function S9(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var bk="ng-template";function A9(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&S9(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(zT(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function zT(t){return t.type===4&&t.value!==bk}function C9(t,e,n){let r=t.type===4&&!n?bk:t.value;return e===r}function D9(t,e,n){let r=4,i=t.attrs,o=i!==null?R9(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ba(r)&&!Ba(c))return!1;if(s&&Ba(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!C9(t,c,n)||c===""&&e.length===1){if(Ba(r))return!1;s=!0}}else if(r&8){if(i===null||!A9(t,i,c,n)){if(Ba(r))return!1;s=!0}}else{let u=e[++a],l=x9(c,i,zT(t),n);if(l===-1){if(Ba(r))return!1;s=!0;continue}if(u!==""){let m;if(l>o?m="":m=i[l+1].toLowerCase(),r&2&&u!==m){if(Ba(r))return!1;s=!0}}}}return Ba(r)||s}function Ba(t){return(t&1)===0}function x9(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return P9(e,t)}function N9(t,e,n=!1){for(let r=0;r<e.length;r++)if(D9(t,e[r],n))return!0;return!1}function R9(t){for(let e=0;e<t.length;e++){let n=t[e];if(YP(n))return e}return t.length}function P9(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function EP(t,e){return t?":not("+e.trim()+")":e}function k9(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ba(s)&&(e+=EP(o,i),i=""),r=s,o=o||!Ba(r);n++}return i!==""&&(e+=EP(o,i)),e}function M9(t){return t.map(k9).join(",")}function O9(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ba(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var aa={};function L9(t,e){return t.createText(e)}function F9(t,e,n){t.setValue(e,n)}function V9(t,e){return t.createComment(T9(e))}function Ek(t,e,n){return t.createElement(e,n)}function B_(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Ik(t,e,n){t.appendChild(e,n)}function IP(t,e,n,r,i){r!==null?B_(t,e,n,r,i):Ik(t,e,n)}function B9(t,e,n,r){t.removeChild(null,e,n,r)}function j9(t,e,n){t.setAttribute(e,"style",n)}function U9(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Tk(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&J7(t,e,r),i!==null&&U9(t,e,i),o!==null&&j9(t,e,o)}function $T(t,e,n,r,i,o,s,a,c,u,l){let m=Qi+r,y=m+i,g=q9(m,y),R=typeof u=="function"?u():u;return g[jt]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:R,incompleteFirstPass:!1,ssrId:l}}function q9(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:aa);return n}function z9(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=$T(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function HT(t,e,n,r,i,o,s,a,c,u,l){let m=e.blueprint.slice();return m[La]=i,m[Kt]=r|4|128|8|64|1024,(u!==null||t&&t[Kt]&2048)&&(m[Kt]|=2048),kI(m),m[Li]=m[Id]=t,m[ho]=n,m[_c]=s||t&&t[_c],m[Nr]=a||t&&t[Nr],m[bl]=c||t&&t[bl]||null,m[ta]=o,m[Tg]=h9(),m[Ig]=l,m[DI]=u,m[na]=e.type==2?t[na]:m,m}function $9(t,e,n){let r=Va(e,t),i=z9(n),o=t[_c].rendererFactory,s=GT(t,HT(t,i,null,Sk(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function Sk(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Ak(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function GT(t,e){return t[rf]?t[CI][ea]=e:t[rf]=e,t[CI]=e,e}function Re(t=1){Ck(Yi(),gn(),Sl()+t,!1)}function Ck(t,e,n,r){if(!r)if((e[Kt]&3)===3){let o=t.preOrderCheckHooks;o!==null&&D_(e,o,n)}else{let o=t.preOrderHooks;o!==null&&x_(e,o,0,n)}Al(n)}var J_=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(J_||{});function yT(t,e,n,r){let i=rn(null);try{let[o,s,a]=t.inputs[n],c=null;(s&J_.SignalBased)!==0&&(c=e[o][Ro]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):$P(e,c,o,r)}finally{rn(i)}}var Tc=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Tc||{}),H9;function WT(t,e){return H9(t,e)}var pf=new Set,Z_=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Z_||{}),Od=new ct(""),TP=new Set;function vf(t){TP.has(t)||(TP.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var KT=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=it({token:t,providedIn:"root",factory:()=>new t})}return t})(),Dk=[0,1,2,3],xk=(()=>{class t{ngZone=Fe(wr);scheduler=Fe(yl);errorHandler=Fe(yc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Fe(Od,{optional:!0})}execute(){let n=this.sequences.size>0;n&&tr(16),this.executing=!0;for(let r of Dk)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&tr(17)}register(n){let{view:r}=n;r!==void 0?((r[Sd]??=[]).push(n),af(r),r[Kt]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Z_.AFTER_NEXT_RENDER,n):n()}static \u0275prov=it({token:t,providedIn:"root",factory:()=>new t})}return t})(),j_=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Sd];e&&(this.view[Sd]=e.filter(n=>n!==this))}};function qg(t,e){let n=e?.injector??Fe(ai);return vf("NgAfterNextRender"),W9(t,n,e,!0)}function G9(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function W9(t,e,n,r){let i=e.get(KT);i.impl??=e.get(xk);let o=e.get(Od,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(oa):null,a=e.get(T_,null,{optional:!0}),c=new j_(i.impl,G9(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var K9=new ct("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Nk(t,e,n){let r=t.get(K9);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function Q9(t,e){for(let[n,r]of e)Nk(t,r.animateFns)}function SP(t,e,n,r){let i=t?.[Ag]?.enter;e!==null&&i&&i.has(n.index)&&Q9(r,i)}function df(t,e,n,r,i,o,s,a){if(i!=null){let c,u=!1;Fa(i)?c=i:bc(i)&&(u=!0,i=i[La]);let l=ra(i);t===0&&r!==null?(SP(a,r,o,n),s==null?Ik(e,r,l):B_(e,r,l,s||null,!0)):t===1&&r!==null?(SP(a,r,o,n),B_(e,r,l,s||null,!0)):t===2?AP(a,o,n,m=>{B9(e,l,u,m)}):t===3&&AP(a,o,n,()=>{e.destroyNode(l)}),c!=null&&cq(e,t,n,c,o,r,s)}}function Y9(t,e){Rk(t,e),e[La]=null,e[ta]=null}function J9(t,e,n,r,i,o){r[La]=i,r[ta]=e,X_(t,r,n,1,i,o)}function Rk(t,e){e[_c].changeDetectionScheduler?.notify(9),X_(t,e,e[Nr],2,null,null)}function Z9(t){let e=t[rf];if(!e)return nT(t[jt],t);for(;e;){let n=null;if(bc(e))n=e[rf];else{let r=e[Mo];r&&(n=r)}if(!n){for(;e&&!e[ea]&&e!==t;)bc(e)&&nT(e[jt],e),e=e[Li];e===null&&(e=t),bc(e)&&nT(e[jt],e),n=e&&e[ea]}e=n}}function QT(t,e){let n=t[Ad],r=n.indexOf(e);n.splice(r,1)}function Pk(t,e){if(Cd(e))return;let n=e[Nr];n.destroyNode&&X_(t,e,n,3,null,null),Z9(e)}function nT(t,e){if(Cd(e))return;let n=rn(null);try{e[Kt]&=-129,e[Kt]|=256,e[Ts]&&cg(e[Ts]),tq(t,e),eq(t,e),e[jt].type===1&&e[Nr].destroy();let r=e[El];if(r!==null&&Fa(e[Li])){r!==e[Li]&&QT(r,e);let i=e[wc];i!==null&&i.detachView(t)}pT(e)}finally{rn(n)}}function AP(t,e,n,r){let i=t?.[Ag];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&pf.add(t),Nk(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:l}=u();a.push(l)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),X9(t,r)}else t&&pf.delete(t),r(!1)},i)}function X9(t,e){let n=t[Ag]?.running;if(n){n.then(()=>{t[Ag].running=void 0,pf.delete(t),e(!0)});return}e(!1)}function eq(t,e){let n=t.cleanup,r=e[nf];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[nf]=null);let i=e[uu];if(i!==null){e[uu]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Sg];if(o!==null){e[Sg]=null;for(let s of o)s.destroy()}}function tq(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof xd)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];tr(4,a,c);try{c.call(a)}finally{tr(5,a,c)}}else{tr(4,i,o);try{o.call(i)}finally{tr(5,i,o)}}}}}function nq(t,e,n){return rq(t,e.parent,n)}function rq(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[La];if(Tl(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===ja.None||i===ja.Emulated)return null}return Va(r,n)}function iq(t,e,n){return sq(t,e,n)}function oq(t,e,n){return t.type&40?Va(t,n):null}var sq=oq,CP;function YT(t,e,n,r){let i=nq(t,r,e),o=e[Nr],s=r.parent||e[ta],a=iq(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)IP(o,i,n[c],a,!1);else IP(o,i,n,a,!1);CP!==void 0&&CP(o,r,e,n,i)}function kg(t,e){if(e!==null){let n=e.type;if(n&3)return Va(e,t);if(n&4)return vT(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return kg(t,r);{let i=t[e.index];return Fa(i)?vT(-1,i):ra(i)}}else{if(n&128)return kg(t,e.next);if(n&32)return WT(e,t)()||ra(t[e.index]);{let r=kk(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ml(t[na]);return kg(i,r)}else return kg(t,e.next)}}}return null}function kk(t,e){if(e!==null){let r=t[na][ta],i=e.projection;return r.projection[i]}return null}function vT(t,e){let n=Mo+t+1;if(n<e.length){let r=e[n],i=r[jt].firstChild;if(i!==null)return kg(r,i)}return e[Il]}function JT(t,e,n,r,i,o,s){for(;n!=null;){let a=r[bl];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&ff(ra(c),r),n.flags|=2),!VT(n))if(u&8)JT(t,e,n.child,r,i,o,!1),df(e,t,a,i,c,n,o,r);else if(u&32){let l=WT(n,r),m;for(;m=l();)df(e,t,a,i,m,n,o,r);df(e,t,a,i,c,n,o,r)}else u&16?aq(t,e,r,n,i,o):df(e,t,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function X_(t,e,n,r,i,o){JT(n,r,t.firstChild,e,i,o,!1)}function aq(t,e,n,r,i,o){let s=n[na],c=s[ta].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];df(e,t,n[bl],i,l,r,o,n)}else{let u=c,l=s[Li];sk(r)&&(u.flags|=128),JT(t,e,u,l,i,o,!0)}}function cq(t,e,n,r,i,o,s){let a=r[Il],c=ra(r);a!==c&&df(e,t,n,o,a,i,s);for(let u=Mo;u<r.length;u++){let l=r[u];X_(l[jt],l,t,e,o,a)}}function uq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Tc.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Tc.Important),t.setStyle(n,r,i,o))}}function Mk(t,e,n,r,i){let o=Sl(),s=r&2;try{Al(-1),s&&e.length>Qi&&Ck(t,e,Qi,!1),tr(s?2:0,i,n),n(r,i)}finally{Al(o),tr(s?3:1,i,n)}}function e0(t,e,n){mq(t,e,n),(n.flags&64)===64&&yq(t,e,n)}function ZT(t,e,n=Va){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function lq(t,e,n,r){let o=r.get(fk,hk)||n===ja.ShadowDom||n===ja.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return dq(s),s}function dq(t){hq(t)}var hq=()=>null;function fq(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ok(t,e,n,r,i,o){let s=e[jt];if(eS(t,s,e,n,r)){Tl(t)&&gq(e,t.index);return}t.type&3&&(n=fq(n)),pq(t,e,n,r,i,o)}function pq(t,e,n,r,i,o){if(t.type&3){let s=Va(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function gq(t,e){let n=ia(e,t);n[Kt]&16||(n[Kt]|=64)}function mq(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Tl(n)&&$9(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||L_(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=Lg(e,t,s,n);if(ff(c,e),o!==null&&bq(e,s-r,c,a,n,o),Ec(a)){let u=ia(n.index,e);u[ho]=Lg(e,t,s,n)}}}function yq(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=rP();try{Al(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];v_(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&vq(c,u)}}finally{Al(-1),v_(s)}}function vq(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function XT(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];N9(e,o.selectors,!1)&&(r??=[],Ec(o)?r.unshift(o):r.push(o))}return r}function _q(t,e,n,r,i,o){let s=Va(t,e);wq(e[Nr],s,o,t.value,n,r,i)}function wq(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?_l(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function bq(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];yT(r,n,c,u)}}function Lk(t,e,n,r,i){let o=Qi+n,s=e[jt],a=i(s,e,t,r,n);e[o]=a,cf(t,!0);let c=t.type===2;return c?(Tk(e[Nr],a,t),(H5()===0||of(t))&&ff(a,e),G5()):ff(a,e),I_()&&(!c||!VT(t))&&YT(s,e,a,t),t}function Fk(t){let e=t;return BI()?Z5():(e=e.parent,cf(e,!1)),e}function Eq(t,e){let n=t[bl];if(!n)return;let r;try{r=n.get(Ss,null)}catch{r=null}r?.(e)}function eS(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],m=e.data[u];yT(m,n[u],l,i),a=!0}if(o)for(let c of o){let u=n[c],l=e.data[c];yT(l,u,r,i),a=!0}return a}function Iq(t,e){let n=ia(e,t),r=n[jt];Tq(r,n);let i=n[La];i!==null&&n[Ig]===null&&(n[Ig]=pk(i,n[bl])),tr(18),tS(r,n,n[ho]),tr(19,n[ho])}function Tq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function tS(t,e,n){w_(e);try{let r=t.viewQuery;r!==null&&mT(1,r,n);let i=t.template;i!==null&&Mk(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[wc]?.finishViewCreation(t),t.staticContentQueries&&gk(t,e),t.staticViewQueries&&mT(2,t.viewQuery,n);let o=t.components;o!==null&&Sq(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Kt]&=-5,b_()}}function Sq(t,e){for(let n=0;n<e.length;n++)Iq(t,e[n])}function Aq(t,e,n,r){let i=rn(null);try{let o=e.tView,a=t[Kt]&4096?4096:16,c=HT(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[El]=u;let l=t[wc];return l!==null&&(c[wc]=l.createEmbeddedView(o)),tS(o,c,n),c}finally{rn(i)}}function DP(t,e){return!e||e.firstChild===null||sk(t)}function Fg(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(ra(o)),Fa(o)&&Vk(o,r);let s=n.type;if(s&8)Fg(t,e,n.child,r);else if(s&32){let a=WT(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=kk(e,n);if(Array.isArray(a))r.push(...a);else{let c=ml(e[na]);Fg(c[jt],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Vk(t,e){for(let n=Mo;n<t.length;n++){let r=t[n],i=r[jt].firstChild;i!==null&&Fg(r[jt],r,i,e)}t[Il]!==t[La]&&e.push(t[Il])}function Bk(t){if(t[Sd]!==null){for(let e of t[Sd])e.impl.addSequence(e);t[Sd].length=0}}var jk=[];function Cq(t){return t[Ts]??Dq(t)}function Dq(t){let e=jk.pop()??Object.create(Nq);return e.lView=t,e}function xq(t){t.lView[Ts]!==t&&(t.lView=null,jk.push(t))}var Nq=Mt(Me({},og),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{af(t.lView)},consumerOnSignalRead(){this.lView[Ts]=this}});function Rq(t){let e=t[Ts]??Object.create(Pq);return e.lView=t,e}var Pq=Mt(Me({},og),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ml(t.lView);for(;e&&!Uk(e[jt]);)e=ml(e);e&&MI(e)},consumerOnSignalRead(){this.lView[Ts]=this}});function Uk(t){return t.type!==2}function qk(t){if(t[Sg]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Sg])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Kt]&8192)}}var kq=100;function zk(t,e=0){let r=t[_c].rendererFactory,i=!1;i||r.begin?.();try{Mq(t,e)}finally{i||r.end?.()}}function Mq(t,e){let n=jI();try{UI(!0),_T(t,e);let r=0;for(;xg(t);){if(r===kq)throw new rt(103,!1);r++,_T(t,1)}}finally{UI(n)}}function Oq(t,e,n,r){if(Cd(e))return;let i=e[Kt],o=!1,s=!1;w_(e);let a=!0,c=null,u=null;o||(Uk(t)?(u=Cq(e),c=ag(u)):Tv()===null?(a=!1,u=Rq(e),c=ag(u)):e[Ts]&&(cg(e[Ts]),e[Ts]=null));try{kI(e),eP(t.bindingStartIndex),n!==null&&Mk(t,e,n,2,r);let l=(i&3)===3;if(!o)if(l){let g=t.preOrderCheckHooks;g!==null&&D_(e,g,null)}else{let g=t.preOrderHooks;g!==null&&x_(e,g,0,null),eT(e,0)}if(s||Lq(e),qk(e),$k(e,0),t.contentQueries!==null&&gk(t,e),!o)if(l){let g=t.contentCheckHooks;g!==null&&D_(e,g)}else{let g=t.contentHooks;g!==null&&x_(e,g,1),eT(e,1)}Vq(t,e);let m=t.components;m!==null&&Gk(e,m,0);let y=t.viewQuery;if(y!==null&&mT(2,y,r),!o)if(l){let g=t.viewCheckHooks;g!==null&&D_(e,g)}else{let g=t.viewHooks;g!==null&&x_(e,g,2),eT(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[f_]){for(let g of e[f_])g();e[f_]=null}o||(Bk(e),e[Kt]&=-73)}catch(l){throw o||af(e),l}finally{u!==null&&(Sv(u,c),a&&xq(u)),b_()}}function $k(t,e){for(let n=ck(t);n!==null;n=uk(n))for(let r=Mo;r<n.length;r++){let i=n[r];Hk(i,e)}}function Lq(t){for(let e=ck(t);e!==null;e=uk(e)){if(!(e[Kt]&2))continue;let n=e[Ad];for(let r=0;r<n.length;r++){let i=n[r];MI(i)}}}function Fq(t,e,n){tr(18);let r=ia(e,t);Hk(r,n),tr(19,r[ho])}function Hk(t,e){g_(t)&&_T(t,e)}function _T(t,e){let r=t[jt],i=t[Kt],o=t[Ts],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Av(o)),s||=!1,o&&(o.dirty=!1),t[Kt]&=-9217,s)Oq(r,t,r.template,t[ho]);else if(i&8192){let a=rn(null);try{qk(t),$k(t,1);let c=r.components;c!==null&&Gk(t,c,1),Bk(t)}finally{rn(a)}}}function Gk(t,e,n){for(let r=0;r<e.length;r++)Fq(t,e[r],n)}function Vq(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Al(~i);else{let o=i,s=n[++r],a=n[++r];nP(s,o);let c=e[o];tr(24,c),a(2,c),tr(25,c)}}}finally{Al(-1)}}function nS(t,e){let n=jI()?64:1088;for(t[_c].changeDetectionScheduler?.notify(e);t;){t[Kt]|=n;let r=ml(t);if(sf(t)&&!r)return t;t=r}return null}function Wk(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Bq(t,e,n,r=!0){let i=e[jt];if(jq(i,e,t,n),r){let s=vT(n,t),a=e[Nr],c=a.parentNode(t[Il]);c!==null&&J9(i,t[ta],a,e,c,s)}let o=e[Ig];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function wT(t,e){if(t.length<=Mo)return;let n=Mo+e,r=t[n];if(r){let i=r[El];i!==null&&i!==t&&QT(i,r),e>0&&(t[n-1][ea]=r[ea]);let o=wg(t,Mo+e);Y9(r[jt],r);let s=o[wc];s!==null&&s.detachView(o[jt]),r[Li]=null,r[ea]=null,r[Kt]&=-129}return r}function jq(t,e,n,r){let i=Mo+r,o=n.length;r>0&&(n[i-1][ea]=e),r<o-Mo?(e[ea]=n[i],vI(n,Mo+r,e)):(n.push(e),e[ea]=null),e[Li]=n;let s=e[El];s!==null&&n!==s&&Kk(s,e);let a=e[wc];a!==null&&a.insertView(t),m_(e),e[Kt]|=128}function Kk(t,e){let n=t[Ad],r=e[Li];if(bc(r))t[Kt]|=2;else{let i=r[Li][na];e[na]!==i&&(t[Kt]|=2)}n===null?t[Ad]=[e]:n.push(e)}var Cl=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[jt];return Fg(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[ho]}set context(e){this._lView[ho]=e}get destroyed(){return Cd(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Li];if(Fa(e)){let n=e[Cg],r=n?n.indexOf(this):-1;r>-1&&(wT(e,r),wg(n,r))}this._attachedToViewContainer=!1}Pk(this._lView[jt],this._lView)}onDestroy(e){OI(this._lView,e)}markForCheck(){nS(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Kt]&=-129}reattach(){m_(this._lView),this._lView[Kt]|=128}detectChanges(){this._lView[Kt]|=1024,zk(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new rt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=sf(this._lView),n=this._lView[El];n!==null&&!e&&QT(n,this._lView),Rk(this._lView[jt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new rt(902,!1);this._appRef=e;let n=sf(this._lView),r=this._lView[El];r!==null&&!n&&Kk(r,this._lView),m_(this._lView)}};var Dl=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Uq;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Aq(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Cl(o)}}return t})();function Uq(){return rS(Ji(),gn())}function rS(t,e){return t.type&4?new Dl(e,t,yf(t,e)):null}function iS(t,e,n,r,i){let o=t.data[e];if(o===null)o=qq(t,e,n,r,i),tP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=J5();o.injectorIndex=s===null?-1:s.injectorIndex}return cf(o,!0),o}function qq(t,e,n,r,i){let o=VI(),s=BI(),a=s?o:o&&o.parent,c=t.data[e]=$q(t,a,n,e,r,i);return zq(t,c,o,s),c}function zq(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function $q(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return K5()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Hq=()=>null;function xP(t,e){return Hq(t,e)}var Qk=class{},t0=class{},bT=class{resolveComponentFactory(e){throw new rt(917,!1)}},zg=class{static NULL=new bT},Nd=class{},ca=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Gq()}return t})();function Gq(){let t=gn(),e=Ji(),n=ia(e.index,t);return(bc(n)?n:t)[Nr]}var Yk=(()=>{class t{static \u0275prov=it({token:t,providedIn:"root",factory:()=>null})}return t})();var R_={},ET=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,R_,r);return i!==R_||n===R_?i:this.parentInjector.get(e,n,r)}};function NP(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=cI(i,a);else if(o==2){let c=a,u=e[++s];r=cI(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function tt(t,e=0){let n=gn();if(n===null)return Tt(t,e);let r=Ji();return rk(r,n,Ki(t),e)}function oS(){let t="invalid";throw new Error(t)}function Jk(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}Qq(t,e,n,a,o,c,u)}o!==null&&r!==null&&Wq(n,r,o)}function Wq(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new rt(-301,!1);r.push(e[i],o)}}function Kq(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Qq(t,e,n,r,i,o,s){let a=r.length,c=!1;for(let y=0;y<a;y++){let g=r[y];!c&&Ec(g)&&(c=!0,Kq(t,n,y)),hT(L_(n,e),t,g.type)}tz(n,t.data.length,a);for(let y=0;y<a;y++){let g=r[y];g.providersResolver&&g.providersResolver(g)}let u=!1,l=!1,m=Ak(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let y=0;y<a;y++){let g=r[y];if(n.mergedAttrs=Og(n.mergedAttrs,g.hostAttrs),Jq(t,n,e,m,g),ez(m,g,i),s!==null&&s.has(g)){let[k,M]=s.get(g);n.directiveToIndex.set(g.type,[m,k+n.directiveStart,M+n.directiveStart])}else(o===null||!o.has(g))&&n.directiveToIndex.set(g.type,m);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let R=g.type.prototype;!u&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!l&&(R.ngOnChanges||R.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),m++}Yq(t,n,o)}function Yq(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))RP(0,e,i,r),RP(1,e,i,r),kP(e,r,!1);else{let o=n.get(i);PP(0,e,o,r),PP(1,e,o,r),kP(e,r,!0)}}}function RP(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Zk(e,o)}}function PP(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Zk(e,s)}}function Zk(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function kP(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||zT(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let u=i[c];for(let l of u)if(l===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let u=o[c];for(let l=0;l<u.length;l+=2)if(u[l]===e){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Jq(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=gl(i.type,!0)),s=new xd(o,Ec(i),tt,null);t.blueprint[r]=s,n[r]=s,Zq(t,e,r,Ak(t,n,i.hostVars,aa),i)}function Zq(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Xq(s)!=a&&s.push(a),s.push(n,r,o)}}function Xq(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ez(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ec(e)&&(n[""]=t)}}function tz(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function sS(t,e,n,r,i,o,s,a){let c=e[jt],u=c.consts,l=Dg(u,s),m=iS(c,t,n,r,l);return o&&Jk(c,e,m,Dg(u,a),i),m.mergedAttrs=Og(m.mergedAttrs,m.attrs),m.attrs!==null&&NP(m,m.attrs,!1),m.mergedAttrs!==null&&NP(m,m.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,m),m}function aS(t,e){KP(t,e),xI(e)&&t.queries.elementEnd(e)}function cS(t){return eM(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Xk(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function eM(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function tM(t,e,n){return t[e]=n}function fu(t,e,n){if(n===aa)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function nM(t,e,n,r){let i=fu(t,e,n);return fu(t,e+1,r)||i}function rT(t,e,n){return function r(i){let o=Tl(t)?ia(t.index,e):e;nS(o,5);let s=e[ho],a=MP(e,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=MP(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function MP(t,e,n,r){let i=rn(null);try{return tr(6,e,n),n(r)!==!1}catch(o){return Eq(t,o),!1}finally{tr(7,e,n),rn(i)}}function nz(t,e,n,r,i,o,s,a){let c=of(t),u=!1,l=null;if(!r&&c&&(l=iz(e,n,o,t.index)),l!==null){let m=l.__ngLastListenerFn__||l;m.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let m=Va(t,n),y=r?r(m):m;m9(n,y,o,a);let g=i.listen(y,o,a);if(!rz(o)){let R=r?k=>r(ra(k[t.index])):t.index;rM(R,e,n,o,a,g,!1)}}return u}function rz(t){return t.startsWith("animation")||t.startsWith("transition")}function iz(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[nf],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function rM(t,e,n,r,i,o,s){let a=e.firstCreatePass?FI(e):null,c=LI(n),u=c.length;c.push(i,o),a&&a.push(r,t,u,(u+1)*(s?-1:1))}function OP(t,e,n,r,i,o){let s=e[n],a=e[jt],u=a.data[n].outputs[r],m=s[u].subscribe(o);rM(t.index,a,e,i,o,m,!0)}var IT=Symbol("BINDING");var U_=class extends zg{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=du(e);return new Rd(n,this.ngModule)}};function oz(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&J_.SignalBased)!==0};return i&&(o.transform=i),o})}function sz(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function az(t,e,n){let r=e instanceof si?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new ET(n,r):n}function cz(t){let e=t.get(Nd,null);if(e===null)throw new rt(407,!1);let n=t.get(Yk,null),r=t.get(yl,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function uz(t,e){let n=iM(t);return Ek(e,n,n==="svg"?V5:n==="math"?B5:null)}function iM(t){return(t.selectors[0][0]||"div").toLowerCase()}var Rd=class extends t0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=oz(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=sz(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=M9(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){tr(22);let a=rn(null);try{let c=this.componentDef,u=lz(r,c,s,o),l=az(c,i||this.ngModule,e),m=cz(l),y=m.rendererFactory.createRenderer(null,c),g=r?lq(y,r,c.encapsulation,l):uz(c,y),R=s?.some(LP)||o?.some(L=>typeof L!="function"&&L.bindings.some(LP)),k=HT(null,u,null,512|Sk(c),null,null,m,y,l,null,pk(g,l,!0));k[Qi]=g,w_(k);let M=null;try{let L=sS(Qi,k,2,"#host",()=>u.directiveRegistry,!0,0);Tk(y,g,L),ff(g,k),e0(u,k,L),BT(u,L,k),aS(u,L),n!==void 0&&hz(L,this.ngContentSelectors,n),M=ia(L.index,k),k[ho]=M[ho],tS(u,k,null)}catch(L){throw M!==null&&pT(M),pT(k),L}finally{tr(23),b_()}return new q_(this.componentType,k,!!R)}finally{rn(a)}}};function lz(t,e,n,r){let i=t?["ng-version","21.0.0"]:O9(e.selectors[0]),o=null,s=null,a=0;if(n)for(let l of n)a+=l[IT].requiredVars,l.create&&(l.targetIdx=0,(o??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let m=r[l];if(typeof m!="function")for(let y of m.bindings){a+=y[IT].requiredVars;let g=l+1;y.create&&(y.targetIdx=g,(o??=[]).push(y)),y.update&&(y.targetIdx=g,(s??=[]).push(y))}}let c=[e];if(r)for(let l of r){let m=typeof l=="function"?l:l.type,y=EI(m);c.push(y)}return $T(0,null,dz(o,s),1,a,c,null,null,null,[i],null)}function dz(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function LP(t){let e=t[IT].kind;return e==="input"||e==="twoWay"}var q_=class extends Qk{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=p_(n[jt],Qi),this.location=yf(this._tNode,n),this.instance=ia(this._tNode.index,n)[ho],this.hostView=this.changeDetectorRef=new Cl(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=eS(r,i[jt],i,e,n);this.previousInputValues.set(e,n);let s=ia(r.index,i);nS(s,1)}get injector(){return new Dd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function hz(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var gu=(()=>{class t{static __NG_ELEMENT_ID__=fz}return t})();function fz(){let t=Ji();return sM(t,gn())}var pz=gu,oM=class extends pz{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return yf(this._hostTNode,this._hostLView)}get injector(){return new Dd(this._hostTNode,this._hostLView)}get parentInjector(){let e=MT(this._hostTNode,this._hostLView);if(JP(e)){let n=M_(e,this._hostLView),r=k_(e),i=n[jt].data[r+8];return new Dd(i,n)}else return new Dd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=FP(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Mo}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=xP(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,DP(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let c=e&&!z7(e),u;if(c)u=n;else{let M=n||{};u=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef,s=M.directives,a=M.bindings}let l=c?e:new Rd(du(e)),m=r||this.parentInjector;if(!o&&l.ngModule==null){let L=(c?m:this.parentInjector).get(si,null);L&&(o=L)}let y=du(l.componentType??{}),g=xP(this._lContainer,y?.id??null),R=g?.firstChild??null,k=l.create(m,i,R,o,s,a);return this.insertImpl(k.hostView,u,DP(this._hostTNode,g)),k}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(U5(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Li],u=new oM(c,c[ta],c[Li]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Bq(s,i,o,r),e.attachToViewContainerRef(),vI(iT(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=FP(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=wT(this._lContainer,n);r&&(wg(iT(this._lContainer),n),Pk(r[jt],r))}detach(e){let n=this._adjustIndex(e,-1),r=wT(this._lContainer,n);return r&&wg(iT(this._lContainer),n)!=null?new Cl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function FP(t){return t[Cg]}function iT(t){return t[Cg]||(t[Cg]=[])}function sM(t,e){let n,r=e[t.index];return Fa(r)?n=r:(n=Wk(r,e,null,t),e[t.index]=n,GT(e,n)),mz(n,e,t,r),new oM(n,t,e)}function gz(t,e){let n=t[Nr],r=n.createComment(""),i=Va(e,t),o=n.parentNode(i);return B_(n,o,r,n.nextSibling(i),!1),r}var mz=_z,yz=()=>!1;function vz(t,e,n){return yz(t,e,n)}function _z(t,e,n,r){if(t[Il])return;let i;n.type&8?i=ra(r):i=gz(e,n),t[Il]=i}var TT=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},ST=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)uS(e,n).matches!==null&&this.queries[n].setDirty()}},AT=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Cz(e):this.predicate=e}},CT=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},DT=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,wz(n,o)),this.matchTNodeWithReadOption(e,n,N_(n,e,o,!1,!1))}else r===Dl?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,N_(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===fo||i===gu||i===Dl&&n.type&4)this.addMatch(n.index,-2);else{let o=N_(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function wz(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function bz(t,e){return t.type&11?yf(t,e):t.type&4?rS(t,e):null}function Ez(t,e,n,r){return n===-1?bz(e,t):n===-2?Iz(t,e,r):Lg(t,t[jt],n,e)}function Iz(t,e,n){if(n===fo)return yf(e,t);if(n===Dl)return rS(e,t);if(n===gu)return sM(e,t)}function aM(t,e,n,r){let i=e[wc].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=o[u];a.push(Ez(e,l,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function xT(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=aM(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],l=e[-c];for(let m=Mo;m<l.length;m++){let y=l[m];y[El]===y[Li]&&xT(y[jt],y,u,r)}if(l[Ad]!==null){let m=l[Ad];for(let y=0;y<m.length;y++){let g=m[y];xT(g[jt],g,u,r)}}}}}return r}function Tz(t,e){return t[wc].queries[e].queryList}function Sz(t,e,n){let r=new F_((n&4)===4);return $5(t,e,r,r.destroy),(e[wc]??=new ST).queries.push(new TT(r))-1}function Az(t,e,n,r){let i=Yi();if(i.firstCreatePass){let o=Ji();Dz(i,new AT(e,n,r),o.index),xz(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return Sz(i,gn(),n)}function Cz(t){return t.split(",").map(e=>e.trim())}function Dz(t,e,n){t.queries===null&&(t.queries=new CT),t.queries.track(new DT(e,n))}function xz(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function uS(t,e){return t.queries.getByIndex(e)}function Nz(t,e){let n=t[jt],r=uS(n,e);return r.crossesNgTemplate?xT(n,t,e,[]):aM(n,t,r,e)}var Pd=class{},n0=class{};var z_=class extends Pd{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new U_(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=bI(e);this._bootstrapComponents=wk(o.bootstrap),this._r3Injector=WI(e,n,[{provide:Pd,useValue:this},{provide:zg,useValue:this.componentFactoryResolver},...r],lu(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},$_=class extends n0{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new z_(this.moduleType,e,[])}};var Vg=class extends Pd{injector;componentFactoryResolver=new U_(this);instance=null;constructor(e){super();let n=new bd([...e.providers,{provide:Pd,useValue:this},{provide:zg,useValue:this.componentFactoryResolver}],e.parent||Eg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function _f(t,e,n=null){return new Vg({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Rz=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=II(!1,n.type),i=r.length>0?_f([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=it({token:t,providedIn:"environment",factory:()=>new t(Tt(si))})}return t})();function Gr(t){return mf(()=>{let e=cM(t),n=Mt(Me({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===OT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Rz).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ja.Emulated,styles:t.styles||Es,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&vf("NgStandalone"),uM(n);let r=t.dependencies;return n.directiveDefs=VP(r,Pz),n.pipeDefs=VP(r,k5),n.id=Oz(n),n})}function Pz(t){return du(t)||EI(t)}function ua(t){return mf(()=>({type:t.type,bootstrap:t.bootstrap||Es,declarations:t.declarations||Es,imports:t.imports||Es,exports:t.exports||Es,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function kz(t,e){if(t==null)return wl;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=J_.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function Mz(t){if(t==null)return wl;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Tr(t){return mf(()=>{let e=cM(t);return uM(e),e})}function r0(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function cM(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||wl,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Es,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:kz(t.inputs,e),outputs:Mz(t.outputs),debugInfo:null}}function uM(t){t.features?.forEach(e=>e(t))}function VP(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function Oz(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Lz(t){return Object.getPrototypeOf(t.prototype).constructor}function la(t){let e=Lz(t.type),n=!0,r=[t];for(;e;){let i;if(Ec(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new rt(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=oT(t.inputs),s.declaredInputs=oT(t.declaredInputs),s.outputs=oT(t.outputs);let a=i.hostBindings;a&&Uz(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&Bz(t,c),u&&jz(t,u),Fz(t,i),I5(t.outputs,i.outputs),Ec(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===la&&(n=!1)}}e=Object.getPrototypeOf(e)}Vz(r)}function Fz(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function Vz(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Og(i.hostAttrs,n=Og(n,i.hostAttrs))}}function oT(t){return t===wl?{}:t===Es?[]:t}function Bz(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function jz(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function Uz(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function qz(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Og(t.mergedAttrs,t.attrs);let l=t.tView=$T(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),l.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),cf(t,!1);let c=$z(n,e,t,r);I_()&&YT(n,e,c,t),ff(c,e);let u=Wk(c,e,c,t);e[r+Qi]=u,GT(e,u),vz(u,t,e)}function zz(t,e,n,r,i,o,s,a,c,u,l){let m=n+Qi,y;return e.firstCreatePass?(y=iS(e,m,4,s||null,a||null),y_()&&Jk(e,t,y,Dg(e.consts,u),XT),KP(e,y)):y=e.data[m],qz(y,t,e,n,r,i,o,c),of(y)&&e0(e,t,y),u!=null&&ZT(t,y,l),y}function Vn(t,e,n,r,i,o,s,a){let c=gn(),u=Yi(),l=Dg(u.consts,o);return zz(c,u,t,e,n,r,i,l,void 0,s,a),Vn}var $z=Hz;function Hz(t,e,n,r){return Ng(!0),e[Nr].createComment("")}var lS=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function lM(t){return typeof t=="function"&&t[Ro]!==void 0}function dS(t){return lM(t)&&typeof t.set=="function"}var i0=new ct(""),o0=new ct(""),$g=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,i){this._ngZone=n,this.registry=r,AI()&&(this._destroyRef=Fe(oa,{optional:!0})??void 0),hS||(hM(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{wr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static \u0275fac=function(r){return new(r||t)(Tt(wr),Tt(dM),Tt(o0))};static \u0275prov=it({token:t,factory:t.\u0275fac})}return t})(),dM=(()=>{class t{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return hS?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function hM(t){hS=t}var hS;function mu(t){return!!t&&typeof t.then=="function"}function s0(t){return!!t&&typeof t.subscribe=="function"}var fS=new ct("");function a0(t){return vc([{provide:fS,multi:!0,useValue:t}])}var pS=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=Fe(fS,{optional:!0})??[];injector=Fe(ai);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=ci(this.injector,i);if(mu(o))n.push(o);else if(s0(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hg=new ct("");function fM(){CE(()=>{let t="";throw new rt(600,t)})}function pM(t){return t.isBoundToModule}var Gz=10;var yu=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Fe(Ss);afterRenderManager=Fe(KT);zonelessEnabled=Fe(Rg);rootEffectScheduler=Fe(XI);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ni;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Fe(hu);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(bn(n=>!n))}constructor(){Fe(Od,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=Fe(si);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=ai.NULL){return this._injector.get(wr).run(()=>{tr(10);let s=n instanceof t0;if(!this._injector.get(pS).done){let R="";throw new rt(405,R)}let c;s?c=n:c=this._injector.get(zg).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=pM(c)?void 0:this._injector.get(Pd),l=r||c.selector,m=c.create(i,[],l,u),y=m.location.nativeElement,g=m.injector.get(i0,null);return g?.registerApplication(y),m.onDestroy(()=>{this.detachView(m.hostView),Mg(this.components,m),g?.unregisterApplication(y)}),this._loadComponent(m),tr(11,m),m})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){tr(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Z_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new rt(101,!1);let n=rn(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,rn(n),this.afterTick.next(),tr(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Nd,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Gz;)tr(14),this.synchronizeOnce(),tr(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!xg(i))continue;let o=r&&!this.zonelessEnabled?0:1;zk(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>xg(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Mg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Hg,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Mg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new rt(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mg(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ld(t,e,n,r){let i=gn(),o=uf();if(fu(i,o,e)){let s=Yi(),a=E_();_q(a,i,t,e,n,r)}return Ld}var _pe=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Ct(t,e,n){let r=gn(),i=uf();if(fu(r,i,e)){let o=Yi(),s=E_();Ok(s,r,t,e,r[Nr],n)}return Ct}function BP(t,e,n,r,i){eS(e,t,n,i?"class":"style",r)}function re(t,e,n,r){let i=gn(),o=i[jt],s=t+Qi,a=o.firstCreatePass?sS(s,i,2,e,XT,y_(),n,r):o.data[s];if(Lk(a,i,t,e,Wz),of(a)){let c=i[jt];e0(c,i,a),BT(c,a,i)}return r!=null&&ZT(i,a),re}function ie(){let t=Yi(),e=Ji(),n=Fk(e);return t.firstCreatePass&&aS(t,n),Q5(n)&&Y5(),W5(),n.classesWithoutHost!=null&&Q7(n)&&BP(t,n,gn(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Y7(n)&&BP(t,n,gn(),n.stylesWithoutHost,!1),ie}function Sr(t,e,n,r){return re(t,e,n,r),ie(),Sr}var Wz=(t,e,n,r,i)=>(Ng(!0),Ek(e[Nr],r,uP()));function Fd(t,e,n){let r=gn(),i=r[jt],o=t+Qi,s=i.firstCreatePass?sS(o,r,8,"ng-container",XT,y_(),e,n):i.data[o];if(Lk(s,r,t,"ng-container",Kz),of(s)){let a=r[jt];e0(a,r,s),BT(a,s,r)}return n!=null&&ZT(r,s),Fd}function Vd(){let t=Yi(),e=Ji(),n=Fk(e);return t.firstCreatePass&&aS(t,n),Vd}var Kz=(t,e,n,r,i)=>(Ng(!0),V9(e[Nr],""));function Zi(){return gn()}var Pg=void 0;function Qz(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var Yz=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Pg,Pg,Pg],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Qz],sT={};function As(t){let e=Jz(t),n=jP(e);if(n)return n;let r=e.split("-")[0];if(n=jP(r),n)return n;if(r==="en")return Yz;throw new rt(701,!1)}function jP(t){return t in sT||(sT[t]=lo.ng&&lo.ng.common&&lo.ng.common.locales&&lo.ng.common.locales[t]),sT[t]}var Wr=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(Wr||{});function Jz(t){return t.toLowerCase().replace(/_/g,"-")}var Gg="en-US";var Zz=Gg;function gM(t){typeof t=="string"&&(Zz=t.toLowerCase().replace(/_/g,"-"))}function St(t,e,n){let r=gn(),i=Yi(),o=Ji();return mM(i,r,r[Nr],o,t,e,n),St}function mM(t,e,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=rT(r,e,o),nz(r,t,e,s,n,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],l=r.hostDirectiveOutputs?.[i];if(l&&l.length)for(let m=0;m<l.length;m+=2){let y=l[m],g=l[m+1];c??=rT(r,e,o),OP(r,e,y,g,i,c)}if(u&&u.length)for(let m of u)c??=rT(r,e,o),OP(r,e,m,i,i,c)}}function kt(t=1){return cP(t)}function gS(t,e,n,r){Az(t,e,n,r)}function mS(t){let e=gn(),n=Yi(),r=$I();__(r+1);let i=uS(n,r);if(t.dirty&&j5(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Nz(e,r);t.reset(o,u9),t.notifyOnChanges()}return!0}return!1}function yS(){return Tz(gn(),$I())}function C_(t,e){return t<<17|e<<2}function kd(t){return t>>17&32767}function Xz(t){return(t&2)==2}function e$(t,e){return t&131071|e<<17}function NT(t){return t|2}function gf(t){return(t&131068)>>2}function aT(t,e){return t&-131069|e<<2}function t$(t){return(t&1)===1}function RT(t){return t|1}function n$(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=kd(s),c=gf(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let m=n;l=m[1],(l===null||ef(m,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let y=kd(t[a+1]);t[r+1]=C_(y,a),y!==0&&(t[y+1]=aT(t[y+1],r)),t[a+1]=e$(t[a+1],r)}else t[r+1]=C_(a,0),a!==0&&(t[a+1]=aT(t[a+1],r)),a=r;else t[r+1]=C_(c,0),a===0?a=r:t[c+1]=aT(t[c+1],r),c=r;u&&(t[r+1]=NT(t[r+1])),UP(t,l,r,!0),UP(t,l,r,!1),r$(e,l,t,r,o),s=C_(a,c),o?e.classBindings=s:e.styleBindings=s}function r$(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ef(o,e)>=0&&(n[r+1]=RT(n[r+1]))}function UP(t,e,n,r){let i=t[n+1],o=e===null,s=r?kd(i):gf(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];i$(c,e)&&(a=!0,t[s+1]=r?RT(u):NT(u)),s=r?kd(u):gf(u)}a&&(t[n+1]=r?NT(i):RT(i))}function i$(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ef(t,e)>=0:!1}function Ac(t,e){return o$(t,e,null,!0),Ac}function o$(t,e,n,r){let i=gn(),o=Yi(),s=zI(2);if(o.firstUpdatePass&&a$(o,t,s,r),e!==aa&&fu(i,s,e)){let a=o.data[Sl()];h$(o,a,i,i[Nr],t,i[s+1]=f$(e,n),r,s)}}function s$(t,e){return e>=t.expandoStartIndex}function a$(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Sl()],s=s$(t,n);p$(o,r)&&e===null&&!s&&(e=!1),e=c$(i,o,e,r),n$(i,o,e,n,s,r)}}function c$(t,e,n,r){let i=iP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=cT(null,t,e,n,r),n=Bg(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=cT(i,t,e,n,r),o===null){let c=u$(t,e,r);c!==void 0&&Array.isArray(c)&&(c=cT(null,t,e,c[1],r),c=Bg(c,e.attrs,r),l$(t,e,r,c))}else o=d$(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function u$(t,e,n){let r=n?e.classBindings:e.styleBindings;if(gf(r)!==0)return t[kd(r)]}function l$(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[kd(i)]=r}function d$(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Bg(r,s,n)}return Bg(r,e.attrs,n)}function cT(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Bg(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Bg(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),P5(t,s,n?!0:e[++o]))}return t===void 0?null:t}function h$(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=t$(u)?qP(c,e,n,i,gf(u),s):void 0;if(!H_(l)){H_(o)||Xz(u)&&(o=qP(c,null,n,i,a,s));let m=NI(Sl(),n);uq(r,s,m,i,o)}}function qP(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,m=l===null,y=n[i+1];y===aa&&(y=m?Es:void 0);let g=m?d_(y,r):l===r?y:void 0;if(u&&!H_(g)&&(g=d_(c,r)),H_(g)&&(a=g,s))return a;let R=t[i+1];i=s?kd(R):gf(R)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=d_(c,r))}return a}function H_(t){return t!==void 0}function f$(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=lu(Ug(t)))),t}function p$(t,e){return(t.flags&(e?8:16))!==0}function ye(t,e=""){let n=gn(),r=Yi(),i=t+Qi,o=r.firstCreatePass?iS(r,i,1,e,null):r.data[i],s=g$(r,n,o,e,t);n[i]=s,I_()&&YT(r,n,s,o),cf(o,!1)}var g$=(t,e,n,r,i)=>(Ng(!0),L9(e[Nr],r));function m$(t,e,n,r=""){return fu(t,uf(),n)?e+_l(n)+r:aa}function y$(t,e,n,r,i,o=""){let s=X5(),a=nM(t,s,n,i);return zI(2),a?e+_l(n)+r+_l(i)+o:aa}function kn(t){return rr("",t),kn}function rr(t,e,n){let r=gn(),i=m$(r,t,e,n);return i!==aa&&yM(r,Sl(),i),rr}function c0(t,e,n,r,i){let o=gn(),s=y$(o,t,e,n,r,i);return s!==aa&&yM(o,Sl(),s),c0}function yM(t,e,n){let r=NI(e,t);F9(t[Nr],r,n)}function Mn(t,e,n){dS(e)&&(e=e());let r=gn(),i=uf();if(fu(r,i,e)){let o=Yi(),s=E_();Ok(s,r,t,e,r[Nr],n)}return Mn}function Bn(t,e){let n=dS(t);return n&&t.set(e),n}function On(t,e){let n=gn(),r=Yi(),i=Ji();return mM(r,n,n[Nr],i,t,e),On}function vS(t){return fu(gn(),uf(),t)?_l(t):aa}function v$(t,e,n){let r=Yi();if(r.firstCreatePass){let i=Ec(t);PT(n,r.data,r.blueprint,i,!0),PT(e,r.data,r.blueprint,i,!1)}}function PT(t,e,n,r,i){if(t=Ki(t),Array.isArray(t))for(let o=0;o<t.length;o++)PT(t[o],e,n,r,i);else{let o=Yi(),s=gn(),a=Ji(),c=wd(t)?t:Ki(t.provide),u=SI(t),l=a.providerIndexes&1048575,m=a.directiveStart,y=a.providerIndexes>>20;if(wd(t)||!t.multi){let g=new xd(u,i,tt,null),R=lT(c,e,i?l:l+y,m);R===-1?(hT(L_(a,s),o,c),uT(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[R]=g,s[R]=g)}else{let g=lT(c,e,l+y,m),R=lT(c,e,l,l+y),k=g>=0&&n[g],M=R>=0&&n[R];if(i&&!M||!i&&!k){hT(L_(a,s),o,c);let L=b$(i?w$:_$,n.length,i,r,u,t);!i&&M&&(n[R].providerFactory=L),uT(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(L),s.push(L)}else{let L=vM(n[i?R:g],u,!i&&r);uT(o,t,g>-1?g:R,L)}!i&&r&&M&&n[R].componentProviders++}}}function uT(t,e,n,r){let i=wd(e),o=L5(e);if(i||o){let c=(o?Ki(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function vM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function lT(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _$(t,e,n,r,i){return kT(this.multi,[])}function w$(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Lg(r,r[jt],this.providerFactory.index,i);s=c.slice(0,a),kT(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],kT(o,s);return s}function kT(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function b$(t,e,n,r,i,o){let s=new xd(t,n,tt,null);return s.multi=[],s.index=e,s.componentProviders=0,vM(s,i,r&&!n),s}function vu(t,e=[]){return n=>{n.providersResolver=(r,i)=>v$(r,i?i(t):t,e)}}function _M(t,e){let n=t[e];return n===aa?void 0:n}function E$(t,e,n,r,i,o){let s=e+n;return fu(t,s,i)?tM(t,s+1,o?r.call(o,i):r(i)):_M(t,s+1)}function I$(t,e,n,r,i,o,s){let a=e+n;return nM(t,a,i,o)?tM(t,a+2,s?r.call(s,i,o):r(i,o)):_M(t,a+2)}function Cs(t,e){let n=Yi(),r,i=t+Qi;n.firstCreatePass?(r=T$(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=gl(r.type,!0)),s,a=ko(tt);try{let c=O_(!1),u=o();return O_(c),PI(n,gn(),i,u),u}finally{ko(a)}}function T$(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Cc(t,e,n){let r=t+Qi,i=gn(),o=RI(i,r);return wM(i,r)?E$(i,qI(),e,o.transform,n,o):o.transform(n)}function Wg(t,e,n,r){let i=t+Qi,o=gn(),s=RI(o,i);return wM(o,i)?I$(o,qI(),e,s.transform,n,r,s):s.transform(n,r)}function wM(t,e){return t[jt].data[e].pure}var G_=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},_S=(()=>{class t{compileModuleSync(n){return new $_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=bI(n),o=wk(i.declarations).reduce((s,a)=>{let c=du(a);return c&&s.push(new Rd(c)),s},[]);return new G_(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bM=(()=>{class t{applicationErrorHandler=Fe(Ss);appRef=Fe(yu);taskService=Fe(hu);ngZone=Fe(wr);zonelessEnabled=Fe(Rg);tracing=Fe(Od,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ai;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Fe(ZI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?QI:KI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,QI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function EM(){return[{provide:yl,useExisting:bM},{provide:wr,useClass:vg},{provide:Rg,useValue:!0}]}function S$(){return typeof $localize<"u"&&$localize.locale||Gg}var Kg=new ct("",{factory:()=>Fe(Kg,{optional:!0,skipSelf:!0})||S$()});function Qg(t,e){return Cv(t,e?.equal)}var CM=Symbol("InputSignalNode#UNSET"),O$=Mt(Me({},Dv),{transformFn:void 0,applyValueToInputSignal(t,e){ug(t,e)}});function DM(t,e){let n=Object.create(O$);n.value=t,n.transformFn=e?.transform;function r(){if(sg(n),n.value===CM){let i=null;throw new rt(-950,i)}return n.value}return r[Ro]=n,r}var l0=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>jg(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function IM(t,e){return DM(t,e)}function L$(t){return DM(CM,t)}var xM=(IM.required=L$,IM);var wS=new ct(""),F$=new ct("");function Yg(t){return!t.moduleRef}function V$(t){let e=Yg(t)?t.r3Injector:t.moduleRef.injector,n=e.get(wr);return n.run(()=>{Yg(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ss),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Yg(t)){let o=()=>e.destroy(),s=t.platformInjector.get(wS);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(wS);s.add(o),t.moduleRef.onDestroy(()=>{Mg(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return j$(r,n,()=>{let o=e.get(hu),s=o.add(),a=e.get(pS);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Kg,Gg);if(gM(c||Gg),!e.get(F$,!0))return Yg(t)?e.get(yu):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Yg(t)){let l=e.get(yu);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return B$?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var B$;function j$(t,e,n){try{let r=n();return mu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var u0=null;function U$(t=[],e){return ai.create({name:e,providers:[{provide:bg,useValue:"platform"},{provide:wS,useValue:new Set([()=>u0=null])},...t]})}function q$(t=[]){if(u0)return u0;let e=U$(t);return u0=e,fM(),z$(e),e}function z$(t){let e=t.get(K_,null);ci(t,()=>{e?.forEach(n=>n())})}function SS(){return!1}var da=(()=>{class t{static __NG_ELEMENT_ID__=$$}return t})();function $$(t){return H$(Ji(),gn(),(t&16)===16)}function H$(t,e,n){if(Tl(t)&&!n){let r=ia(t.index,e);return new Cl(r,r)}else if(t.type&175){let r=e[na];return new Cl(r,e)}return null}var bS=class{constructor(){}supports(e){return cS(e)}create(e){return new ES(e)}},G$=(t,e)=>e,ES=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||G$}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<TM(r,i,o)?n:r,a=TM(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let y=0;y<u;y++){let g=y<o.length?o[y]:o[y]=0,R=g+y;l<=R&&R<u&&(o[y]=g+1)}let m=s.previousIndex;o[m]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!cS(e))throw new rt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Xk(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new IS(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new d0),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new d0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},IS=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},TS=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},d0=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new TS,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function TM(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function SM(){return new AS([new bS])}var AS=(()=>{class t{factories;static \u0275prov=it({token:t,providedIn:"root",factory:SM});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=Fe(t,{optional:!0,skipSelf:!0});return t.create(n,r||SM())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new rt(901,!1)}}return t})();var NM=(()=>{class t{constructor(n){}static \u0275fac=function(r){return new(r||t)(Tt(yu))};static \u0275mod=ua({type:t});static \u0275inj=Is({})}return t})();function RM(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;tr(8);try{let o=i?.injector??q$(r),s=[EM(),fP,...n||[]],a=new Vg({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return V$({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{tr(9)}}function Bd(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function PM(t){let e=du(t);if(!e)return null;let n=new Rd(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var OM=null;function Ds(){return OM}function CS(t){OM??=t}var Jg=class{},Zg=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:()=>Fe(LM),providedIn:"platform"})}return t})(),DS=new ct(""),LM=(()=>{class t extends Zg{_location;_history;_doc=Fe(Fi);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ds().getBaseHref(this._doc)}onPopState(n){let r=Ds().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ds().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function h0(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function kM(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Ua(t){return t&&t[0]!=="?"?`?${t}`:t}var qa=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:()=>Fe(p0),providedIn:"root"})}return t})(),f0=new ct(""),p0=(()=>{class t extends qa{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Fe(Fi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return h0(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ua(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ua(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ua(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Tt(Zg),Tt(f0,8))};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nl=(()=>{class t{_subject=new ni;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Q$(kM(MM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ua(r))}normalize(n){return t.stripTrailingSlash(K$(this._basePath,MM(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ua(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ua(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ua;static joinWithSlash=h0;static stripTrailingSlash=kM;static \u0275fac=function(r){return new(r||t)(Tt(qa))};static \u0275prov=it({token:t,factory:()=>W$(),providedIn:"root"})}return t})();function W$(){return new Nl(Tt(qa))}function K$(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function MM(t){return t.replace(/\/index.html$/,"")}function Q$(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var OS=(()=>{class t extends qa{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=h0(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ua(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ua(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Tt(Zg),Tt(f0,8))};static \u0275prov=it({token:t,factory:t.\u0275fac})}return t})();var po=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(po||{}),ir=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(ir||{}),Zo=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Zo||{}),bu={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function UM(t){return As(t)[Wr.LocaleId]}function qM(t,e,n){let r=As(t),i=[r[Wr.DayPeriodsFormat],r[Wr.DayPeriodsStandalone]],o=ha(i,e);return ha(o,n)}function zM(t,e,n){let r=As(t),i=[r[Wr.DaysFormat],r[Wr.DaysStandalone]],o=ha(i,e);return ha(o,n)}function $M(t,e,n){let r=As(t),i=[r[Wr.MonthsFormat],r[Wr.MonthsStandalone]],o=ha(i,e);return ha(o,n)}function HM(t,e){let r=As(t)[Wr.Eras];return ha(r,e)}function Xg(t,e){let n=As(t);return ha(n[Wr.DateFormat],e)}function em(t,e){let n=As(t);return ha(n[Wr.TimeFormat],e)}function tm(t,e){let r=As(t)[Wr.DateTimeFormat];return ha(r,e)}function nm(t,e){let n=As(t),r=n[Wr.NumberSymbols][e];if(typeof r>"u"){if(e===bu.CurrencyDecimal)return n[Wr.NumberSymbols][bu.Decimal];if(e===bu.CurrencyGroup)return n[Wr.NumberSymbols][bu.Group]}return r}function GM(t){if(!t[Wr.ExtraData])throw new rt(2303,!1)}function WM(t){let e=As(t);return GM(e),(e[Wr.ExtraData][2]||[]).map(r=>typeof r=="string"?xS(r):[xS(r[0]),xS(r[1])])}function KM(t,e,n){let r=As(t);GM(r);let i=[r[Wr.ExtraData][0],r[Wr.ExtraData][1]],o=ha(i,e)||[];return ha(o,n)||[]}function ha(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new rt(2304,!1)}function xS(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var Y$=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,g0={},J$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function QM(t,e,n,r){let i=sH(t);e=wu(n,e)||e;let s=[],a;for(;e;)if(a=J$.exec(e),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;e=l}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=JM(r,c),i=oH(i,r));let u="";return s.forEach(l=>{let m=rH(l);u+=m?m(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function w0(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function wu(t,e){let n=UM(t);if(g0[n]??={},g0[n][e])return g0[n][e];let r="";switch(e){case"shortDate":r=Xg(t,Zo.Short);break;case"mediumDate":r=Xg(t,Zo.Medium);break;case"longDate":r=Xg(t,Zo.Long);break;case"fullDate":r=Xg(t,Zo.Full);break;case"shortTime":r=em(t,Zo.Short);break;case"mediumTime":r=em(t,Zo.Medium);break;case"longTime":r=em(t,Zo.Long);break;case"fullTime":r=em(t,Zo.Full);break;case"short":let i=wu(t,"shortTime"),o=wu(t,"shortDate");r=m0(tm(t,Zo.Short),[i,o]);break;case"medium":let s=wu(t,"mediumTime"),a=wu(t,"mediumDate");r=m0(tm(t,Zo.Medium),[s,a]);break;case"long":let c=wu(t,"longTime"),u=wu(t,"longDate");r=m0(tm(t,Zo.Long),[c,u]);break;case"full":let l=wu(t,"fullTime"),m=wu(t,"fullDate");r=m0(tm(t,Zo.Full),[l,m]);break}return r&&(g0[n][e]=r),r}function m0(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function za(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Z$(t,e){return za(t,3).substring(0,e)}function ui(t,e,n=0,r=!1,i=!1){return function(o,s){let a=X$(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return Z$(a,e);let c=nm(s,bu.MinusSign);return za(a,e,c,r,i)}}function X$(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new rt(2301,!1)}}function pr(t,e,n=po.Format,r=!1){return function(i,o){return eH(i,o,t,e,n,r)}}function eH(t,e,n,r,i,o){switch(n){case 2:return $M(e,i,r)[t.getMonth()];case 1:return zM(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let u=WM(e),l=KM(e,i,r),m=u.findIndex(y=>{if(Array.isArray(y)){let[g,R]=y,k=s>=g.hours&&a>=g.minutes,M=s<R.hours||s===R.hours&&a<R.minutes;if(g.hours<R.hours){if(k&&M)return!0}else if(k||M)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(m!==-1)return l[m]}return qM(e,i,r)[s<12?0:1];case 3:return HM(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new rt(2302,!1)}}function y0(t){return function(e,n,r){let i=-1*r,o=nm(n,bu.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+za(s,2,o)+za(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+za(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+za(s,2,o)+":"+za(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+za(s,2,o)+":"+za(Math.abs(i%60),2,o);default:throw new rt(2310,!1)}}}var tH=0,_0=4;function nH(t){let e=w0(t,tH,1).getDay();return w0(t,0,1+(e<=_0?_0:_0+7)-e)}function YM(t){let e=t.getDay(),n=e===0?-3:_0-e;return w0(t.getFullYear(),t.getMonth(),t.getDate()+n)}function NS(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=YM(n),s=nH(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return za(i,t,nm(r,bu.MinusSign))}}function v0(t,e=!1){return function(n,r){let o=YM(n).getFullYear();return za(o,t,nm(r,bu.MinusSign),e)}}var RS={};function rH(t){if(RS[t])return RS[t];let e;switch(t){case"G":case"GG":case"GGG":e=pr(3,ir.Abbreviated);break;case"GGGG":e=pr(3,ir.Wide);break;case"GGGGG":e=pr(3,ir.Narrow);break;case"y":e=ui(0,1,0,!1,!0);break;case"yy":e=ui(0,2,0,!0,!0);break;case"yyy":e=ui(0,3,0,!1,!0);break;case"yyyy":e=ui(0,4,0,!1,!0);break;case"Y":e=v0(1);break;case"YY":e=v0(2,!0);break;case"YYY":e=v0(3);break;case"YYYY":e=v0(4);break;case"M":case"L":e=ui(1,1,1);break;case"MM":case"LL":e=ui(1,2,1);break;case"MMM":e=pr(2,ir.Abbreviated);break;case"MMMM":e=pr(2,ir.Wide);break;case"MMMMM":e=pr(2,ir.Narrow);break;case"LLL":e=pr(2,ir.Abbreviated,po.Standalone);break;case"LLLL":e=pr(2,ir.Wide,po.Standalone);break;case"LLLLL":e=pr(2,ir.Narrow,po.Standalone);break;case"w":e=NS(1);break;case"ww":e=NS(2);break;case"W":e=NS(1,!0);break;case"d":e=ui(2,1);break;case"dd":e=ui(2,2);break;case"c":case"cc":e=ui(7,1);break;case"ccc":e=pr(1,ir.Abbreviated,po.Standalone);break;case"cccc":e=pr(1,ir.Wide,po.Standalone);break;case"ccccc":e=pr(1,ir.Narrow,po.Standalone);break;case"cccccc":e=pr(1,ir.Short,po.Standalone);break;case"E":case"EE":case"EEE":e=pr(1,ir.Abbreviated);break;case"EEEE":e=pr(1,ir.Wide);break;case"EEEEE":e=pr(1,ir.Narrow);break;case"EEEEEE":e=pr(1,ir.Short);break;case"a":case"aa":case"aaa":e=pr(0,ir.Abbreviated);break;case"aaaa":e=pr(0,ir.Wide);break;case"aaaaa":e=pr(0,ir.Narrow);break;case"b":case"bb":case"bbb":e=pr(0,ir.Abbreviated,po.Standalone,!0);break;case"bbbb":e=pr(0,ir.Wide,po.Standalone,!0);break;case"bbbbb":e=pr(0,ir.Narrow,po.Standalone,!0);break;case"B":case"BB":case"BBB":e=pr(0,ir.Abbreviated,po.Format,!0);break;case"BBBB":e=pr(0,ir.Wide,po.Format,!0);break;case"BBBBB":e=pr(0,ir.Narrow,po.Format,!0);break;case"h":e=ui(3,1,-12);break;case"hh":e=ui(3,2,-12);break;case"H":e=ui(3,1);break;case"HH":e=ui(3,2);break;case"m":e=ui(4,1);break;case"mm":e=ui(4,2);break;case"s":e=ui(5,1);break;case"ss":e=ui(5,2);break;case"S":e=ui(6,1);break;case"SS":e=ui(6,2);break;case"SSS":e=ui(6,3);break;case"Z":case"ZZ":case"ZZZ":e=y0(0);break;case"ZZZZZ":e=y0(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=y0(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=y0(2);break;default:return null}return RS[t]=e,e}function JM(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function iH(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function oH(t,e,n){let i=t.getTimezoneOffset(),o=JM(e,i);return iH(t,-1*(o-i))}function sH(t){if(FM(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return w0(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Y$))return aH(r)}let e=new Date(t);if(!FM(e))throw new rt(2311,!1);return e}function aH(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,u),e}function FM(t){return t instanceof Date&&!isNaN(t.valueOf())}var PS=/\s+/,VM=[],LS=(()=>{class t{_ngEl;_renderer;initialClasses=VM;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(PS):VM}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(PS):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(PS).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(tt(fo),tt(ca))};static \u0275dir=Tr({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var b0=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Xo=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new b0(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),BM(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);BM(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(tt(gu),tt(Dl),tt(AS))};static \u0275dir=Tr({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function BM(t,e){t.context.$implicit=e.item}var xs=(()=>{class t{_viewContainer;_context=new E0;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){jM(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){jM(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(tt(gu),tt(Dl))};static \u0275dir=Tr({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),E0=class{$implicit=null;ngIf=null};function jM(t,e){if(t&&!t.createEmbeddedView)throw new rt(2020,!1)}function ZM(t,e){return new rt(2100,!1)}var kS=class{createSubscription(e,n,r){return Hr(()=>e.subscribe({next:n,error:r}))}dispose(e){Hr(()=>e.unsubscribe())}},MS=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},cH=new MS,uH=new kS,rm=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=Fe(Ss);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(mu(n))return cH;if(s0(n))return uH;throw ZM(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(tt(da,16))};static \u0275pipe=r0({name:"async",type:t,pure:!1})}return t})();var lH="mediumDate",XM=new ct(""),eO=new ct(""),FS=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??lH,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return QM(n,s,o||this.locale,a)}catch(s){throw ZM(t,s.message)}}static \u0275fac=function(r){return new(r||t)(tt(Kg,16),tt(XM,24),tt(eO,24))};static \u0275pipe=r0({name:"date",type:t,pure:!0})}return t})();var Ci=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ua({type:t});static \u0275inj=Is({})}return t})();function VS(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var im=class{};var tO="browser";var nO=(()=>{class t{static \u0275prov=it({token:t,providedIn:"root",factory:()=>new BS(Fe(Fi),window)})}return t})(),BS=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(Mt(Me({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=dH(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(vl(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(Mt(Me({},n),{left:i-s[0],top:o-s[1]}))}};function dH(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var om=class{_doc;constructor(e){this._doc=e}manager},I0=(()=>{class t extends om{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Tt(Fi))};static \u0275prov=it({token:t,factory:t.\u0275fac})}return t})(),A0=new ct(""),zS=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof I0));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof I0);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new rt(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Tt(A0),Tt(wr))};static \u0275prov=it({token:t,factory:t.\u0275fac})}return t})(),jS="ng-app-id";function rO(t){for(let e of t)e.remove()}function iO(t,e){let n=e.createElement("style");return n.textContent=t,n}function hH(t,e,n,r){let i=t.head?.querySelectorAll(`style[${jS}="${e}"],link[${jS}="${e}"]`);if(i)for(let o of i)o.removeAttribute(jS),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function qS(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var $S=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,hH(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,iO);r?.forEach(i=>this.addUsage(i,this.external,qS))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(rO(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])rO(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,iO(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,qS(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Tt(Fi),Tt(W_),Tt(Q_,8),Tt(Md))};static \u0275prov=it({token:t,factory:t.\u0275fac})}return t})(),US={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},HS=/%COMP%/g;var sO="%COMP%",fH=`_nghost-${sO}`,pH=`_ngcontent-${sO}`,gH=!0,mH=new ct("",{factory:()=>gH});function yH(t){return pH.replace(HS,t)}function vH(t){return fH.replace(HS,t)}function aO(t,e){return e.map(n=>n.replace(HS,t))}var GS=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new sm(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof S0?i.applyToHost(n):i instanceof am&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,m=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case ja.Emulated:o=new S0(c,u,r,this.appId,l,s,a,m,y);break;case ja.ShadowDom:return new T0(c,n,r,s,a,this.nonce,m,y,u);case ja.ExperimentalIsolatedShadowDom:return new T0(c,n,r,s,a,this.nonce,m,y);default:o=new am(c,u,r,l,s,a,m,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Tt(zS),Tt($S),Tt(W_),Tt(mH),Tt(Fi),Tt(wr),Tt(Q_),Tt(Od,8))};static \u0275prov=it({token:t,factory:t.\u0275fac})}return t})(),sm=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(US[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(oO(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(oO(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new rt(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=US[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=US[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tc.DashCase|Tc.Important)?e.style.setProperty(n,r,i&Tc.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tc.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Ds().getGlobalEventTarget(this.doc,e),!e))throw new rt(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function oO(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var T0=class extends sm{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,c,u){super(e,i,o,a,c),this.hostEl=n,this.sharedStylesHost=u,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=aO(r.id,l);for(let y of l){let g=document.createElement("style");s&&g.setAttribute("nonce",s),g.textContent=y,this.shadowRoot.appendChild(g)}let m=r.getExternalStyles?.();if(m)for(let y of m){let g=qS(y,i);s&&g.setAttribute("nonce",s),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},am=class extends sm{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?aO(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&pf.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},S0=class extends am{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,u,l),this.contentAttr=yH(l),this.hostAttr=vH(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var C0=class t extends Jg{supportsDOMEvents=!0;static makeCurrent(){CS(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=_H();return n==null?null:wH(n)}resetBaseElement(){cm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return VS(document.cookie,e)}},cm=null;function _H(){return cm=cm||document.head.querySelector("base"),cm?cm.getAttribute("href"):null}function wH(t){return new URL(t,document.baseURI).pathname}var D0=class{addToWindow(e){lo.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new rt(5103,!1);return o},lo.getAllAngularTestabilities=()=>e.getAllTestabilities(),lo.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=lo.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};lo.frameworkStabilizers||(lo.frameworkStabilizers=[]),lo.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Ds().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},bH=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:t.\u0275fac})}return t})(),cO=["alt","control","meta","shift"],EH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IH={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},uO=(()=>{class t extends om{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ds().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),cO.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=EH[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),cO.forEach(s=>{if(s!==i){let a=IH[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Tt(Fi))};static \u0275prov=it({token:t,factory:t.\u0275fac})}return t})();function WS(t,e,n){let r=Me({rootComponent:t,platformRef:n?.platformRef},TH(e));return RM(r)}function TH(t){return{appProviders:[...lO,...t?.providers??[]],platformProviders:DH}}function SH(){C0.makeCurrent()}function AH(){return new yc}function CH(){return LT(document),document}var DH=[{provide:Md,useValue:tO},{provide:K_,useValue:SH,multi:!0},{provide:Fi,useFactory:CH}];var xH=[{provide:o0,useClass:D0},{provide:i0,useClass:$g},{provide:$g,useClass:$g}],lO=[{provide:bg,useValue:"root"},{provide:yc,useFactory:AH},{provide:A0,useClass:I0,multi:!0},{provide:A0,useClass:uO,multi:!0},GS,$S,zS,{provide:Nd,useExisting:GS},{provide:im,useClass:bH},[]],KS=(()=>{class t{constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ua({type:t});static \u0275inj=Is({providers:[...lO,...xH],imports:[Ci,NM]})}return t})();var dO=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Tt(Fi))};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Qt="primary",_m=Symbol("RouteTitle"),XS=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function zd(t){return new XS(t)}function wO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function M0(t){return new Promise((e,n)=>{t.pipe(cu()).subscribe({next:r=>e(r),error:r=>n(r)})})}function PH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Dc(t[n],e[n]))return!1;return!0}function Dc(t,e){let n=t?e2(t):void 0,r=e?e2(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!bO(t[i],e[i]))return!1;return!0}function e2(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function bO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function EO(t){return t.length>0?t[t.length-1]:null}function $d(t){return Qv(t)?t:mu(t)?_r(Promise.resolve(t)):on(t)}function IO(t){return Qv(t)?M0(t):Promise.resolve(t)}var kH={exact:SO,subset:AO},TO={exact:MH,subset:OH,ignored:()=>!0};function hO(t,e,n){return kH[n.paths](t.root,e.root,n.matrixParams)&&TO[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function MH(t,e){return Dc(t,e)}function SO(t,e,n){if(!Ud(t.segments,e.segments)||!R0(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!SO(t.children[r],e.children[r],n))return!1;return!0}function OH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bO(t[n],e[n]))}function AO(t,e,n){return CO(t,e,e.segments,n)}function CO(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ud(i,n)||e.hasChildren()||!R0(i,n,r))}else if(t.segments.length===n.length){if(!Ud(t.segments,n)||!R0(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!AO(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ud(t.segments,i)||!R0(t.segments,i,r)||!t.children[Qt]?!1:CO(t.children[Qt],e,o,r)}}function R0(t,e,n){return e.every((r,i)=>TO[n](t[i].parameters,r.parameters))}var Ha=class{root;queryParams;fragment;_queryParamMap;constructor(e=new zn([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zd(this.queryParams),this._queryParamMap}toString(){return VH.serialize(this)}},zn=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return P0(this)}},Pl=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=zd(this.parameters),this._parameterMap}toString(){return xO(this)}};function LH(t,e){return Ud(t,e)&&t.every((n,r)=>Dc(n.parameters,e[r].parameters))}function Ud(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function FH(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Qt&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Qt&&(n=n.concat(e(i,r)))}),n}var Hd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:()=>new Eu,providedIn:"root"})}return t})(),Eu=class{parse(e){let n=new n2(e);return new Ha(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${um(e.root,!0)}`,r=UH(e.queryParams),i=typeof e.fragment=="string"?`#${BH(e.fragment)}`:"";return`${n}${r}${i}`}},VH=new Eu;function P0(t){return t.segments.map(e=>xO(e)).join("/")}function um(t,e){if(!t.hasChildren())return P0(t);if(e){let n=t.children[Qt]?um(t.children[Qt],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Qt&&r.push(`${i}:${um(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=FH(t,(r,i)=>i===Qt?[um(t.children[Qt],!1)]:[`${i}:${um(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Qt]!=null?`${P0(t)}/${n[0]}`:`${P0(t)}/(${n.join("//")})`}}function DO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function x0(t){return DO(t).replace(/%3B/gi,";")}function BH(t){return encodeURI(t)}function t2(t){return DO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function k0(t){return decodeURIComponent(t)}function fO(t){return k0(t.replace(/\+/g,"%20"))}function xO(t){return`${t2(t.path)}${jH(t.parameters)}`}function jH(t){return Object.entries(t).map(([e,n])=>`;${t2(e)}=${t2(n)}`).join("")}function UH(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${x0(n)}=${x0(i)}`).join("&"):`${x0(n)}=${x0(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var qH=/^[^\/()?;#]+/;function QS(t){let e=t.match(qH);return e?e[0]:""}var zH=/^[^\/()?;=#]+/;function $H(t){let e=t.match(zH);return e?e[0]:""}var HH=/^[^=?&#]+/;function GH(t){let e=t.match(HH);return e?e[0]:""}var WH=/^[^&#]+/;function KH(t){let e=t.match(WH);return e?e[0]:""}var n2=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Qt]=new zn(e,n)),r}parseSegment(){let e=QS(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new rt(4009,!1);return this.capture(e),new Pl(k0(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=$H(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=QS(this.remaining);i&&(r=i,this.capture(r))}e[k0(n)]=k0(r)}parseQueryParam(e){let n=GH(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=KH(this.remaining);s&&(r=s,this.capture(r))}let i=fO(n),o=fO(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=QS(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new rt(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Qt);let s=this.parseChildren();n[o??Qt]=Object.keys(s).length===1&&s[Qt]?s[Qt]:new zn([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new rt(4011,!1)}};function NO(t){return t.segments.length>0?new zn([],{[Qt]:t}):t}function RO(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=RO(i);if(r===Qt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new zn(t.segments,e);return QH(n)}function QH(t){if(t.numberOfChildren===1&&t.children[Qt]){let e=t.children[Qt];return new zn(t.segments.concat(e.segments),e.children)}return t}function kl(t){return t instanceof Ha}function PO(t,e,n=null,r=null,i=new Eu){let o=kO(t);return MO(o,e,n,r,i)}function kO(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new zn(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=NO(r);return e??i}function MO(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return YS(o,o,o,n,r,i);let s=YH(e);if(s.toRoot())return YS(o,o,new zn([],{}),n,r,i);let a=JH(s,o,t),c=a.processChildren?dm(a.segmentGroup,a.index,s.commands):LO(a.segmentGroup,a.index,s.commands);return YS(o,a.segmentGroup,c,n,r,i)}function O0(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function fm(t){return typeof t=="object"&&t!=null&&t.outlets}function pO(t,e,n){t||="\u0275";let r=new Ha;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function YS(t,e,n,r,i,o){let s={};for(let[u,l]of Object.entries(r??{}))s[u]=Array.isArray(l)?l.map(m=>pO(u,m,o)):pO(u,l,o);let a;t===e?a=n:a=OO(t,e,n);let c=NO(RO(a));return new Ha(c,s,i)}function OO(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=OO(o,e,n)}),new zn(t.segments,r)}var L0=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&O0(r[0]))throw new rt(4003,!1);let i=r.find(fm);if(i&&i!==EO(r))throw new rt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function YH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new L0(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new L0(n,e,r)}var bf=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function JH(t,e,n){if(t.isAbsolute)return new bf(e,!0,0);if(!n)return new bf(e,!1,NaN);if(n.parent===null)return new bf(n,!0,0);let r=O0(t.commands[0])?0:1,i=n.segments.length-1+r;return ZH(n,i,t.numberOfDoubleDots)}function ZH(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new rt(4005,!1);i=r.segments.length}return new bf(r,!1,i-o)}function XH(t){return fm(t[0])?t[0].outlets:{[Qt]:t}}function LO(t,e,n){if(t??=new zn([],{}),t.segments.length===0&&t.hasChildren())return dm(t,e,n);let r=eG(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new zn(t.segments.slice(0,r.pathIndex),{});return o.children[Qt]=new zn(t.segments.slice(r.pathIndex),t.children),dm(o,0,i)}else return r.match&&i.length===0?new zn(t.segments,{}):r.match&&!t.hasChildren()?r2(t,e,n):r.match?dm(t,0,i):r2(t,e,n)}function dm(t,e,n){if(n.length===0)return new zn(t.segments,{});{let r=XH(n),i={};if(Object.keys(r).some(o=>o!==Qt)&&t.children[Qt]&&t.numberOfChildren===1&&t.children[Qt].segments.length===0){let o=dm(t.children[Qt],e,n);return new zn(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=LO(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new zn(t.segments,i)}}function eG(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(fm(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!mO(c,u,s))return o;r+=2}else{if(!mO(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function r2(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(fm(o)){let c=tG(o.outlets);return new zn(r,c)}if(i===0&&O0(n[0])){let c=t.segments[e];r.push(new Pl(c.path,gO(n[0]))),i++;continue}let s=fm(o)?o.outlets[Qt]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&O0(a)?(r.push(new Pl(s,gO(a))),i+=2):(r.push(new Pl(s,{})),i++)}return new zn(r,{})}function tG(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=r2(new zn([],{}),0,r))}),e}function gO(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function mO(t,e,n){return t==n.path&&Dc(e,n.parameters)}var Ef="imperative",Di=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Di||{}),Rs=class{id;url;constructor(e,n){this.id=e,this.url=n}},Ml=class extends Rs{type=Di.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ps=class extends Rs{urlAfterRedirects;type=Di.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Oo=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Oo||{}),Tf=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Tf||{}),xc=class extends Rs{reason;code;type=Di.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nc=class extends Rs{reason;code;type=Di.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Sf=class extends Rs{error;target;type=Di.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pm=class extends Rs{urlAfterRedirects;state;type=Di.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},F0=class extends Rs{urlAfterRedirects;state;type=Di.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},V0=class extends Rs{urlAfterRedirects;state;shouldActivate;type=Di.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},B0=class extends Rs{urlAfterRedirects;state;type=Di.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},j0=class extends Rs{urlAfterRedirects;state;type=Di.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},U0=class{route;type=Di.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},q0=class{route;type=Di.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},z0=class{snapshot;type=Di.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$0=class{snapshot;type=Di.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},H0=class{snapshot;type=Di.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},G0=class{snapshot;type=Di.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Af=class{routerEvent;position;anchor;type=Di.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},gm=class{},Cf=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function nG(t){return!(t instanceof gm)&&!(t instanceof Cf)}function rG(t,e){return t.providers&&!t._injector&&(t._injector=_f(t.providers,e,`Route: ${t.path}`)),t._injector??e}function $a(t){return t.outlet||Qt}function iG(t,e){let n=t.filter(r=>$a(r)===e);return n.push(...t.filter(r=>$a(r)!==e)),n}function Nf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var W0=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Nf(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Gd(this.rootInjector)}},Gd=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new W0(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Tt(si))};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),K0=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=i2(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=i2(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=o2(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return o2(e,this._root).map(n=>n.value)}};function i2(t,e){if(t===e.value)return e;for(let n of e.children){let r=i2(t,n);if(r)return r}return null}function o2(t,e){if(t===e.value)return[e];for(let n of e.children){let r=o2(t,n);if(r.length)return r.unshift(e),r}return[]}var Ns=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function wf(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var mm=class extends K0{snapshot;constructor(e,n){super(e),this.snapshot=n,d2(this,e)}toString(){return this.snapshot.toString()}};function FO(t){let e=oG(t),n=new ri([new Pl("",{})]),r=new ri({}),i=new ri({}),o=new ri({}),s=new ri(""),a=new Rc(n,r,o,s,i,Qt,t,e.root);return a.snapshot=e.root,new mm(new Ns(a,[]),e)}function oG(t){let e={},n={},r={},o=new qd([],e,r,"",n,Qt,t,null,{});return new ym("",new Ns(o,[]))}var Rc=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(bn(u=>u[_m]))??on(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(bn(e=>zd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(bn(e=>zd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Q0(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Me(Me({},e.params),t.params),data:Me(Me({},e.data),t.data),resolve:Me(Me(Me(Me({},t.data),e.data),i?.data),t._resolvedData)}:r={params:Me({},t.params),data:Me({},t.data),resolve:Me(Me({},t.data),t._resolvedData??{})},i&&BO(i)&&(r.resolve[_m]=i.title),r}var qd=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[_m]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zd(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ym=class extends K0{url;constructor(e,n){super(n),this.url=e,d2(this,n)}toString(){return VO(this._root)}};function d2(t,e){e.value._routerState=t,e.children.forEach(n=>d2(t,n))}function VO(t){let e=t.children.length>0?` { ${t.children.map(VO).join(", ")} } `:"";return`${t.value}${e}`}function JS(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Dc(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Dc(e.params,n.params)||t.paramsSubject.next(n.params),PH(e.url,n.url)||t.urlSubject.next(n.url),Dc(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function s2(t,e){let n=Dc(t.params,e.params)&&LH(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||s2(t.parent,e.parent))}function BO(t){return typeof t.title=="string"||t.title===null}var jO=new ct(""),wm=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Qt;activateEvents=new oi;deactivateEvents=new oi;attachEvents=new oi;detachEvents=new oi;routerOutletData=xM();parentContexts=Fe(Gd);location=Fe(gu);changeDetector=Fe(da);inputBinder=Fe(bm,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new rt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new rt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new rt(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new rt(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new a2(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Tr({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Sc]})}return t})(),a2=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Rc?this.route:e===Gd?this.childContexts:e===jO?this.outletData:this.parent.get(e,n)}},bm=new ct(""),h2=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Xv([r.queryParams,r.params,r.data]).pipe(Oa(([o,s,a],c)=>(a=Me(Me(Me({},o),s),a),c===0?on(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=PM(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:t.\u0275fac})}return t})(),f2=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Gr({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Sr(0,"router-outlet")},dependencies:[wm],encapsulation:2})}return t})();function p2(t){let e=t.children&&t.children.map(p2),n=e?Mt(Me({},t),{children:e}):Me({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Qt&&(n.component=f2),n}function sG(t,e,n){let r=vm(t,e._root,n?n._root:void 0);return new mm(r,e)}function vm(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=aG(t,e,n);return new Ns(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>vm(t,a)),s}}let r=cG(e.value),i=e.children.map(o=>vm(t,o));return new Ns(r,i)}}function aG(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return vm(t,r,i);return vm(t,r)})}function cG(t){return new Rc(new ri(t.url),new ri(t.params),new ri(t.queryParams),new ri(t.fragment),new ri(t.data),t.outlet,t.component,t)}var Df=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},UO="ngNavigationCancelingError";function Y0(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=kl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=qO(!1,Oo.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function qO(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[UO]=!0,n.cancellationCode=e,n}function uG(t){return zO(t)&&kl(t.url)}function zO(t){return!!t&&t[UO]}var lG=(t,e,n,r)=>bn(i=>(new c2(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),c2=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),JS(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=wf(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=wf(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=wf(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=wf(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new G0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $0(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(JS(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),JS(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},J0=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},If=class{component;route;constructor(e,n){this.component=e,this.route=n}};function dG(t,e,n){let r=t._root,i=e?e._root:null;return lm(r,i,n,[r.value])}function hG(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Rf(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!lI(t)?t:e.get(t):r}function lm(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=wf(e);return t.children.forEach(s=>{fG(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>hm(a,n.getContext(s),i)),i}function fG(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=pG(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new J0(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?lm(t,e,a?a.children:null,r,i):lm(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new If(a.outlet.component,s))}else s&&hm(e,a,i),i.canActivateChecks.push(new J0(r)),o.component?lm(t,null,a?a.children:null,r,i):lm(t,null,n,r,i);return i}function pG(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ud(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ud(t.url,e.url)||!Dc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!s2(t,e)||!Dc(t.queryParams,e.queryParams);case"paramsChange":default:return!s2(t,e)}}function hm(t,e,n){let r=wf(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?hm(s,e.children.getContext(o),n):hm(s,null,n):hm(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new If(e.outlet.component,i)):n.canDeactivateChecks.push(new If(null,i)):n.canDeactivateChecks.push(new If(null,i))}function Em(t){return typeof t=="function"}function gG(t){return typeof t=="boolean"}function mG(t){return t&&Em(t.canLoad)}function yG(t){return t&&Em(t.canActivate)}function vG(t){return t&&Em(t.canActivateChild)}function _G(t){return t&&Em(t.canDeactivate)}function wG(t){return t&&Em(t.canMatch)}function $O(t){return t instanceof yd||t?.name==="EmptyError"}var N0=Symbol("INITIAL_VALUE");function xf(){return Oa(t=>Xv(t.map(e=>e.pipe(au(1),t_(N0)))).pipe(bn(e=>{for(let n of e)if(n!==!0){if(n===N0)return N0;if(n===!1||bG(n))return n}return!0}),bs(e=>e!==N0),au(1)))}function bG(t){return kl(t)||t instanceof Df}function HO(t){return t.aborted?on(void 0).pipe(au(1)):new sn(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function GO(t){return fg(HO(t))}function EG(t,e){return Wi(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?on(Mt(Me({},n),{guardsResult:!0})):IG(s,r,i,t).pipe(Wi(a=>a&&gG(a)?TG(r,o,t,e):on(a)),bn(a=>Mt(Me({},n),{guardsResult:a})))})}function IG(t,e,n,r){return _r(t).pipe(Wi(i=>xG(i.component,i.route,n,e,r)),cu(i=>i!==!0,!0))}function TG(t,e,n,r){return _r(e).pipe(Jh(i=>Qh(AG(i.route.parent,r),SG(i.route,r),DG(t,i.path,n),CG(t,i.route,n))),cu(i=>i!==!0,!0))}function SG(t,e){return t!==null&&e&&e(new H0(t)),on(!0)}function AG(t,e){return t!==null&&e&&e(new z0(t)),on(!0)}function CG(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return on(!0);let i=r.map(o=>hg(()=>{let s=Nf(e)??n,a=Rf(o,s),c=yG(a)?a.canActivate(e,t):ci(s,()=>a(e,t));return $d(c).pipe(cu())}));return on(i).pipe(xf())}function DG(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>hG(s)).filter(s=>s!==null).map(s=>hg(()=>{let a=s.guards.map(c=>{let u=Nf(s.node)??n,l=Rf(c,u),m=vG(l)?l.canActivateChild(r,t):ci(u,()=>l(r,t));return $d(m).pipe(cu())});return on(a).pipe(xf())}));return on(o).pipe(xf())}function xG(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return on(!0);let s=o.map(a=>{let c=Nf(e)??i,u=Rf(a,c),l=_G(u)?u.canDeactivate(t,e,n,r):ci(c,()=>u(t,e,n,r));return $d(l).pipe(cu())});return on(s).pipe(xf())}function NG(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return on(!0);let s=o.map(a=>{let c=Rf(a,t),u=mG(c)?c.canLoad(e,n):ci(t,()=>c(e,n)),l=$d(u);return i?l.pipe(GO(i)):l});return on(s).pipe(xf(),WO(r))}function WO(t){return kv(Po(e=>{if(typeof e!="boolean")throw Y0(t,e)}),bn(e=>e===!0))}function RG(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return on(!0);let s=o.map(a=>{let c=Rf(a,t),u=wG(c)?c.canMatch(e,n):ci(t,()=>c(e,n)),l=$d(u);return i?l.pipe(GO(i)):l});return on(s).pipe(xf(),WO(r))}var jd=class KO extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,KO.prototype)}},u2=class QO extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,QO.prototype)}};function PG(t){throw new rt(4e3,!1)}function kG(t){throw qO(!1,Oo.GuardRejected)}var MG=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Qt])throw PG(`${e.redirectTo}`);i=i.children[Qt]}}async applyRedirectCommands(e,n,r,i,o){let s=await OG(n,i,o);if(s instanceof Ha)throw new u2(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new u2(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Ha(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new zn(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new rt(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function OG(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:l,title:m}=e;return M0($d(ci(n,()=>r({params:u,data:l,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:m}))))}var l2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LG(t,e,n,r,i,o){let s=YO(t,e,n);return s.matched?(r=rG(e,r),RG(r,e,n,i,o).pipe(bn(a=>a===!0?s:Me({},l2)))):on(s)}function YO(t,e,n){if(e.path==="**")return FG(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?Me({},l2):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||wO)(n,t,e);if(!i)return Me({},l2);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?Me(Me({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function FG(t){return{matched:!0,parameters:t.length>0?EO(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function yO(t,e,n,r){return n.length>0&&jG(t,n,r)?{segmentGroup:new zn(e,BG(r,new zn(n,t.children))),slicedSegments:[]}:n.length===0&&UG(t,n,r)?{segmentGroup:new zn(t.segments,VG(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new zn(t.segments,t.children),slicedSegments:n}}function VG(t,e,n,r){let i={};for(let o of n)if(X0(t,e,o)&&!r[$a(o)]){let s=new zn([],{});i[$a(o)]=s}return Me(Me({},r),i)}function BG(t,e){let n={};n[Qt]=e;for(let r of t)if(r.path===""&&$a(r)!==Qt){let i=new zn([],{});n[$a(r)]=i}return n}function jG(t,e,n){return n.some(r=>X0(t,e,r)&&$a(r)!==Qt)}function UG(t,e,n){return n.some(r=>X0(t,e,r))}function X0(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function qG(t,e,n){return e.length===0&&!t.children[n]}var zG=class{};async function $G(t,e,n,r,i,o,s="emptyOnly",a){return new GG(t,e,n,r,i,s,o,a).recognize()}var HG=31,GG=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new MG(this.urlSerializer,this.urlTree)}noMatchError(e){return new rt(4002,`'${e.segmentGroup}'`)}async recognize(){let e=yO(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Ns(r,n),o=new ym("",i),s=PO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let n=new qd([],Object.freeze({}),Object.freeze(Me({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Qt,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Qt,n),rootSnapshot:n}}catch(r){if(r instanceof u2)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof jd?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let s=await this.processSegment(e,n,r,r.segments,i,!0,o);return s instanceof Ns?[s]:[]}async processChildren(e,n,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let u=r.children[c],l=iG(n,c),m=await this.processSegmentGroup(e,l,u,c,i);s.push(...m)}let a=JO(s);return WG(a),a}async processSegment(e,n,r,i,o,s,a){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a)}catch(u){if(u instanceof jd||$O(u))continue;throw u}if(qG(r,i,o))return new zG;throw new jd(r)}async processSegmentAgainstRoute(e,n,r,i,o,s,a,c){if($a(r)!==s&&(s===Qt||!X0(i,o,r)))throw new jd(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c);throw new jd(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:m,remainingSegments:y}=YO(n,i,o);if(!c)throw new jd(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>HG&&(this.allowRedirects=!1));let g=new qd(o,u,Object.freeze(Me({},this.urlTree.queryParams)),this.urlTree.fragment,vO(i),$a(i),i.component??i._loadedComponent??null,i,_O(i)),R=Q0(g,a,this.paramsInheritanceStrategy);if(g.params=Object.freeze(R.params),g.data=Object.freeze(R.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let k=await this.applyRedirects.applyRedirectCommands(l,i.redirectTo,m,g,e),M=await this.applyRedirects.lineralizeSegments(i,k);return this.processSegment(e,r,n,M.concat(y),s,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await M0(LG(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new jd(n);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),u=r._loadedInjector??e,{parameters:l,consumedSegments:m,remainingSegments:y}=a,g=new qd(m,l,Object.freeze(Me({},this.urlTree.queryParams)),this.urlTree.fragment,vO(r),$a(r),r.component??r._loadedComponent??null,r,_O(r)),R=Q0(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(R.params),g.data=Object.freeze(R.data);let{segmentGroup:k,slicedSegments:M}=yO(n,m,y,c);if(M.length===0&&k.hasChildren()){let J=await this.processChildren(u,c,k,g);return new Ns(g,J)}if(c.length===0&&M.length===0)return new Ns(g,[]);let L=$a(r)===o,Z=await this.processSegment(u,c,k,M,L?Qt:o,!0,g);return new Ns(g,Z instanceof Ns?[Z]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await M0(NG(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw kG(n)}return{routes:[],injector:e}}};function WG(t){t.sort((e,n)=>e.value.outlet===Qt?-1:n.value.outlet===Qt?1:e.value.outlet.localeCompare(n.value.outlet))}function KG(t){let e=t.value.routeConfig;return e&&e.path===""}function JO(t){let e=[],n=new Set;for(let r of t){if(!KG(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=JO(r.children);e.push(new Ns(r.value,i))}return e.filter(r=>!n.has(r))}function vO(t){return t.data||{}}function _O(t){return t.resolve||{}}var QG=new ct("",{factory:()=>$G});function YG(t,e,n,r,i,o,s){let a=t.get(QG);return Wi(c=>on(c).pipe(Oa(u=>a(t,e,n,r,u.extractedUrl,i,o,s)),bn(({state:u,tree:l})=>Mt(Me({},c),{targetSnapshot:u,urlAfterRedirects:l}))))}function JG(t,e){return Wi(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return on(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of ZO(c))s.add(u);let a=0;return _r(s).pipe(Jh(c=>o.has(c)?ZG(c,r,t,e):(c.data=Q0(c,c.parent,t).resolve,on(void 0))),Po(()=>a++),e_(1),Wi(c=>a===s.size?on(n):Yo))})}function ZO(t){let e=t.children.map(n=>ZO(n)).flat();return[t,...e]}function ZG(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!BO(i)&&(o[_m]=i.title),hg(()=>(t.data=Q0(t,t.parent,n).resolve,XG(o,t,e,r).pipe(bn(s=>(t._resolvedData=s,t.data=Me(Me({},t.data),s),null)))))}function XG(t,e,n,r){let i=e2(t);if(i.length===0)return on({});let o={};return _r(i).pipe(Wi(s=>eW(t[s],e,n,r).pipe(cu(),Po(a=>{if(a instanceof Df)throw Y0(new Eu,a);o[s]=a}))),e_(1),bn(()=>o),Yh(s=>$O(s)?Yo:UE(s)))}function eW(t,e,n,r){let i=Nf(e)??r,o=Rf(t,i),s=o.resolve?o.resolve(e,n):ci(i,()=>o(e,n));return $d(s)}function ZS(t){return Oa(e=>{let n=t(e);return n?_r(n).pipe(bn(()=>e)):on(e)})}var g2=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Qt);return r}getResolvedTitleForRoute(n){return n.data[_m]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:()=>Fe(XO),providedIn:"root"})}return t})(),XO=(()=>{class t extends g2{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Tt(dO))};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ol=new ct("",{factory:()=>({})}),Wd=new ct(""),ew=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Fe(_S);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await IO(ci(n,()=>r.loadComponent())),s=await nL(tL(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await eL(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function eL(t,e,n,r){let i=await IO(ci(n,()=>t.loadChildren())),o=await nL(tL(i)),s;o instanceof n0||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(t);let a,c,u=!1;return Array.isArray(s)?(c=s,u=!0):(a=s.create(n).injector,c=a.get(Wd,[],{optional:!0,self:!0}).flat()),{routes:c.map(p2),injector:a}}function tW(t){return t&&typeof t=="object"&&"default"in t}function tL(t){return tW(t)?t.default:t}async function nL(t){return t}var tw=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:()=>Fe(nW),providedIn:"root"})}return t})(),nW=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),m2=new ct(""),y2=new ct("");function rL(t,e,n){let r=t.get(y2),i=t.get(Fi);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),rW(t)));a.ready.catch(u=>{});let{onViewTransitionCreated:c}=r;return c&&ci(t,()=>c({transition:a,from:e,to:n})),s}function rW(t){return new Promise(e=>{qg({read:()=>setTimeout(e)},{injector:t})})}var iW=()=>{},v2=new ct(""),nw=(()=>{class t{currentNavigation=$r(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=$r(null);events=new ni;transitionAbortWithErrorSubject=new ni;configLoader=Fe(ew);environmentInjector=Fe(si);destroyRef=Fe(oa);urlSerializer=Fe(Hd);rootContexts=Fe(Gd);location=Fe(Nl);inputBindingEnabled=Fe(bm,{optional:!0})!==null;titleStrategy=Fe(g2);options=Fe(Ol,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Fe(tw);createViewTransition=Fe(m2,{optional:!0});navigationErrorHandler=Fe(v2,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>on(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new U0(i)),r=i=>this.events.next(new q0(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Hr(()=>{this.transitions?.next(Mt(Me({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new ri(null),this.transitions.pipe(bs(r=>r!==null),Oa(r=>{let i=!1,o=new AbortController;return on(r).pipe(Oa(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Oo.SupersededByNewNavigation),Yo;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?Mt(Me({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload")return this.events.next(new Nc(s.id,this.urlSerializer.serialize(s.rawUrl),"",Tf.IgnoredSameUrlNavigation)),s.resolve(!1),Yo;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return on(s).pipe(Oa(l=>(this.events.next(new Ml(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Yo:Promise.resolve(l))),YG(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Po(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(y=>(y.finalUrl=l.urlAfterRedirects,y));let m=new pm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:m,source:y,restoredState:g,extras:R}=s,k=new Ml(l,this.urlSerializer.serialize(m),y,g);this.events.next(k);let M=FO(this.rootComponentType).snapshot;return this.currentTransition=r=Mt(Me({},s),{targetSnapshot:M,urlAfterRedirects:m,extras:Mt(Me({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(L=>(L.finalUrl=m,L)),on(r)}else return this.events.next(new Nc(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Tf.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Yo}),Po(s=>{let a=new F0(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),bn(s=>(this.currentTransition=r=Mt(Me({},s),{guards:dG(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),EG(this.environmentInjector,s=>this.events.next(s)),Po(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Y0(this.urlSerializer,s.guardsResult);let a=new V0(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),bs(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Oo.GuardRejected),!1)),ZS(s=>{if(s.guards.canActivateChecks.length!==0)return on(s).pipe(Po(a=>{let c=new B0(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Oa(a=>{let c=!1;return on(a).pipe(JG(this.paramsInheritanceStrategy,this.environmentInjector),Po({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Oo.NoDataFromResolver)}}))}),Po(a=>{let c=new j0(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),ZS(s=>{let a=u=>{let l=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let m=Nf(u)??this.environmentInjector;l.push(this.configLoader.loadComponent(m,u.routeConfig).then(y=>{u.component=y}))}for(let m of u.children)l.push(...a(m));return l},c=a(s.targetSnapshot.root);return c.length===0?on(s):_r(Promise.all(c).then(()=>s))}),ZS(()=>this.afterPreactivation()),Oa(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?_r(c).pipe(bn(()=>r)):on(r)}),bn(s=>{let a=sG(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Mt(Me({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),Po(()=>{this.events.next(new gm)}),lG(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),au(1),fg(HO(o.signal).pipe(bs(()=>!i&&!r.targetRouterState),Po(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Oo.Aborted)}))),Po({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=iW,a)),this.lastSuccessfulNavigation.set(Hr(this.currentNavigation)),this.events.next(new Ps(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),fg(this.transitionAbortWithErrorSubject.pipe(Po(s=>{throw s}))),$E(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Oo.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Yh(s=>{if(this.destroyed)return r.resolve(!1),Yo;if(i=!0,zO(s))this.events.next(new xc(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),uG(s)?this.events.next(new Cf(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Sf(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=ci(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Df){let{message:u,cancellationCode:l}=Y0(this.urlSerializer,c);this.events.next(new xc(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Cf(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Yo}))}))}cancelNavigationTransition(n,r,i){let o=new xc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Hr(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oW(t){return t!==Ef}var iL=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:()=>Fe(sW),providedIn:"root"})}return t})(),Z0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},sW=(()=>{class t extends Z0{static \u0275fac=(()=>{let n;return function(i){return(n||(n=sa(t)))(i||t)}})();static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_2=(()=>{class t{urlSerializer=Fe(Hd);options=Fe(Ol,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Fe(Nl);urlHandlingStrategy=Fe(tw);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ha;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Ha?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=FO(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:()=>Fe(oL),providedIn:"root"})}return t})(),oL=(()=>{class t extends _2{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Ml?this.updateStateMemento():n instanceof Nc?this.commitTransition(r):n instanceof pm?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof gm?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof xc&&n.code!==Oo.SupersededByNewNavigation&&n.code!==Oo.Redirect?this.restoreHistory(r):n instanceof Sf?this.restoreHistory(r,!0):n instanceof Ps&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=Me(Me({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=Me(Me({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=sa(t)))(i||t)}})();static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rw(t,e){t.events.pipe(bs(n=>n instanceof Ps||n instanceof xc||n instanceof Sf||n instanceof Nc),bn(n=>n instanceof Ps||n instanceof Nc?0:(n instanceof xc?n.code===Oo.Redirect||n.code===Oo.SupersededByNewNavigation:!1)?2:1),bs(n=>n!==2),au(1)).subscribe(()=>{e()})}var aW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},li=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Fe(lS);stateManager=Fe(_2);options=Fe(Ol,{optional:!0})||{};pendingTasks=Fe(hu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Fe(nw);urlSerializer=Fe(Hd);location=Fe(Nl);urlHandlingStrategy=Fe(tw);injector=Fe(si);_events=new ni;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Fe(iL);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Fe(Wd,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Fe(bm,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ai;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Hr(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof xc&&r.code!==Oo.Redirect&&r.code!==Oo.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ps)this.navigated=!0;else if(r instanceof Cf){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=Me({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||oW(i.source)},s);this.scheduleNavigation(a,Ef,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}nG(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ef,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=Me({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Ss)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Hr(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(p2),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=Me(Me({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let m;try{let y=i?i.snapshot:this.routerState.snapshot.root;m=kO(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),m=this.currentUrlTree.root}return MO(m,n,l,u??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=kl(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ef,null,r)}navigate(n,r={skipLocationChange:!1}){return uW(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(vl(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=Me({},aW):r===!1?i=Me({},cW):i=r,kl(n))return hO(this.currentUrlTree,n,i);let o=this.parseUrl(n);return hO(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((m,y)=>{a=m,c=y});let l=this.pendingTasks.add();return rw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uW(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new rt(4008,!1)}var Ll=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=$r(null);get href(){return Hr(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ni;applicationErrorHandler=Fe(Ss);options=Fe(Ol,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(Fe(new l0("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Ps&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(kl(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:kl(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(tt(li),tt(Rc),jg("tabindex"),tt(ca),tt(fo),tt(qa))};static \u0275dir=Tr({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&St("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ld("href",i.reactiveHref(),UT)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Bd],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Bd],replaceUrl:[2,"replaceUrl","replaceUrl",Bd],routerLink:"routerLink"},features:[Sc]})}return t})(),Tm=(()=>{class t{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new oi;link=Fe(Ll,{optional:!0});constructor(n,r,i,o){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=n.events.subscribe(s=>{s instanceof Ps&&this.update()})}ngAfterContentInit(){on(this.links.changes,on(null)).pipe(fl()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=_r(n).pipe(fl()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=lW(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(tt(li),tt(fo),tt(ca),tt(da))};static \u0275dir=Tr({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&gS(o,Ll,5),r&2){let s;mS(s=yS())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Sc]})}return t})();function lW(t){return!!t.paths}var Im=class{};var sL=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(bs(n=>n instanceof Ps),Jh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=_f(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return _r(i).pipe(fl())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=_r(this.loader.loadChildren(n,r)):i=on(null);let o=i.pipe(Wi(s=>s===null?on(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return _r([o,s]).pipe(fl())}else return o})}static \u0275fac=function(r){return new(r||t)(Tt(li),Tt(si),Tt(Im),Tt(ew))};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aL=new ct(""),dW=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ef;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ml?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ps?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Nc&&n.code===Tf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof Af))return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Af(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){oS()};static \u0275prov=it({token:t,factory:t.\u0275fac})}return t})();function b2(t,...e){return vc([{provide:Wd,multi:!0,useValue:t},[],{provide:Rc,useFactory:cL},{provide:Hg,multi:!0,useFactory:uL},e.map(n=>n.\u0275providers)])}function cL(){return Fe(li).routerState.root}function Sm(t,e){return{\u0275kind:t,\u0275providers:e}}function uL(){let t=Fe(ai);return e=>{let n=t.get(yu);if(e!==n.components[0])return;let r=t.get(li),i=t.get(lL);t.get(E2)===1&&r.initialNavigation(),t.get(fL,null,{optional:!0})?.setUpPreloading(),t.get(aL,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var lL=new ct("",{factory:()=>new ni}),E2=new ct("",{factory:()=>1});function dL(){let t=[{provide:FT,useValue:!0},{provide:E2,useValue:0},a0(()=>{let e=Fe(ai);return e.get(DS,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(li),o=e.get(lL);rw(i,()=>{r(!0)}),e.get(nw).afterPreactivation=()=>(r(!0),o.closed?on(void 0):o),i.initialNavigation()}))})];return Sm(2,t)}function hL(){let t=[a0(()=>{Fe(li).setUpLocationChangeListener()}),{provide:E2,useValue:2}];return Sm(3,t)}var fL=new ct("");function pL(t){return Sm(0,[{provide:fL,useExisting:sL},{provide:Im,useExisting:t}])}function gL(){return Sm(8,[h2,{provide:bm,useExisting:h2}])}function mL(t){vf("NgRouterViewTransitions");let e=[{provide:m2,useValue:rL},{provide:y2,useValue:Me({skipNextTransition:!!t?.skipInitialTransition},t)}];return Sm(9,e)}var yL=[Nl,{provide:Hd,useClass:Eu},li,Gd,{provide:Rc,useFactory:cL},ew,[]],I2=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[yL,[],{provide:Wd,multi:!0,useValue:n},[],r?.errorHandler?{provide:v2,useValue:r.errorHandler}:[],{provide:Ol,useValue:r||{}},r?.useHash?fW():pW(),hW(),r?.preloadingStrategy?pL(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?gW(r):[],r?.bindToComponentInputs?gL().\u0275providers:[],r?.enableViewTransitions?mL().\u0275providers:[],mW()]}}static forChild(n){return{ngModule:t,providers:[{provide:Wd,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ua({type:t});static \u0275inj=Is({})}return t})();function hW(){return{provide:aL,useFactory:()=>{let t=Fe(nO),e=Fe(wr),n=Fe(Ol),r=Fe(nw),i=Fe(Hd);return n.scrollOffset&&t.setOffset(n.scrollOffset),new dW(i,r,t,e,n)}}}function fW(){return{provide:qa,useClass:OS}}function pW(){return{provide:qa,useClass:p0}}function gW(t){return[t.initialNavigation==="disabled"?hL().\u0275providers:[],t.initialNavigation==="enabledBlocking"?dL().\u0275providers:[]]}var w2=new ct("");function mW(){return[{provide:w2,useFactory:uL},{provide:Hg,multi:!0,useExisting:w2}]}var AL=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(tt(ca),tt(fo))};static \u0275dir=Tr({type:t})}return t})(),cw=(()=>{class t extends AL{static \u0275fac=(()=>{let n;return function(i){return(n||(n=sa(t)))(i||t)}})();static \u0275dir=Tr({type:t,features:[la]})}return t})(),Rm=new ct("");var yW={provide:Rm,useExisting:Xs(()=>es),multi:!0};function vW(){let t=Ds()?Ds().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var _W=new ct(""),es=(()=>{class t extends AL{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!vW())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(tt(ca),tt(fo),tt(_W,8))};static \u0275dir=Tr({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&St("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[vu([yW]),la]})}return t})();function wW(t){return t==null||CL(t)===0}function CL(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var N2=new ct(""),bW=new ct("");function EW(t){return e=>{let n=e.value?.length??CL(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function IW(t){if(!t)return T2;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(wW(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function T2(t){return null}function DL(t){return t!=null}function xL(t){return mu(t)?_r(t):t}function NL(t){let e={};return t.forEach(n=>{e=n!=null?Me(Me({},e),n):e}),Object.keys(e).length===0?null:e}function RL(t,e){return e.map(n=>n(t))}function TW(t){return!t.validate}function PL(t){return t.map(e=>TW(e)?e:n=>e.validate(n))}function SW(t){if(!t)return null;let e=t.filter(DL);return e.length==0?null:function(n){return NL(RL(n,e))}}function kL(t){return t!=null?SW(PL(t)):null}function AW(t){if(!t)return null;let e=t.filter(DL);return e.length==0?null:function(n){let r=RL(n,e).map(xL);return qE(r).pipe(bn(NL))}}function ML(t){return t!=null?AW(PL(t)):null}function vL(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function CW(t){return t._rawValidators}function DW(t){return t._rawAsyncValidators}function S2(t){return t?Array.isArray(t)?t:[t]:[]}function ow(t,e){return Array.isArray(t)?t.includes(e):t===e}function _L(t,e){let n=S2(e);return S2(t).forEach(i=>{ow(n,i)||n.push(i)}),n}function wL(t,e){return S2(e).filter(n=>!ow(t,n))}var sw=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ML(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},A2=class extends sw{name;get formDirective(){return null}get path(){return null}},Nm=class extends sw{_parent=null;name=null;valueAccessor=null},C2=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var fa=(()=>{class t extends C2{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(tt(Nm,2))};static \u0275dir=Tr({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ac("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[la]})}return t})();var Am="VALID",iw="INVALID",kf="PENDING",Cm="DISABLED",Kd=class{},aw=class extends Kd{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Dm=class extends Kd{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},xm=class extends Kd{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Mf=class extends Kd{status;source;constructor(e,n){super(),this.status=e,this.source=n}};var D2=class extends Kd{source;constructor(e){super(),this.source=e}};function xW(t){return(uw(t)?t.validators:t)||null}function NW(t){return Array.isArray(t)?kL(t):t||null}function RW(t,e){return(uw(e)?e.asyncValidators:t)||null}function PW(t){return Array.isArray(t)?ML(t):t||null}function uw(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var x2=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Hr(this.statusReactive)}set status(e){Hr(()=>this.statusReactive.set(e))}_status=Qg(()=>this.statusReactive());statusReactive=$r(void 0);get valid(){return this.status===Am}get invalid(){return this.status===iw}get pending(){return this.status==kf}get disabled(){return this.status===Cm}get enabled(){return this.status!==Cm}errors;get pristine(){return Hr(this.pristineReactive)}set pristine(e){Hr(()=>this.pristineReactive.set(e))}_pristine=Qg(()=>this.pristineReactive());pristineReactive=$r(!0);get dirty(){return!this.pristine}get touched(){return Hr(this.touchedReactive)}set touched(e){Hr(()=>this.touchedReactive.set(e))}_touched=Qg(()=>this.touchedReactive());touchedReactive=$r(!1);get untouched(){return!this.touched}_events=new ni;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_L(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_L(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wL(e,this._rawAsyncValidators))}hasValidator(e){return ow(this._rawValidators,e)}hasAsyncValidator(e){return ow(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Mt(Me({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new xm(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new xm(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Mt(Me({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Dm(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Dm(!0,r))}markAsPending(e={}){this.status=kf;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Mf(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Mt(Me({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Cm,this.errors=null,this._forEachChild(i=>{i.disable(Mt(Me({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new aw(this.value,r)),this._events.next(new Mf(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Mt(Me({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Am,this._forEachChild(r=>{r.enable(Mt(Me({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Mt(Me({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Am||this.status===kf)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new aw(this.value,n)),this._events.next(new Mf(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Mt(Me({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cm:Am}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=kf,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=xL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Mf(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new oi,this.statusChanges=new oi}_calculateStatus(){return this._allControlsDisabled()?Cm:this.errors?iw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kf)?kf:this._anyControlsHaveStatus(iw)?iw:Am}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Dm(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new xm(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uw(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=NW(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=PW(this._rawAsyncValidators)}};var OL=new ct("",{factory:()=>R2}),R2="always";function kW(t,e){return[...e.path,t]}function MW(t,e,n=R2){LW(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),FW(t,e),BW(t,e),VW(t,e),OW(t,e)}function bL(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function OW(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function LW(t,e){let n=CW(t);e.validator!==null?t.setValidators(vL(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=DW(t);e.asyncValidator!==null?t.setAsyncValidators(vL(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();bL(e._rawValidators,i),bL(e._rawAsyncValidators,i)}function FW(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&LL(t,e)})}function VW(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&LL(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function LL(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function BW(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function jW(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function UW(t){return Object.getPrototypeOf(t.constructor)===cw}function qW(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===es?n=o:UW(o)?r=o:i=o}),i||r||n||null}function EL(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function IL(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var zW=class extends x2{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(xW(n),RW(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uw(n)&&(n.nonNullable||n.initialValueIsDefault)&&(IL(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new D2(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){IL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var $W={provide:Nm,useExisting:Xs(()=>ks)},TL=Promise.resolve(),ks=(()=>{class t extends Nm{_changeDetectorRef;callSetDisabledState;control=new zW;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new oi;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=qW(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),jW(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){MW(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){TL.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Bd(r);TL.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?kW(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(tt(A2,9),tt(N2,10),tt(bW,10),tt(Rm,10),tt(da,8),tt(OL,8))};static \u0275dir=Tr({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[vu([$W]),la,Sc]})}return t})();var HW={provide:Rm,useExisting:Xs(()=>Iu),multi:!0},Iu=(()=>{class t extends cw{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=sa(t)))(i||t)}})();static \u0275dir=Tr({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&St("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[vu([HW]),la]})}return t})();var GW={provide:Rm,useExisting:Xs(()=>Of),multi:!0};function FL(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function WW(t){return t.split(":")[0]}var Of=(()=>{class t extends cw{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=Fe(yu).injector;destroyRef=Fe(oa);cdr=Fe(da);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,qg({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=FL(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=WW(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=sa(t)))(i||t)}})();static \u0275dir=Tr({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&St("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[vu([GW]),la]})}return t})(),lw=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(FL(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(tt(fo),tt(ca),tt(Of,9))};static \u0275dir=Tr({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),KW={provide:Rm,useExisting:Xs(()=>VL),multi:!0};function SL(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function QW(t){return t.split(":")[0]}var VL=(()=>{class t extends cw{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=QW(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=sa(t)))(i||t)}})();static \u0275dir=Tr({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&St("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[vu([KW]),la]})}return t})(),dw=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(SL(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(SL(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(tt(fo),tt(ca),tt(VL,9))};static \u0275dir=Tr({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function YW(t){return typeof t=="number"?t:parseInt(t,10)}var BL=(()=>{class t{_validator=T2;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):T2,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Tr({type:t,features:[Sc]})}return t})();var JW={provide:N2,useExisting:Xs(()=>P2),multi:!0},P2=(()=>{class t extends BL{maxlength;inputName="maxlength";normalizeInput=n=>YW(n);createValidator=n=>EW(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=sa(t)))(i||t)}})();static \u0275dir=Tr({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ld("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[vu([JW]),la]})}return t})(),ZW={provide:N2,useExisting:Xs(()=>k2),multi:!0},k2=(()=>{class t extends BL{pattern;inputName="pattern";normalizeInput=n=>n;createValidator=n=>IW(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=sa(t)))(i||t)}})();static \u0275dir=Tr({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ld("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[vu([ZW]),la]})}return t})();var XW=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ua({type:t});static \u0275inj=Is({})}return t})();var ts=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:OL,useValue:n.callSetDisabledState??R2}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ua({type:t});static \u0275inj=Is({imports:[XW]})}return t})();function eK(t,e){t&1&&(re(0,"div",1)(1,"div",2)(2,"span",3),ye(3,"Loading..."),ie()()())}var hw=class t{isLoading=!1;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Gr({type:t,selectors:[["app-loader"]],inputs:{isLoading:"isLoading"},decls:1,vars:1,consts:[["class","loader-overlay",4,"ngIf"],[1,"loader-overlay"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(n,r){n&1&&Vn(0,eK,4,0,"div",0),n&2&&Ct("ngIf",r.isLoading)},dependencies:[Ci,xs],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#ffffffb3;display:flex;justify-content:center;align-items:center;z-index:2000}"]})};var pa=class t{cartItems=new ri([]);cartCount=new ri(0);cartItems$=this.cartItems.asObservable();cartCount$=this.cartCount.asObservable();addToCart(e,n=1){let r=this.cartItems.value,i=r.find(o=>o.menuItem.id===e.id);if(i){if(i.quantity+=n,i.quantity<=0){this.removeFromCart(e.id);return}i.totalPrice=i.quantity*i.menuItem.price}else n>0&&(r.push({menuItem:e,quantity:n,totalPrice:e.price*n}),this.updateCartCount());this.cartItems.next([...r])}updateCartCount(){let n=this.cartItems.value.reduce((r,i)=>r+(i.quantity||0),0);this.cartCount.next(n)}removeFromCart(e){let n=this.cartItems.value.filter(r=>r.menuItem.id!==e);this.updateCartCount(),this.cartItems.next([...n])}clearCart(){this.cartItems.next([]),this.updateCartCount()}getTotalAmount(){return this.cartItems.value.reduce((e,n)=>e+n.totalPrice,0)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})};var jL=()=>{};var zL=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tK=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},fw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=o>>2,m=(o&3)<<4|a>>4,y=(a&15)<<2|u>>6,g=u&63;c||(g=64,s||(y=64)),r.push(n[l],n[m],n[y],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tK(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||m==null)throw new O2;let y=o<<2|a>>4;if(r.push(y),u!==64){let g=a<<4&240|u>>2;if(r.push(g),m!==64){let R=u<<6&192|m;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},O2=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},nK=function(t){let e=zL(t);return fw.encodeByteArray(e,!0)},Mm=function(t){return nK(t).replace(/\./g,"")},pw=function(t){try{return fw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function F2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var rK=()=>F2().__FIREBASE_DEFAULTS__,iK=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&pw(t[1]);return e&&JSON.parse(e)},V2=()=>{try{return jL()||rK()||iK()||oK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$L=t=>{var e,n;return(n=(e=V2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HL=t=>{let e=$L(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},B2=()=>{var t;return(t=V2())===null||t===void 0?void 0:t.config},GL=t=>{var e;return(e=V2())===null||e===void 0?void 0:e[`_${t}`]};var Qd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ff(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j2(t){return(await fetch(t,{credentials:"include"})).ok}function WL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mm(JSON.stringify(n)),Mm(JSON.stringify(s)),""].join(".")}var km={};function sK(){let t={prod:[],emulator:[]};for(let e of Object.keys(km))km[e]?t.emulator.push(e):t.prod.push(e);return t}function aK(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var UL=!1;function U2(t,e){if(typeof window>"u"||typeof document>"u"||!Ff(window.location.host)||km[t]===e||km[t]||UL)return;km[t]=e;function n(y){return`__firebase__banner__${y}`}let r="__firebase__banner",o=sK().prod.length>0;function s(){let y=document.getElementById(r);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,g){y.setAttribute("width","24"),y.setAttribute("id",g),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function u(){let y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{UL=!0,s()},y}function l(y,g){y.setAttribute("id",g),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){let y=aK(r),g=n("text"),R=document.getElementById(g)||document.createElement("span"),k=n("learnmore"),M=document.getElementById(k)||document.createElement("a"),L=n("preprendIcon"),Z=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){let J=y.element;a(J),l(M,k);let Y=u();c(Z,L),J.append(Z,R,M,Y),document.body.appendChild(J)}o?(R.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function ma(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ma())}function QL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YL(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Om(){try{return typeof indexedDB=="object"}catch{return!1}}function ZL(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var cK="FirebaseError",ga=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cK,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ga.prototype.create)}},Ga=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?uK(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ga(i,a,r)}};function uK(t,e){return t.replace(lK,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var lK=/\{\$([^}]+)}/g;function Yd(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(qL(o)&&qL(s)){if(!Yd(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function qL(t){return t!==null&&typeof t=="object"}function q2(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function XL(t,e){let n=new L2(t,e);return n.subscribe.bind(n)}var L2=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=M2),i.error===void 0&&(i.error=M2),i.complete===void 0&&(i.complete=M2);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function dK(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function M2(){}var Fbe=14400*1e3;function Jd(t){return t&&t._delegate?t._delegate:t}var Lo=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Zd="[DEFAULT]";var z2=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Qd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fK(e))try{this.getOrInitializeService({instanceIdentifier:Zd})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zd){return this.instances.has(e)}getOptions(e=Zd){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zd){return this.component?this.component.multipleInstances?e:Zd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hK(t){return t===Zd?void 0:t}function fK(t){return t.instantiationMode==="EAGER"}var gw=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new z2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var pK=[],$n=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})($n||{}),gK={debug:$n.DEBUG,verbose:$n.VERBOSE,info:$n.INFO,warn:$n.WARN,error:$n.ERROR,silent:$n.SILENT},mK=$n.INFO,yK={[$n.DEBUG]:"log",[$n.VERBOSE]:"log",[$n.INFO]:"info",[$n.WARN]:"warn",[$n.ERROR]:"error"},vK=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=yK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Pc=class{constructor(e){this.name=e,this._logLevel=mK,this._logHandler=vK,this._userLogHandler=null,pK.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $n))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$n.DEBUG,...e),this._logHandler(this,$n.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$n.VERBOSE,...e),this._logHandler(this,$n.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$n.INFO,...e),this._logHandler(this,$n.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$n.WARN,...e),this._logHandler(this,$n.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$n.ERROR,...e),this._logHandler(this,$n.ERROR,...e)}};var _K=(t,e)=>e.some(n=>t instanceof n),eF,tF;function wK(){return eF||(eF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bK(){return tF||(tF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var nF=new WeakMap,H2=new WeakMap,rF=new WeakMap,$2=new WeakMap,W2=new WeakMap;function EK(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(kc(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&nF.set(n,t)}).catch(()=>{}),W2.set(e,t),e}function IK(t){if(H2.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});H2.set(t,e)}var G2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return H2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iF(t){G2=t(G2)}function TK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(mw(this),e,...n);return rF.set(r,e.sort?e.sort():[e]),kc(r)}:bK().includes(t)?function(...e){return t.apply(mw(this),e),kc(nF.get(this))}:function(...e){return kc(t.apply(mw(this),e))}}function SK(t){return typeof t=="function"?TK(t):(t instanceof IDBTransaction&&IK(t),_K(t,wK())?new Proxy(t,G2):t)}function kc(t){if(t instanceof IDBRequest)return EK(t);if($2.has(t))return $2.get(t);let e=SK(t);return e!==t&&($2.set(t,e),W2.set(e,t)),e}var mw=t=>W2.get(t);function yw(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=kc(s);return r&&s.addEventListener("upgradeneeded",c=>{r(kc(s.result),c.oldVersion,c.newVersion,kc(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var AK=["get","getKey","getAll","getAllKeys","count"],CK=["put","add","delete","clear"],K2=new Map;function oF(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(K2.get(e))return K2.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=CK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AK.includes(n)))return;let o=async function(s,...a){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return K2.set(e,o),o}iF(t=>Mt(Me({},t),{get:(e,n,r)=>oF(e,n)||t.get(e,n,r),has:(e,n)=>!!oF(e,n)||t.has(e,n)}));var Y2=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DK(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function DK(t){let e=t.getComponent();return e?.type==="VERSION"}var J2="@firebase/app",sF="0.13.2";var Tu=new Pc("@firebase/app"),xK="@firebase/app-compat",NK="@firebase/analytics-compat",RK="@firebase/analytics",PK="@firebase/app-check-compat",kK="@firebase/app-check",MK="@firebase/auth",OK="@firebase/auth-compat",LK="@firebase/database",FK="@firebase/data-connect",VK="@firebase/database-compat",BK="@firebase/functions",jK="@firebase/functions-compat",UK="@firebase/installations",qK="@firebase/installations-compat",zK="@firebase/messaging",$K="@firebase/messaging-compat",HK="@firebase/performance",GK="@firebase/performance-compat",WK="@firebase/remote-config",KK="@firebase/remote-config-compat",QK="@firebase/storage",YK="@firebase/storage-compat",JK="@firebase/firestore",ZK="@firebase/ai",XK="@firebase/firestore-compat",eQ="firebase",tQ="11.10.0";var Z2="[DEFAULT]",nQ={[J2]:"fire-core",[xK]:"fire-core-compat",[RK]:"fire-analytics",[NK]:"fire-analytics-compat",[kK]:"fire-app-check",[PK]:"fire-app-check-compat",[MK]:"fire-auth",[OK]:"fire-auth-compat",[LK]:"fire-rtdb",[FK]:"fire-data-connect",[VK]:"fire-rtdb-compat",[BK]:"fire-fn",[jK]:"fire-fn-compat",[UK]:"fire-iid",[qK]:"fire-iid-compat",[zK]:"fire-fcm",[$K]:"fire-fcm-compat",[HK]:"fire-perf",[GK]:"fire-perf-compat",[WK]:"fire-rc",[KK]:"fire-rc-compat",[QK]:"fire-gcs",[YK]:"fire-gcs-compat",[JK]:"fire-fst",[XK]:"fire-fst-compat",[ZK]:"fire-vertex","fire-js":"fire-js",[eQ]:"fire-js-all"};var Lm=new Map,rQ=new Map,X2=new Map;function aF(t,e){try{t.container.addComponent(e)}catch(n){Tu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wa(t){let e=t.name;if(X2.has(e))return Tu.debug(`There were multiple attempts to register component ${e}.`),!1;X2.set(e,t);for(let n of Lm.values())aF(n,t);for(let n of rQ.values())aF(n,t);return!0}function vw(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Su(t){return t==null?!1:t.settings!==void 0}var iQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fl=new Ga("app","Firebase",iQ);var eA=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fl.create("app-deleted",{appName:this._name})}};var Vf=tQ;function rA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Z2,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Fl.create("bad-app-name",{appName:String(i)});if(n||(n=B2()),!n)throw Fl.create("no-options");let o=Lm.get(i);if(o){if(Yd(n,o.options)&&Yd(r,o.config))return o;throw Fl.create("duplicate-app",{appName:i})}let s=new gw(i);for(let c of X2.values())s.addComponent(c);let a=new eA(n,r,s);return Lm.set(i,a),a}function Bf(t=Z2){let e=Lm.get(t);if(!e&&t===Z2&&B2())return rA();if(!e)throw Fl.create("no-app",{appName:t});return e}function _w(){return Array.from(Lm.values())}function Kr(t,e,n){var r;let i=(r=nQ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tu.warn(a.join(" "));return}Wa(new Lo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var oQ="firebase-heartbeat-database",sQ=1,Fm="firebase-heartbeat-store",Q2=null;function dF(){return Q2||(Q2=yw(oQ,sQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fl.create("idb-open",{originalErrorMessage:t.message})})),Q2}async function aQ(t){try{let n=(await dF()).transaction(Fm),r=await n.objectStore(Fm).get(hF(t));return await n.done,r}catch(e){if(e instanceof ga)Tu.warn(e.message);else{let n=Fl.create("idb-get",{originalErrorMessage:e?.message});Tu.warn(n.message)}}}async function cF(t,e){try{let r=(await dF()).transaction(Fm,"readwrite");await r.objectStore(Fm).put(e,hF(t)),await r.done}catch(n){if(n instanceof ga)Tu.warn(n.message);else{let r=Fl.create("idb-set",{originalErrorMessage:n?.message});Tu.warn(r.message)}}}function hF(t){return`${t.name}!${t.options.appId}`}var cQ=1024,uQ=30,tA=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new nA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uF();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>uQ){let s=dQ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Tu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=uF(),{heartbeatsToSend:r,unsentEntries:i}=lQ(this._heartbeatsCache.heartbeats),o=Mm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Tu.warn(n),""}}};function uF(){return new Date().toISOString().substring(0,10)}function lQ(t,e=cQ){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),lF(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var nA=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Om()?ZL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await aQ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return cF(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return cF(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function lF(t){return Mm(JSON.stringify({version:2,heartbeats:t})).length}function dQ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function hQ(t){Wa(new Lo("platform-logger",e=>new Y2(e),"PRIVATE")),Wa(new Lo("heartbeat",e=>new tA(e),"PRIVATE")),Kr(J2,sF,t),Kr(J2,sF,"esm2017"),Kr("fire-js","")}hQ("");var fQ="firebase",pQ="11.10.0";Kr(fQ,pQ,"app");function fF(t){t===void 0&&(t=Fe(ai));let e=t.get(lf);return n=>new sn(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var eh=new pl("ANGULARFIRE2_VERSION");function bw(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Uf=(t,e)=>{let n=e?[e]:_w(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},jf=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(jf||{}),pF=SS()&&typeof Zone<"u"?jf.WARN:jf.SILENT;var ww=class{zone;delegate;constructor(e,n=BE){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},th=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=Fe(wr);this.outsideAngular=n.runOutsideAngular(()=>new ww(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new ww(typeof Zone>"u"?void 0:Zone.current,VE))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gF=!1;function gQ(t,e){!gF&&(pF>jf.SILENT||SS())&&(gF=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),pF>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function mQ(t){let e=Fe(wr,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Xd(t){let e=Fe(wr,{optional:!0});return e?e.run(()=>t()):t()}var yQ=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),ci(n,()=>Xd(()=>t.apply(void 0,r)))),nh=(t,e,n)=>(n||=e?jf.WARN:jf.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=Fe(th),s=Fe(lf),a=Fe(si)}catch{return gQ(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Xd(()=>s.add())),i[u]=yQ(i[u],r,a));let c=mQ(()=>t.apply(this,i));return e?c instanceof sn?c.pipe(hl(o.outsideAngular),dl(o.insideAngular),fF(a)):c instanceof Promise?Xd(()=>{let u=s.add();return new Promise((l,m)=>{c.then(y=>ci(a,()=>Xd(()=>l(y))),y=>ci(a,()=>Xd(()=>m(y)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Xd(()=>c):c instanceof sn?c.pipe(hl(o.outsideAngular),dl(o.insideAngular)):Xd(()=>c)});var rh=class{constructor(e){return e}},Vm=class{constructor(){return _w()}};function vQ(t){return t&&t.length===1?t[0]:new rh(Bf())}var iA=new ct("angularfire2._apps"),_Q={provide:rh,useFactory:vQ,deps:[[new pu,iA]]},wQ={provide:Vm,deps:[[new pu,iA]]};function bQ(t){return(e,n)=>{let r=n.get(Md);Kr("angularfire",eh.full,"core"),Kr("angularfire",eh.full,"app"),Kr("angular",aI.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new rh(i)}}function mF(t,...e){return vc([_Q,wQ,{provide:iA,useFactory:bQ(t),multi:!0,deps:[wr,ai,th,...e]}])}var yF=nh(rA,!0);var EQ=new Map,IQ={activated:!1,tokenObservers:[]},TQ={initialized:!1,enabled:!1};function Ka(t){return EQ.get(t)||Object.assign({},IQ)}function bF(){return TQ}var SQ="https://content-firebaseappcheck.googleapis.com/v1";var AQ="exchangeDebugToken",vF={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},FEe=1440*60*1e3;var aA=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Qd,this.pending.promise.catch(n=>{}),await CQ(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Qd,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function CQ(t){return new Promise(e=>{setTimeout(e,t)})}var DQ={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Vl=new Ga("appCheck","AppCheck",DQ);function EF(t){if(!Ka(t).activated)throw Vl.create("use-before-activation",{appName:t.name})}async function IF({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let m=await i.getHeartbeatsHeader();m&&(r["X-Firebase-Client"]=m)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(m){throw Vl.create("fetch-network-error",{originalErrorMessage:m?.message})}if(s.status!==200)throw Vl.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(m){throw Vl.create("fetch-parse-error",{originalErrorMessage:m?.message})}let c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Vl.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let u=Number(c[1])*1e3,l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}function TF(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${SQ}/projects/${n}/apps/${r}:${AQ}?key=${i}`,body:{debug_token:e}}}var xQ="firebase-app-check-database",NQ=1,cA="firebase-app-check-store";var Ew=null;function RQ(){return Ew||(Ew=new Promise((t,e)=>{try{let n=indexedDB.open(xQ,NQ);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Vl.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(cA,{keyPath:"compositeKey"})}}}catch(n){e(Vl.create("storage-open",{originalErrorMessage:n?.message}))}}),Ew)}function PQ(t,e){return kQ(MQ(t),e)}async function kQ(t,e){let r=(await RQ()).transaction(cA,"readwrite"),o=r.objectStore(cA).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Vl.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})}function MQ(t){return`${t.options.appId}-${t.name}`}var Bm=new Pc("@firebase/app-check");function oA(t,e){return Om()?PQ(t,e).catch(n=>{Bm.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function SF(){return bF().enabled}async function AF(){let t=bF();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var OQ={error:"UNKNOWN_ERROR"};function LQ(t){return fw.encodeString(JSON.stringify(t),!1)}async function uA(t,e=!1,n=!1){let r=t.app;EF(r);let i=Ka(r),o=i.token,s;if(o&&!jm(o)&&(i.token=void 0,o=void 0),!o){let u=await i.cachedTokenPromise;u&&(jm(u)?o=u:await oA(r,void 0))}if(!e&&o&&jm(o))return{token:o.token};let a=!1;if(SF())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=IF(TF(r,await AF()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=await i.exchangeTokenPromise;return await oA(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Bm.warn(u.message):n&&Bm.error(u),sA(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await Ka(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Bm.warn(u.message):n&&Bm.error(u),s=u}let c;return o?s?jm(o)?c={token:o.token,internalError:s}:c=sA(s):(c={token:o.token},i.token=o,await oA(r,o)):c=sA(s),a&&jQ(r,c),c}async function FQ(t){let e=t.app;EF(e);let{provider:n}=Ka(e);if(SF()){let r=await AF(),{token:i}=await IF(TF(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function VQ(t,e,n,r){let{app:i}=t,o=Ka(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&jm(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),_F(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>_F(t))}function CF(t,e){let n=Ka(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function _F(t){let{app:e}=t,n=Ka(e),r=n.tokenRefresher;r||(r=BQ(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function BQ(t){let{app:e}=t;return new aA(async()=>{let n=Ka(e),r;if(n.token?r=await uA(t,!0):r=await uA(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=Ka(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},vF.RETRIAL_MIN_WAIT,vF.RETRIAL_MAX_WAIT)}function jQ(t,e){let n=Ka(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function jm(t){return t.expireTimeMillis-Date.now()>0}function sA(t){return{token:LQ(OQ),error:t}}var lA=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Ka(this.app);for(let n of e)CF(this.app,n.next);return Promise.resolve()}};function UQ(t,e){return new lA(t,e)}function qQ(t){return{getToken:e=>uA(t,e),getLimitedUseToken:()=>FQ(t),addTokenListener:e=>VQ(t,"INTERNAL",e),removeTokenListener:e=>CF(t.app,e)}}var zQ="@firebase/app-check",$Q="0.10.1";var HQ="app-check",wF="app-check-internal";function GQ(){Wa(new Lo(HQ,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return UQ(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(wF).initialize()})),Wa(new Lo(wF,t=>{let e=t.getProvider("app-check").getImmediate();return qQ(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Kr(zQ,$Q)}GQ();var WQ="app-check";var Iw=class{constructor(){return Uf(WQ)}};var KQ=["localhost","0.0.0.0","127.0.0.1"],QEe=typeof window<"u"&&KQ.includes(window.location.hostname);var DF=()=>{};var RF=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QQ=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},PF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=o>>2,m=(o&3)<<4|a>>4,y=(a&15)<<2|u>>6,g=u&63;c||(g=64,s||(y=64)),r.push(n[l],n[m],n[y],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||m==null)throw new dA;let y=o<<2|a>>4;if(r.push(y),u!==64){let g=a<<4&240|u>>2;if(r.push(g),m!==64){let R=u<<6&192|m;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},dA=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},YQ=function(t){let e=RF(t);return PF.encodeByteArray(e,!0)},qm=function(t){return YQ(t).replace(/\./g,"")},kF=function(t){try{return PF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function MF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var JQ=()=>MF().__FIREBASE_DEFAULTS__,ZQ=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&kF(t[1]);return e&&JSON.parse(e)},hA=()=>{try{return DF()||JQ()||ZQ()||XQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eY=t=>hA()?.emulatorHosts?.[t],Sw=t=>{let e=eY(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fA=()=>hA()?.config;var Tw=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function qf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Aw(t){return(await fetch(t,{credentials:"include"})).ok}function Cw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Me({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qm(JSON.stringify(n)),qm(JSON.stringify(s)),""].join(".")}var Um={};function tY(){let t={prod:[],emulator:[]};for(let e of Object.keys(Um))Um[e]?t.emulator.push(e):t.prod.push(e);return t}function nY(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var xF=!1;function Dw(t,e){if(typeof window>"u"||typeof document>"u"||!qf(window.location.host)||Um[t]===e||Um[t]||xF)return;Um[t]=e;function n(y){return`__firebase__banner__${y}`}let r="__firebase__banner",o=tY().prod.length>0;function s(){let y=document.getElementById(r);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,g){y.setAttribute("width","24"),y.setAttribute("id",g),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function u(){let y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{xF=!0,s()},y}function l(y,g){y.setAttribute("id",g),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){let y=nY(r),g=n("text"),R=document.getElementById(g)||document.createElement("span"),k=n("learnmore"),M=document.getElementById(k)||document.createElement("a"),L=n("preprendIcon"),Z=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){let J=y.element;a(J),l(M,k);let Y=u();c(Z,L),J.append(Z,R,M,Y),document.body.appendChild(J)}o?(R.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function OF(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rY(){let t=hA()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LF(){return!rY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pA(){try{return typeof indexedDB=="object"}catch{return!1}}function FF(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var iY="FirebaseError",Qa=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iY,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zm.prototype.create)}},zm=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?oY(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Qa(i,a,r)}};function oY(t,e){return t.replace(sY,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var sY=/\{\$([^}]+)}/g;function zf(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(NF(o)&&NF(s)){if(!zf(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function NF(t){return t!==null&&typeof t=="object"}var eIe=14400*1e3;function Fo(t){return t&&t._delegate?t._delegate:t}var Ya=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ih="[DEFAULT]";var gA=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Tw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cY(e))try{this.getOrInitializeService({instanceIdentifier:ih})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ih){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ih){return this.instances.has(e)}getOptions(e=ih){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aY(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ih){return this.component?this.component.multipleInstances?e:ih:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aY(t){return t===ih?void 0:t}function cY(t){return t.instantiationMode==="EAGER"}var xw=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new gA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var uY=[],Sn=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(Sn||{}),lY={debug:Sn.DEBUG,verbose:Sn.VERBOSE,info:Sn.INFO,warn:Sn.WARN,error:Sn.ERROR,silent:Sn.SILENT},dY=Sn.INFO,hY={[Sn.DEBUG]:"log",[Sn.VERBOSE]:"log",[Sn.INFO]:"info",[Sn.WARN]:"warn",[Sn.ERROR]:"error"},fY=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=hY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$f=class{constructor(e){this.name=e,this._logLevel=dY,this._logHandler=fY,this._userLogHandler=null,uY.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Sn.DEBUG,...e),this._logHandler(this,Sn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Sn.VERBOSE,...e),this._logHandler(this,Sn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Sn.INFO,...e),this._logHandler(this,Sn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Sn.WARN,...e),this._logHandler(this,Sn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Sn.ERROR,...e),this._logHandler(this,Sn.ERROR,...e)}};var yA=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pY(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function pY(t){return t.getComponent()?.type==="VERSION"}var vA="@firebase/app",VF="0.14.6";var Au=new $f("@firebase/app"),gY="@firebase/app-compat",mY="@firebase/analytics-compat",yY="@firebase/analytics",vY="@firebase/app-check-compat",_Y="@firebase/app-check",wY="@firebase/auth",bY="@firebase/auth-compat",EY="@firebase/database",IY="@firebase/data-connect",TY="@firebase/database-compat",SY="@firebase/functions",AY="@firebase/functions-compat",CY="@firebase/installations",DY="@firebase/installations-compat",xY="@firebase/messaging",NY="@firebase/messaging-compat",RY="@firebase/performance",PY="@firebase/performance-compat",kY="@firebase/remote-config",MY="@firebase/remote-config-compat",OY="@firebase/storage",LY="@firebase/storage-compat",FY="@firebase/firestore",VY="@firebase/ai",BY="@firebase/firestore-compat",jY="firebase",UY="12.6.0";var _A="[DEFAULT]",qY={[vA]:"fire-core",[gY]:"fire-core-compat",[yY]:"fire-analytics",[mY]:"fire-analytics-compat",[_Y]:"fire-app-check",[vY]:"fire-app-check-compat",[wY]:"fire-auth",[bY]:"fire-auth-compat",[EY]:"fire-rtdb",[IY]:"fire-data-connect",[TY]:"fire-rtdb-compat",[SY]:"fire-fn",[AY]:"fire-fn-compat",[CY]:"fire-iid",[DY]:"fire-iid-compat",[xY]:"fire-fcm",[NY]:"fire-fcm-compat",[RY]:"fire-perf",[PY]:"fire-perf-compat",[kY]:"fire-rc",[MY]:"fire-rc-compat",[OY]:"fire-gcs",[LY]:"fire-gcs-compat",[FY]:"fire-fst",[BY]:"fire-fst-compat",[VY]:"fire-vertex","fire-js":"fire-js",[jY]:"fire-js-all"};var Nw=new Map,zY=new Map,wA=new Map;function BF(t,e){try{t.container.addComponent(e)}catch(n){Au.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oh(t){let e=t.name;if(wA.has(e))return Au.debug(`There were multiple attempts to register component ${e}.`),!1;wA.set(e,t);for(let n of Nw.values())BF(n,t);for(let n of zY.values())BF(n,t);return!0}function Rw(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pw(t){return t==null?!1:t.settings!==void 0}var $Y={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bl=new zm("app","Firebase",$Y);var bA=class{constructor(e,n,r){this._isDeleted=!1,this._options=Me({},e),this._config=Me({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bl.create("app-deleted",{appName:this._name})}};var kw=UY;function TA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Me({name:_A,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Bl.create("bad-app-name",{appName:String(i)});if(n||(n=fA()),!n)throw Bl.create("no-options");let o=Nw.get(i);if(o){if(zf(n,o.options)&&zf(r,o.config))return o;throw Bl.create("duplicate-app",{appName:i})}let s=new xw(i);for(let c of wA.values())s.addComponent(c);let a=new bA(n,r,s);return Nw.set(i,a),a}function Mw(t=_A){let e=Nw.get(t);if(!e&&t===_A&&fA())return TA();if(!e)throw Bl.create("no-app",{appName:t});return e}function Ja(t,e,n){let r=qY[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Au.warn(s.join(" "));return}oh(new Ya(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var HY="firebase-heartbeat-database",GY=1,$m="firebase-heartbeat-store",mA=null;function zF(){return mA||(mA=yw(HY,GY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($m)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bl.create("idb-open",{originalErrorMessage:t.message})})),mA}async function WY(t){try{let n=(await zF()).transaction($m),r=await n.objectStore($m).get($F(t));return await n.done,r}catch(e){if(e instanceof Qa)Au.warn(e.message);else{let n=Bl.create("idb-get",{originalErrorMessage:e?.message});Au.warn(n.message)}}}async function jF(t,e){try{let r=(await zF()).transaction($m,"readwrite");await r.objectStore($m).put(e,$F(t)),await r.done}catch(n){if(n instanceof Qa)Au.warn(n.message);else{let r=Bl.create("idb-set",{originalErrorMessage:n?.message});Au.warn(r.message)}}}function $F(t){return`${t.name}!${t.options.appId}`}var KY=1024,QY=30,EA=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new IA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=UF();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>QY){let i=JY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Au.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=UF(),{heartbeatsToSend:n,unsentEntries:r}=YY(this._heartbeatsCache.heartbeats),i=qm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Au.warn(e),""}}};function UF(){return new Date().toISOString().substring(0,10)}function YY(t,e=KY){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),qF(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var IA=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pA()?FF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await WY(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return jF(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return jF(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function qF(t){return qm(JSON.stringify({version:2,heartbeats:t})).length}function JY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function ZY(t){oh(new Ya("platform-logger",e=>new yA(e),"PRIVATE")),oh(new Ya("heartbeat",e=>new EA(e),"PRIVATE")),Ja(vA,VF,t),Ja(vA,VF,"esm2020"),Ja("fire-js","")}ZY("");function ZF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var XF=ZF,e4=new Ga("auth","Firebase",ZF());var Vw=new Pc("@firebase/auth");function XY(t,...e){Vw.logLevel<=$n.WARN&&Vw.warn(`Auth (${Vf}): ${t}`,...e)}function Lw(t,...e){Vw.logLevel<=$n.ERROR&&Vw.error(`Auth (${Vf}): ${t}`,...e)}function HF(t,...e){throw LA(t,...e)}function OA(t,...e){return LA(t,...e)}function t4(t,e,n){let r=Object.assign(Object.assign({},XF()),{[e]:n});return new Ga("auth","Firebase",r).create(e,{appName:t.name})}function Fw(t){return t4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LA(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return e4.create(t,...e)}function Hn(t,e,...n){if(!t)throw LA(e,...n)}function Hm(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Lw(e),new Error(e)}function Bw(t,e){t||Hm(e)}function eJ(){return GF()==="http:"||GF()==="https:"}function GF(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function tJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eJ()||YL()||"connection"in navigator)?navigator.onLine:!0}function nJ(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ch=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bw(n>e,"Short delay should be less than long delay!"),this.isMobile=KL()||JL()}get(){return tJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function rJ(t,e){Bw(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var jw=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var iJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var oJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sJ=new ch(3e4,6e4);function n4(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hw(t,e,n,r,i={}){return r4(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=q2(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);let u=Object.assign({method:e,headers:c},o);return QL()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ff(t.emulatorConfig.host)&&(u.credentials="include"),jw.fetch()(await i4(t,t.config.apiHost,n,a),u)})}async function r4(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},iJ),e);try{let i=new CA(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Ow(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ow(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Ow(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Ow(t,"user-disabled",s);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw t4(t,l,u);HF(t,l)}}catch(i){if(i instanceof ga)throw i;HF(t,"network-request-failed",{message:String(i)})}}async function i4(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?rJ(t.config,i):`${t.config.apiScheme}://${i}`;return oJ.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var CA=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(OA(this.auth,"network-request-failed")),sJ.get())})}};function Ow(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=OA(t,e,r);return i.customData._tokenResponse=n,i}async function aJ(t,e){return Hw(t,"POST","/v1/accounts:delete",e)}async function Uw(t,e){return Hw(t,"POST","/v1/accounts:lookup",e)}function Gm(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FA(t,e=!1){let n=Jd(t),r=await n.getIdToken(e),i=o4(r);Hn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Gm(SA(i.auth_time)),issuedAtTime:Gm(SA(i.iat)),expirationTime:Gm(SA(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function SA(t){return Number(t)*1e3}function o4(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lw("JWT malformed, contained fewer than 3 sections"),null;try{let i=pw(n);return i?JSON.parse(i):(Lw("Failed to decode base64 JWT payload"),null)}catch(i){return Lw("Caught error parsing JWT payload as JSON",i?.toString()),null}}function WF(t){let e=o4(t);return Hn(e,"internal-error"),Hn(typeof e.exp<"u","internal-error"),Hn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function DA(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ga&&cJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var xA=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Km=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gm(this.lastLoginAt),this.creationTime=Gm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function qw(t){var e;let n=t.auth,r=await t.getIdToken(),i=await DA(t,Uw(n,{idToken:r}));Hn(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?s4(o.providerUserInfo):[],a=uJ(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,l=c?u:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,m)}async function VA(t){let e=Jd(t);await qw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function s4(t){return t.map(e=>{var{providerId:n}=e,r=jE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function lJ(t,e){let n=await r4(t,{},async()=>{let r=q2({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await i4(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ff(t.emulatorConfig.host)&&(c.credentials="include"),jw.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dJ(t,e){return Hw(t,"POST","/v2/accounts:revokeToken",n4(t,e))}var Wm=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Hn(e.idToken,"internal-error"),Hn(typeof e.idToken<"u","internal-error"),Hn(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Hn(e.length!==0,"internal-error");let n=WF(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Hn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await lJ(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Hn(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Hn(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Hn(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Hm("not implemented")}};function jl(t,e){Hn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var sh=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=jE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await DA(this,this.stsTokenManager.getToken(this.auth,e));return Hn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FA(this,e)}reload(){return VA(this)}_assign(e){this!==e&&(Hn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Hn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Su(this.auth.app))return Promise.reject(Fw(this.auth));let e=await this.getIdToken();return await DA(this,aJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;let m=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,R=(s=n.photoURL)!==null&&s!==void 0?s:void 0,k=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,L=(u=n.createdAt)!==null&&u!==void 0?u:void 0,Z=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:J,emailVerified:Y,isAnonymous:fe,providerData:be,stsTokenManager:P}=n;Hn(J&&P,e,"internal-error");let T=Wm.fromJSON(this.name,P);Hn(typeof J=="string",e,"internal-error"),jl(m,e.name),jl(y,e.name),Hn(typeof Y=="boolean",e,"internal-error"),Hn(typeof fe=="boolean",e,"internal-error"),jl(g,e.name),jl(R,e.name),jl(k,e.name),jl(M,e.name),jl(L,e.name),jl(Z,e.name);let w=new t({uid:J,auth:e,email:y,emailVerified:Y,displayName:m,isAnonymous:fe,photoURL:R,phoneNumber:g,tenantId:k,stsTokenManager:T,createdAt:L,lastLoginAt:Z});return be&&Array.isArray(be)&&(w.providerData=be.map(D=>Object.assign({},D))),M&&(w._redirectEventId=M),w}static async _fromIdTokenResponse(e,n,r=!1){let i=new Wm;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qw(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];Hn(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?s4(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Wm;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Km(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c}};var KF=new Map;function ah(t){Bw(t instanceof Function,"Expected a class definition");let e=KF.get(t);return e?(Bw(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,KF.set(t,e),e)}var hJ=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),NA=hJ;function AA(t,e,n){return`firebase:${t}:${e}:${n}`}var zw=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=AA(this.userKey,i.apiKey,o),this.fullPersistenceKey=AA("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Uw(this.auth,{idToken:e}).catch(()=>{});return n?sh._fromGetAccountInfoResponse(this.auth,n,e):null}return sh._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(ah(NA),e,r);let i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u),o=i[0]||ah(NA),s=AA(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=await u._get(s);if(l){let m;if(typeof l=="string"){let y=await Uw(e,{idToken:l}).catch(()=>{});if(!y)break;m=await sh._fromGetAccountInfoResponse(e,y,l)}else m=sh._fromJSON(e,l);u!==o&&(a=m),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new t(o,e,r))}};function QF(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mJ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fJ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vJ(e))return"Blackberry";if(_J(e))return"Webos";if(pJ(e))return"Safari";if((e.includes("chrome/")||gJ(e))&&!e.includes("edge/"))return"Chrome";if(yJ(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fJ(t=ma()){return/firefox\//i.test(t)}function pJ(t=ma()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gJ(t=ma()){return/crios\//i.test(t)}function mJ(t=ma()){return/iemobile/i.test(t)}function yJ(t=ma()){return/android/i.test(t)}function vJ(t=ma()){return/blackberry/i.test(t)}function _J(t=ma()){return/webos/i.test(t)}function a4(t,e=[]){let n;switch(t){case"Browser":n=QF(ma());break;case"Worker":n=`${QF(ma())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vf}/${r}`}var RA=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function wJ(t,e={}){return Hw(t,"GET","/v2/passwordPolicy",n4(t,e))}var bJ=6,PA=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:bJ,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var kA=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $w(this),this.idTokenSubscription=new $w(this),this.beforeStateQueue=new RA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ah(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await zw.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Uw(this,{idToken:e}),r=await sh._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Su(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Hn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qw(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Su(this.app))return Promise.reject(Fw(this));let n=e?Jd(e):null;return n&&Hn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Hn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Su(this.app)?Promise.reject(Fw(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Su(this.app)?Promise.reject(Fw(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ah(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await wJ(this),n=new PA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ga("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dJ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&ah(e)||this._popupRedirectResolver;Hn(n,this,"argument-error"),this.redirectPersistenceManager=await zw.create(this,[ah(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Hn(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Hn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=a4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Su(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&XY(`Error while retrieving App Check token: ${n.error}`),n?.token}};function EJ(t){return Jd(t)}var $w=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=XL(n=>this.observer=n)}get next(){return Hn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var IJ={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TJ(t){IJ=t}function SJ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function AJ(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ah);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var AIe=SJ("rcb"),CIe=new ch(3e4,6e4);var DIe=new ch(2e3,1e4);var xIe=600*1e3;var NIe=new ch(3e4,6e4);var RIe=new ch(5e3,15e3);var PIe=encodeURIComponent("fac");var YF="@firebase/auth",JF="1.10.8";var MA=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Hn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function CJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DJ(t){Wa(new Lo("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Hn(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a4(t)},u=new kA(r,i,o,c);return AJ(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wa(new Lo("auth-internal",e=>{let n=EJ(e.getProvider("auth").getImmediate());return(r=>new MA(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(YF,JF,CJ(t)),Kr(YF,JF,"esm2017")}var xJ=300,kIe=GL("authIdTokenMaxAge")||xJ;function NJ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}TJ({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=OA("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",NJ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DJ("Browser");var DZ="auth";var Gw=class{constructor(){return Uf(DZ)}};var c4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},u4={};var Cu,BA;(function(){var t;function e(P,T){function w(){}w.prototype=T.prototype,P.F=T.prototype,P.prototype=new w,P.prototype.constructor=P,P.D=function(D,_,A){for(var I=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)I[ee-2]=arguments[ee];return T.prototype[_].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,T,w){w||(w=0);let D=Array(16);if(typeof T=="string")for(var _=0;_<16;++_)D[_]=T.charCodeAt(w++)|T.charCodeAt(w++)<<8|T.charCodeAt(w++)<<16|T.charCodeAt(w++)<<24;else for(_=0;_<16;++_)D[_]=T[w++]|T[w++]<<8|T[w++]<<16|T[w++]<<24;T=P.g[0],w=P.g[1],_=P.g[2];let A=P.g[3],I;I=T+(A^w&(_^A))+D[0]+3614090360&4294967295,T=w+(I<<7&4294967295|I>>>25),I=A+(_^T&(w^_))+D[1]+3905402710&4294967295,A=T+(I<<12&4294967295|I>>>20),I=_+(w^A&(T^w))+D[2]+606105819&4294967295,_=A+(I<<17&4294967295|I>>>15),I=w+(T^_&(A^T))+D[3]+3250441966&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(A^w&(_^A))+D[4]+4118548399&4294967295,T=w+(I<<7&4294967295|I>>>25),I=A+(_^T&(w^_))+D[5]+1200080426&4294967295,A=T+(I<<12&4294967295|I>>>20),I=_+(w^A&(T^w))+D[6]+2821735955&4294967295,_=A+(I<<17&4294967295|I>>>15),I=w+(T^_&(A^T))+D[7]+4249261313&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(A^w&(_^A))+D[8]+1770035416&4294967295,T=w+(I<<7&4294967295|I>>>25),I=A+(_^T&(w^_))+D[9]+2336552879&4294967295,A=T+(I<<12&4294967295|I>>>20),I=_+(w^A&(T^w))+D[10]+4294925233&4294967295,_=A+(I<<17&4294967295|I>>>15),I=w+(T^_&(A^T))+D[11]+2304563134&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(A^w&(_^A))+D[12]+1804603682&4294967295,T=w+(I<<7&4294967295|I>>>25),I=A+(_^T&(w^_))+D[13]+4254626195&4294967295,A=T+(I<<12&4294967295|I>>>20),I=_+(w^A&(T^w))+D[14]+2792965006&4294967295,_=A+(I<<17&4294967295|I>>>15),I=w+(T^_&(A^T))+D[15]+1236535329&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(_^A&(w^_))+D[1]+4129170786&4294967295,T=w+(I<<5&4294967295|I>>>27),I=A+(w^_&(T^w))+D[6]+3225465664&4294967295,A=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(A^T))+D[11]+643717713&4294967295,_=A+(I<<14&4294967295|I>>>18),I=w+(A^T&(_^A))+D[0]+3921069994&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(_^A&(w^_))+D[5]+3593408605&4294967295,T=w+(I<<5&4294967295|I>>>27),I=A+(w^_&(T^w))+D[10]+38016083&4294967295,A=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(A^T))+D[15]+3634488961&4294967295,_=A+(I<<14&4294967295|I>>>18),I=w+(A^T&(_^A))+D[4]+3889429448&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(_^A&(w^_))+D[9]+568446438&4294967295,T=w+(I<<5&4294967295|I>>>27),I=A+(w^_&(T^w))+D[14]+3275163606&4294967295,A=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(A^T))+D[3]+4107603335&4294967295,_=A+(I<<14&4294967295|I>>>18),I=w+(A^T&(_^A))+D[8]+1163531501&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(_^A&(w^_))+D[13]+2850285829&4294967295,T=w+(I<<5&4294967295|I>>>27),I=A+(w^_&(T^w))+D[2]+4243563512&4294967295,A=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(A^T))+D[7]+1735328473&4294967295,_=A+(I<<14&4294967295|I>>>18),I=w+(A^T&(_^A))+D[12]+2368359562&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(w^_^A)+D[5]+4294588738&4294967295,T=w+(I<<4&4294967295|I>>>28),I=A+(T^w^_)+D[8]+2272392833&4294967295,A=T+(I<<11&4294967295|I>>>21),I=_+(A^T^w)+D[11]+1839030562&4294967295,_=A+(I<<16&4294967295|I>>>16),I=w+(_^A^T)+D[14]+4259657740&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(w^_^A)+D[1]+2763975236&4294967295,T=w+(I<<4&4294967295|I>>>28),I=A+(T^w^_)+D[4]+1272893353&4294967295,A=T+(I<<11&4294967295|I>>>21),I=_+(A^T^w)+D[7]+4139469664&4294967295,_=A+(I<<16&4294967295|I>>>16),I=w+(_^A^T)+D[10]+3200236656&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(w^_^A)+D[13]+681279174&4294967295,T=w+(I<<4&4294967295|I>>>28),I=A+(T^w^_)+D[0]+3936430074&4294967295,A=T+(I<<11&4294967295|I>>>21),I=_+(A^T^w)+D[3]+3572445317&4294967295,_=A+(I<<16&4294967295|I>>>16),I=w+(_^A^T)+D[6]+76029189&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(w^_^A)+D[9]+3654602809&4294967295,T=w+(I<<4&4294967295|I>>>28),I=A+(T^w^_)+D[12]+3873151461&4294967295,A=T+(I<<11&4294967295|I>>>21),I=_+(A^T^w)+D[15]+530742520&4294967295,_=A+(I<<16&4294967295|I>>>16),I=w+(_^A^T)+D[2]+3299628645&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(_^(w|~A))+D[0]+4096336452&4294967295,T=w+(I<<6&4294967295|I>>>26),I=A+(w^(T|~_))+D[7]+1126891415&4294967295,A=T+(I<<10&4294967295|I>>>22),I=_+(T^(A|~w))+D[14]+2878612391&4294967295,_=A+(I<<15&4294967295|I>>>17),I=w+(A^(_|~T))+D[5]+4237533241&4294967295,w=_+(I<<21&4294967295|I>>>11),I=T+(_^(w|~A))+D[12]+1700485571&4294967295,T=w+(I<<6&4294967295|I>>>26),I=A+(w^(T|~_))+D[3]+2399980690&4294967295,A=T+(I<<10&4294967295|I>>>22),I=_+(T^(A|~w))+D[10]+4293915773&4294967295,_=A+(I<<15&4294967295|I>>>17),I=w+(A^(_|~T))+D[1]+2240044497&4294967295,w=_+(I<<21&4294967295|I>>>11),I=T+(_^(w|~A))+D[8]+1873313359&4294967295,T=w+(I<<6&4294967295|I>>>26),I=A+(w^(T|~_))+D[15]+4264355552&4294967295,A=T+(I<<10&4294967295|I>>>22),I=_+(T^(A|~w))+D[6]+2734768916&4294967295,_=A+(I<<15&4294967295|I>>>17),I=w+(A^(_|~T))+D[13]+1309151649&4294967295,w=_+(I<<21&4294967295|I>>>11),I=T+(_^(w|~A))+D[4]+4149444226&4294967295,T=w+(I<<6&4294967295|I>>>26),I=A+(w^(T|~_))+D[11]+3174756917&4294967295,A=T+(I<<10&4294967295|I>>>22),I=_+(T^(A|~w))+D[2]+718787259&4294967295,_=A+(I<<15&4294967295|I>>>17),I=w+(A^(_|~T))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(_+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+_&4294967295,P.g[3]=P.g[3]+A&4294967295}r.prototype.v=function(P,T){T===void 0&&(T=P.length);let w=T-this.blockSize,D=this.C,_=this.h,A=0;for(;A<T;){if(_==0)for(;A<=w;)i(this,P,A),A+=this.blockSize;if(typeof P=="string"){for(;A<T;)if(D[_++]=P.charCodeAt(A++),_==this.blockSize){i(this,D),_=0;break}}else for(;A<T;)if(D[_++]=P[A++],_==this.blockSize){i(this,D),_=0;break}}this.h=_,this.o+=T},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;T=this.o*8;for(var w=P.length-8;w<P.length;++w)P[w]=T&255,T/=256;for(this.v(P),P=Array(16),T=0,w=0;w<4;++w)for(let D=0;D<32;D+=8)P[T++]=this.g[w]>>>D&255;return P};function o(P,T){var w=a;return Object.prototype.hasOwnProperty.call(w,P)?w[P]:w[P]=T(P)}function s(P,T){this.h=T;let w=[],D=!0;for(let _=P.length-1;_>=0;_--){let A=P[_]|0;D&&A==T||(w[_]=A,D=!1)}this.g=w}var a={};function c(P){return-128<=P&&P<128?o(P,function(T){return new s([T|0],T<0?-1:0)}):new s([P|0],P<0?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return M(u(-P));let T=[],w=1;for(let D=0;P>=w;D++)T[D]=P/w|0,w*=4294967296;return new s(T,0)}function l(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return M(l(P.substring(1),T));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');let w=u(Math.pow(T,8)),D=m;for(let A=0;A<P.length;A+=8){var _=Math.min(8,P.length-A);let I=parseInt(P.substring(A,A+_),T);_<8?(_=u(Math.pow(T,_)),D=D.j(_).add(u(I))):(D=D.j(w),D=D.add(u(I)))}return D}var m=c(0),y=c(1),g=c(16777216);t=s.prototype,t.m=function(){if(k(this))return-M(this).m();let P=0,T=1;for(let w=0;w<this.g.length;w++){let D=this.i(w);P+=(D>=0?D:4294967296+D)*T,T*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(R(this))return"0";if(k(this))return"-"+M(this).toString(P);let T=u(Math.pow(P,6));var w=this;let D="";for(;;){let _=Y(w,T).g;w=L(w,_.j(T));let A=((w.g.length>0?w.g[0]:w.h)>>>0).toString(P);if(w=_,R(w))return A+D;for(;A.length<6;)A="0"+A;D=A+D}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function R(P){if(P.h!=0)return!1;for(let T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function k(P){return P.h==-1}t.l=function(P){return P=L(this,P),k(P)?-1:R(P)?0:1};function M(P){let T=P.g.length,w=[];for(let D=0;D<T;D++)w[D]=~P.g[D];return new s(w,~P.h).add(y)}t.abs=function(){return k(this)?M(this):this},t.add=function(P){let T=Math.max(this.g.length,P.g.length),w=[],D=0;for(let _=0;_<=T;_++){let A=D+(this.i(_)&65535)+(P.i(_)&65535),I=(A>>>16)+(this.i(_)>>>16)+(P.i(_)>>>16);D=I>>>16,A&=65535,I&=65535,w[_]=I<<16|A}return new s(w,w[w.length-1]&-2147483648?-1:0)};function L(P,T){return P.add(M(T))}t.j=function(P){if(R(this)||R(P))return m;if(k(this))return k(P)?M(this).j(M(P)):M(M(this).j(P));if(k(P))return M(this.j(M(P)));if(this.l(g)<0&&P.l(g)<0)return u(this.m()*P.m());let T=this.g.length+P.g.length,w=[];for(var D=0;D<2*T;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(let _=0;_<P.g.length;_++){let A=this.i(D)>>>16,I=this.i(D)&65535,ee=P.i(_)>>>16,_e=P.i(_)&65535;w[2*D+2*_]+=I*_e,Z(w,2*D+2*_),w[2*D+2*_+1]+=A*_e,Z(w,2*D+2*_+1),w[2*D+2*_+1]+=I*ee,Z(w,2*D+2*_+1),w[2*D+2*_+2]+=A*ee,Z(w,2*D+2*_+2)}for(P=0;P<T;P++)w[P]=w[2*P+1]<<16|w[2*P];for(P=T;P<2*T;P++)w[P]=0;return new s(w,0)};function Z(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function J(P,T){this.g=P,this.h=T}function Y(P,T){if(R(T))throw Error("division by zero");if(R(P))return new J(m,m);if(k(P))return T=Y(M(P),T),new J(M(T.g),M(T.h));if(k(T))return T=Y(P,M(T)),new J(M(T.g),T.h);if(P.g.length>30){if(k(P)||k(T))throw Error("slowDivide_ only works with positive integers.");for(var w=y,D=T;D.l(P)<=0;)w=fe(w),D=fe(D);var _=be(w,1),A=be(D,1);for(D=be(D,2),w=be(w,2);!R(D);){var I=A.add(D);I.l(P)<=0&&(_=_.add(w),A=I),D=be(D,1),w=be(w,1)}return T=L(P,_.j(T)),new J(_,T)}for(_=m;P.l(T)>=0;){for(w=Math.max(1,Math.floor(P.m()/T.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),A=u(w),I=A.j(T);k(I)||I.l(P)>0;)w-=D,A=u(w),I=A.j(T);R(A)&&(A=y),_=_.add(A),P=L(P,I)}return new J(_,P)}t.B=function(P){return Y(this,P).h},t.and=function(P){let T=Math.max(this.g.length,P.g.length),w=[];for(let D=0;D<T;D++)w[D]=this.i(D)&P.i(D);return new s(w,this.h&P.h)},t.or=function(P){let T=Math.max(this.g.length,P.g.length),w=[];for(let D=0;D<T;D++)w[D]=this.i(D)|P.i(D);return new s(w,this.h|P.h)},t.xor=function(P){let T=Math.max(this.g.length,P.g.length),w=[];for(let D=0;D<T;D++)w[D]=this.i(D)^P.i(D);return new s(w,this.h^P.h)};function fe(P){let T=P.g.length+1,w=[];for(let D=0;D<T;D++)w[D]=P.i(D)<<1|P.i(D-1)>>>31;return new s(w,P.h)}function be(P,T){let w=T>>5;T%=32;let D=P.g.length-w,_=[];for(let A=0;A<D;A++)_[A]=T>0?P.i(A+w)>>>T|P.i(A+w+1)<<32-T:P.i(A+w);return new s(_,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,BA=u4.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=l,Cu=u4.Integer=s}).apply(typeof c4<"u"?c4:typeof self<"u"?self:typeof window<"u"?window:{});var Ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Du={};var jA,xZ,Hf,UA,Qm,Kw,qA,zA,$A;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ww=="object"&&Ww];for(var S=0;S<f.length;++S){var N=f[S];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(f,S){if(S)e:{var N=r;f=f.split(".");for(var q=0;q<f.length-1;q++){var ae=f[q];if(!(ae in N))break e;N=N[ae]}f=f[f.length-1],q=N[f],S=S(q),S!=q&&S!=null&&e(N,f,{configurable:!0,writable:!0,value:S})}}i("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(f){return f||function(S){var N=[],q;for(q in S)Object.prototype.hasOwnProperty.call(S,q)&&N.push([q,S[q]]);return N}});var o=o||{},s=this||self;function a(f){var S=typeof f;return S=="object"&&f!=null||S=="function"}function c(f,S,N){return f.call.apply(f.bind,arguments)}function u(f,S,N){return u=c,u.apply(null,arguments)}function l(f,S){var N=Array.prototype.slice.call(arguments,1);return function(){var q=N.slice();return q.push.apply(q,arguments),f.apply(this,q)}}function m(f,S){function N(){}N.prototype=S.prototype,f.Z=S.prototype,f.prototype=new N,f.prototype.constructor=f,f.Ob=function(q,ae,me){for(var He=Array(arguments.length-2),At=2;At<arguments.length;At++)He[At-2]=arguments[At];return S.prototype[ae].apply(q,He)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function g(f){let S=f.length;if(S>0){let N=Array(S);for(let q=0;q<S;q++)N[q]=f[q];return N}return[]}function R(f,S){for(let q=1;q<arguments.length;q++){let ae=arguments[q];var N=typeof ae;if(N=N!="object"?N:ae?Array.isArray(ae)?"array":N:"null",N=="array"||N=="object"&&typeof ae.length=="number"){N=f.length||0;let me=ae.length||0;f.length=N+me;for(let He=0;He<me;He++)f[N+He]=ae[He]}else f.push(ae)}}class k{constructor(S,N){this.i=S,this.j=N,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function M(f){s.setTimeout(()=>{throw f},0)}function L(){var f=P;let S=null;return f.g&&(S=f.g,f.g=f.g.next,f.g||(f.h=null),S.next=null),S}class Z{constructor(){this.h=this.g=null}add(S,N){let q=J.get();q.set(S,N),this.h?this.h.next=q:this.g=q,this.h=q}}var J=new k(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(S,N){this.h=S,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,be=!1,P=new Z,T=()=>{let f=Promise.resolve(void 0);fe=()=>{f.then(w)}};function w(){for(var f;f=L();){try{f.h.call(f.g)}catch(N){M(N)}var S=J;S.j(f),S.h<100&&(S.h++,f.next=S.g,S.g=f)}be=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _(f,S){this.type=f,this.g=this.target=S,this.defaultPrevented=!1}_.prototype.h=function(){this.defaultPrevented=!0};var A=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,S=Object.defineProperty({},"passive",{get:function(){f=!0}});try{let N=()=>{};s.addEventListener("test",N,S),s.removeEventListener("test",N,S)}catch{}return f})();function I(f){return/^[\s\xa0]*$/.test(f)}function ee(f,S){_.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,S)}m(ee,_),ee.prototype.init=function(f,S){let N=this.type=f.type,q=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=S,S=f.relatedTarget,S||(N=="mouseover"?S=f.fromElement:N=="mouseout"&&(S=f.toElement)),this.relatedTarget=S,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);let f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),Ce=0;function Te(f,S,N,q,ae){this.listener=f,this.proxy=null,this.src=S,this.type=N,this.capture=!!q,this.ha=ae,this.key=++Ce,this.da=this.fa=!1}function pe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Se(f,S,N){for(let q in f)S.call(N,f[q],q,f)}function $e(f,S){for(let N in f)S.call(void 0,f[N],N,f)}function Le(f){let S={};for(let N in f)S[N]=f[N];return S}let B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(f,S){let N,q;for(let ae=1;ae<arguments.length;ae++){q=arguments[ae];for(N in q)f[N]=q[N];for(let me=0;me<B.length;me++)N=B[me],Object.prototype.hasOwnProperty.call(q,N)&&(f[N]=q[N])}}function X(f){this.src=f,this.g={},this.h=0}X.prototype.add=function(f,S,N,q,ae){let me=f.toString();f=this.g[me],f||(f=this.g[me]=[],this.h++);let He=ce(f,S,q,ae);return He>-1?(S=f[He],N||(S.fa=!1)):(S=new Te(S,this.src,me,!!q,ae),S.fa=N,f.push(S)),S};function ne(f,S){let N=S.type;if(N in f.g){var q=f.g[N],ae=Array.prototype.indexOf.call(q,S,void 0),me;(me=ae>=0)&&Array.prototype.splice.call(q,ae,1),me&&(pe(S),f.g[N].length==0&&(delete f.g[N],f.h--))}}function ce(f,S,N,q){for(let ae=0;ae<f.length;++ae){let me=f[ae];if(!me.da&&me.listener==S&&me.capture==!!N&&me.ha==q)return ae}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Ee={};function Ie(f,S,N,q,ae){if(q&&q.once)return Je(f,S,N,q,ae);if(Array.isArray(S)){for(let me=0;me<S.length;me++)Ie(f,S[me],N,q,ae);return null}return N=Ve(N),f&&f[_e]?f.J(S,N,a(q)?!!q.capture:!!q,ae):xe(f,S,N,!1,q,ae)}function xe(f,S,N,q,ae,me){if(!S)throw Error("Invalid event type");let He=a(ae)?!!ae.capture:!!ae,At=Ut(f);if(At||(f[de]=At=new X(f)),N=At.add(S,N,q,He,me),N.proxy)return N;if(q=je(),N.proxy=q,q.src=f,q.listener=N,f.addEventListener)A||(ae=He),ae===void 0&&(ae=!1),f.addEventListener(S.toString(),q,ae);else if(f.attachEvent)f.attachEvent(H(S.toString()),q);else if(f.addListener&&f.removeListener)f.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return N}function je(){function f(N){return S.call(f.src,f.listener,N)}let S=Qe;return f}function Je(f,S,N,q,ae){if(Array.isArray(S)){for(let me=0;me<S.length;me++)Je(f,S[me],N,q,ae);return null}return N=Ve(N),f&&f[_e]?f.K(S,N,a(q)?!!q.capture:!!q,ae):xe(f,S,N,!0,q,ae)}function Ke(f,S,N,q,ae){if(Array.isArray(S))for(var me=0;me<S.length;me++)Ke(f,S[me],N,q,ae);else q=a(q)?!!q.capture:!!q,N=Ve(N),f&&f[_e]?(f=f.i,me=String(S).toString(),me in f.g&&(S=f.g[me],N=ce(S,N,q,ae),N>-1&&(pe(S[N]),Array.prototype.splice.call(S,N,1),S.length==0&&(delete f.g[me],f.h--)))):f&&(f=Ut(f))&&(S=f.g[S.toString()],f=-1,S&&(f=ce(S,N,q,ae)),(N=f>-1?S[f]:null)&&lt(N))}function lt(f){if(typeof f!="number"&&f&&!f.da){var S=f.src;if(S&&S[_e])ne(S.i,f);else{var N=f.type,q=f.proxy;S.removeEventListener?S.removeEventListener(N,q,f.capture):S.detachEvent?S.detachEvent(H(N),q):S.addListener&&S.removeListener&&S.removeListener(q),(N=Ut(S))?(ne(N,f),N.h==0&&(N.src=null,S[de]=null)):pe(f)}}}function H(f){return f in Ee?Ee[f]:Ee[f]="on"+f}function Qe(f,S){if(f.da)f=!0;else{S=new ee(S,this);let N=f.listener,q=f.ha||f.src;f.fa&&lt(f),f=N.call(q,S)}return f}function Ut(f){return f=f[de],f instanceof X?f:null}var bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ve(f){return typeof f=="function"?f:(f[bt]||(f[bt]=function(S){return f.handleEvent(S)}),f[bt])}function Ze(){D.call(this),this.i=new X(this),this.M=this,this.G=null}m(Ze,D),Ze.prototype[_e]=!0,Ze.prototype.removeEventListener=function(f,S,N,q){Ke(this,f,S,N,q)};function Ge(f,S){var N,q=f.G;if(q)for(N=[];q;q=q.G)N.push(q);if(f=f.M,q=S.type||S,typeof S=="string")S=new _(S,f);else if(S instanceof _)S.target=S.target||f;else{var ae=S;S=new _(q,f),W(S,ae)}ae=!0;let me,He;if(N)for(He=N.length-1;He>=0;He--)me=S.g=N[He],ae=mt(me,q,!0,S)&&ae;if(me=S.g=f,ae=mt(me,q,!0,S)&&ae,ae=mt(me,q,!1,S)&&ae,N)for(He=0;He<N.length;He++)me=S.g=N[He],ae=mt(me,q,!1,S)&&ae}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var f=this.i;for(let S in f.g){let N=f.g[S];for(let q=0;q<N.length;q++)pe(N[q]);delete f.g[S],f.h--}}this.G=null},Ze.prototype.J=function(f,S,N,q){return this.i.add(String(f),S,!1,N,q)},Ze.prototype.K=function(f,S,N,q){return this.i.add(String(f),S,!0,N,q)};function mt(f,S,N,q){if(S=f.i.g[String(S)],!S)return!0;S=S.concat();let ae=!0;for(let me=0;me<S.length;++me){let He=S[me];if(He&&!He.da&&He.capture==N){let At=He.listener,d=He.ha||He.src;He.fa&&ne(f.i,He),ae=At.call(d,q)!==!1&&ae}}return ae&&!q.defaultPrevented}function vt(f,S){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:s.setTimeout(f,S||0)}function dn(f){f.g=vt(()=>{f.g=null,f.i&&(f.i=!1,dn(f))},f.l);let S=f.h;f.h=null,f.m.apply(null,S)}class Xt extends D{constructor(S,N){super(),this.m=S,this.l=N,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:dn(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(f){D.call(this),this.h=f,this.g={}}m(Nt,D);var Et=[];function It(f){Se(f.g,function(S,N){this.g.hasOwnProperty(N)&&lt(S)},f),f.g={}}Nt.prototype.N=function(){Nt.Z.N.call(this),It(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nt=s.JSON.stringify,qt=s.JSON.parse,ft=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function dr(){}function en(){}var Vt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){_.call(this,"d")}m(Gt,_);function Ln(){_.call(this,"c")}m(Ln,_);var dt={},jn=null;function _t(){return jn=jn||new Ze}dt.Ia="serverreachability";function Ft(f){_.call(this,dt.Ia,f)}m(Ft,_);function Nn(f){let S=_t();Ge(S,new Ft(S))}dt.STAT_EVENT="statevent";function zt(f,S){_.call(this,dt.STAT_EVENT,f),this.stat=S}m(zt,_);function Xe(f){let S=_t();Ge(S,new zt(S,f))}dt.Ja="timingevent";function hn(f,S){_.call(this,dt.Ja,f),this.size=S}m(hn,_);function Lr(f,S){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},S)}function mr(){this.g=!0}mr.prototype.ua=function(){this.g=!1};function to(f,S,N,q,ae,me){f.info(function(){if(f.g)if(me){var He="",At=me.split("&");for(let b=0;b<At.length;b++){var d=At[b].split("=");if(d.length>1){let x=d[0];d=d[1];let U=x.split("_");He=U.length>=2&&U[1]=="type"?He+(x+"="+d+"&"):He+(x+"=redacted&")}}}else He=null;else He=me;return"XMLHTTP REQ ("+q+") [attempt "+ae+"]: "+S+`
`+N+`
`+He})}function bo(f,S,N,q,ae,me,He){f.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ae+"]: "+S+`
`+N+`
`+me+" "+He})}function ht(f,S,N,q){f.info(function(){return"XMLHTTP TEXT ("+S+"): "+or(f,N)+(q?" "+q:"")})}function qo(f,S){f.info(function(){return"TIMEOUT: "+S})}mr.prototype.info=function(){};function or(f,S){if(!f.g)return S;if(!S)return null;try{let me=JSON.parse(S);if(me){for(f=0;f<me.length;f++)if(Array.isArray(me[f])){var N=me[f];if(!(N.length<2)){var q=N[1];if(Array.isArray(q)&&!(q.length<1)){var ae=q[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(let He=1;He<q.length;He++)q[He]=""}}}}return nt(me)}catch{return S}}var Zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Un;function br(){}m(br,dr),br.prototype.g=function(){return new XMLHttpRequest},Un=new br;function yr(f){return encodeURIComponent(String(f))}function no(f){var S=1;f=f.split(":");let N=[];for(;S>0&&f.length;)N.push(f.shift()),S--;return f.length&&N.push(f.join(":")),N}function vi(f,S,N,q){this.j=f,this.i=S,this.l=N,this.S=q||1,this.V=new Nt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ro}function ro(){this.i=null,this.g="",this.h=!1}var xi={},Ni={};function _i(f,S,N){f.M=1,f.A=ei(In(S)),f.u=N,f.R=!0,Xr(f,null)}function Xr(f,S){f.F=Date.now(),Eo(f),f.B=In(f.A);var N=f.B,q=f.S;Array.isArray(q)||(q=[String(q)]),uc(N.i,"t",q),f.C=0,N=f.j.L,f.h=new ro,f.g=st(f.j,N?S:null,!f.u),f.P>0&&(f.O=new Xt(u(f.Y,f,f.g),f.P)),S=f.V,N=f.g,q=f.ba;var ae="readystatechange";Array.isArray(ae)||(ae&&(Et[0]=ae.toString()),ae=Et);for(let me=0;me<ae.length;me++){let He=Ie(N,ae[me],q||S.handleEvent,!1,S.h||S);if(!He)break;S.g[He.key]=He}S=f.J?Le(f.J):{},f.u?(f.v||(f.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,S)):(f.v="GET",f.g.ea(f.B,f.v,null,S)),Nn(),to(f.i,f.v,f.B,f.l,f.S,f.u)}vi.prototype.ba=function(f){f=f.target;let S=this.O;S&&fn(f)==3?S.j():this.Y(f)},vi.prototype.Y=function(f){try{if(f==this.g)e:{let At=fn(this.g),d=this.g.ya(),b=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Xc(this.g)))){this.K||At!=4||d==7||(d==8||b<=0?Nn(3):Nn(2)),as(this);var S=this.g.ca();this.X=S;var N=Ri(this);if(this.o=S==200,bo(this.i,this.v,this.B,this.l,this.S,At,S),this.o){if(this.U&&!this.L){t:{if(this.g){var q,ae=this.g;if((q=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(q)){var me=q;break t}}me=null}if(f=me)ht(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,cs(this,f);else{this.o=!1,this.m=3,Xe(12),Io(this),Us(this);break e}}if(this.R){f=!0;let x;for(;!this.K&&this.C<N.length;)if(x=js(this,N),x==Ni){At==4&&(this.m=4,Xe(14),f=!1),ht(this.i,this.l,null,"[Incomplete Response]");break}else if(x==xi){this.m=4,Xe(15),ht(this.i,this.l,N,"[Invalid Chunk]"),f=!1;break}else ht(this.i,this.l,x,null),cs(this,x);if(io(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||N.length!=0||this.h.h||(this.m=1,Xe(16),f=!1),this.o=this.o&&f,!f)ht(this.i,this.l,N,"[Invalid Chunked Response]"),Io(this),Us(this);else if(N.length>0&&!this.W){this.W=!0;var He=this.j;He.g==this&&He.aa&&!He.P&&(He.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),v(He),He.P=!0,Xe(11))}}else ht(this.i,this.l,N,null),cs(this,N);At==4&&Io(this),this.o&&!this.K&&(At==4?te(this.j,this):(this.o=!1,Eo(this)))}else ds(this.g),S==400&&N.indexOf("Unknown SID")>0?(this.m=3,Xe(12)):(this.m=0,Xe(13)),Io(this),Us(this)}}}catch{}finally{}};function Ri(f){if(!io(f))return f.g.la();let S=Xc(f.g);if(S==="")return"";let N="",q=S.length,ae=fn(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Io(f),Us(f),"";f.h.i=new s.TextDecoder}for(let me=0;me<q;me++)f.h.h=!0,N+=f.h.i.decode(S[me],{stream:!(ae&&me==q-1)});return S.length=0,f.h.g+=N,f.C=0,f.h.g}function io(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function js(f,S){var N=f.C,q=S.indexOf(`
`,N);return q==-1?Ni:(N=Number(S.substring(N,q)),isNaN(N)?xi:(q+=1,q+N>S.length?Ni:(S=S.slice(q,q+N),f.C=q+N,S)))}vi.prototype.cancel=function(){this.K=!0,Io(this)};function Eo(f){f.T=Date.now()+f.H,ss(f,f.H)}function ss(f,S){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Lr(u(f.aa,f),S)}function as(f){f.D&&(s.clearTimeout(f.D),f.D=null)}vi.prototype.aa=function(){this.D=null;let f=Date.now();f-this.T>=0?(qo(this.i,this.B),this.M!=2&&(Nn(),Xe(17)),Io(this),this.m=2,Us(this)):ss(this,this.T-f)};function Us(f){f.j.I==0||f.K||te(f.j,f)}function Io(f){as(f);var S=f.O;S&&typeof S.dispose=="function"&&S.dispose(),f.O=null,It(f.V),f.g&&(S=f.g,f.g=null,S.abort(),S.dispose())}function cs(f,S){try{var N=f.j;if(N.I!=0&&(N.g==f||us(N.h,f))){if(!f.L&&us(N.h,f)&&N.I==3){try{var q=N.Ba.g.parse(S)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ae=q;if(ae[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<f.F)G(N),zi(N);else break e;hs(N),Xe(18)}}else N.xa=ae[1],0<N.xa-N.K&&ae[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Lr(u(N.Va,N),6e3));To(N.h)<=1&&N.ta&&(N.ta=void 0)}else Ae(N,11)}else if((f.L||N.g==f)&&G(N),!I(S))for(ae=N.Ba.g.parse(S),S=0;S<ae.length;S++){let b=ae[S],x=b[0];if(!(x<=N.K))if(N.K=x,b=b[1],N.I==2)if(b[0]=="c"){N.M=b[1],N.ba=b[2];let U=b[3];U!=null&&(N.ka=U,N.j.info("VER="+N.ka));let se=b[4];se!=null&&(N.za=se,N.j.info("SVER="+N.za));let we=b[5];we!=null&&typeof we=="number"&&we>0&&(q=1.5*we,N.O=q,N.j.info("backChannelRequestTimeoutMs_="+q)),q=N;let qe=f.g;if(qe){let cn=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cn){var me=q.h;me.g||cn.indexOf("spdy")==-1&&cn.indexOf("quic")==-1&&cn.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(oc(me,me.h),me.h=null))}if(q.G){let ar=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;ar&&(q.wa=ar,Rn(q.J,q.G,ar))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-f.F,N.j.info("Handshake RTT: "+N.T+"ms")),q=N;var He=f;if(q.na=et(q,q.L?q.ba:null,q.W),He.L){sc(q.h,He);var At=He,d=q.O;d&&(At.H=d),At.D&&(as(At),Eo(At)),q.g=He}else Wo(q);N.i.length>0&&bi(N)}else b[0]!="stop"&&b[0]!="close"||Ae(N,7);else N.I==3&&(b[0]=="stop"||b[0]=="close"?b[0]=="stop"?Ae(N,7):Ks(N):b[0]!="noop"&&N.l&&N.l.qa(b),N.A=0)}}Nn(4)}catch{}}var Kc=class{constructor(f,S){this.g=f,this.map=S}};function wi(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function To(f){return f.h?1:f.g?f.g.size:0}function us(f,S){return f.h?f.h==S:f.g?f.g.has(S):!1}function oc(f,S){f.g?f.g.add(S):f.h=S}function sc(f,S){f.h&&f.h==S?f.h=null:f.g&&f.g.has(S)&&f.g.delete(S)}wi.prototype.cancel=function(){if(this.i=ac(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let f of this.g.values())f.cancel();this.g.clear()}};function ac(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let S=f.i;for(let N of f.g.values())S=S.concat(N.G);return S}return g(f.i)}var oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qs(f,S){if(f){f=f.split("&");for(let N=0;N<f.length;N++){let q=f[N].indexOf("="),ae,me=null;q>=0?(ae=f[N].substring(0,q),me=f[N].substring(q+1)):ae=f[N],S(ae,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function so(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;f instanceof so?(this.l=f.l,ls(this,f.j),this.o=f.o,this.g=f.g,Pi(this,f.u),this.h=f.h,zs(this,Yc(f.i)),this.m=f.m):f&&(S=String(f).match(oo))?(this.l=!1,ls(this,S[1]||"",!0),this.o=sr(S[2]||""),this.g=sr(S[3]||"",!0),Pi(this,S[4]),this.h=sr(S[5]||"",!0),zs(this,S[6]||"",!0),this.m=sr(S[7]||"")):(this.l=!1,this.i=new ki(null,this.l))}so.prototype.toString=function(){let f=[];var S=this.j;S&&f.push(Dr(S,Sa,!0),":");var N=this.g;return(N||S=="file")&&(f.push("//"),(S=this.o)&&f.push(Dr(S,Sa,!0),"@"),f.push(yr(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&f.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&f.push("/"),f.push(Dr(N,N.charAt(0)=="/"?So:cc,!0))),(N=this.i.toString())&&f.push("?",N),(N=this.m)&&f.push("#",Dr(N,Aa)),f.join("")},so.prototype.resolve=function(f){let S=In(this),N=!!f.j;N?ls(S,f.j):N=!!f.o,N?S.o=f.o:N=!!f.g,N?S.g=f.g:N=f.u!=null;var q=f.h;if(N)Pi(S,f.u);else if(N=!!f.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var ae=S.h.lastIndexOf("/");ae!=-1&&(q=S.h.slice(0,ae+1)+q)}if(ae=q,ae==".."||ae==".")q="";else if(ae.indexOf("./")!=-1||ae.indexOf("/.")!=-1){q=ae.lastIndexOf("/",0)==0,ae=ae.split("/");let me=[];for(let He=0;He<ae.length;){let At=ae[He++];At=="."?q&&He==ae.length&&me.push(""):At==".."?((me.length>1||me.length==1&&me[0]!="")&&me.pop(),q&&He==ae.length&&me.push("")):(me.push(At),q=!0)}q=me.join("/")}else q=ae}return N?S.h=q:N=f.i.toString()!=="",N?zs(S,Yc(f.i)):N=!!f.m,N&&(S.m=f.m),S};function In(f){return new so(f)}function ls(f,S,N){f.j=N?sr(S,!0):S,f.j&&(f.j=f.j.replace(/:$/,""))}function Pi(f,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);f.u=S}else f.u=null}function zs(f,S,N){S instanceof ki?(f.i=S,Ca(f.i,f.l)):(N||(S=Dr(S,Fn)),f.i=new ki(S,f.l))}function Rn(f,S,N){f.i.set(S,N)}function ei(f){return Rn(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function sr(f,S){return f?S?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Dr(f,S,N){return typeof f=="string"?(f=encodeURI(f).replace(S,ao),N&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ao(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Sa=/[#\/\?@]/g,cc=/[#\?:]/g,So=/[#\?]/g,Fn=/[#\?@]/g,Aa=/#/g;function ki(f,S){this.h=this.g=null,this.i=f||null,this.j=!!S}function Vr(f){f.g||(f.g=new Map,f.h=0,f.i&&qs(f.i,function(S,N){f.add(decodeURIComponent(S.replace(/\+/g," ")),N)}))}t=ki.prototype,t.add=function(f,S){Vr(this),this.i=null,f=ti(this,f);let N=this.g.get(f);return N||this.g.set(f,N=[]),N.push(S),this.h+=1,this};function Wu(f,S){Vr(f),S=ti(f,S),f.g.has(S)&&(f.i=null,f.h-=f.g.get(S).length,f.g.delete(S))}function Qc(f,S){return Vr(f),S=ti(f,S),f.g.has(S)}t.forEach=function(f,S){Vr(this),this.g.forEach(function(N,q){N.forEach(function(ae){f.call(S,ae,q,this)},this)},this)};function Ku(f,S){Vr(f);let N=[];if(typeof S=="string")Qc(f,S)&&(N=N.concat(f.g.get(ti(f,S))));else for(f=Array.from(f.g.values()),S=0;S<f.length;S++)N=N.concat(f[S]);return N}t.set=function(f,S){return Vr(this),this.i=null,f=ti(this,f),Qc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[S]),this.h+=1,this},t.get=function(f,S){return f?(f=Ku(this,f),f.length>0?String(f[0]):S):S};function uc(f,S,N){Wu(f,S),N.length>0&&(f.i=null,f.g.set(ti(f,S),g(N)),f.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let f=[],S=Array.from(this.g.keys());for(let q=0;q<S.length;q++){var N=S[q];let ae=yr(N);N=Ku(this,N);for(let me=0;me<N.length;me++){let He=ae;N[me]!==""&&(He+="="+yr(N[me])),f.push(He)}}return this.i=f.join("&")};function Yc(f){let S=new ki;return S.i=f.i,f.g&&(S.g=new Map(f.g),S.h=f.h),S}function ti(f,S){return S=String(S),f.j&&(S=S.toLowerCase()),S}function Ca(f,S){S&&!f.j&&(Vr(f),f.i=null,f.g.forEach(function(N,q){let ae=q.toLowerCase();q!=ae&&(Wu(this,q),uc(this,ae,N))},f)),f.j=S}function Mi(f,S){let N=new mr;if(s.Image){let q=new Image;q.onload=l(Ao,N,"TestLoadImage: loaded",!0,S,q),q.onerror=l(Ao,N,"TestLoadImage: error",!1,S,q),q.onabort=l(Ao,N,"TestLoadImage: abort",!1,S,q),q.ontimeout=l(Ao,N,"TestLoadImage: timeout",!1,S,q),s.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=f}else S(!1)}function lc(f,S){let N=new mr,q=new AbortController,ae=setTimeout(()=>{q.abort(),Ao(N,"TestPingServer: timeout",!1,S)},1e4);fetch(f,{signal:q.signal}).then(me=>{clearTimeout(ae),me.ok?Ao(N,"TestPingServer: ok",!0,S):Ao(N,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ae),Ao(N,"TestPingServer: error",!1,S)})}function Ao(f,S,N,q,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),q(N)}catch{}}function Ot(){this.g=new ft}function Co(f){this.i=f.Sb||null,this.h=f.ab||!1}m(Co,dr),Co.prototype.g=function(){return new dc(this.i,this.h)};function dc(f,S){Ze.call(this),this.H=f,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(dc,Ze),t=dc.prototype,t.open=function(f,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=S,this.readyState=1,Er(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(S.body=f),(this.H||s).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qi(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qu(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qu(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var S=f.value?f.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!f.done}))&&(this.response=this.responseText+=S)}f.done?qi(this):Er(this),this.readyState==3&&Qu(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,qi(this))},t.Na=function(f){this.g&&(this.response=f,qi(this))},t.ga=function(){this.g&&qi(this)};function qi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Er(f)}t.setRequestHeader=function(f,S){this.A.append(f,S)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let f=[],S=this.h.entries();for(var N=S.next();!N.done;)N=N.value,f.push(N[0]+": "+N[1]),N=S.next();return f.join(`\r
`)};function Er(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(dc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Yu(f){let S="";return Se(f,function(N,q){S+=q,S+=":",S+=N,S+=`\r
`}),S}function Jc(f,S,N){e:{for(q in N){var q=!1;break e}q=!0}q||(N=Yu(N),typeof f=="string"?N!=null&&yr(N):Rn(f,S,N))}function _n(f){Ze.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(_n,Ze);var $s=/^https?$/i,Hs=["POST","PUT"];t=_n.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,S,N,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);S=S?S.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Un.g(),this.g.onreadystatechange=y(u(this.Ca,this));try{this.B=!0,this.g.open(S,String(f),!0),this.B=!1}catch(me){Gs(this,me);return}if(f=N||"",N=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ae in q)N.set(ae,q[ae]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(let me of q.keys())N.set(me,q.get(me));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(N.keys()).find(me=>me.toLowerCase()=="content-type"),ae=s.FormData&&f instanceof s.FormData,!(Array.prototype.indexOf.call(Hs,S,void 0)>=0)||q||ae||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[me,He]of N)this.g.setRequestHeader(me,He);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(me){Gs(this,me)}};function Gs(f,S){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=S,f.o=5,Oi(f),$o(f)}function Oi(f){f.A||(f.A=!0,Ge(f,"complete"),Ge(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ge(this,"complete"),Ge(this,"abort"),$o(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$o(this,!0)),_n.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Zc(this):this.Xa())},t.Xa=function(){Zc(this)};function Zc(f){if(f.h&&typeof o<"u"){if(f.v&&fn(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ge(f,"readystatechange"),fn(f)==4){f.h=!1;try{let me=f.ca();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var N;if(!(N=S)){var q;if(q=me===0){let He=String(f.D).match(oo)[1]||null;!He&&s.self&&s.self.location&&(He=s.self.location.protocol.slice(0,-1)),q=!$s.test(He?He.toLowerCase():"")}N=q}if(N)Ge(f,"complete"),Ge(f,"success");else{f.o=6;try{var ae=fn(f)>2?f.g.statusText:""}catch{ae=""}f.l=ae+" ["+f.ca()+"]",Oi(f)}}finally{$o(f)}}}}function $o(f,S){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);let N=f.g;f.g=null,S||Ge(f,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function fn(f){return f.g?f.g.readyState:0}t.ca=function(){try{return fn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var S=this.g.responseText;return f&&S.indexOf(f)==0&&(S=S.substring(f.length)),qt(S)}};function Xc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(f){let S={};f=(f.g&&fn(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<f.length;q++){if(I(f[q]))continue;var N=no(f[q]);let ae=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();let me=S[ae]||[];S[ae]=me,me.push(N)}$e(S,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ho(f,S,N){return N&&N.internalChannelParams&&N.internalChannelParams[f]||S}function Ws(f){this.za=0,this.i=[],this.j=new mr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ho("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ho("baseRetryDelayMs",5e3,f),this.Za=Ho("retryDelaySeedMs",1e4,f),this.Ta=Ho("forwardChannelMaxRetries",2,f),this.va=Ho("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new wi(f&&f.concurrentRequestLimit),this.Ba=new Ot,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ws.prototype,t.ka=8,t.I=1,t.connect=function(f,S,N,q){Xe(0),this.W=f,this.H=S||{},N&&q!==void 0&&(this.H.OSID=N,this.H.OAID=q),this.F=this.X,this.J=et(this,null,this.W),bi(this)};function Ks(f){if(Da(f),f.I==3){var S=f.V++,N=In(f.J);if(Rn(N,"SID",f.M),Rn(N,"RID",S),Rn(N,"TYPE","terminate"),Br(f,N),S=new vi(f,f.j,S),S.M=2,S.A=ei(In(N)),N=!1,s.navigator&&s.navigator.sendBeacon)try{N=s.navigator.sendBeacon(S.A.toString(),"")}catch{}!N&&s.Image&&(new Image().src=S.A,N=!0),N||(S.g=st(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Eo(S)}Oe(f)}function zi(f){f.g&&(v(f),f.g.cancel(),f.g=null)}function Da(f){zi(f),f.v&&(s.clearTimeout(f.v),f.v=null),G(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&s.clearTimeout(f.m),f.m=null)}function bi(f){if(!zo(f.h)&&!f.m){f.m=!0;var S=f.Ea;fe||T(),be||(fe(),be=!0),P.add(S,f),f.D=0}}function eu(f,S){return To(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=S.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Lr(u(f.Ea,f,S),le(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;let ae=new vi(this,this.j,f),me=this.o;if(this.U&&(me?(me=Le(me),W(me,this.U)):me=this.U),this.u!==null||this.R||(ae.J=me,me=null),this.S)e:{for(var S=0,N=0;N<this.i.length;N++){t:{var q=this.i[N];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(S+=q,S>4096){S=N;break e}if(S===4096||N===this.i.length-1){S=N+1;break e}}S=1e3}else S=1e3;S=hc(this,ae,S),N=In(this.J),Rn(N,"RID",f),Rn(N,"CVER",22),this.G&&Rn(N,"X-HTTP-Session-Id",this.G),Br(this,N),me&&(this.R?S="headers="+yr(Yu(me))+"&"+S:this.u&&Jc(N,this.u,me)),oc(this.h,ae),this.Ra&&Rn(N,"TYPE","init"),this.S?(Rn(N,"$req",S),Rn(N,"SID","null"),ae.U=!0,_i(ae,N,null)):_i(ae,N,S),this.I=2}}else this.I==3&&(f?Go(this,f):this.i.length==0||zo(this.h)||Go(this))};function Go(f,S){var N;S?N=S.l:N=f.V++;let q=In(f.J);Rn(q,"SID",f.M),Rn(q,"RID",N),Rn(q,"AID",f.K),Br(f,q),f.u&&f.o&&Jc(q,f.u,f.o),N=new vi(f,f.j,N,f.D+1),f.u===null&&(N.J=f.o),S&&(f.i=S.G.concat(f.i)),S=hc(f,N,1e3),N.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),oc(f.h,N),_i(N,q,S)}function Br(f,S){f.H&&Se(f.H,function(N,q){Rn(S,q,N)}),f.l&&Se({},function(N,q){Rn(S,q,N)})}function hc(f,S,N){N=Math.min(f.i.length,N);let q=f.l?u(f.l.Ka,f.l,f):null;e:{var ae=f.i;let At=-1;for(;;){let d=["count="+N];At==-1?N>0?(At=ae[0].g,d.push("ofs="+At)):At=0:d.push("ofs="+At);let b=!0;for(let x=0;x<N;x++){var me=ae[x].g;let U=ae[x].map;if(me-=At,me<0)At=Math.max(0,ae[x].g-100),b=!1;else try{me="req"+me+"_"||"";try{var He=U instanceof Map?U:Object.entries(U);for(let[se,we]of He){let qe=we;a(we)&&(qe=nt(we)),d.push(me+se+"="+encodeURIComponent(qe))}}catch(se){throw d.push(me+"type="+encodeURIComponent("_badmap")),se}}catch{q&&q(U)}}if(b){He=d.join("&");break e}}He=void 0}return f=f.i.splice(0,N),S.G=f,He}function Wo(f){if(!f.g&&!f.v){f.Y=1;var S=f.Da;fe||T(),be||(fe(),be=!0),P.add(S,f),f.A=0}}function hs(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Lr(u(f.Da,f),le(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,O(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Lr(u(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xe(10),zi(this),O(this))};function v(f){f.B!=null&&(s.clearTimeout(f.B),f.B=null)}function O(f){f.g=new vi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var S=In(f.na);Rn(S,"RID","rpc"),Rn(S,"SID",f.M),Rn(S,"AID",f.K),Rn(S,"CI",f.F?"0":"1"),!f.F&&f.ia&&Rn(S,"TO",f.ia),Rn(S,"TYPE","xmlhttp"),Br(f,S),f.u&&f.o&&Jc(S,f.u,f.o),f.O&&(f.g.H=f.O);var N=f.g;f=f.ba,N.M=1,N.A=ei(In(S)),N.u=null,N.R=!0,Xr(N,f)}t.Va=function(){this.C!=null&&(this.C=null,zi(this),hs(this),Xe(19))};function G(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function te(f,S){var N=null;if(f.g==S){G(f),v(f),f.g=null;var q=2}else if(us(f.h,S))N=S.G,sc(f.h,S),q=1;else return;if(f.I!=0){if(S.o)if(q==1){N=S.u?S.u.length:0,S=Date.now()-S.F;var ae=f.D;q=_t(),Ge(q,new hn(q,N)),bi(f)}else Wo(f);else if(ae=S.m,ae==3||ae==0&&S.X>0||!(q==1&&eu(f,S)||q==2&&hs(f)))switch(N&&N.length>0&&(S=f.h,S.i=S.i.concat(N)),ae){case 1:Ae(f,5);break;case 4:Ae(f,10);break;case 3:Ae(f,6);break;default:Ae(f,2)}}}function le(f,S){let N=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(N*=2),N*S}function Ae(f,S){if(f.j.info("Error code "+S),S==2){var N=u(f.bb,f),q=f.Ua;let ae=!q;q=new so(q||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||ls(q,"https"),ei(q),ae?Mi(q.toString(),N):lc(q.toString(),N)}else Xe(2);f.I=0,f.l&&f.l.pa(S),Oe(f),Da(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function Oe(f){if(f.I=0,f.ja=[],f.l){let S=ac(f.h);(S.length!=0||f.i.length!=0)&&(R(f.ja,S),R(f.ja,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.oa()}}function et(f,S,N){var q=N instanceof so?In(N):new so(N);if(q.g!="")S&&(q.g=S+"."+q.g),Pi(q,q.u);else{var ae=s.location;q=ae.protocol,S=S?S+"."+ae.hostname:ae.hostname,ae=+ae.port;let me=new so(null);q&&ls(me,q),S&&(me.g=S),ae&&Pi(me,ae),N&&(me.h=N),q=me}return N=f.G,S=f.wa,N&&S&&Rn(q,N,S),Rn(q,"VER",f.ka),Br(f,q),q}function st(f,S,N){if(S&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=f.Aa&&!f.ma?new _n(new Co({ab:N})):new _n(f.ma),S.Fa(f.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rt(){}t=Rt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pt(){}Pt.prototype.g=function(f,S){return new Lt(f,S)};function Lt(f,S){Ze.call(this),this.g=new Ws(S),this.l=f,this.h=S&&S.messageUrlParams||null,f=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(f?f["X-WebChannel-Content-Type"]=S.messageContentType:f={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(f?f["X-WebChannel-Client-Profile"]=S.sa:f={"X-WebChannel-Client-Profile":S.sa}),this.g.U=f,(f=S&&S.Qb)&&!I(f)&&(this.g.u=f),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!I(S)&&(this.g.G=S,f=this.h,f!==null&&S in f&&(f=this.h,S in f&&delete f[S])),this.j=new pn(this)}m(Lt,Ze),Lt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){Ks(this.g)},Lt.prototype.o=function(f){var S=this.g;if(typeof f=="string"){var N={};N.__data__=f,f=N}else this.v&&(N={},N.__data__=nt(f),f=N);S.i.push(new Kc(S.Ya++,f)),S.I==3&&bi(S)},Lt.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,Lt.Z.N.call(this)};function Zn(f){Gt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var S=f.__sm__;if(S){e:{for(let N in S){f=N;break e}f=void 0}(this.i=f)&&(f=this.i,S=S!==null&&f in S?S[f]:void 0),this.data=S}else this.data=f}m(Zn,Gt);function qn(){Ln.call(this),this.status=1}m(qn,Ln);function pn(f){this.g=f}m(pn,Rt),pn.prototype.ra=function(){Ge(this.g,"a")},pn.prototype.qa=function(f){Ge(this.g,new Zn(f))},pn.prototype.pa=function(f){Ge(this.g,new qn)},pn.prototype.oa=function(){Ge(this.g,"b")},Pt.prototype.createWebChannel=Pt.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,$A=Du.createWebChannelTransport=function(){return new Pt},zA=Du.getStatEventTarget=function(){return _t()},qA=Du.Event=dt,Kw=Du.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zr.NO_ERROR=0,Zr.TIMEOUT=8,Zr.HTTP_ERROR=6,Qm=Du.ErrorCode=Zr,Fr.COMPLETE="complete",UA=Du.EventType=Fr,en.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,Hf=Du.WebChannel=en,xZ=Du.FetchXmlHttpFactory=Co,_n.prototype.listenOnce=_n.prototype.K,_n.prototype.getLastError=_n.prototype.Ha,_n.prototype.getLastErrorCode=_n.prototype.ya,_n.prototype.getStatus=_n.prototype.ca,_n.prototype.getResponseJson=_n.prototype.La,_n.prototype.getResponseText=_n.prototype.la,_n.prototype.send=_n.prototype.ea,_n.prototype.setWithCredentials=_n.prototype.Fa,jA=Du.XhrIo=_n}).apply(typeof Ww<"u"?Ww:typeof self<"u"?self:typeof window<"u"?window:{});var l4="@firebase/firestore",d4="4.9.2";var Vi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Vi.UNAUTHENTICATED=new Vi(null),Vi.GOOGLE_CREDENTIALS=new Vi("google-credentials-uid"),Vi.FIRST_PARTY=new Vi("first-party-uid"),Vi.MOCK_USER=new Vi("mock-user");var pp="12.3.0";var hh=new $f("@firebase/firestore");function Gf(){return hh.logLevel}function ot(t,...e){if(hh.logLevel<=Sn.DEBUG){let n=e.map(FD);hh.debug(`Firestore (${pp}): ${t}`,...n)}}function Nu(t,...e){if(hh.logLevel<=Sn.ERROR){let n=e.map(FD);hh.error(`Firestore (${pp}): ${t}`,...n)}}function Xf(t,...e){if(hh.logLevel<=Sn.WARN){let n=e.map(FD);hh.warn(`Firestore (${pp}): ${t}`,...n)}}function FD(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Dt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,t3(t,r,n)}function t3(t,e,n){let r=`FIRESTORE (${pp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Nu(r),new Error(r)}function Cn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||t3(e,i,r)}function Wt(t,e){return t}var Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},We=class extends Qa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var _a=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var t1=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},QA=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vi.UNAUTHENTICATED))}shutdown(){}},YA=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},JA=class{constructor(e){this.t=e,this.currentUser=Vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Cn(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new _a;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _a,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _a)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Cn(typeof r.accessToken=="string",31837,{l:r}),new t1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Cn(e===null||typeof e=="string",2055,{h:e}),new Vi(e)}},ZA=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},XA=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},n1=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},eC=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pw(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Cn(this.o===void 0,3512);let r=o=>{o.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,ot("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new n1(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Cn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new n1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function NZ(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ry=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=NZ(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function mn(t,e){return t<e?-1:t>e?1:0}function tC(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let i=t.charAt(r),o=e.charAt(r);if(i!==o)return HA(i)===HA(o)?mn(i,o):HA(i)?1:-1}return mn(t.length,e.length)}var RZ=55296,PZ=57343;function HA(t){let e=t.charCodeAt(0);return e>=RZ&&e<=PZ}function ep(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var h4="__name__",r1=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Dt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Dt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return mn(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):tC(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cu.fromString(e.substring(4,e.length-2))}},gr=class t extends r1{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new We(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},kZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ms=class t extends r1{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return kZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h4}static keyField(){return new t([h4])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new We(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new We(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new We(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new We(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var xt=class t{constructor(e){this.path=e}static fromPath(e){return new t(gr.fromString(e))}static fromName(e){return new t(gr.fromString(e).popFirst(5))}static empty(){return new t(gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new gr(e.slice()))}};function n3(t,e,n){if(!n)throw new We(Pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MZ(t,e,n,r){if(e===!0&&r===!0)throw new We(Pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f4(t){if(!xt.isDocumentKey(t))throw new We(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function p4(t){if(xt.isDocumentKey(t))throw new We(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function r3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function O1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Dt(12329,{type:typeof t})}function Bo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new We(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=O1(t);throw new We(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function pi(t,e){let n={typeString:t};return e&&(n.value=e),n}function my(t,e){if(!r3(t))throw new We(Pe.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new We(Pe.INVALID_ARGUMENT,n);return!0}var g4=-62135596800,m4=1e6,gi=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*m4);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new We(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new We(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<g4)throw new We(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m4}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(my(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-g4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};gi._jsonSchemaVersion="firestore/timestamp/1.0",gi._jsonSchema={type:pi("string",gi._jsonSchemaVersion),seconds:pi("number"),nanoseconds:pi("number")};var $t=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new gi(0,0))}static max(){return new t(new gi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var iy=-1,nC=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};nC.UNKNOWN_ID=-1;function OZ(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=$t.fromTimestamp(r===1e9?new gi(n+1,0):new gi(n,r));return new fh(i,xt.empty(),e)}function LZ(t){return new fh(t.readTime,t.key,iy)}var fh=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t($t.min(),xt.empty(),iy)}static max(){return new t($t.max(),xt.empty(),iy)}};function FZ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xt.comparator(t.documentKey,e.documentKey),n!==0?n:mn(t.largestBatchId,e.largestBatchId))}var VZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rC=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function gp(t){if(t.code!==Pe.FAILED_PRECONDITION||t.message!==VZ)throw t;ot("LocalStore","Unexpectedly lost primary lease")}var Ue=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function BZ(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mp(t){return t.name==="IndexedDbTransactionError"}var VD=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ue&&this.ue(n),n}}t.ce=-1;return t})(),BD=-1;function yy(t){return t==null}function oy(t){return t===0&&1/t==-1/0}function jZ(t){return typeof t=="number"&&Number.isInteger(t)&&!oy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var i3="";function UZ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=y4(e)),e=qZ(t.get(n),e);return y4(e)}function qZ(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case i3:n+="";break;default:n+=o}}return n}function y4(t){return t+i3+""}var zZ="remoteDocuments",o3="owner";var s3="mutationQueues";var a3="mutations";var c3="documentMutations",$Z="remoteDocumentsV14";var u3="remoteDocumentGlobal";var l3="targets";var d3="targetDocuments";var h3="targetGlobal",f3="collectionParents";var p3="clientMetadata";var g3="bundles";var m3="namedQueries";var HZ="indexConfiguration";var GZ="indexState";var WZ="indexEntries";var y3="documentOverlays";var KZ="globals";var QZ=[s3,a3,c3,zZ,l3,o3,h3,d3,p3,u3,f3,g3,m3],LTe=[...QZ,y3],YZ=[s3,a3,c3,$Z,l3,o3,h3,d3,p3,u3,f3,g3,m3,y3],JZ=YZ,ZZ=[...JZ,HZ,GZ,WZ];var FTe=[...ZZ,KZ];function v4(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jl(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function v3(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Mr=class t{constructor(e,n){this.comparator=e,this.root=n||Mc.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mc.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mc.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yf(this.root,e,this.comparator,!0)}},Yf=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Mc=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Dt(27949);return e+(this.isRed()?0:1)}};Mc.EMPTY=null,Mc.RED=!0,Mc.BLACK=!1;Mc.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Mc(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Bi=class t{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i1(this.data.getIterator())}getIteratorFrom(e){return new i1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},i1=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var va=class t{constructor(e){this.fields=e,e.sort(Ms.comparator)}static empty(){return new t([])}unionWith(e){let n=new Bi(Ms.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ep(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var o1=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var mo=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new o1("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};mo.EMPTY_BYTE_STRING=new mo("");var XZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ru(t){if(Cn(!!t,39018),typeof t=="string"){let e=0,n=XZ.exec(t);if(Cn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ar(t.seconds),nanos:Ar(t.nanos)}}function Ar(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pu(t){return typeof t=="string"?mo.fromBase64String(t):mo.fromUint8Array(t)}var _3="server_timestamp",w3="__type__",b3="__previous_value__",E3="__local_write_time__";function jD(t){return(t?.mapValue?.fields||{})[w3]?.stringValue===_3}function L1(t){let e=t.mapValue.fields[b3];return jD(e)?L1(e):e}function sy(t){let e=Ru(t.mapValue.fields[E3].timestampValue);return new gi(e.seconds,e.nanos)}var iC=class{constructor(e,n,r,i,o,s,a,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=l}},s1="(default)",a1=class t{constructor(e,n){this.projectId=e,this.database=n||s1}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===s1}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var UD="__type__",I3="__max__",Qw={mapValue:{fields:{__type__:{stringValue:I3}}}},qD="__vector__",tp="value";function Gl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jD(t)?4:S3(t)?9007199254740991:T3(t)?10:11:Dt(28295,{value:t})}function Lc(t,e){if(t===e)return!0;let n=Gl(t);if(n!==Gl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sy(t).isEqual(sy(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ru(i.timestampValue),a=Ru(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Pu(i.bytesValue).isEqual(Pu(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ar(i.geoPointValue.latitude)===Ar(o.geoPointValue.latitude)&&Ar(i.geoPointValue.longitude)===Ar(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ar(i.integerValue)===Ar(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ar(i.doubleValue),a=Ar(o.doubleValue);return s===a?oy(s)===oy(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return ep(t.arrayValue.values||[],e.arrayValue.values||[],Lc);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(v4(s)!==v4(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Lc(s[c],a[c])))return!1;return!0})(t,e);default:return Dt(52216,{left:t})}}function ay(t,e){return(t.values||[]).find(n=>Lc(n,e))!==void 0}function np(t,e){if(t===e)return 0;let n=Gl(t),r=Gl(e);if(n!==r)return mn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mn(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ar(o.integerValue||o.doubleValue),c=Ar(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(t,e);case 3:return _4(t.timestampValue,e.timestampValue);case 4:return _4(sy(t),sy(e));case 5:return tC(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=Pu(o),c=Pu(s);return a.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=mn(a[u],c[u]);if(l!==0)return l}return mn(a.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=mn(Ar(o.latitude),Ar(s.latitude));return a!==0?a:mn(Ar(o.longitude),Ar(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return w4(t.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},c=s.fields||{},u=a[tp]?.arrayValue,l=c[tp]?.arrayValue,m=mn(u?.values?.length||0,l?.values?.length||0);return m!==0?m:w4(u,l)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Qw.mapValue&&s===Qw.mapValue)return 0;if(o===Qw.mapValue)return 1;if(s===Qw.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let m=0;m<c.length&&m<l.length;++m){let y=tC(c[m],l[m]);if(y!==0)return y;let g=np(a[c[m]],u[l[m]]);if(g!==0)return g}return mn(c.length,l.length)})(t.mapValue,e.mapValue);default:throw Dt(23264,{he:n})}}function _4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return mn(t,e);let n=Ru(t),r=Ru(e),i=mn(n.seconds,r.seconds);return i!==0?i:mn(n.nanos,r.nanos)}function w4(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=np(n[i],r[i]);if(o)return o}return mn(n.length,r.length)}function rp(t){return oC(t)}function oC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Ru(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Pu(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return xt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=oC(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${oC(n.fields[s])}`;return i+"}"})(t.mapValue):Dt(61005,{value:t})}function Zw(t){switch(Gl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=L1(t);return e?16+Zw(e):16;case 5:return 2*t.stringValue.length;case 6:return Pu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Zw(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Jl(r.fields,(o,s)=>{i+=o.length+Zw(s)}),i})(t.mapValue);default:throw Dt(13486,{value:t})}}function b4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sC(t){return!!t&&"integerValue"in t}function zD(t){return!!t&&"arrayValue"in t}function E4(t){return!!t&&"nullValue"in t}function I4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xw(t){return!!t&&"mapValue"in t}function T3(t){return(t?.mapValue?.fields||{})[UD]?.stringValue===qD}function Zm(t){if(t.geoPointValue)return{geoPointValue:Me({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Me({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Jl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zm(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zm(t.arrayValue.values[n]);return e}return Me({},t)}function S3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===I3}var BTe={mapValue:{fields:{[UD]:{stringValue:qD},[tp]:{arrayValue:{}}}}};var ns=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xw(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zm(n)}setAll(e){let n=Ms.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Zm(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Xw(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Jl(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Zm(this.value))}};function A3(t){let e=[];return Jl(t.fields,(n,r)=>{let i=new Ms([n]);if(Xw(r)){let o=A3(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new va(e)}var Ls=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,$t.min(),$t.min(),$t.min(),ns.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,$t.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,$t.min(),$t.min(),ns.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,$t.min(),$t.min(),ns.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ip=class{constructor(e,n){this.position=e,this.inclusive=n}};function T4(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=xt.comparator(xt.fromName(s.referenceValue),n.key):r=np(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function S4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lc(t.position[n],e.position[n]))return!1;return!0}var ph=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function eX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var c1=class{},fi=class t extends c1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cC(e,n,r):n==="array-contains"?new dC(e,r):n==="in"?new hC(e,r):n==="not-in"?new fC(e,r):n==="array-contains-any"?new pC(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uC(e,r):new lC(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(np(n,this.value)):n!==null&&Gl(this.value)===Gl(n)&&this.matchesComparison(np(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Za=class t extends c1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new t(e,n)}matches(e){return C3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function C3(t){return t.op==="and"}function D3(t){return tX(t)&&C3(t)}function tX(t){for(let e of t.filters)if(e instanceof Za)return!1;return!0}function aC(t){if(t instanceof fi)return t.field.canonicalString()+t.op.toString()+rp(t.value);if(D3(t))return t.filters.map(e=>aC(e)).join(",");{let e=t.filters.map(n=>aC(n)).join(",");return`${t.op}(${e})`}}function x3(t,e){return t instanceof fi?(function(r,i){return i instanceof fi&&r.op===i.op&&r.field.isEqual(i.field)&&Lc(r.value,i.value)})(t,e):t instanceof Za?(function(r,i){return i instanceof Za&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&x3(s,i.filters[a]),!0):!1})(t,e):void Dt(19439)}function N3(t){return t instanceof fi?(function(n){return`${n.field.canonicalString()} ${n.op} ${rp(n.value)}`})(t):t instanceof Za?(function(n){return n.op.toString()+" {"+n.getFilters().map(N3).join(" ,")+"}"})(t):"Filter"}var cC=class extends fi{constructor(e,n,r){super(e,n,r),this.key=xt.fromName(r.referenceValue)}matches(e){let n=xt.comparator(e.key,this.key);return this.matchesComparison(n)}},uC=class extends fi{constructor(e,n){super(e,"in",n),this.keys=R3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},lC=class extends fi{constructor(e,n){super(e,"not-in",n),this.keys=R3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function R3(t,e){return(e.arrayValue?.values||[]).map(n=>xt.fromName(n.referenceValue))}var dC=class extends fi{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return zD(n)&&ay(n.arrayValue,this.value)}},hC=class extends fi{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ay(this.value.arrayValue,n)}},fC=class extends fi{constructor(e,n){super(e,"not-in",n)}matches(e){if(ay(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ay(this.value.arrayValue,n)}},pC=class extends fi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!zD(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ay(this.value.arrayValue,r))}};var gC=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function A4(t,e=null,n=[],r=[],i=null,o=null,s=null){return new gC(t,e,n,r,i,o,s)}function $D(t){let e=Wt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>aC(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),yy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rp(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rp(r)).join(",")),e.Te=n}return e.Te}function HD(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!x3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S4(t.startAt,e.startAt)&&S4(t.endAt,e.endAt)}function mC(t){return xt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Wl=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function nX(t,e,n,r,i,o,s,a){return new Wl(t,e,n,r,i,o,s,a)}function F1(t){return new Wl(t)}function C4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function P3(t){return t.collectionGroup!==null}function Xm(t){let e=Wt(t);if(e.Ie===null){e.Ie=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Bi(Ms.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ph(o,r))}),n.has(Ms.keyField().canonicalString())||e.Ie.push(new ph(Ms.keyField(),r))}return e.Ie}function Oc(t){let e=Wt(t);return e.Ee||(e.Ee=rX(e,Xm(t))),e.Ee}function rX(t,e){if(t.limitType==="F")return A4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ph(i.field,o)});let n=t.endAt?new ip(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ip(t.startAt.position,t.startAt.inclusive):null;return A4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yC(t,e){let n=t.filters.concat([e]);return new Wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vC(t,e,n){return new Wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function V1(t,e){return HD(Oc(t),Oc(e))&&t.limitType===e.limitType}function k3(t){return`${$D(Oc(t))}|lt:${t.limitType}`}function Wf(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>N3(i)).join(", ")}]`),yy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rp(i)).join(",")),`Target(${r})`})(Oc(t))}; limitType=${t.limitType})`}function B1(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):xt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of Xm(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let u=T4(s,a,c);return s.inclusive?u<=0:u<0})(r.startAt,Xm(r),i)||r.endAt&&!(function(s,a,c){let u=T4(s,a,c);return s.inclusive?u>=0:u>0})(r.endAt,Xm(r),i))})(t,e)}function iX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function M3(t){return(e,n)=>{let r=!1;for(let i of Xm(t)){let o=oX(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function oX(t,e,n){let r=t.field.isKeyField()?xt.comparator(e.key,n.key):(function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?np(c,u):Dt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dt(19790,{direction:t.dir})}}var ku=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jl(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return v3(this.inner)}size(){return this.innerSize}};var sX=new Mr(xt.comparator);function Mu(){return sX}var O3=new Mr(xt.comparator);function Ym(...t){let e=O3;for(let n of t)e=e.insert(n.key,n);return e}function L3(t){let e=O3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function uh(){return ey()}function F3(){return ey()}function ey(){return new ku(t=>t.toString(),(t,e)=>t.isEqual(e))}var aX=new Mr(xt.comparator),cX=new Bi(xt.comparator);function yn(...t){let e=cX;for(let n of t)e=e.add(n);return e}var uX=new Bi(mn);function lX(){return uX}function GD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oy(e)?"-0":e}}function V3(t){return{integerValue:""+t}}function dX(t,e){return jZ(e)?V3(e):GD(t,e)}var op=class{constructor(){this._=void 0}};function hX(t,e,n){return t instanceof gh?(function(i,o){let s={fields:{[w3]:{stringValue:_3},[E3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jD(o)&&(o=L1(o)),o&&(s.fields[b3]=o),{mapValue:s}})(n,e):t instanceof mh?j3(t,e):t instanceof yh?U3(t,e):(function(i,o){let s=B3(i,o),a=D4(s)+D4(i.Ae);return sC(s)&&sC(i.Ae)?V3(a):GD(i.serializer,a)})(t,e)}function fX(t,e,n){return t instanceof mh?j3(t,e):t instanceof yh?U3(t,e):n}function B3(t,e){return t instanceof sp?(function(r){return sC(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var gh=class extends op{},mh=class extends op{constructor(e){super(),this.elements=e}};function j3(t,e){let n=q3(e);for(let r of t.elements)n.some(i=>Lc(i,r))||n.push(r);return{arrayValue:{values:n}}}var yh=class extends op{constructor(e){super(),this.elements=e}};function U3(t,e){let n=q3(e);for(let r of t.elements)n=n.filter(i=>!Lc(i,r));return{arrayValue:{values:n}}}var sp=class extends op{constructor(e,n){super(),this.serializer=e,this.Ae=n}};function D4(t){return Ar(t.integerValue||t.doubleValue)}function q3(t){return zD(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var _C=class{constructor(e,n){this.field=e,this.transform=n}};function pX(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof mh&&i instanceof mh||r instanceof yh&&i instanceof yh?ep(r.elements,i.elements,Lc):r instanceof sp&&i instanceof sp?Lc(r.Ae,i.Ae):r instanceof gh&&i instanceof gh})(t.transform,e.transform)}var wC=class{constructor(e,n){this.version=e,this.transformResults=n}},Vo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function e1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ap=class{};function z3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cp(t.key,Vo.none()):new vh(t.key,t.data,Vo.none());{let n=t.data,r=ns.empty(),i=new Bi(Ms.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fc(t.key,r,new va(i.toArray()),Vo.none())}}function gX(t,e,n){t instanceof vh?(function(i,o,s){let a=i.value.clone(),c=N4(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Fc?(function(i,o,s){if(!e1(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=N4(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll($3(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function ty(t,e,n,r){return t instanceof vh?(function(o,s,a,c){if(!e1(o.precondition,s))return a;let u=o.value.clone(),l=R4(o.fieldTransforms,c,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof Fc?(function(o,s,a,c){if(!e1(o.precondition,s))return a;let u=R4(o.fieldTransforms,c,s),l=s.data;return l.setAll($3(o)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))})(t,e,n,r):(function(o,s,a){return e1(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function mX(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=B3(r.transform,i||null);o!=null&&(n===null&&(n=ns.empty()),n.set(r.field,o))}return n||null}function x4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ep(r,i,(o,s)=>pX(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var vh=class extends ap{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Fc=class extends ap{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function $3(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function N4(t,e,n){let r=new Map;Cn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,fX(s,a,n[i]))}return r}function R4(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,hX(o,s,e))}return r}var cp=class extends ap{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},u1=class extends ap{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var bC=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&gX(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ty(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ty(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=F3();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=z3(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument($t.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),yn())}isEqual(e){return this.batchId===e.batchId&&ep(this.mutations,e.mutations,(n,r)=>x4(n,r))&&ep(this.baseMutations,e.baseMutations,(n,r)=>x4(n,r))}},EC=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Cn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return aX})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var IC=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var TC=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var di,An;function H3(t){switch(t){case Pe.OK:return Dt(64938);case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0;default:return Dt(15467,{code:t})}}function G3(t){if(t===void 0)return Nu("GRPC error has no .code"),Pe.UNKNOWN;switch(t){case di.OK:return Pe.OK;case di.CANCELLED:return Pe.CANCELLED;case di.UNKNOWN:return Pe.UNKNOWN;case di.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case di.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case di.INTERNAL:return Pe.INTERNAL;case di.UNAVAILABLE:return Pe.UNAVAILABLE;case di.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case di.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case di.NOT_FOUND:return Pe.NOT_FOUND;case di.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case di.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case di.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case di.ABORTED:return Pe.ABORTED;case di.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case di.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case di.DATA_LOSS:return Pe.DATA_LOSS;default:return Dt(39323,{code:t})}}(An=di||(di={}))[An.OK=0]="OK",An[An.CANCELLED=1]="CANCELLED",An[An.UNKNOWN=2]="UNKNOWN",An[An.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",An[An.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",An[An.NOT_FOUND=5]="NOT_FOUND",An[An.ALREADY_EXISTS=6]="ALREADY_EXISTS",An[An.PERMISSION_DENIED=7]="PERMISSION_DENIED",An[An.UNAUTHENTICATED=16]="UNAUTHENTICATED",An[An.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",An[An.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",An[An.ABORTED=10]="ABORTED",An[An.OUT_OF_RANGE=11]="OUT_OF_RANGE",An[An.UNIMPLEMENTED=12]="UNIMPLEMENTED",An[An.INTERNAL=13]="INTERNAL",An[An.UNAVAILABLE=14]="UNAVAILABLE",An[An.DATA_LOSS=15]="DATA_LOSS";var yX=null;function vX(){return new TextEncoder}var _X=new Cu([4294967295,4294967295],0);function P4(t){let e=vX().encode(t),n=new BA;return n.update(e),new Uint8Array(n.digest())}function k4(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Cu([n,r],0),new Cu([i,o],0)]}var SC=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lh(`Invalid padding: ${n}`);if(r<0)throw new lh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Cu.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Cu.fromNumber(r)));return i.compare(_X)===1&&(i=new Cu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let n=P4(e),[r,i]=k4(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let n=P4(e),[r,i]=k4(n);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},lh=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var l1=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,cy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t($t.min(),i,new Mr(mn),Mu(),yn())}},cy=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,yn(),yn(),yn())}};var Jf=class{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}},d1=class{constructor(e,n){this.targetId=e,this.Ce=n}},h1=class{constructor(e,n,r=mo.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},f1=class{constructor(){this.ve=0,this.Fe=M4(),this.Me=mo.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yn(),n=yn(),r=yn();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Dt(38017,{changeType:o})}}),new cy(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=M4()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Cn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},AC=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mu(),this.Je=Yw(),this.He=Yw(),this.Ye=new Mr(mn)}Ze(e){for(let n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(let n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{let r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Dt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){let n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){let o=i.target;if(mC(o))if(r===0){let s=new xt(o.path);this.et(n,s,Ls.newNoDocument(s,$t.min()))}else Cn(r===1,20013,{expectedCount:r});else{let s=this._t(n);if(s!==r){let a=this.ut(e),c=a?this.ct(a,e,s):1;if(c!==0){this.it(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}yX?.lt((function(l,m,y,g,R){let k={localCacheCount:l,existenceFilterCount:m.count,databaseId:y.database,projectId:y.projectId},M=m.unchangedNames;return M&&(k.bloomFilter={applied:R===0,hashCount:M?.hashCount??0,bitmapLength:M?.bits?.bitmap?.length??0,padding:M?.bits?.padding??0,mightContain:L=>g?.mightContain(L)??!1}),k})(s,e.Ce,this.Ge.ht(),a,c))}}}}ut(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Pu(r).toUint8Array()}catch(c){if(c instanceof o1)return Xf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new SC(s,i,o)}catch(c){return Xf(c instanceof lh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){let r=this.Ge.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){let n=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&mC(a.target)){let c=new xt(a.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Ls.newNoDocument(c,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=yn();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new l1(e,n,this.Ye,this.je,r);return this.je=Mu(),this.Je=Yw(),this.He=Yw(),this.Ye=new Mr(mn),i}Xe(e,n){if(!this.rt(e))return;let r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){let n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new f1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bi(mn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bi(mn),this.Je=this.Je.insert(e,n)),n}rt(e){let n=this.ot(e)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",e),n}ot(e){let n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new f1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}};function Yw(){return new Mr(xt.comparator)}function M4(){return new Mr(xt.comparator)}var wX={asc:"ASCENDING",desc:"DESCENDING"},bX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EX={and:"AND",or:"OR"},CC=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function DC(t,e){return t.useProto3Json||yy(e)?e:{value:e}}function p1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IX(t,e){return p1(t,e.toTimestamp())}function Os(t){return Cn(!!t,49232),$t.fromTimestamp((function(n){let r=Ru(n);return new gi(r.seconds,r.nanos)})(t))}function WD(t,e){return xC(t,e).canonicalString()}function xC(t,e){let n=(function(i){return new gr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function K3(t){let e=gr.fromString(t);return Cn(eV(e),10190,{key:e.toString()}),e}function g1(t,e){return WD(t.databaseId,e.path)}function ny(t,e){let n=K3(e);if(n.get(1)!==t.databaseId.projectId)throw new We(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new We(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xt(Y3(n))}function Q3(t,e){return WD(t.databaseId,e)}function TX(t){let e=K3(t);return e.length===4?gr.emptyPath():Y3(e)}function NC(t){return new gr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Y3(t){return Cn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function O4(t,e,n){return{name:g1(t,e),fields:n.value.mapValue.fields}}function SX(t,e){return"found"in e?(function(r,i){Cn(!!i.found,43571),i.found.name,i.found.updateTime;let o=ny(r,i.found.name),s=Os(i.found.updateTime),a=i.found.createTime?Os(i.found.createTime):$t.min(),c=new ns({mapValue:{fields:i.found.fields}});return Ls.newFoundDocument(o,s,a,c)})(t,e):"missing"in e?(function(r,i){Cn(!!i.missing,3894),Cn(!!i.readTime,22933);let o=ny(r,i.missing),s=Os(i.readTime);return Ls.newNoDocument(o,s)})(t,e):Dt(7234,{result:e})}function AX(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Dt(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(u,l){return u.useProto3Json?(Cn(l===void 0||typeof l=="string",58123),mo.fromBase64String(l||"")):(Cn(l===void 0||l instanceof Buffer||l instanceof Uint8Array,16193),mo.fromUint8Array(l||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(u){let l=u.code===void 0?Pe.UNKNOWN:G3(u.code);return new We(l,u.message||"")})(s);n=new h1(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ny(t,r.document.name),o=Os(r.document.updateTime),s=r.document.createTime?Os(r.document.createTime):$t.min(),a=new ns({mapValue:{fields:r.document.fields}}),c=Ls.newFoundDocument(i,o,s,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Jf(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ny(t,r.document),o=r.readTime?Os(r.readTime):$t.min(),s=Ls.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Jf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ny(t,r.document),o=r.removedTargetIds||[];n=new Jf([],o,i,null)}else{if(!("filter"in e))return Dt(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new TC(i,o),a=r.targetId;n=new d1(a,s)}}return n}function J3(t,e){let n;if(e instanceof vh)n={update:O4(t,e.key,e.value)};else if(e instanceof cp)n={delete:g1(t,e.key)};else if(e instanceof Fc)n={update:O4(t,e.key,e.data),updateMask:OX(e.fieldMask)};else{if(!(e instanceof u1))return Dt(16599,{Vt:e.type});n={verify:g1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof gh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof mh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sp)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw Dt(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:IX(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Dt(27497)})(t,e.precondition)),n}function CX(t,e){return t&&t.length>0?(Cn(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?Os(i.updateTime):Os(o);return s.isEqual($t.min())&&(s=Os(o)),new wC(s,i.transformResults||[])})(n,e))):[]}function DX(t,e){return{documents:[Q3(t,e.path)]}}function xX(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Q3(t,i);let o=(function(u){if(u.length!==0)return X3(Za.create(u,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(u){if(u.length!==0)return u.map(l=>(function(y){return{field:Kf(y.field),direction:PX(y.dir)}})(l))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=DC(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:i}}function NX(t){let e=TX(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Cn(r===1,65062);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=(function(m){let y=Z3(m);return y instanceof Za&&D3(y)?y.getFilters():[y]})(n.where));let s=[];n.orderBy&&(s=(function(m){return m.map(y=>(function(R){return new ph(Qf(R.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(y))})(n.orderBy));let a=null;n.limit&&(a=(function(m){let y;return y=typeof m=="object"?m.value:m,yy(y)?null:y})(n.limit));let c=null;n.startAt&&(c=(function(m){let y=!!m.before,g=m.values||[];return new ip(g,y)})(n.startAt));let u=null;return n.endAt&&(u=(function(m){let y=!m.before,g=m.values||[];return new ip(g,y)})(n.endAt)),nX(e,i,s,o,a,"F",c,u)}function RX(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Z3(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Qf(n.unaryFilter.field);return fi.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Qf(n.unaryFilter.field);return fi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Qf(n.unaryFilter.field);return fi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Qf(n.unaryFilter.field);return fi.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return fi.create(Qf(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Za.create(n.compositeFilter.filters.map(r=>Z3(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}})(n.compositeFilter.op))})(t):Dt(30097,{filter:t})}function PX(t){return wX[t]}function kX(t){return bX[t]}function MX(t){return EX[t]}function Kf(t){return{fieldPath:t.canonicalString()}}function Qf(t){return Ms.fromServerFormat(t.fieldPath)}function X3(t){return t instanceof fi?(function(n){if(n.op==="=="){if(I4(n.value))return{unaryFilter:{field:Kf(n.field),op:"IS_NAN"}};if(E4(n.value))return{unaryFilter:{field:Kf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I4(n.value))return{unaryFilter:{field:Kf(n.field),op:"IS_NOT_NAN"}};if(E4(n.value))return{unaryFilter:{field:Kf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kf(n.field),op:kX(n.op),value:n.value}}})(t):t instanceof Za?(function(n){let r=n.getFilters().map(i=>X3(i));return r.length===1?r[0]:{compositeFilter:{op:MX(n.op),filters:r}}})(t):Dt(54877,{filter:t})}function OX(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var uy=class t{constructor(e,n,r,i,o=$t.min(),s=$t.min(),a=mo.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var RC=class{constructor(e){this.yt=e}};function LX(t){let e=NX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vC(e,e.limit,"L"):e}var m1=class{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Ar(e.integerValue));else if("doubleValue"in e){let r=Ar(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),oy(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ru(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Pu(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?S3(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):T3(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Dt(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){let r=e.fields||{};this.Ft(n,55);for(let i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){let r=e.fields||{};this.Ft(n,53);let i=tp,o=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Ar(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){let r=e.values||[];this.Ft(n,50);for(let i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),xt.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}};m1.Kt=new m1;var PC=class{constructor(){this.Cn=new kC}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ue.resolve()}getCollectionParents(e,n){return Ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ue.resolve()}deleteFieldIndex(e,n){return Ue.resolve()}deleteAllFieldIndexes(e){return Ue.resolve()}createTargetIndexes(e,n){return Ue.resolve()}getDocumentsMatchingTarget(e,n){return Ue.resolve(null)}getIndexType(e,n){return Ue.resolve(0)}getFieldIndexes(e,n){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,n){return Ue.resolve(fh.min())}getMinOffsetFromCollectionGroup(e,n){return Ue.resolve(fh.min())}updateCollectionGroup(e,n,r){return Ue.resolve()}updateIndexEntries(e,n){return Ue.resolve()}},kC=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bi(gr.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bi(gr.comparator)).toArray()}};var jTe=new Uint8Array(0);var L4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tV=41943040,ya=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};ya.DEFAULT_COLLECTION_PERCENTILE=10,ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ya.DEFAULT=new ya(tV,ya.DEFAULT_COLLECTION_PERCENTILE,ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ya.DISABLED=new ya(-1,0,0);var ly=class t{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new t(0)}static cr(){return new t(-1)}};var F4="LruGarbageCollector",FX=1048576;function V4([t,e],[n,r]){let i=mn(t,n);return i===0?mn(e,r):i}var MC=class{constructor(e){this.Ir=e,this.buffer=new Bi(V4),this.Er=0}dr(){return++this.Er}Ar(e){let n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();V4(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},OC=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(F4,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mp(n)?ot(F4,"Ignoring IndexedDB error during garbage collection: ",n):await gp(n)}await this.Vr(3e5)})}},LC=class{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ue.resolve(VD.ce);let r=new MC(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(L4)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L4):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,c,u,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(u=Date.now(),Gf()<=Sn.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-l}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(u-c)+`ms
Total Duration: ${u-l}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m})))}};function VX(t,e){return new LC(t,e)}var FC=class{constructor(){this.changes=new ku(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ls.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?Ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var VC=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var BC=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ty(r.mutation,i,va.empty(),gi.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,yn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=yn()){let i=uh();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ym();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=uh();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,yn()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Mu(),s=ey(),a=(function(){return ey()})();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Fc)?o=o.insert(u.key,u):l!==void 0?(s.set(u.key,l.mutation.getFieldMask()),ty(l.mutation,u,l.mutation.getFieldMask(),gi.now())):s.set(u.key,va.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>a.set(u,new VC(l,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){let r=ey(),i=new Mr((s,a)=>s-a),o=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||va.empty();l=a.applyToLocalView(u,l),r.set(c,l);let m=(i.get(a.batchId)||yn()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,m=F3();l.forEach(y=>{if(!o.has(y)){let g=z3(n.get(y),r.get(y));g!==null&&m.set(y,g),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,m))}return Ue.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return xt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):P3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ue.resolve(uh()),a=iy,c=o;return s.next(u=>Ue.forEach(u,(l,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(l)?Ue.resolve():this.remoteDocumentCache.getEntry(e,l).next(y=>{c=c.insert(l,y)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,yn())).next(l=>({batchId:a,changes:L3(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xt(n)).next(r=>{let i=Ym();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Ym();return this.indexManager.getCollectionParents(e,o).next(a=>Ue.forEach(a,c=>{let u=(function(m,y){return new Wl(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{let l=u.getKey();s.get(l)===null&&(s=s.insert(l,Ls.newInvalidDocument(l)))});let a=Ym();return s.forEach((c,u)=>{let l=o.get(c);l!==void 0&&ty(l.mutation,u,va.empty(),gi.now()),B1(n,u)&&(a=a.insert(c,u))}),a})}};var jC=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Os(i.createTime)}})(n)),Ue.resolve()}getNamedQuery(e,n){return Ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:LX(i.bundledQuery),readTime:Os(i.readTime)}})(n)),Ue.resolve()}};var UC=class{constructor(){this.overlays=new Mr(xt.comparator),this.qr=new Map}getOverlay(e,n){return Ue.resolve(this.overlays.get(n))}getOverlays(e,n){let r=uh();return Ue.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),Ue.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),Ue.resolve()}getOverlaysForCollection(e,n,r){let i=uh(),o=n.length+1,s=new xt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Mr((u,l)=>u-l),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);l===null&&(l=uh(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=uh(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return Ue.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new IC(n,r));let o=this.qr.get(n);o===void 0&&(o=yn(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}};var qC=class{constructor(){this.sessionToken=mo.EMPTY_BYTE_STRING}getSessionToken(e){return Ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ue.resolve()}};var dy=class{constructor(){this.Qr=new Bi(hi.$r),this.Ur=new Bi(hi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){let r=new hi(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new hi(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){let n=new xt(new gr([])),r=new hi(n,e),i=new hi(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let n=new xt(new gr([])),r=new hi(n,e),i=new hi(n,e+1),o=yn();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new hi(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},hi=class{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return xt.comparator(e.key,n.key)||mn(e.Yr,n.Yr)}static Kr(e,n){return mn(e.Yr,n.Yr)||xt.comparator(e.key,n.key)}};var zC=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bi(hi.$r)}checkEmpty(e){return Ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new bC(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Zr=this.Zr.add(new hi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ue.resolve(s)}lookupMutationBatch(e,n){return Ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ei(r),o=i<0?0:i;return Ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(this.mutationQueue.length===0?BD:this.tr-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new hi(n,0),i=new hi(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let a=this.Xr(s.Yr);o.push(a)}),Ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bi(mn);return n.forEach(i=>{let o=new hi(i,0),s=new hi(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),Ue.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;xt.isDocumentKey(o)||(o=o.child(""));let s=new hi(new xt(o),0),a=new Bi(mn);return this.Zr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)},s),Ue.resolve(this.ti(a))}ti(e){let n=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Cn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ue.forEach(n.mutations,i=>{let o=new hi(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){let r=new hi(n,0),i=this.Zr.firstAfterOrEqual(r);return Ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var $C=class{constructor(e){this.ri=e,this.docs=(function(){return new Mr(xt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return Ue.resolve(r?r.document.mutableCopy():Ls.newInvalidDocument(n))}getEntries(e,n){let r=Mu();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ls.newInvalidDocument(i))}),Ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Mu(),s=n.path,a=new xt(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||FZ(LZ(l),r)<=0||(i.has(l.key)||B1(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return Ue.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Dt(9500)}ii(e,n){return Ue.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HC(this)}getSize(e){return Ue.resolve(this.size)}},HC=class extends FC{constructor(e){super(),this.Nr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}};var GC=class{constructor(e){this.persistence=e,this.si=new ku(n=>$D(n),HD),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.oi=0,this._i=new dy,this.targetCount=0,this.ai=ly.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ue.resolve()}Pr(e){this.si.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ai=new ly(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ue.resolve()}updateTargetData(e,n){return this.Pr(n),Ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ue.waitFor(o).next(()=>i)}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,n){let r=this.si.get(n)||null;return Ue.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ue.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Ue.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ue.resolve()}getMatchingKeysForTargetId(e,n){let r=this._i.Hr(n);return Ue.resolve(r)}containsKey(e,n){return Ue.resolve(this._i.containsKey(n))}};var y1=class{constructor(e,n){this.ui={},this.overlays={},this.ci=new VD(0),this.li=!1,this.li=!0,this.hi=new qC,this.referenceDelegate=e(this),this.Pi=new GC(this),this.indexManager=new PC,this.remoteDocumentCache=(function(i){return new $C(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new RC(n),this.Ii=new jC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new zC(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ot("MemoryPersistence","Starting transaction:",e);let i=new WC(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return Ue.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}},WC=class extends rC{constructor(e){super(),this.currentSequenceNumber=e}},KC=class t{constructor(e){this.persistence=e,this.Ri=new dy,this.Vi=null}static mi(e){return new t(e)}get fi(){if(this.Vi)return this.Vi;throw Dt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ue.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.fi,r=>{let i=xt.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,$t.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Ue.or([()=>Ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}},v1=class t{constructor(e,n){this.persistence=e,this.pi=new ku(r=>UZ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=VX(this,n)}static mi(e,n){return new t(e,n)}Ei(){}di(e){return Ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){let n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Ue.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?Ue.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,$t.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ue.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zw(e.data.value)),n}br(e,n,r){return Ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.pi.get(n);return Ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var QC=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=yn(),i=yn();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var YC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var JC=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LF()?8:BZ(OF())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new YC;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Gf()<=Sn.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Wf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ue.resolve()):(Gf()<=Sn.DEBUG&&ot("QueryEngine","Query:",Wf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Gf()<=Sn.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Wf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oc(n))):Ue.resolve())}ys(e,n){if(C4(n))return Ue.resolve(null);let r=Oc(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vC(n,null,"F"),r=Oc(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=yn(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Ds(n,a);return this.Cs(n,u,s,c.readTime)?this.ys(e,vC(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,i){return C4(n)||i.isEqual($t.min())?Ue.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(n,o);return this.Cs(n,s,r,i)?Ue.resolve(null):(Gf()<=Sn.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wf(n)),this.vs(e,s,n,OZ(i,iy)).next(a=>a))})}Ds(e,n){let r=new Bi(M3(e));return n.forEach((i,o)=>{B1(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Gf()<=Sn.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Wf(n)),this.ps.getDocumentsMatchingQuery(e,n,fh.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var KD="LocalStore",BX=3e8,ZC=class{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Mr(mn),this.xs=new ku(o=>$D(o),HD),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}};function jX(t,e,n,r){return new ZC(t,e,n,r)}async function nV(t,e){let n=Wt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=yn();for(let u of i){s.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of o){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function UX(t,e){let n=Wt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,c,u,l){let m=u.batch,y=m.keys(),g=Ue.resolve();return y.forEach(R=>{g=g.next(()=>l.getEntry(c,R)).next(k=>{let M=u.docVersions.get(R);Cn(M!==null,48541),k.version.compareTo(M)<0&&(m.applyToRemoteDocument(k,u),k.isValidDocument()&&(k.setReadTime(u.commitVersion),l.addEntry(k)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,m))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=yn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rV(t){let e=Wt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function qX(t,e){let n=Wt(t),r=e.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let a=[];e.targetChanges.forEach((l,m)=>{let y=i.get(m);if(!y)return;a.push(n.Pi.removeMatchingKeys(o,l.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(o,l.addedDocuments,m)));let g=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(mo.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):l.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(l.resumeToken,r)),i=i.insert(m,g),(function(k,M,L){return k.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=BX?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(y,g,l)&&a.push(n.Pi.updateTargetData(o,g))});let c=Mu(),u=yn();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(zX(o,s,e.documentUpdates).next(l=>{c=l.ks,u=l.qs})),!r.isEqual($t.min())){let l=n.Pi.getLastRemoteSnapshotVersion(o).next(m=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return Ue.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ms=i,o))}function zX(t,e,n){let r=yn(),i=yn();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Mu();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual($t.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):ot(KD,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:s,qs:i}})}function $X(t,e){let n=Wt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=BD),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function HX(t,e){let n=Wt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,Ue.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new uy(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function XC(t,e,n){let r=Wt(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!mp(s))throw s;ot(KD,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function B4(t,e,n){let r=Wt(t),i=$t.min(),o=yn();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,u,l){let m=Wt(c),y=m.xs.get(l);return y!==void 0?Ue.resolve(m.Ms.get(y)):m.Pi.getTargetData(u,l)})(r,s,Oc(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:$t.min(),n?o:yn())).next(a=>(GX(r,iX(e),a),{documents:a,Qs:o})))}function GX(t,e,n){let r=t.Os.get(e)||$t.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}var _1=class{constructor(){this.activeTargetIds=lX()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var eD=class{constructor(){this.Mo=new _1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var tD=class{Oo(e){}shutdown(){}};var j4="ConnectivityMonitor",w1=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(j4,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){ot(j4,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Jw=null;function nD(){return Jw===null?Jw=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jw++,"0x"+Jw.toString(16)}var GA="RestConnection",WX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},rD=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===s1?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){let s=nD(),a=this.zo(e,n.toUriEncodedString());ot(GA,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,o);let{host:u}=new URL(a),l=qf(u);return this.Jo(e,a,c,r,l).then(m=>(ot(GA,`Received RPC '${e}' ${s}: `,m),m),m=>{throw Xf(GA,`RPC '${e}' ${s} failed with error: `,m,"url: ",a,"request:",r),m})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pp})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){let r=WX[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}};var iD=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var go="WebChannelConnection",oD=class extends rD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=nD();return new Promise((a,c)=>{let u=new jA;u.setWithCredentials(!0),u.listenOnce(UA.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Qm.NO_ERROR:let m=u.getResponseJson();ot(go,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),a(m);break;case Qm.TIMEOUT:ot(go,`RPC '${e}' ${s} timed out`),c(new We(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case Qm.HTTP_ERROR:let y=u.getStatus();if(ot(go,`RPC '${e}' ${s} failed with status:`,y,"response text:",u.getResponseText()),y>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let R=g?.error;if(R&&R.status&&R.message){let k=(function(L){let Z=L.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(Z)>=0?Z:Pe.UNKNOWN})(R.status);c(new We(k,R.message))}else c(new We(Pe.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new We(Pe.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ot(go,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);ot(go,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}T_(e,n,r){let i=nD(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$A(),a=zA(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=o.join("");ot(go,`Creating RPC '${e}' stream ${i}: ${l}`,c);let m=s.createWebChannel(l,c);this.I_(m);let y=!1,g=!1,R=new iD({Yo:M=>{g?ot(go,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(y||(ot(go,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),ot(go,`RPC '${e}' stream ${i} sending:`,M),m.send(M))},Zo:()=>m.close()}),k=(M,L,Z)=>{M.listen(L,J=>{try{Z(J)}catch(Y){setTimeout(()=>{throw Y},0)}})};return k(m,Hf.EventType.OPEN,()=>{g||(ot(go,`RPC '${e}' stream ${i} transport opened.`),R.o_())}),k(m,Hf.EventType.CLOSE,()=>{g||(g=!0,ot(go,`RPC '${e}' stream ${i} transport closed`),R.a_(),this.E_(m))}),k(m,Hf.EventType.ERROR,M=>{g||(g=!0,Xf(go,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),R.a_(new We(Pe.UNAVAILABLE,"The operation could not be completed")))}),k(m,Hf.EventType.MESSAGE,M=>{if(!g){let L=M.data[0];Cn(!!L,16349);let Z=L,J=Z?.error||Z[0]?.error;if(J){ot(go,`RPC '${e}' stream ${i} received error:`,J);let Y=J.status,fe=(function(T){let w=di[T];if(w!==void 0)return G3(w)})(Y),be=J.message;fe===void 0&&(fe=Pe.INTERNAL,be="Unknown error status: "+Y+" with message "+J.message),g=!0,R.a_(new We(fe,be)),m.close()}else ot(go,`RPC '${e}' stream ${i} received:`,L),R.u_(L)}}),k(a,qA.STAT_EVENT,M=>{M.stat===Kw.PROXY?ot(go,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Kw.NOPROXY&&ot(go,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.__()},0),R}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}};function WA(){return typeof document<"u"?document:null}function j1(t){return new CC(t,!0)}var hy=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var U4="PersistentStream",b1=class{constructor(e,n,r,i,o,s,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hy(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Pe.RESOURCE_EXHAUSTED?(Nu(n.toString()),Nu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{let i=new We(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){let r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ot(U4,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ot(U4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},sD=class extends b1{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let n=AX(this.serializer,e),r=(function(o){if(!("targetChange"in o))return $t.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?$t.min():s.readTime?Os(s.readTime):$t.min()})(e);return this.listener.H_(n,r)}Y_(e){let n={};n.database=NC(this.serializer),n.addTarget=(function(o,s){let a,c=s.target;if(a=mC(c)?{documents:DX(o,c)}:{query:xX(o,c).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=W3(o,s.resumeToken);let u=DC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo($t.min())>0){a.readTime=p1(o,s.snapshotVersion.toTimestamp());let u=DC(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);let r=RX(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){let n={};n.database=NC(this.serializer),n.removeTarget=e,this.q_(n)}},aD=class extends b1{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Cn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Cn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Cn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let n=CX(e.writeResults,e.commitTime),r=Os(e.commitTime);return this.listener.na(r,n)}ra(){let e={};e.database=NC(this.serializer),this.q_(e)}ea(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>J3(this.serializer,r))};this.q_(n)}};var cD=class{},uD=class extends cD{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new We(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,xC(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new We(Pe.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,xC(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new We(Pe.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},lD=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nu(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var _h="RemoteStore",dD=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{bh(this)&&(ot(_h,"Restarting streams for network reachability change."),await(async function(c){let u=Wt(c);u.Ea.add(4),await vy(u),u.Ra.set("Unknown"),u.Ea.delete(4),await U1(u)})(this))})}),this.Ra=new lD(r,i)}};async function U1(t){if(bh(t))for(let e of t.da)await e(!0)}async function vy(t){for(let e of t.da)await e(!1)}function iV(t,e){let n=Wt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ZD(n)?JD(n):yp(n).O_()&&YD(n,e))}function QD(t,e){let n=Wt(t),r=yp(n);n.Ia.delete(e),r.O_()&&oV(n,e),n.Ia.size===0&&(r.O_()?r.L_():bh(n)&&n.Ra.set("Unknown"))}function YD(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($t.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yp(t).Y_(e)}function oV(t,e){t.Va.Ue(e),yp(t).Z_(e)}function JD(t){t.Va=new AC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yp(t).start(),t.Ra.ua()}function ZD(t){return bh(t)&&!yp(t).x_()&&t.Ia.size>0}function bh(t){return Wt(t).Ea.size===0}function sV(t){t.Va=void 0}async function KX(t){t.Ra.set("Online")}async function QX(t){t.Ia.forEach((e,n)=>{YD(t,e)})}async function YX(t,e){sV(t),ZD(t)?(t.Ra.ha(e),JD(t)):t.Ra.set("Unknown")}async function JX(t,e,n){if(t.Ra.set("Online"),e instanceof h1&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(r){ot(_h,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await E1(t,r)}else if(e instanceof Jf?t.Va.Ze(e):e instanceof d1?t.Va.st(e):t.Va.tt(e),!n.isEqual($t.min()))try{let r=await rV(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Va.Tt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=o.Ia.get(u);l&&o.Ia.set(u,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let l=o.Ia.get(c);if(!l)return;o.Ia.set(c,l.withResumeToken(mo.EMPTY_BYTE_STRING,l.snapshotVersion)),oV(o,c);let m=new uy(l.target,c,u,l.sequenceNumber);YD(o,m)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){ot(_h,"Failed to raise snapshot:",r),await E1(t,r)}}async function E1(t,e,n){if(!mp(e))throw e;t.Ea.add(1),await vy(t),t.Ra.set("Offline"),n||(n=()=>rV(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ot(_h,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await U1(t)})}function aV(t,e){return e().catch(n=>E1(t,n,e))}async function q1(t){let e=Wt(t),n=Kl(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:BD;for(;ZX(e);)try{let i=await $X(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,XX(e,i)}catch(i){await E1(e,i)}cV(e)&&uV(e)}function ZX(t){return bh(t)&&t.Ta.length<10}function XX(t,e){t.Ta.push(e);let n=Kl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function cV(t){return bh(t)&&!Kl(t).x_()&&t.Ta.length>0}function uV(t){Kl(t).start()}async function eee(t){Kl(t).ra()}async function tee(t){let e=Kl(t);for(let n of t.Ta)e.ea(n.mutations)}async function nee(t,e,n){let r=t.Ta.shift(),i=EC.from(r,e,n);await aV(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await q1(t)}async function ree(t,e){e&&Kl(t).X_&&await(async function(r,i){if((function(s){return H3(s)&&s!==Pe.ABORTED})(i.code)){let o=r.Ta.shift();Kl(r).B_(),await aV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await q1(r)}})(t,e),cV(t)&&uV(t)}async function q4(t,e){let n=Wt(t);n.asyncQueue.verifyOperationInProgress(),ot(_h,"RemoteStore received new credentials");let r=bh(n);n.Ea.add(3),await vy(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await U1(n)}async function iee(t,e){let n=Wt(t);e?(n.Ea.delete(2),await U1(n)):e||(n.Ea.add(2),await vy(n),n.Ra.set("Unknown"))}function yp(t){return t.ma||(t.ma=(function(n,r,i){let o=Wt(n);return o.sa(),new sD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:KX.bind(null,t),t_:QX.bind(null,t),r_:YX.bind(null,t),H_:JX.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ZD(t)?JD(t):t.Ra.set("Unknown")):(await t.ma.stop(),sV(t))})),t.ma}function Kl(t){return t.fa||(t.fa=(function(n,r,i){let o=Wt(n);return o.sa(),new aD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:eee.bind(null,t),r_:ree.bind(null,t),ta:tee.bind(null,t),na:nee.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await q1(t)):(await t.fa.stop(),t.Ta.length>0&&(ot(_h,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}var hD=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new _a,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function XD(t,e){if(Nu("AsyncQueue",`${e}: ${t}`),mp(t))return new We(Pe.UNAVAILABLE,`${e}: ${t}`);throw t}var I1=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xt.comparator(n.key,r.key):(n,r)=>xt.comparator(n.key,r.key),this.keyedMap=Ym(),this.sortedSet=new Mr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var T1=class{constructor(){this.ga=new Mr(xt.comparator)}track(e){let n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Dt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){let e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}},up=class t{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,I1.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&V1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var fD=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},pD=class{constructor(){this.queries=z4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=Wt(n),o=i.queries;i.queries=z4(),o.forEach((s,a)=>{for(let c of a.Sa)c.onError(r)})})(this,new We(Pe.ABORTED,"Firestore shutting down"))}};function z4(){return new ku(t=>k3(t),V1)}async function ex(t,e){let n=Wt(t),r=3,i=e.query,o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new fD,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=XD(s,`Initialization of query '${Wf(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&nx(n)}async function tx(t,e){let n=Wt(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oee(t,e){let n=Wt(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&nx(n)}function see(t,e,n){let r=Wt(t),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(n);r.queries.delete(e)}function nx(t){t.Ca.forEach(e=>{e.next()})}var gD,$4;($4=gD||(gD={})).Ma="default",$4.Cache="cache";var fy=class{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new up(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;let r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=up.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gD.Cache}};var S1=class{constructor(e){this.key=e}},A1=class{constructor(e){this.key=e}},mD=class{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=yn(),this.mutatedKeys=yn(),this.eu=M3(e),this.tu=new I1(this.eu)}get nu(){return this.Ya}ru(e,n){let r=n?n.iu:new T1,i=n?n.tu:this.tu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,m)=>{let y=i.get(l),g=B1(this.query,m)?m:null,R=!!y&&this.mutatedKeys.has(y.key),k=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),M=!1;y&&g?y.data.isEqual(g.data)?R!==k&&(r.track({type:3,doc:g}),M=!0):this.su(y,g)||(r.track({type:2,doc:g}),M=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(a=!0)):!y&&g?(r.track({type:0,doc:g}),M=!0):y&&!g&&(r.track({type:1,doc:y}),M=!0,(c||u)&&(a=!0)),M&&(g?(s=s.add(g),o=k?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((l,m)=>(function(g,R){let k=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Rt:M})}};return k(g)-k(R)})(l.type,m.type)||this.eu(l.doc,m.doc)),this.ou(r),i=i??!1;let a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,s.length!==0||u?{snapshot:new up(this.query,e.tu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=yn(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new A1(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new S1(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=yn();let n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return up.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},rx="SyncEngine",yD=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},vD=class{constructor(e){this.key=e,this.hu=!1}},_D=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ku(a=>k3(a),V1),this.Iu=new Map,this.Eu=new Set,this.du=new Mr(xt.comparator),this.Au=new Map,this.Ru=new dy,this.Vu={},this.mu=new Map,this.fu=ly.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function aee(t,e,n=!0){let r=gV(t),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await lV(r,e,n,!0),i}async function cee(t,e){let n=gV(t);await lV(n,e,!0,!1)}async function lV(t,e,n,r){let i=await HX(t.localStore,Oc(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await uee(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&iV(t.remoteStore,i),a}async function uee(t,e,n,r,i){t.pu=(m,y,g)=>(async function(k,M,L,Z){let J=M.view.ru(L);J.Cs&&(J=await B4(k.localStore,M.query,!1).then(({documents:P})=>M.view.ru(P,J)));let Y=Z&&Z.targetChanges.get(M.targetId),fe=Z&&Z.targetMismatches.get(M.targetId)!=null,be=M.view.applyChanges(J,k.isPrimaryClient,Y,fe);return G4(k,M.targetId,be.au),be.snapshot})(t,m,y,g);let o=await B4(t.localStore,e,!0),s=new mD(e,o.Qs),a=s.ru(o.documents),c=cy.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,c);G4(t,n,u.au);let l=new yD(e,n,s);return t.Tu.set(e,l),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function lee(t,e,n){let r=Wt(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!V1(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await XC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&QD(r.remoteStore,i.targetId),wD(r,i.targetId)}).catch(gp)):(wD(r,i.targetId),await XC(r.localStore,i.targetId,!0))}async function dee(t,e){let n=Wt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),QD(n.remoteStore,r.targetId))}async function hee(t,e,n){let r=_ee(t);try{let i=await(function(s,a){let c=Wt(s),u=gi.now(),l=a.reduce((g,R)=>g.add(R.key),yn()),m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let R=Mu(),k=yn();return c.Ns.getEntries(g,l).next(M=>{R=M,R.forEach((L,Z)=>{Z.isValidDocument()||(k=k.add(L))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,R)).next(M=>{m=M;let L=[];for(let Z of a){let J=mX(Z,m.get(Z.key).overlayedDocument);J!=null&&L.push(new Fc(Z.key,J,A3(J.value.mapValue),Vo.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,L,a)}).next(M=>{y=M;let L=M.applyToLocalDocumentSet(m,k);return c.documentOverlayCache.saveOverlays(g,M.batchId,L)})}).then(()=>({batchId:y.batchId,changes:L3(m)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let u=s.Vu[s.currentUser.toKey()];u||(u=new Mr(mn)),u=u.insert(a,c),s.Vu[s.currentUser.toKey()]=u})(r,i.batchId,n),await _y(r,i.changes),await q1(r.remoteStore)}catch(i){let o=XD(i,"Failed to persist write");n.reject(o)}}async function dV(t,e){let n=Wt(t);try{let r=await qX(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Au.get(o);s&&(Cn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Cn(s.hu,14607):i.removedDocuments.size>0&&(Cn(s.hu,42227),s.hu=!1))}),await _y(n,r,e)}catch(r){await gp(r)}}function H4(t,e,n){let r=Wt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=Wt(s);c.onlineState=a;let u=!1;c.queries.forEach((l,m)=>{for(let y of m.Sa)y.va(a)&&(u=!0)}),u&&nx(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fee(t,e,n){let r=Wt(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new Mr(xt.comparator);s=s.insert(o,Ls.newNoDocument(o,$t.min()));let a=yn().add(o),c=new l1($t.min(),new Map,new Mr(mn),s,a);await dV(r,c),r.du=r.du.remove(o),r.Au.delete(e),ix(r)}else await XC(r.localStore,e,!1).then(()=>wD(r,e,n)).catch(gp)}async function pee(t,e){let n=Wt(t),r=e.batch.batchId;try{let i=await UX(n.localStore,e);fV(n,r,null),hV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _y(n,i)}catch(i){await gp(i)}}async function gee(t,e,n){let r=Wt(t);try{let i=await(function(s,a){let c=Wt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(m=>(Cn(m!==null,37113),l=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})})(r.localStore,e);fV(r,e,n),hV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _y(r,i)}catch(i){await gp(i)}}function hV(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function fV(t,e,n){let r=Wt(t),i=r.Vu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function wD(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||pV(t,r)})}function pV(t,e){t.Eu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(QD(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ix(t))}function G4(t,e,n){for(let r of n)r instanceof S1?(t.Ru.addReference(r.key,e),mee(t,r)):r instanceof A1?(ot(rx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||pV(t,r.key)):Dt(19791,{wu:r})}function mee(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ot(rx,"New document in limbo: "+n),t.Eu.add(r),ix(t))}function ix(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Eu.values().next().value;t.Eu.delete(e);let n=new xt(gr.fromString(e)),r=t.fu.next();t.Au.set(r,new vD(n)),t.du=t.du.insert(n,r),iV(t.remoteStore,new uy(Oc(F1(n.path)),r,"TargetPurposeLimboResolution",VD.ce))}}async function _y(t,e,n){let r=Wt(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{s.push(r.pu(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){let l=u?!u.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,l?"current":"not-current")}if(u){i.push(u);let l=QC.As(c.targetId,u);o.push(l)}}))}),await Promise.all(s),r.Pu.H_(i),await(async function(c,u){let l=Wt(c);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Ue.forEach(u,y=>Ue.forEach(y.Es,g=>l.persistence.referenceDelegate.addReference(m,y.targetId,g)).next(()=>Ue.forEach(y.ds,g=>l.persistence.referenceDelegate.removeReference(m,y.targetId,g)))))}catch(m){if(!mp(m))throw m;ot(KD,"Failed to update sequence numbers: "+m)}for(let m of u){let y=m.targetId;if(!m.fromCache){let g=l.Ms.get(y),R=g.snapshotVersion,k=g.withLastLimboFreeSnapshotVersion(R);l.Ms=l.Ms.insert(y,k)}}})(r.localStore,o))}async function yee(t,e){let n=Wt(t);if(!n.currentUser.isEqual(e)){ot(rx,"User change. New user:",e.toKey());let r=await nV(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(c=>{c.reject(new We(Pe.CANCELLED,s))})}),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _y(n,r.Ls)}}function vee(t,e){let n=Wt(t),r=n.Au.get(e);if(r&&r.hu)return yn().add(r.key);{let i=yn(),o=n.Iu.get(e);if(!o)return i;for(let s of o){let a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function gV(t){let e=Wt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fee.bind(null,e),e.Pu.H_=oee.bind(null,e.eventManager),e.Pu.yu=see.bind(null,e.eventManager),e}function _ee(t){let e=Wt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gee.bind(null,e),e}var mV=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=j1(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,r){return null}Mu(n,r){return null}vu(n){return jX(this.persistence,new JC,n.initialUser,this.serializer)}Cu(n){return new y1(KC.mi,this.serializer)}Du(n){return new eD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),bD=class extends mV{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Cn(this.persistence.referenceDelegate instanceof v1,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new OC(r,e.asyncQueue,n)}Cu(e){let n=this.cacheSizeBytes!==void 0?ya.withCacheSize(this.cacheSizeBytes):ya.DEFAULT;return new y1(r=>v1.mi(r,n),this.serializer)}};var wee=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>H4(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yee.bind(null,this.syncEngine),await iee(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new pD})()}createDatastore(n){let r=j1(n.databaseInfo.databaseId),i=(function(s){return new oD(s)})(n.databaseInfo);return(function(s,a,c,u){return new uD(s,a,c,u)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,c){return new dD(i,o,s,a,c)})(this.localStore,this.datastore,n.asyncQueue,r=>H4(this.syncEngine,r,0),(function(){return w1.v()?new w1:new tD})())}createSyncEngine(n,r){return(function(o,s,a,c,u,l,m){let y=new _D(o,s,a,c,u,l);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=Wt(r);ot(_h,"RemoteStore shutting down."),i.Ea.add(5),await vy(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return t.provider={build:()=>new t},t})();var py=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var ED=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new We(Pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=await(async function(i,o){let s=Wt(i),a={documents:o.map(m=>g1(s.serializer,m))},c=await s.Ho("BatchGetDocuments",s.serializer.databaseId,gr.emptyPath(),a,o.length),u=new Map;c.forEach(m=>{let y=SX(s.serializer,m);u.set(y.key.toString(),y)});let l=[];return o.forEach(m=>{let y=u.get(m.toString());Cn(!!y,55234,{key:m}),l.push(y)}),l})(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new cp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=xt.fromPath(r);this.mutations.push(new u1(i,this.precondition(i)))}),await(async function(r,i){let o=Wt(r),s={writes:i.map(a=>J3(o.serializer,a))};await o.Go("Commit",o.serializer.databaseId,gr.emptyPath(),s)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Dt(50498,{Gu:e.constructor.name});n=$t.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new We(Pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual($t.min())?Vo.exists(!1):Vo.updateTime(n):Vo.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual($t.min()))throw new We(Pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vo.updateTime(n)}return Vo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var ID=class{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.zu=r.maxAttempts,this.M_=new hy(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{let e=new ED(this.datastore),n=this.Hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{let n=this.updateFunction(e);return!yy(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!H3(n)}return!1}};var Ql="FirestoreClient",TD=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vi.UNAUTHENTICATED,this.clientId=ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ot(Ql,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ot(Ql,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new _a;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=XD(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function KA(t,e){t.asyncQueue.verifyOperationInProgress(),ot(Ql,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nV(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function W4(t,e){t.asyncQueue.verifyOperationInProgress();let n=await bee(t);ot(Ql,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>q4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>q4(e.remoteStore,i)),t._onlineComponents=e}async function bee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ot(Ql,"Using user provided OfflineComponentProvider");try{await KA(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Pe.FAILED_PRECONDITION||i.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Xf("Error using user provided cache. Falling back to memory cache: "+n),await KA(t,new mV)}}else ot(Ql,"Using default OfflineComponentProvider"),await KA(t,new bD(void 0));return t._offlineComponents}async function ox(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ot(Ql,"Using user provided OnlineComponentProvider"),await W4(t,t._uninitializedComponentsProvider._online)):(ot(Ql,"Using default OnlineComponentProvider"),await W4(t,new wee))),t._onlineComponents}function Eee(t){return ox(t).then(e=>e.syncEngine)}function Iee(t){return ox(t).then(e=>e.datastore)}async function C1(t){let e=await ox(t),n=e.eventManager;return n.onListen=aee.bind(null,e.syncEngine),n.onUnlisten=lee.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cee.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dee.bind(null,e.syncEngine),n}function Tee(t,e,n={}){let r=new _a;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,c,u){let l=new py({next:y=>{l.Nu(),s.enqueueAndForget(()=>tx(o,m));let g=y.docs.has(a);!g&&y.fromCache?u.reject(new We(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&y.fromCache&&c&&c.source==="server"?u.reject(new We(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),m=new fy(F1(a.path),l,{includeMetadataChanges:!0,qa:!0});return ex(o,m)})(await C1(t),t.asyncQueue,e,n,r)),r.promise}function See(t,e,n={}){let r=new _a;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,c,u){let l=new py({next:y=>{l.Nu(),s.enqueueAndForget(()=>tx(o,m)),y.fromCache&&c.source==="server"?u.reject(new We(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),m=new fy(a,l,{includeMetadataChanges:!0,qa:!0});return ex(o,m)})(await C1(t),t.asyncQueue,e,n,r)),r.promise}function yV(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var K4=new Map;var vV="firestore.googleapis.com",Q4=!0,D1=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new We(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vV,this.ssl=Q4}else this.host=e.host,this.ssl=e.ssl??Q4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FX)throw new We(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MZ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yV(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new We(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new We(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new We(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},lp=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new We(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new We(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QA;switch(r.type){case"firstParty":return new XA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new We(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=K4.get(n);r&&(ot("ComponentProvider","Removing Datastore"),K4.delete(n),r.terminate())})(this),Promise.resolve()}};function Aee(t,e,n,r={}){t=Bo(t,lp);let i=qf(e),o=t._getSettings(),s=Mt(Me({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i&&(Aw(`https://${a}`),Dw("Firestore",!0)),o.host!==vV&&o.host!==a&&Xf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=Mt(Me({},o),{host:a,ssl:i,emulatorOptions:r});if(!zf(c,s)&&(t._setSettings(c),r.mockUserToken)){let u,l;if(typeof r.mockUserToken=="string")u=r.mockUserToken,l=Vi.MOCK_USER;else{u=Cw(r.mockUserToken,t._app?.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new We(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Vi(m)}t._authCredentials=new YA(new t1(u,l))}}var Yl=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},mi=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(my(n,t._jsonSchema))return new t(e,r||null,new xt(gr.fromString(n.referencePath)))}};mi._jsonSchemaVersion="firestore/documentReference/1.0",mi._jsonSchema={type:pi("string",mi._jsonSchemaVersion),referencePath:pi("string")};var ql=class t extends Yl{constructor(e,n,r){super(e,n,F1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new mi(this.firestore,null,new xt(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Zl(t,e,...n){if(t=Fo(t),n3("collection","path",e),t instanceof lp){let r=gr.fromString(e,...n);return p4(r),new ql(t,null,r)}{if(!(t instanceof mi||t instanceof ql))throw new We(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(gr.fromString(e,...n));return p4(r),new ql(t.firestore,null,r)}}function Xa(t,e,...n){if(t=Fo(t),arguments.length===1&&(e=ry.newId()),n3("doc","path",e),t instanceof lp){let r=gr.fromString(e,...n);return f4(r),new mi(t,null,new xt(r))}{if(!(t instanceof mi||t instanceof ql))throw new We(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(gr.fromString(e,...n));return f4(r),new mi(t.firestore,t instanceof ql?t.converter:null,new xt(r))}}var Y4="AsyncQueue",x1=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hy(this,"async_queue_retry"),this._c=()=>{let r=WA();r&&ot(Y4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let n=WA();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let n=WA();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let n=new _a;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!mp(e))throw e;ot(Y4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Nu("INTERNAL UNHANDLED ERROR: ",J4(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);let i=hD.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Dt(47125,{Pc:J4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let n=this.tc.indexOf(e);this.tc.splice(n,1)}};function J4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Z4(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var wa=class extends lp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new x1,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new x1(e),this._firestoreClient=void 0,await e}}};function _V(t,e){let n=typeof t=="object"?t:Mw(),r=typeof t=="string"?t:e||s1,i=Rw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Sw("firestore");o&&Aee(i,...o)}return i}function wy(t){if(t._terminated)throw new We(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Cee(t),t._firestoreClient}function Cee(t){let e=t._freezeSettings(),n=(function(i,o,s,a){return new iC(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,yV(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new TD(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(t._componentsProvider))}var xu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(mo.fromBase64String(e))}catch(n){throw new We(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(mo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(my(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};xu._jsonSchemaVersion="firestore/bytes/1.0",xu._jsonSchema={type:pi("string",xu._jsonSchemaVersion),bytes:pi("string")};var wh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new We(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ms(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var dp=class{constructor(e){this._methodName=e}};var zl=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new We(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new We(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(my(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};zl._jsonSchemaVersion="firestore/geoPoint/1.0",zl._jsonSchema={type:pi("string",zl._jsonSchemaVersion),latitude:pi("number"),longitude:pi("number")};var $l=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(my(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new We(Pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};$l._jsonSchemaVersion="firestore/vectorValue/1.0",$l._jsonSchema={type:pi("string",$l._jsonSchemaVersion),vectorValues:pi("object")};var Dee=/^__.*__$/,SD=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fc(e,this.data,this.fieldMask,n,this.fieldTransforms):new vh(e,this.data,n,this.fieldTransforms)}},N1=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fc(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function wV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ac:t})}}var AD=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t(Me(Me({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){let n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return P1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wV(this.Ac)&&Dee.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},CD=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||j1(e)}Cc(e,n,r,i=!1){return new AD({Ac:e,methodName:n,Dc:r,path:Ms.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function by(t){let e=t._freezeSettings(),n=j1(t._databaseId);return new CD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sx(t,e,n,r,i,o={}){let s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);ax("Data must be an object, but it was:",s,r);let a=IV(r,s),c,u;if(o.merge)c=new va(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let l=[];for(let m of o.mergeFields){let y=xD(e,m,n);if(!s.contains(y))throw new We(Pe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);SV(l,y)||l.push(y)}c=new va(l),u=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=s.fieldTransforms;return new SD(new ns(a),c,u)}var R1=class t extends dp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};var DD=class t extends dp{_toFieldTransform(e){return new _C(e.path,new gh)}isEqual(e){return e instanceof t}};function bV(t,e,n,r){let i=t.Cc(1,e,n);ax("Data must be an object, but it was:",i,r);let o=[],s=ns.empty();Jl(r,(c,u)=>{let l=cx(e,c,n);u=Fo(u);let m=i.yc(l);if(u instanceof R1)o.push(l);else{let y=Ey(u,m);y!=null&&(o.push(l),s.set(l,y))}});let a=new va(o);return new N1(s,a,i.fieldTransforms)}function EV(t,e,n,r,i,o){let s=t.Cc(1,e,n),a=[xD(e,r,n)],c=[i];if(o.length%2!=0)throw new We(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(xD(e,o[y])),c.push(o[y+1]);let u=[],l=ns.empty();for(let y=a.length-1;y>=0;--y)if(!SV(u,a[y])){let g=a[y],R=c[y];R=Fo(R);let k=s.yc(g);if(R instanceof R1)u.push(g);else{let M=Ey(R,k);M!=null&&(u.push(g),l.set(g,M))}}let m=new va(u);return new N1(l,m,s.fieldTransforms)}function xee(t,e,n,r=!1){return Ey(n,t.Cc(r?4:3,e))}function Ey(t,e){if(TV(t=Fo(t)))return ax("Unsupported field value:",e,t),IV(t,e);if(t instanceof dp)return(function(r,i){if(!wV(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=Ey(a,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Fo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dX(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=gi.fromDate(r);return{timestampValue:p1(i.serializer,o)}}if(r instanceof gi){let o=new gi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:p1(i.serializer,o)}}if(r instanceof zl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xu)return{bytesValue:W3(i.serializer,r._byteString)};if(r instanceof mi){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:WD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $l)return(function(s,a){return{mapValue:{fields:{[UD]:{stringValue:qD},[tp]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return GD(a.serializer,u)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${O1(r)}`)})(t,e)}function IV(t,e){let n={};return v3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jl(t,(r,i)=>{let o=Ey(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function TV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gi||t instanceof zl||t instanceof xu||t instanceof mi||t instanceof dp||t instanceof $l)}function ax(t,e,n){if(!TV(n)||!r3(n)){let r=O1(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function xD(t,e,n){if((e=Fo(e))instanceof wh)return e._internalPath;if(typeof e=="string")return cx(t,e);throw P1("Field path arguments must be of type string or ",t,!1,void 0,n)}var Nee=new RegExp("[~\\*/\\[\\]]");function cx(t,e,n){if(e.search(Nee)>=0)throw P1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wh(...e.split("."))._internalPath}catch{throw P1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function P1(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new We(Pe.INVALID_ARGUMENT,a+t+c)}function SV(t,e){return t.some(n=>n.isEqual(e))}var hp=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ND(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(ux("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},ND=class extends hp{data(){return super.data()}};function ux(t,e){return typeof e=="string"?cx(t,e):e instanceof wh?e._internalPath:e._delegate._internalPath}function AV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new We(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gy=class{},k1=class extends gy{};function CV(t,e,...n){let r=[];e instanceof gy&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(c=>c instanceof PD).length,a=o.filter(c=>c instanceof RD).length;if(s>1||s>0&&a>0)throw new We(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var RD=class t extends k1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return xV(e._query,n),new Yl(e.firestore,e.converter,yC(e._query,n))}_parse(e){let n=by(e.firestore);return(function(o,s,a,c,u,l,m){let y;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new We(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){e3(m,l);let R=[];for(let k of m)R.push(X4(c,o,k));y={arrayValue:{values:R}}}else y=X4(c,o,m)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||e3(m,l),y=xee(a,s,m,l==="in"||l==="not-in");return fi.create(u,l,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var PD=class t extends gy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Za.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)xV(s,c),s=yC(s,c)})(e._query,n),new Yl(e.firestore,e.converter,yC(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var kD=class t extends k1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,s){if(i.startAt!==null)throw new We(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new We(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ph(o,s)})(e._query,this._field,this._direction);return new Yl(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new Wl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function DV(t,e="asc"){let n=e,r=ux("orderBy",t);return kD._create(r,n)}function X4(t,e,n){if(typeof(n=Fo(n))=="string"){if(n==="")throw new We(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P3(e)&&n.indexOf("/")!==-1)throw new We(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(gr.fromString(n));if(!xt.isDocumentKey(r))throw new We(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return b4(t,new xt(r))}if(n instanceof mi)return b4(t,n._key);throw new We(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${O1(n)}.`)}function e3(t,e){if(!Array.isArray(t)||t.length===0)throw new We(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xV(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new We(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new We(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var M1=class{convertValue(e,n="none"){switch(Gl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Dt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Jl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){let n=e.fields?.[tp].arrayValue?.values?.map(r=>Ar(r.doubleValue));return new $l(n)}convertGeoPoint(e){return new zl(Ar(e.latitude),Ar(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=L1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sy(e));default:return null}}convertTimestamp(e){let n=Ru(e);return new gi(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=gr.fromString(e);Cn(eV(r),9688,{name:e});let i=new a1(r.get(1),r.get(3)),o=new xt(r.popFirst(5));return i.isEqual(n)||Nu(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function lx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var MD=class extends M1{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new mi(this.firestore,null,n)}};var Ul=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Hl=class t extends hp{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(ux("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new We(Pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Hl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hl._jsonSchema={type:pi("string",Hl._jsonSchemaVersion),bundleSource:pi("string","DocumentSnapshot"),bundleName:pi("string"),bundle:pi("string")};var Zf=class extends Hl{data(e={}){return super.data(e)}},dh=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ul(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zf(this._firestore,this._userDataWriter,r.key,r,new Ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new We(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Zf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ul(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Zf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ul(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:Ree(a.type),doc:c,oldIndex:u,newIndex:l}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new We(Pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Ree(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:t})}}function dx(t){t=Bo(t,mi);let e=Bo(t.firestore,wa);return Tee(wy(e),t._key).then(n=>PV(e,t,n))}dh._jsonSchemaVersion="firestore/querySnapshot/1.0",dh._jsonSchema={type:pi("string",dh._jsonSchemaVersion),bundleSource:pi("string","QuerySnapshot"),bundleName:pi("string"),bundle:pi("string")};var fp=class extends M1{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new mi(this.firestore,null,n)}};function NV(t){t=Bo(t,Yl);let e=Bo(t.firestore,wa),n=wy(e),r=new fp(e);return AV(t._query),See(n,t._query).then(i=>new dh(e,r,t,i))}function RV(t,e,n){t=Bo(t,mi);let r=Bo(t.firestore,wa),i=lx(t.converter,e,n);return G1(r,[sx(by(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vo.none())])}function z1(t,e,n,...r){t=Bo(t,mi);let i=Bo(t.firestore,wa),o=by(i),s;return s=typeof(e=Fo(e))=="string"||e instanceof wh?EV(o,"updateDoc",t._key,e,n,r):bV(o,"updateDoc",t._key,e),G1(i,[s.toMutation(t._key,Vo.exists(!0))])}function $1(t){return G1(Bo(t.firestore,wa),[new cp(t._key,Vo.none())])}function hx(t,e){let n=Bo(t.firestore,wa),r=Xa(t),i=lx(t.converter,e);return G1(n,[sx(by(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Vo.exists(!1))]).then(()=>r)}function H1(t,...e){t=Fo(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Z4(e[r])||(n=e[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Z4(e[r])){let c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let o,s,a;if(t instanceof mi)s=Bo(t.firestore,wa),a=F1(t._key.path),o={next:c=>{e[r]&&e[r](PV(s,t,c))},error:e[r+1],complete:e[r+2]};else{let c=Bo(t,Yl);s=Bo(c.firestore,wa),a=c._query;let u=new fp(s);o={next:l=>{e[r]&&e[r](new dh(s,u,c,l))},error:e[r+1],complete:e[r+2]},AV(t._query)}return(function(u,l,m,y){let g=new py(y),R=new fy(l,g,m);return u.asyncQueue.enqueueAndForget(async()=>ex(await C1(u),R)),()=>{g.Nu(),u.asyncQueue.enqueueAndForget(async()=>tx(await C1(u),R))}})(wy(s),a,i,o)}function G1(t,e){return(function(r,i){let o=new _a;return r.asyncQueue.enqueueAndForget(async()=>hee(await Eee(r),i,o)),o.promise})(wy(t),e)}function PV(t,e,n){let r=n.docs.get(e._key),i=new fp(t);return new Hl(t,i,e._key,r,new Ul(n.hasPendingWrites,n.fromCache),e.converter)}var Pee={maxAttempts:5};function Jm(t,e){if((t=Fo(t)).firestore!==e)throw new We(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var OD=class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=by(e)}get(e){let n=Jm(e,this._firestore),r=new MD(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return Dt(24041);let o=i[0];if(o.isFoundDocument())return new hp(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new hp(this._firestore,r,n._key,null,n.converter);throw Dt(18433,{doc:o})})}set(e,n,r){let i=Jm(e,this._firestore),o=lx(i.converter,n,r),s=sx(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){let o=Jm(e,this._firestore),s;return s=typeof(n=Fo(n))=="string"||n instanceof wh?EV(this._dataReader,"Transaction.update",o._key,n,r,i):bV(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,s),this}delete(e){let n=Jm(e,this._firestore);return this._transaction.delete(n._key),this}};var LD=class extends OD{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=Jm(e,this._firestore),r=new fp(this._firestore);return super.get(e).then(i=>new Hl(this._firestore,r,n._key,i._document,new Ul(!1,!1),n.converter))}};function kV(t,e,n){t=Bo(t,wa);let r=Me(Me({},Pee),n);return(function(o){if(o.maxAttempts<1)throw new We(Pe.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,s,a){let c=new _a;return o.asyncQueue.enqueueAndForget(async()=>{let u=await Iee(o);new ID(o.asyncQueue,u,a,s,c).ju()}),c.promise})(wy(t),i=>e(new LD(t,i)),r)}function W1(){return new DD("serverTimestamp")}(function(e,n=!0){(function(i){pp=i})(kw),oh(new Ya("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new wa(new JA(r.getProvider("auth-internal")),new eC(s,r.getProvider("app-check-internal")),(function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new We(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new a1(u.options.projectId,l)})(s,i),s);return o=Me({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ja(l4,d4,e),Ja(l4,d4,"esm2020")})();var K1=function(){return K1=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},K1.apply(this,arguments)};var kee={includeMetadataChanges:!1};function MV(t,e){return e===void 0&&(e=kee),new sn(function(n){var r=H1(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function OV(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:K1(K1({},r),(n={},n[e.idField]=t.id,n))}function LV(t){return MV(t,{includeMetadataChanges:!0}).pipe(bn(function(e){return e.docs}))}function FV(t,e){return e===void 0&&(e={}),LV(t).pipe(bn(function(n){return n.map(function(r){return OV(r,e)})}))}var VV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},BV={};var Q1,jV;(function(){var t;function e(P,T){function w(){}w.prototype=T.prototype,P.D=T.prototype,P.prototype=new w,P.prototype.constructor=P,P.C=function(D,_,A){for(var I=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)I[ee-2]=arguments[ee];return T.prototype[_].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,T,w){w||(w=0);var D=Array(16);if(typeof T=="string")for(var _=0;16>_;++_)D[_]=T.charCodeAt(w++)|T.charCodeAt(w++)<<8|T.charCodeAt(w++)<<16|T.charCodeAt(w++)<<24;else for(_=0;16>_;++_)D[_]=T[w++]|T[w++]<<8|T[w++]<<16|T[w++]<<24;T=P.g[0],w=P.g[1],_=P.g[2];var A=P.g[3],I=T+(A^w&(_^A))+D[0]+3614090360&4294967295;T=w+(I<<7&4294967295|I>>>25),I=A+(_^T&(w^_))+D[1]+3905402710&4294967295,A=T+(I<<12&4294967295|I>>>20),I=_+(w^A&(T^w))+D[2]+606105819&4294967295,_=A+(I<<17&4294967295|I>>>15),I=w+(T^_&(A^T))+D[3]+3250441966&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(A^w&(_^A))+D[4]+4118548399&4294967295,T=w+(I<<7&4294967295|I>>>25),I=A+(_^T&(w^_))+D[5]+1200080426&4294967295,A=T+(I<<12&4294967295|I>>>20),I=_+(w^A&(T^w))+D[6]+2821735955&4294967295,_=A+(I<<17&4294967295|I>>>15),I=w+(T^_&(A^T))+D[7]+4249261313&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(A^w&(_^A))+D[8]+1770035416&4294967295,T=w+(I<<7&4294967295|I>>>25),I=A+(_^T&(w^_))+D[9]+2336552879&4294967295,A=T+(I<<12&4294967295|I>>>20),I=_+(w^A&(T^w))+D[10]+4294925233&4294967295,_=A+(I<<17&4294967295|I>>>15),I=w+(T^_&(A^T))+D[11]+2304563134&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(A^w&(_^A))+D[12]+1804603682&4294967295,T=w+(I<<7&4294967295|I>>>25),I=A+(_^T&(w^_))+D[13]+4254626195&4294967295,A=T+(I<<12&4294967295|I>>>20),I=_+(w^A&(T^w))+D[14]+2792965006&4294967295,_=A+(I<<17&4294967295|I>>>15),I=w+(T^_&(A^T))+D[15]+1236535329&4294967295,w=_+(I<<22&4294967295|I>>>10),I=T+(_^A&(w^_))+D[1]+4129170786&4294967295,T=w+(I<<5&4294967295|I>>>27),I=A+(w^_&(T^w))+D[6]+3225465664&4294967295,A=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(A^T))+D[11]+643717713&4294967295,_=A+(I<<14&4294967295|I>>>18),I=w+(A^T&(_^A))+D[0]+3921069994&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(_^A&(w^_))+D[5]+3593408605&4294967295,T=w+(I<<5&4294967295|I>>>27),I=A+(w^_&(T^w))+D[10]+38016083&4294967295,A=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(A^T))+D[15]+3634488961&4294967295,_=A+(I<<14&4294967295|I>>>18),I=w+(A^T&(_^A))+D[4]+3889429448&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(_^A&(w^_))+D[9]+568446438&4294967295,T=w+(I<<5&4294967295|I>>>27),I=A+(w^_&(T^w))+D[14]+3275163606&4294967295,A=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(A^T))+D[3]+4107603335&4294967295,_=A+(I<<14&4294967295|I>>>18),I=w+(A^T&(_^A))+D[8]+1163531501&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(_^A&(w^_))+D[13]+2850285829&4294967295,T=w+(I<<5&4294967295|I>>>27),I=A+(w^_&(T^w))+D[2]+4243563512&4294967295,A=T+(I<<9&4294967295|I>>>23),I=_+(T^w&(A^T))+D[7]+1735328473&4294967295,_=A+(I<<14&4294967295|I>>>18),I=w+(A^T&(_^A))+D[12]+2368359562&4294967295,w=_+(I<<20&4294967295|I>>>12),I=T+(w^_^A)+D[5]+4294588738&4294967295,T=w+(I<<4&4294967295|I>>>28),I=A+(T^w^_)+D[8]+2272392833&4294967295,A=T+(I<<11&4294967295|I>>>21),I=_+(A^T^w)+D[11]+1839030562&4294967295,_=A+(I<<16&4294967295|I>>>16),I=w+(_^A^T)+D[14]+4259657740&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(w^_^A)+D[1]+2763975236&4294967295,T=w+(I<<4&4294967295|I>>>28),I=A+(T^w^_)+D[4]+1272893353&4294967295,A=T+(I<<11&4294967295|I>>>21),I=_+(A^T^w)+D[7]+4139469664&4294967295,_=A+(I<<16&4294967295|I>>>16),I=w+(_^A^T)+D[10]+3200236656&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(w^_^A)+D[13]+681279174&4294967295,T=w+(I<<4&4294967295|I>>>28),I=A+(T^w^_)+D[0]+3936430074&4294967295,A=T+(I<<11&4294967295|I>>>21),I=_+(A^T^w)+D[3]+3572445317&4294967295,_=A+(I<<16&4294967295|I>>>16),I=w+(_^A^T)+D[6]+76029189&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(w^_^A)+D[9]+3654602809&4294967295,T=w+(I<<4&4294967295|I>>>28),I=A+(T^w^_)+D[12]+3873151461&4294967295,A=T+(I<<11&4294967295|I>>>21),I=_+(A^T^w)+D[15]+530742520&4294967295,_=A+(I<<16&4294967295|I>>>16),I=w+(_^A^T)+D[2]+3299628645&4294967295,w=_+(I<<23&4294967295|I>>>9),I=T+(_^(w|~A))+D[0]+4096336452&4294967295,T=w+(I<<6&4294967295|I>>>26),I=A+(w^(T|~_))+D[7]+1126891415&4294967295,A=T+(I<<10&4294967295|I>>>22),I=_+(T^(A|~w))+D[14]+2878612391&4294967295,_=A+(I<<15&4294967295|I>>>17),I=w+(A^(_|~T))+D[5]+4237533241&4294967295,w=_+(I<<21&4294967295|I>>>11),I=T+(_^(w|~A))+D[12]+1700485571&4294967295,T=w+(I<<6&4294967295|I>>>26),I=A+(w^(T|~_))+D[3]+2399980690&4294967295,A=T+(I<<10&4294967295|I>>>22),I=_+(T^(A|~w))+D[10]+4293915773&4294967295,_=A+(I<<15&4294967295|I>>>17),I=w+(A^(_|~T))+D[1]+2240044497&4294967295,w=_+(I<<21&4294967295|I>>>11),I=T+(_^(w|~A))+D[8]+1873313359&4294967295,T=w+(I<<6&4294967295|I>>>26),I=A+(w^(T|~_))+D[15]+4264355552&4294967295,A=T+(I<<10&4294967295|I>>>22),I=_+(T^(A|~w))+D[6]+2734768916&4294967295,_=A+(I<<15&4294967295|I>>>17),I=w+(A^(_|~T))+D[13]+1309151649&4294967295,w=_+(I<<21&4294967295|I>>>11),I=T+(_^(w|~A))+D[4]+4149444226&4294967295,T=w+(I<<6&4294967295|I>>>26),I=A+(w^(T|~_))+D[11]+3174756917&4294967295,A=T+(I<<10&4294967295|I>>>22),I=_+(T^(A|~w))+D[2]+718787259&4294967295,_=A+(I<<15&4294967295|I>>>17),I=w+(A^(_|~T))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(_+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+_&4294967295,P.g[3]=P.g[3]+A&4294967295}r.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var w=T-this.blockSize,D=this.B,_=this.h,A=0;A<T;){if(_==0)for(;A<=w;)i(this,P,A),A+=this.blockSize;if(typeof P=="string"){for(;A<T;)if(D[_++]=P.charCodeAt(A++),_==this.blockSize){i(this,D),_=0;break}}else for(;A<T;)if(D[_++]=P[A++],_==this.blockSize){i(this,D),_=0;break}}this.h=_,this.o+=T},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var w=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=w&255,w/=256;for(this.u(P),P=Array(16),T=w=0;4>T;++T)for(var D=0;32>D;D+=8)P[w++]=this.g[T]>>>D&255;return P};function o(P,T){var w=a;return Object.prototype.hasOwnProperty.call(w,P)?w[P]:w[P]=T(P)}function s(P,T){this.h=T;for(var w=[],D=!0,_=P.length-1;0<=_;_--){var A=P[_]|0;D&&A==T||(w[_]=A,D=!1)}this.g=w}var a={};function c(P){return-128<=P&&128>P?o(P,function(T){return new s([T|0],0>T?-1:0)}):new s([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return m;if(0>P)return M(u(-P));for(var T=[],w=1,D=0;P>=w;D++)T[D]=P/w|0,w*=4294967296;return new s(T,0)}function l(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return M(l(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(T,8)),D=m,_=0;_<P.length;_+=8){var A=Math.min(8,P.length-_),I=parseInt(P.substring(_,_+A),T);8>A?(A=u(Math.pow(T,A)),D=D.j(A).add(u(I))):(D=D.j(w),D=D.add(u(I)))}return D}var m=c(0),y=c(1),g=c(16777216);t=s.prototype,t.m=function(){if(k(this))return-M(this).m();for(var P=0,T=1,w=0;w<this.g.length;w++){var D=this.i(w);P+=(0<=D?D:4294967296+D)*T,T*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(R(this))return"0";if(k(this))return"-"+M(this).toString(P);for(var T=u(Math.pow(P,6)),w=this,D="";;){var _=Y(w,T).g;w=L(w,_.j(T));var A=((0<w.g.length?w.g[0]:w.h)>>>0).toString(P);if(w=_,R(w))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function R(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function k(P){return P.h==-1}t.l=function(P){return P=L(this,P),k(P)?-1:R(P)?0:1};function M(P){for(var T=P.g.length,w=[],D=0;D<T;D++)w[D]=~P.g[D];return new s(w,~P.h).add(y)}t.abs=function(){return k(this)?M(this):this},t.add=function(P){for(var T=Math.max(this.g.length,P.g.length),w=[],D=0,_=0;_<=T;_++){var A=D+(this.i(_)&65535)+(P.i(_)&65535),I=(A>>>16)+(this.i(_)>>>16)+(P.i(_)>>>16);D=I>>>16,A&=65535,I&=65535,w[_]=I<<16|A}return new s(w,w[w.length-1]&-2147483648?-1:0)};function L(P,T){return P.add(M(T))}t.j=function(P){if(R(this)||R(P))return m;if(k(this))return k(P)?M(this).j(M(P)):M(M(this).j(P));if(k(P))return M(this.j(M(P)));if(0>this.l(g)&&0>P.l(g))return u(this.m()*P.m());for(var T=this.g.length+P.g.length,w=[],D=0;D<2*T;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var _=0;_<P.g.length;_++){var A=this.i(D)>>>16,I=this.i(D)&65535,ee=P.i(_)>>>16,_e=P.i(_)&65535;w[2*D+2*_]+=I*_e,Z(w,2*D+2*_),w[2*D+2*_+1]+=A*_e,Z(w,2*D+2*_+1),w[2*D+2*_+1]+=I*ee,Z(w,2*D+2*_+1),w[2*D+2*_+2]+=A*ee,Z(w,2*D+2*_+2)}for(D=0;D<T;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=T;D<2*T;D++)w[D]=0;return new s(w,0)};function Z(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function J(P,T){this.g=P,this.h=T}function Y(P,T){if(R(T))throw Error("division by zero");if(R(P))return new J(m,m);if(k(P))return T=Y(M(P),T),new J(M(T.g),M(T.h));if(k(T))return T=Y(P,M(T)),new J(M(T.g),T.h);if(30<P.g.length){if(k(P)||k(T))throw Error("slowDivide_ only works with positive integers.");for(var w=y,D=T;0>=D.l(P);)w=fe(w),D=fe(D);var _=be(w,1),A=be(D,1);for(D=be(D,2),w=be(w,2);!R(D);){var I=A.add(D);0>=I.l(P)&&(_=_.add(w),A=I),D=be(D,1),w=be(w,1)}return T=L(P,_.j(T)),new J(_,T)}for(_=m;0<=P.l(T);){for(w=Math.max(1,Math.floor(P.m()/T.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=u(w),I=A.j(T);k(I)||0<I.l(P);)w-=D,A=u(w),I=A.j(T);R(A)&&(A=y),_=_.add(A),P=L(P,I)}return new J(_,P)}t.A=function(P){return Y(this,P).h},t.and=function(P){for(var T=Math.max(this.g.length,P.g.length),w=[],D=0;D<T;D++)w[D]=this.i(D)&P.i(D);return new s(w,this.h&P.h)},t.or=function(P){for(var T=Math.max(this.g.length,P.g.length),w=[],D=0;D<T;D++)w[D]=this.i(D)|P.i(D);return new s(w,this.h|P.h)},t.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),w=[],D=0;D<T;D++)w[D]=this.i(D)^P.i(D);return new s(w,this.h^P.h)};function fe(P){for(var T=P.g.length+1,w=[],D=0;D<T;D++)w[D]=P.i(D)<<1|P.i(D-1)>>>31;return new s(w,P.h)}function be(P,T){var w=T>>5;T%=32;for(var D=P.g.length-w,_=[],A=0;A<D;A++)_[A]=0<T?P.i(A+w)>>>T|P.i(A+w+1)<<32-T:P.i(A+w);return new s(_,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jV=BV.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=l,Q1=BV.Integer=s}).apply(typeof VV<"u"?VV:typeof self<"u"?self:typeof window<"u"?window:{});var Y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ou={};var UV,Mee,qV,zV,$V,HV,GV,WV,KV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,b,x){return d==Array.prototype||d==Object.prototype||(d[b]=x.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Y1=="object"&&Y1];for(var b=0;b<d.length;++b){var x=d[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(d,b){if(b)e:{var x=r;d=d.split(".");for(var U=0;U<d.length-1;U++){var se=d[U];if(!(se in x))break e;x=x[se]}d=d[d.length-1],U=x[d],b=b(U),b!=U&&b!=null&&e(x,d,{configurable:!0,writable:!0,value:b})}}function o(d,b){d instanceof String&&(d+="");var x=0,U=!1,se={next:function(){if(!U&&x<d.length){var we=x++;return{value:b(we,d[we]),done:!1}}return U=!0,{done:!0,value:void 0}}};return se[Symbol.iterator]=function(){return se},se}i("Array.prototype.values",function(d){return d||function(){return o(this,function(b,x){return x})}});var s=s||{},a=this||self;function c(d){var b=typeof d;return b=b!="object"?b:d?Array.isArray(d)?"array":b:"null",b=="array"||b=="object"&&typeof d.length=="number"}function u(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function l(d,b,x){return d.call.apply(d.bind,arguments)}function m(d,b,x){if(!d)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(se,U),d.apply(b,se)}}return function(){return d.apply(b,arguments)}}function y(d,b,x){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?l:m,y.apply(null,arguments)}function g(d,b){var x=Array.prototype.slice.call(arguments,1);return function(){var U=x.slice();return U.push.apply(U,arguments),d.apply(this,U)}}function R(d,b){function x(){}x.prototype=b.prototype,d.aa=b.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(U,se,we){for(var qe=Array(arguments.length-2),cn=2;cn<arguments.length;cn++)qe[cn-2]=arguments[cn];return b.prototype[se].apply(U,qe)}}function k(d){let b=d.length;if(0<b){let x=Array(b);for(let U=0;U<b;U++)x[U]=d[U];return x}return[]}function M(d,b){for(let x=1;x<arguments.length;x++){let U=arguments[x];if(c(U)){let se=d.length||0,we=U.length||0;d.length=se+we;for(let qe=0;qe<we;qe++)d[se+qe]=U[qe]}else d.push(U)}}class L{constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function Z(d){return/^[\s\xa0]*$/.test(d)}function J(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function Y(d){return Y[" "](d),d}Y[" "]=function(){};var fe=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function be(d,b,x){for(let U in d)b.call(x,d[U],U,d)}function P(d,b){for(let x in d)b.call(void 0,d[x],x,d)}function T(d){let b={};for(let x in d)b[x]=d[x];return b}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(d,b){let x,U;for(let se=1;se<arguments.length;se++){U=arguments[se];for(x in U)d[x]=U[x];for(let we=0;we<w.length;we++)x=w[we],Object.prototype.hasOwnProperty.call(U,x)&&(d[x]=U[x])}}function _(d){var b=1;d=d.split(":");let x=[];for(;0<b&&d.length;)x.push(d.shift()),b--;return d.length&&x.push(d.join(":")),x}function A(d){a.setTimeout(()=>{throw d},0)}function I(){var d=Se;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class ee{constructor(){this.h=this.g=null}add(b,x){let U=_e.get();U.set(b,x),this.h?this.h.next=U:this.g=U,this.h=U}}var _e=new L(()=>new Ce,d=>d.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,pe=!1,Se=new ee,$e=()=>{let d=a.Promise.resolve(void 0);Te=()=>{d.then(Le)}};var Le=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(x){A(x)}var b=_e;b.j(d),100>b.h&&(b.h++,d.next=b.g,b.g=d)}pe=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var X=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let x=()=>{};a.addEventListener("test",x,b),a.removeEventListener("test",x,b)}catch{}return d})();function ne(d,b){if(W.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,U=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget){if(fe){e:{try{Y(b.nodeName);var se=!0;break e}catch{}se=!1}se||(b=null)}}else x=="mouseover"?b=d.fromElement:x=="mouseout"&&(b=d.toElement);this.relatedTarget=b,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ce[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ne.aa.h.call(this)}}R(ne,W);var ce={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Ie(d,b,x,U,se){this.listener=d,this.proxy=null,this.src=b,this.type=x,this.capture=!!U,this.ha=se,this.key=++Ee,this.da=this.fa=!1}function xe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function je(d){this.src=d,this.g={},this.h=0}je.prototype.add=function(d,b,x,U,se){var we=d.toString();d=this.g[we],d||(d=this.g[we]=[],this.h++);var qe=Ke(d,b,U,se);return-1<qe?(b=d[qe],x||(b.fa=!1)):(b=new Ie(b,this.src,we,!!U,se),b.fa=x,d.push(b)),b};function Je(d,b){var x=b.type;if(x in d.g){var U=d.g[x],se=Array.prototype.indexOf.call(U,b,void 0),we;(we=0<=se)&&Array.prototype.splice.call(U,se,1),we&&(xe(b),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Ke(d,b,x,U){for(var se=0;se<d.length;++se){var we=d[se];if(!we.da&&we.listener==b&&we.capture==!!x&&we.ha==U)return se}return-1}var lt="closure_lm_"+(1e6*Math.random()|0),H={};function Qe(d,b,x,U,se){if(U&&U.once)return Ve(d,b,x,U,se);if(Array.isArray(b)){for(var we=0;we<b.length;we++)Qe(d,b[we],x,U,se);return null}return x=Nt(x),d&&d[de]?d.K(b,x,u(U)?!!U.capture:!!U,se):Ut(d,b,x,!1,U,se)}function Ut(d,b,x,U,se,we){if(!b)throw Error("Invalid event type");var qe=u(se)?!!se.capture:!!se,cn=dn(d);if(cn||(d[lt]=cn=new je(d)),x=cn.add(b,x,U,qe,we),x.proxy)return x;if(U=bt(),x.proxy=U,U.src=d,U.listener=x,d.addEventListener)X||(se=qe),se===void 0&&(se=!1),d.addEventListener(b.toString(),U,se);else if(d.attachEvent)d.attachEvent(mt(b.toString()),U);else if(d.addListener&&d.removeListener)d.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return x}function bt(){function d(x){return b.call(d.src,d.listener,x)}let b=vt;return d}function Ve(d,b,x,U,se){if(Array.isArray(b)){for(var we=0;we<b.length;we++)Ve(d,b[we],x,U,se);return null}return x=Nt(x),d&&d[de]?d.L(b,x,u(U)?!!U.capture:!!U,se):Ut(d,b,x,!0,U,se)}function Ze(d,b,x,U,se){if(Array.isArray(b))for(var we=0;we<b.length;we++)Ze(d,b[we],x,U,se);else U=u(U)?!!U.capture:!!U,x=Nt(x),d&&d[de]?(d=d.i,b=String(b).toString(),b in d.g&&(we=d.g[b],x=Ke(we,x,U,se),-1<x&&(xe(we[x]),Array.prototype.splice.call(we,x,1),we.length==0&&(delete d.g[b],d.h--)))):d&&(d=dn(d))&&(b=d.g[b.toString()],d=-1,b&&(d=Ke(b,x,U,se)),(x=-1<d?b[d]:null)&&Ge(x))}function Ge(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[de])Je(b.i,d);else{var x=d.type,U=d.proxy;b.removeEventListener?b.removeEventListener(x,U,d.capture):b.detachEvent?b.detachEvent(mt(x),U):b.addListener&&b.removeListener&&b.removeListener(U),(x=dn(b))?(Je(x,d),x.h==0&&(x.src=null,b[lt]=null)):xe(d)}}}function mt(d){return d in H?H[d]:H[d]="on"+d}function vt(d,b){if(d.da)d=!0;else{b=new ne(b,this);var x=d.listener,U=d.ha||d.src;d.fa&&Ge(d),d=x.call(U,b)}return d}function dn(d){return d=d[lt],d instanceof je?d:null}var Xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nt(d){return typeof d=="function"?d:(d[Xt]||(d[Xt]=function(b){return d.handleEvent(b)}),d[Xt])}function Et(){B.call(this),this.i=new je(this),this.M=this,this.F=null}R(Et,B),Et.prototype[de]=!0,Et.prototype.removeEventListener=function(d,b,x,U){Ze(this,d,b,x,U)};function It(d,b){var x,U=d.F;if(U)for(x=[];U;U=U.F)x.push(U);if(d=d.M,U=b.type||b,typeof b=="string")b=new W(b,d);else if(b instanceof W)b.target=b.target||d;else{var se=b;b=new W(U,d),D(b,se)}if(se=!0,x)for(var we=x.length-1;0<=we;we--){var qe=b.g=x[we];se=nt(qe,U,!0,b)&&se}if(qe=b.g=d,se=nt(qe,U,!0,b)&&se,se=nt(qe,U,!1,b)&&se,x)for(we=0;we<x.length;we++)qe=b.g=x[we],se=nt(qe,U,!1,b)&&se}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var d=this.i,b;for(b in d.g){for(var x=d.g[b],U=0;U<x.length;U++)xe(x[U]);delete d.g[b],d.h--}}this.F=null},Et.prototype.K=function(d,b,x,U){return this.i.add(String(d),b,!1,x,U)},Et.prototype.L=function(d,b,x,U){return this.i.add(String(d),b,!0,x,U)};function nt(d,b,x,U){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();for(var se=!0,we=0;we<b.length;++we){var qe=b[we];if(qe&&!qe.da&&qe.capture==x){var cn=qe.listener,ar=qe.ha||qe.src;qe.fa&&Je(d.i,qe),se=cn.call(ar,U)!==!1&&se}}return se&&!U.defaultPrevented}function qt(d,b,x){if(typeof d=="function")x&&(d=y(d,x));else if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:a.setTimeout(d,b||0)}function ft(d){d.g=qt(()=>{d.g=null,d.i&&(d.i=!1,ft(d))},d.l);let b=d.h;d.h=null,d.m.apply(null,b)}class dr extends B{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function en(d){B.call(this),this.h=d,this.g={}}R(en,B);var Vt=[];function Gt(d){be(d.g,function(b,x){this.g.hasOwnProperty(x)&&Ge(b)},d),d.g={}}en.prototype.N=function(){en.aa.N.call(this),Gt(this)},en.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=a.JSON.stringify,dt=a.JSON.parse,jn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function _t(){}_t.prototype.h=null;function Ft(d){return d.h||(d.h=d.i())}function Nn(){}var zt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xe(){W.call(this,"d")}R(Xe,W);function hn(){W.call(this,"c")}R(hn,W);var Lr={},mr=null;function to(){return mr=mr||new Et}Lr.La="serverreachability";function bo(d){W.call(this,Lr.La,d)}R(bo,W);function ht(d){let b=to();It(b,new bo(b))}Lr.STAT_EVENT="statevent";function qo(d,b){W.call(this,Lr.STAT_EVENT,d),this.stat=b}R(qo,W);function or(d){let b=to();It(b,new qo(b,d))}Lr.Ma="timingevent";function Zr(d,b){W.call(this,Lr.Ma,d),this.size=b}R(Zr,W);function Fr(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},b)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function br(d,b,x,U,se,we){d.info(function(){if(d.g)if(we)for(var qe="",cn=we.split("&"),ar=0;ar<cn.length;ar++){var Bt=cn[ar].split("=");if(1<Bt.length){var hr=Bt[0];Bt=Bt[1];var xr=hr.split("_");qe=2<=xr.length&&xr[1]=="type"?qe+(hr+"="+Bt+"&"):qe+(hr+"=redacted&")}}else qe=null;else qe=we;return"XMLHTTP REQ ("+U+") [attempt "+se+"]: "+b+`
`+x+`
`+qe})}function yr(d,b,x,U,se,we,qe){d.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+se+"]: "+b+`
`+x+`
`+we+" "+qe})}function no(d,b,x,U){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+ro(d,x)+(U?" "+U:"")})}function vi(d,b){d.info(function(){return"TIMEOUT: "+b})}Un.prototype.info=function(){};function ro(d,b){if(!d.g)return b;if(!b)return null;try{var x=JSON.parse(b);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var U=x[d];if(!(2>U.length)){var se=U[1];if(Array.isArray(se)&&!(1>se.length)){var we=se[0];if(we!="noop"&&we!="stop"&&we!="close")for(var qe=1;qe<se.length;qe++)se[qe]=""}}}}return Ln(x)}catch{return b}}var xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function Xr(){}R(Xr,_t),Xr.prototype.g=function(){return new XMLHttpRequest},Xr.prototype.i=function(){return{}},_i=new Xr;function Ri(d,b,x,U){this.j=d,this.i=b,this.l=x,this.R=U||1,this.U=new en(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new io}function io(){this.i=null,this.g="",this.h=!1}var js={},Eo={};function ss(d,b,x){d.L=1,d.v=Aa(ao(b)),d.m=x,d.P=!0,as(d,null)}function as(d,b){d.F=Date.now(),cs(d),d.A=ao(d.v);var x=d.A,U=d.R;Array.isArray(U)||(U=[String(U)]),Ot(x.i,"t",U),d.C=0,x=d.j.J,d.h=new io,d.g=S(d.j,x?b:null,!d.m),0<d.O&&(d.M=new dr(y(d.Y,d,d.g),d.O)),b=d.U,x=d.g,U=d.ca;var se="readystatechange";Array.isArray(se)||(se&&(Vt[0]=se.toString()),se=Vt);for(var we=0;we<se.length;we++){var qe=Qe(x,se[we],U||b.handleEvent,!1,b.h||b);if(!qe)break;b.g[qe.key]=qe}b=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,b)):(d.u="GET",d.g.ea(d.A,d.u,null,b)),ht(),br(d.i,d.u,d.A,d.l,d.R,d.m)}Ri.prototype.ca=function(d){d=d.target;let b=this.M;b&&bi(d)==3?b.j():this.Y(d)},Ri.prototype.Y=function(d){try{if(d==this.g)e:{let xr=bi(this.g);var b=this.g.Ba();let xa=this.g.Z();if(!(3>xr)&&(xr!=3||this.g&&(this.h.h||this.g.oa()||eu(this.g)))){this.J||xr!=4||b==7||(b==8||0>=xa?ht(3):ht(2)),wi(this);var x=this.g.Z();this.X=x;t:if(Us(this)){var U=eu(this.g);d="";var se=U.length,we=bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){To(this),zo(this);var qe="";break t}this.h.i=new a.TextDecoder}for(b=0;b<se;b++)this.h.h=!0,d+=this.h.i.decode(U[b],{stream:!(we&&b==se-1)});U.length=0,this.h.g+=d,this.C=0,qe=this.h.g}else qe=this.g.oa();if(this.o=x==200,yr(this.i,this.u,this.A,this.l,this.R,xr,x),this.o){if(this.T&&!this.K){t:{if(this.g){var cn,ar=this.g;if((cn=ar.g?ar.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(cn)){var Bt=cn;break t}}Bt=null}if(x=Bt)no(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,us(this,x);else{this.o=!1,this.s=3,or(12),To(this),zo(this);break e}}if(this.P){x=!0;let Ir;for(;!this.J&&this.C<qe.length;)if(Ir=Io(this,qe),Ir==Eo){xr==4&&(this.s=4,or(14),x=!1),no(this.i,this.l,null,"[Incomplete Response]");break}else if(Ir==js){this.s=4,or(15),no(this.i,this.l,qe,"[Invalid Chunk]"),x=!1;break}else no(this.i,this.l,Ir,null),us(this,Ir);if(Us(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xr!=4||qe.length!=0||this.h.h||(this.s=1,or(16),x=!1),this.o=this.o&&x,!x)no(this.i,this.l,qe,"[Invalid Chunked Response]"),To(this),zo(this);else if(0<qe.length&&!this.W){this.W=!0;var hr=this.j;hr.g==this&&hr.ba&&!hr.M&&(hr.j.info("Great, no buffering proxy detected. Bytes received: "+qe.length),st(hr),hr.M=!0,or(11))}}else no(this.i,this.l,qe,null),us(this,qe);xr==4&&To(this),this.o&&!this.J&&(xr==4?Lt(this.j,this):(this.o=!1,cs(this)))}else Go(this.g),x==400&&0<qe.indexOf("Unknown SID")?(this.s=3,or(12)):(this.s=0,or(13)),To(this),zo(this)}}}catch{}finally{}};function Us(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Io(d,b){var x=d.C,U=b.indexOf(`
`,x);return U==-1?Eo:(x=Number(b.substring(x,U)),isNaN(x)?js:(U+=1,U+x>b.length?Eo:(b=b.slice(U,U+x),d.C=U+x,b)))}Ri.prototype.cancel=function(){this.J=!0,To(this)};function cs(d){d.S=Date.now()+d.I,Kc(d,d.I)}function Kc(d,b){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Fr(y(d.ba,d),b)}function wi(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ri.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(vi(this.i,this.A),this.L!=2&&(ht(),or(17)),To(this),this.s=2,zo(this)):Kc(this,this.S-d)};function zo(d){d.j.G==0||d.J||Lt(d.j,d)}function To(d){wi(d);var b=d.M;b&&typeof b.ma=="function"&&b.ma(),d.M=null,Gt(d.U),d.g&&(b=d.g,d.g=null,b.abort(),b.ma())}function us(d,b){try{var x=d.j;if(x.G!=0&&(x.g==d||qs(x.h,d))){if(!d.K&&qs(x.h,d)&&x.G==3){try{var U=x.Da.g.parse(b)}catch{U=null}if(Array.isArray(U)&&U.length==3){var se=U;if(se[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)Pt(x),hs(x);else break e;et(x),or(18)}}else x.za=se[1],0<x.za-x.T&&37500>se[2]&&x.F&&x.v==0&&!x.C&&(x.C=Fr(y(x.Za,x),6e3));if(1>=oo(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else qn(x,11)}else if((d.K||x.g==d)&&Pt(x),!Z(b))for(se=x.Da.g.parse(b),b=0;b<se.length;b++){let Bt=se[b];if(x.T=Bt[0],Bt=Bt[1],x.G==2)if(Bt[0]=="c"){x.K=Bt[1],x.ia=Bt[2];let hr=Bt[3];hr!=null&&(x.la=hr,x.j.info("VER="+x.la));let xr=Bt[4];xr!=null&&(x.Aa=xr,x.j.info("SVER="+x.Aa));let xa=Bt[5];xa!=null&&typeof xa=="number"&&0<xa&&(U=1.5*xa,x.L=U,x.j.info("backChannelRequestTimeoutMs_="+U)),U=x;let Ir=d.g;if(Ir){let Qs=Ir.g?Ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var we=U.h;we.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(so(we,we.h),we.h=null))}if(U.D){let tu=Ir.g?Ir.g.getResponseHeader("X-HTTP-Session-Id"):null;tu&&(U.ya=tu,Fn(U.I,U.D,tu))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),U=x;var qe=d;if(U.qa=f(U,U.J?U.ia:null,U.W),qe.K){In(U.h,qe);var cn=qe,ar=U.L;ar&&(cn.I=ar),cn.B&&(wi(cn),cs(cn)),U.g=qe}else Oe(U);0<x.i.length&&O(x)}else Bt[0]!="stop"&&Bt[0]!="close"||qn(x,7);else x.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?qn(x,7):Wo(x):Bt[0]!="noop"&&x.l&&x.l.ta(Bt),x.v=0)}}ht(4)}catch{}}var oc=class{constructor(d,b){this.g=d,this.map=b}};function sc(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ac(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function oo(d){return d.h?1:d.g?d.g.size:0}function qs(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function so(d,b){d.g?d.g.add(b):d.h=b}function In(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}sc.prototype.cancel=function(){if(this.i=ls(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function ls(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let b=d.i;for(let x of d.g.values())b=b.concat(x.D);return b}return k(d.i)}function Pi(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var b=[],x=d.length,U=0;U<x;U++)b.push(d[U]);return b}b=[],x=0;for(U in d)b[x++]=d[U];return b}function zs(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var b=[];d=d.length;for(var x=0;x<d;x++)b.push(x);return b}b=[],x=0;for(let U in d)b[x++]=U;return b}}}function Rn(d,b){if(d.forEach&&typeof d.forEach=="function")d.forEach(b,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,b,void 0);else for(var x=zs(d),U=Pi(d),se=U.length,we=0;we<se;we++)b.call(void 0,U[we],x&&x[we],d)}var ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sr(d,b){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var U=d[x].indexOf("="),se=null;if(0<=U){var we=d[x].substring(0,U);se=d[x].substring(U+1)}else we=d[x];b(we,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function Dr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Dr){this.h=d.h,Sa(this,d.j),this.o=d.o,this.g=d.g,cc(this,d.s),this.l=d.l;var b=d.i,x=new Ca;x.i=b.i,b.g&&(x.g=new Map(b.g),x.h=b.h),So(this,x),this.m=d.m}else d&&(b=String(d).match(ei))?(this.h=!1,Sa(this,b[1]||"",!0),this.o=ki(b[2]||""),this.g=ki(b[3]||"",!0),cc(this,b[4]),this.l=ki(b[5]||"",!0),So(this,b[6]||"",!0),this.m=ki(b[7]||"")):(this.h=!1,this.i=new Ca(null,this.h))}Dr.prototype.toString=function(){var d=[],b=this.j;b&&d.push(Vr(b,Qc,!0),":");var x=this.g;return(x||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Vr(b,Qc,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Vr(x,x.charAt(0)=="/"?uc:Ku,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Vr(x,ti)),d.join("")};function ao(d){return new Dr(d)}function Sa(d,b,x){d.j=x?ki(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function cc(d,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);d.s=b}else d.s=null}function So(d,b,x){b instanceof Ca?(d.i=b,dc(d.i,d.h)):(x||(b=Vr(b,Yc)),d.i=new Ca(b,d.h))}function Fn(d,b,x){d.i.set(b,x)}function Aa(d){return Fn(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ki(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Vr(d,b,x){return typeof d=="string"?(d=encodeURI(d).replace(b,Wu),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Wu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Qc=/[#\/\?@]/g,Ku=/[#\?:]/g,uc=/[#\?]/g,Yc=/[#\?@]/g,ti=/#/g;function Ca(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function Mi(d){d.g||(d.g=new Map,d.h=0,d.i&&sr(d.i,function(b,x){d.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}t=Ca.prototype,t.add=function(d,b){Mi(this),this.i=null,d=Co(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(b),this.h+=1,this};function lc(d,b){Mi(d),b=Co(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function Ao(d,b){return Mi(d),b=Co(d,b),d.g.has(b)}t.forEach=function(d,b){Mi(this),this.g.forEach(function(x,U){x.forEach(function(se){d.call(b,se,U,this)},this)},this)},t.na=function(){Mi(this);let d=Array.from(this.g.values()),b=Array.from(this.g.keys()),x=[];for(let U=0;U<b.length;U++){let se=d[U];for(let we=0;we<se.length;we++)x.push(b[U])}return x},t.V=function(d){Mi(this);let b=[];if(typeof d=="string")Ao(this,d)&&(b=b.concat(this.g.get(Co(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)b=b.concat(d[x])}return b},t.set=function(d,b){return Mi(this),this.i=null,d=Co(this,d),Ao(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},t.get=function(d,b){return d?(d=this.V(d),0<d.length?String(d[0]):b):b};function Ot(d,b,x){lc(d,b),0<x.length&&(d.i=null,d.g.set(Co(d,b),k(x)),d.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],b=Array.from(this.g.keys());for(var x=0;x<b.length;x++){var U=b[x];let we=encodeURIComponent(String(U)),qe=this.V(U);for(U=0;U<qe.length;U++){var se=we;qe[U]!==""&&(se+="="+encodeURIComponent(String(qe[U]))),d.push(se)}}return this.i=d.join("&")};function Co(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function dc(d,b){b&&!d.j&&(Mi(d),d.i=null,d.g.forEach(function(x,U){var se=U.toLowerCase();U!=se&&(lc(this,U),Ot(this,se,x))},d)),d.j=b}function Qu(d,b){let x=new Un;if(a.Image){let U=new Image;U.onload=g(Er,x,"TestLoadImage: loaded",!0,b,U),U.onerror=g(Er,x,"TestLoadImage: error",!1,b,U),U.onabort=g(Er,x,"TestLoadImage: abort",!1,b,U),U.ontimeout=g(Er,x,"TestLoadImage: timeout",!1,b,U),a.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=d}else b(!1)}function qi(d,b){let x=new Un,U=new AbortController,se=setTimeout(()=>{U.abort(),Er(x,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:U.signal}).then(we=>{clearTimeout(se),we.ok?Er(x,"TestPingServer: ok",!0,b):Er(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(se),Er(x,"TestPingServer: error",!1,b)})}function Er(d,b,x,U,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),U(x)}catch{}}function Yu(){this.g=new jn}function Jc(d,b,x){let U=x||"";try{Rn(d,function(se,we){let qe=se;u(se)&&(qe=Ln(se)),b.push(U+we+"="+encodeURIComponent(qe))})}catch(se){throw b.push(U+"type="+encodeURIComponent("_badmap")),se}}function _n(d){this.l=d.Ub||null,this.j=d.eb||!1}R(_n,_t),_n.prototype.g=function(){return new $s(this.l,this.j)},_n.prototype.i=(function(d){return function(){return d}})({});function $s(d,b){Et.call(this),this.D=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R($s,Et),t=$s.prototype,t.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=b,this.readyState=1,Oi(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(b.body=d),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hs(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hs(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Gs(this):Oi(this),this.readyState==3&&Hs(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Gs(this))},t.Qa=function(d){this.g&&(this.response=d,Gs(this))},t.ga=function(){this.g&&Gs(this)};function Gs(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Oi(d)}t.setRequestHeader=function(d,b){this.u.append(d,b)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=b.next();return d.join(`\r
`)};function Oi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty($s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Zc(d){let b="";return be(d,function(x,U){b+=U,b+=":",b+=x,b+=`\r
`}),b}function $o(d,b,x){e:{for(U in x){var U=!1;break e}U=!0}U||(x=Zc(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):Fn(d,b,x))}function fn(d){Et.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(fn,Et);var Xc=/^https?$/i,ds=["POST","PUT"];t=fn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,b,x,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?Ft(this.o):Ft(_i),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(we){Ho(this,we);return}if(d=x||"",x=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var se in U)x.set(se,U[se]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(let we of U.keys())x.set(we,U.get(we));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(x.keys()).find(we=>we.toLowerCase()=="content-type"),se=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ds,b,void 0))||U||se||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[we,qe]of x)this.g.setRequestHeader(we,qe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Da(this),this.u=!0,this.g.send(d),this.u=!1}catch(we){Ho(this,we)}};function Ho(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.m=5,Ws(d),zi(d)}function Ws(d){d.A||(d.A=!0,It(d,"complete"),It(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,It(this,"complete"),It(this,"abort"),zi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),fn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ks(this):this.bb())},t.bb=function(){Ks(this)};function Ks(d){if(d.h&&typeof s<"u"&&(!d.v[1]||bi(d)!=4||d.Z()!=2)){if(d.u&&bi(d)==4)qt(d.Ea,0,d);else if(It(d,"readystatechange"),bi(d)==4){d.h=!1;try{let qe=d.Z();e:switch(qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var x;if(!(x=b)){var U;if(U=qe===0){var se=String(d.D).match(ei)[1]||null;!se&&a.self&&a.self.location&&(se=a.self.location.protocol.slice(0,-1)),U=!Xc.test(se?se.toLowerCase():"")}x=U}if(x)It(d,"complete"),It(d,"success");else{d.m=6;try{var we=2<bi(d)?d.g.statusText:""}catch{we=""}d.l=we+" ["+d.Z()+"]",Ws(d)}}finally{zi(d)}}}}function zi(d,b){if(d.g){Da(d);let x=d.g,U=d.v[0]?()=>{}:null;d.g=null,d.v=null,b||It(d,"ready");try{x.onreadystatechange=U}catch{}}}function Da(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function bi(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<bi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),dt(b)}};function eu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Go(d){let b={};d=(d.g&&2<=bi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<d.length;U++){if(Z(d[U]))continue;var x=_(d[U]);let se=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();let we=b[se]||[];b[se]=we,we.push(x)}P(b,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(d,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||b}function hc(d){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,d),this.cb=Br("retryDelaySeedMs",1e4,d),this.Wa=Br("forwardChannelMaxRetries",2,d),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new sc(d&&d.concurrentRequestLimit),this.Da=new Yu,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hc.prototype,t.la=8,t.G=1,t.connect=function(d,b,x,U){or(0),this.W=d,this.H=b||{},x&&U!==void 0&&(this.H.OSID=x,this.H.OAID=U),this.F=this.X,this.I=f(this,null,this.W),O(this)};function Wo(d){if(v(d),d.G==3){var b=d.U++,x=ao(d.I);if(Fn(x,"SID",d.K),Fn(x,"RID",b),Fn(x,"TYPE","terminate"),le(d,x),b=new Ri(d,d.j,b),b.L=2,b.v=Aa(ao(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=b.v,x=!0),x||(b.g=S(b.j,null),b.g.ea(b.v)),b.F=Date.now(),cs(b)}pn(d)}function hs(d){d.g&&(st(d),d.g.cancel(),d.g=null)}function v(d){hs(d),d.u&&(a.clearTimeout(d.u),d.u=null),Pt(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function O(d){if(!ac(d.h)&&!d.s){d.s=!0;var b=d.Ga;Te||$e(),pe||(Te(),pe=!0),Se.add(b,d),d.B=0}}function G(d,b){return oo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=b.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Fr(y(d.Ga,d,b),Zn(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let se=new Ri(this,this.j,d),we=this.o;if(this.S&&(we?(we=T(we),D(we,this.S)):we=this.S),this.m!==null||this.O||(se.H=we,we=null),this.P)e:{for(var b=0,x=0;x<this.i.length;x++){t:{var U=this.i[x];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(b+=U,4096<b){b=x;break e}if(b===4096||x===this.i.length-1){b=x+1;break e}}b=1e3}else b=1e3;b=Ae(this,se,b),x=ao(this.I),Fn(x,"RID",d),Fn(x,"CVER",22),this.D&&Fn(x,"X-HTTP-Session-Id",this.D),le(this,x),we&&(this.O?b="headers="+encodeURIComponent(String(Zc(we)))+"&"+b:this.m&&$o(x,this.m,we)),so(this.h,se),this.Ua&&Fn(x,"TYPE","init"),this.P?(Fn(x,"$req",b),Fn(x,"SID","null"),se.T=!0,ss(se,x,null)):ss(se,x,b),this.G=2}}else this.G==3&&(d?te(this,d):this.i.length==0||ac(this.h)||te(this))};function te(d,b){var x;b?x=b.l:x=d.U++;let U=ao(d.I);Fn(U,"SID",d.K),Fn(U,"RID",x),Fn(U,"AID",d.T),le(d,U),d.m&&d.o&&$o(U,d.m,d.o),x=new Ri(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),b&&(d.i=b.D.concat(d.i)),b=Ae(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),so(d.h,x),ss(x,U,b)}function le(d,b){d.H&&be(d.H,function(x,U){Fn(b,U,x)}),d.l&&Rn({},function(x,U){Fn(b,U,x)})}function Ae(d,b,x){x=Math.min(d.i.length,x);var U=d.l?y(d.l.Na,d.l,d):null;e:{var se=d.i;let we=-1;for(;;){let qe=["count="+x];we==-1?0<x?(we=se[0].g,qe.push("ofs="+we)):we=0:qe.push("ofs="+we);let cn=!0;for(let ar=0;ar<x;ar++){let Bt=se[ar].g,hr=se[ar].map;if(Bt-=we,0>Bt)we=Math.max(0,se[ar].g-100),cn=!1;else try{Jc(hr,qe,"req"+Bt+"_")}catch{U&&U(hr)}}if(cn){U=qe.join("&");break e}}}return d=d.i.splice(0,x),b.D=d,U}function Oe(d){if(!d.g&&!d.u){d.Y=1;var b=d.Fa;Te||$e(),pe||(Te(),pe=!0),Se.add(b,d),d.v=0}}function et(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Fr(y(d.Fa,d),Zn(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Rt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Fr(y(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,or(10),hs(this),Rt(this))};function st(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Rt(d){d.g=new Ri(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var b=ao(d.qa);Fn(b,"RID","rpc"),Fn(b,"SID",d.K),Fn(b,"AID",d.T),Fn(b,"CI",d.F?"0":"1"),!d.F&&d.ja&&Fn(b,"TO",d.ja),Fn(b,"TYPE","xmlhttp"),le(d,b),d.m&&d.o&&$o(b,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=Aa(ao(b)),x.m=null,x.P=!0,as(x,d)}t.Za=function(){this.C!=null&&(this.C=null,hs(this),et(this),or(19))};function Pt(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Lt(d,b){var x=null;if(d.g==b){Pt(d),st(d),d.g=null;var U=2}else if(qs(d.h,b))x=b.D,In(d.h,b),U=1;else return;if(d.G!=0){if(b.o)if(U==1){x=b.m?b.m.length:0,b=Date.now()-b.F;var se=d.B;U=to(),It(U,new Zr(U,x)),O(d)}else Oe(d);else if(se=b.s,se==3||se==0&&0<b.X||!(U==1&&G(d,b)||U==2&&et(d)))switch(x&&0<x.length&&(b=d.h,b.i=b.i.concat(x)),se){case 1:qn(d,5);break;case 4:qn(d,10);break;case 3:qn(d,6);break;default:qn(d,2)}}}function Zn(d,b){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*b}function qn(d,b){if(d.j.info("Error code "+b),b==2){var x=y(d.fb,d),U=d.Xa;let se=!U;U=new Dr(U||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Sa(U,"https"),Aa(U),se?Qu(U.toString(),x):qi(U.toString(),x)}else or(2);d.G=0,d.l&&d.l.sa(b),pn(d),v(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),or(2)):(this.j.info("Failed to ping google.com"),or(1))};function pn(d){if(d.G=0,d.ka=[],d.l){let b=ls(d.h);(b.length!=0||d.i.length!=0)&&(M(d.ka,b),M(d.ka,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.ra()}}function f(d,b,x){var U=x instanceof Dr?ao(x):new Dr(x);if(U.g!="")b&&(U.g=b+"."+U.g),cc(U,U.s);else{var se=a.location;U=se.protocol,b=b?b+"."+se.hostname:se.hostname,se=+se.port;var we=new Dr(null);U&&Sa(we,U),b&&(we.g=b),se&&cc(we,se),x&&(we.l=x),U=we}return x=d.D,b=d.ya,x&&b&&Fn(U,x,b),Fn(U,"VER",d.la),le(d,U),U}function S(d,b,x){if(b&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Ca&&!d.pa?new fn(new _n({eb:x})):new fn(d.pa),b.Ha(d.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function N(){}t=N.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function q(){}q.prototype.g=function(d,b){return new ae(d,b)};function ae(d,b){Et.call(this),this.g=new hc(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(d?d["X-WebChannel-Client-Profile"]=b.va:d={"X-WebChannel-Client-Profile":b.va}),this.g.S=d,(d=b&&b.Sb)&&!Z(d)&&(this.g.m=d),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!Z(b)&&(this.g.D=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new At(this)}R(ae,Et),ae.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ae.prototype.close=function(){Wo(this.g)},ae.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=Ln(d),d=x);b.i.push(new oc(b.Ya++,d)),b.G==3&&O(b)},ae.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,ae.aa.N.call(this)};function me(d){Xe.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(let x in b){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}R(me,Xe);function He(){hn.call(this),this.status=1}R(He,hn);function At(d){this.g=d}R(At,N),At.prototype.ua=function(){It(this.g,"a")},At.prototype.ta=function(d){It(this.g,new me(d))},At.prototype.sa=function(d){It(this.g,new He)},At.prototype.ra=function(){It(this.g,"b")},q.prototype.createWebChannel=q.prototype.g,ae.prototype.send=ae.prototype.o,ae.prototype.open=ae.prototype.m,ae.prototype.close=ae.prototype.close,KV=Ou.createWebChannelTransport=function(){return new q},WV=Ou.getStatEventTarget=function(){return to()},GV=Ou.Event=Lr,HV=Ou.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,$V=Ou.ErrorCode=xi,Ni.COMPLETE="complete",zV=Ou.EventType=Ni,Nn.EventType=zt,zt.OPEN="a",zt.CLOSE="b",zt.ERROR="c",zt.MESSAGE="d",Et.prototype.listen=Et.prototype.K,qV=Ou.WebChannel=Nn,Mee=Ou.FetchXmlHttpFactory=_n,fn.prototype.listenOnce=fn.prototype.L,fn.prototype.getLastError=fn.prototype.Ka,fn.prototype.getLastErrorCode=fn.prototype.Ba,fn.prototype.getStatus=fn.prototype.Z,fn.prototype.getResponseJson=fn.prototype.Oa,fn.prototype.getResponseText=fn.prototype.oa,fn.prototype.send=fn.prototype.ea,fn.prototype.setWithCredentials=fn.prototype.Ha,UV=Ou.XhrIo=fn}).apply(typeof Y1<"u"?Y1:typeof self<"u"?self:typeof window<"u"?window:{});var QV="@firebase/firestore",YV="4.8.0";var Xi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xi.UNAUTHENTICATED=new Xi(null),Xi.GOOGLE_CREDENTIALS=new Xi("google-credentials-uid"),Xi.FIRST_PARTY=new Xi("first-party-uid"),Xi.MOCK_USER=new Xi("mock-user");var xy="11.10.0";var Ep=new Pc("@firebase/firestore");function ec(t,...e){if(Ep.logLevel<=$n.DEBUG){let n=e.map(kx);Ep.debug(`Firestore (${xy}): ${t}`,...n)}}function u6(t,...e){if(Ep.logLevel<=$n.ERROR){let n=e.map(kx);Ep.error(`Firestore (${xy}): ${t}`,...n)}}function Oee(t,...e){if(Ep.logLevel<=$n.WARN){let n=e.map(kx);Ep.warn(`Firestore (${xy}): ${t}`,...n)}}function kx(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function rs(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,l6(t,r,n)}function l6(t,e,n){let r=`FIRESTORE (${xy}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw u6(r),new Error(r)}function Eh(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||l6(e,i,r)}var xn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},vn=class extends ga{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ih=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var J1=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},px=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xi.UNAUTHENTICATED))}shutdown(){}},gx=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},mx=class{constructor(e){this.t=e,this.currentUser=Xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Eh(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Ih;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ih,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{ec("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(ec("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ih)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ec("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Eh(typeof r.accessToken=="string",31837,{l:r}),new J1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Eh(e===null||typeof e=="string",2055,{h:e}),new Xi(e)}},yx=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Xi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},vx=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Z1=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},_x=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Su(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Eh(this.o===void 0,3512);let r=o=>{o.error!=null&&ec("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,ec("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ec("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):ec("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Z1(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Eh(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Lee(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function Fee(){return new TextEncoder}var wx=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Lee(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ba(t,e){return t<e?-1:t>e?1:0}function Vee(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ba(r,i);{let o=Fee(),s=Bee(o.encode(JV(t,n)),o.encode(JV(e,n)));return s!==0?s:ba(r,i)}}n+=r>65535?2:1}return ba(t.length,e.length)}function JV(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Bee(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ba(t[n],e[n]);return ba(t.length,e.length)}var ZV="__name__",X1=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&rs(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&rs(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ba(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Vee(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Q1.fromString(e.substring(4,e.length-2))}},Lu=class t extends X1{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new vn(xn.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},jee=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bx=class t extends X1{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return jee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZV}static keyField(){return new t([ZV])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new vn(xn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new vn(xn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new vn(xn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new vn(xn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Fu=class t{constructor(e){this.path=e}static fromPath(e){return new t(Lu.fromString(e))}static fromName(e){return new t(Lu.fromString(e).popFirst(5))}static empty(){return new t(Lu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lu.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lu.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Lu(e.slice()))}};function Uee(t,e,n,r){if(e===!0&&r===!0)throw new vn(xn.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qee(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function zee(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rs(12329,{type:typeof t})}function $ee(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new vn(xn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=zee(t);throw new vn(xn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function yi(t,e){let n={typeString:t};return e&&(n.value=e),n}function Ny(t,e){if(!qee(t))throw new vn(xn.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new vn(xn.INVALID_ARGUMENT,n);return!0}var XV=-62135596800,e6=1e6,Iy=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*e6);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new vn(xn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new vn(xn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<XV)throw new vn(xn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vn(xn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e6}_compareTo(e){return this.seconds===e.seconds?ba(this.nanoseconds,e.nanoseconds):ba(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ny(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-XV;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Iy._jsonSchemaVersion="firestore/timestamp/1.0",Iy._jsonSchema={type:yi("string",Iy._jsonSchemaVersion),seconds:yi("number"),nanoseconds:yi("number")};var Ex=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ex.UNKNOWN_ID=-1;function Hee(t){return t.name==="IndexedDbTransactionError"}function Gee(t){return t===0&&1/t==-1/0}var Wee="remoteDocuments",d6="owner";var h6="mutationQueues";var f6="mutations";var p6="documentMutations",Kee="remoteDocumentsV14";var g6="remoteDocumentGlobal";var m6="targets";var y6="targetDocuments";var v6="targetGlobal",_6="collectionParents";var w6="clientMetadata";var b6="bundles";var E6="namedQueries";var Qee="indexConfiguration";var Yee="indexState";var Jee="indexEntries";var I6="documentOverlays";var Zee="globals";var Xee=[h6,f6,p6,Wee,m6,d6,v6,y6,w6,g6,_6,b6,E6],hSe=[...Xee,I6],ete=[h6,f6,p6,Kee,m6,d6,v6,y6,w6,g6,_6,b6,E6,I6],tte=ete,nte=[...tte,Qee,Yee,Jee];var fSe=[...nte,Zee];var Ip=class t{constructor(e,n){this.comparator=e,this.root=n||Bc.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bc.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bc.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vp(this.root,e,this.comparator,!1)}getReverseIterator(){return new vp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vp(this.root,e,this.comparator,!0)}},vp=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Bc=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rs(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rs(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw rs(27949);return e+(this.isRed()?0:1)}};Bc.EMPTY=null,Bc.RED=!0,Bc.BLACK=!1;Bc.EMPTY=new class{constructor(){this.size=0}get key(){throw rs(57766)}get value(){throw rs(16141)}get color(){throw rs(16727)}get left(){throw rs(29726)}get right(){throw rs(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Bc(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var eb=class t{constructor(e){this.comparator=e,this.data=new Ip(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tb(this.data.getIterator())}getIteratorFrom(e){return new tb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},tb=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ix=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Xl=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ix("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ba(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xl.EMPTY_BYTE_STRING=new Xl("");var rte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ite(t){if(Eh(!!t,39018),typeof t=="string"){let e=0,n=rte.exec(t);if(Eh(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ty(t.seconds),nanos:Ty(t.nanos)}}function Ty(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ote(t){return typeof t=="string"?Xl.fromBase64String(t):Xl.fromUint8Array(t)}var Tx="(default)",Sx=class t{constructor(e,n){this.projectId=e,this.database=n||Tx}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Tx}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var T6="__type__",ste="__max__";var S6="__vector__",A6="value";function ate(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[T6])===null||n===void 0?void 0:n.stringValue)===S6}function cte(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ste}var gSe={mapValue:{fields:{[T6]:{stringValue:S6},[A6]:{arrayValue:{}}}}};var Ax=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function ute(t){return new Ax(t)}var mSe=new Ip(Fu.comparator);var ySe=new Ip(Fu.comparator);var vSe=new Ip(Fu.comparator),_Se=new eb(Fu.comparator);var wSe=new eb(ba);var t6,Dn;(Dn=t6||(t6={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";var bSe=new Q1([4294967295,4294967295],0);var nb=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Ty(e.integerValue));else if("doubleValue"in e){let r=Ty(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Gee(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=ite(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(ote(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?cte(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):ate(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):rs(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=A6,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Ty(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),Fu.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};nb.Ut=new nb;var ESe=new Uint8Array(0);var C6=41943040,Vc=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Vc.DEFAULT_COLLECTION_PERCENTILE=10,Vc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vc.DEFAULT=new Vc(C6,Vc.DEFAULT_COLLECTION_PERCENTILE,Vc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vc.DISABLED=new Vc(-1,0,0);var lte=1048576;function fx(){return typeof document<"u"?document:null}var Cx=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&ec("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Dx=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ih,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vn(xn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var n6,r6;(r6=n6||(n6={})).Fa="default",r6.Cache="cache";function dte(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var i6=new Map;var D6="firestore.googleapis.com",o6=!0,rb=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new vn(xn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D6,this.ssl=o6}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:o6;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=C6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lte)throw new vn(xn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Uee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dte((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new vn(xn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new vn(xn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new vn(xn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ib=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vn(xn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new vn(xn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new px;switch(r.type){case"firstParty":return new vx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vn(xn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=i6.get(n);r&&(ec("ComponentProvider","Removing Datastore"),i6.delete(n),r.terminate())})(this),Promise.resolve()}};function x6(t,e,n,r={}){var i;t=$ee(t,ib);let o=Ff(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;o&&(j2(`https://${c}`),U2("Firestore",!0)),s.host!==D6&&s.host!==c&&Oee("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Yd(u,a)&&(t._setSettings(u),r.mockUserToken)){let l,m;if(typeof r.mockUserToken=="string")l=r.mockUserToken,m=Xi.MOCK_USER;else{l=WL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new vn(xn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Xi(y)}t._authCredentials=new gx(new J1(l,m))}}var xx=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Th=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nx(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ny(n,t._jsonSchema))return new t(e,r||null,new Fu(Lu.fromString(n.referencePath)))}};Th._jsonSchemaVersion="firestore/documentReference/1.0",Th._jsonSchema={type:yi("string",Th._jsonSchemaVersion),referencePath:yi("string")};var Nx=class t extends xx{constructor(e,n,r){super(e,n,ute(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Th(this.firestore,null,new Fu(e))}withConverter(e){return new t(this.firestore,e,this._path)}};var s6="AsyncQueue",ob=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Cx(this,"async_queue_retry"),this.oc=()=>{let r=fx();r&&ec(s6,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=fx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=fx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Ih;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Hee(e))throw e;ec(s6,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,u6("INTERNAL UNHANDLED ERROR: ",a6(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=Dx.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&rs(47125,{hc:a6(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function a6(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var Rx=class extends ib{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ob,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ob(e),this._firestoreClient=void 0,await e}}};function N6(t,e){let n=typeof t=="object"?t:Bf(),r=typeof t=="string"?t:e||Tx,i=vw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=HL("firestore");o&&x6(i,...o)}return i}var Sy=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Xl.fromBase64String(e))}catch(n){throw new vn(xn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Xl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ny(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Sy._jsonSchemaVersion="firestore/bytes/1.0",Sy._jsonSchema={type:yi("string",Sy._jsonSchemaVersion),bytes:yi("string")};var sb=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new vn(xn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bx(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ay=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new vn(xn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new vn(xn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ba(this._lat,e._lat)||ba(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Ny(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Ay._jsonSchemaVersion="firestore/geoPoint/1.0",Ay._jsonSchema={type:yi("string",Ay._jsonSchemaVersion),latitude:yi("number"),longitude:yi("number")};var Cy=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ny(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new vn(xn.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Cy._jsonSchemaVersion="firestore/vectorValue/1.0",Cy._jsonSchema={type:yi("string",Cy._jsonSchemaVersion),vectorValues:yi("object")};var hte=new RegExp("[~\\*/\\[\\]]");function fte(t,e,n){if(e.search(hte)>=0)throw c6(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sb(...e.split("."))._internalPath}catch{throw c6(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function c6(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new vn(xn.INVALID_ARGUMENT,a+t+c)}var ab=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Th(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Px(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(R6("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Px=class extends ab{data(){return super.data()}};function R6(t,e){return typeof e=="string"?fte(t,e):e instanceof sb?e._internalPath:e._delegate._internalPath}var _p=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wp=class t extends ab{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new bp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(R6("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vn(xn.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};wp._jsonSchemaVersion="firestore/documentSnapshot/1.0",wp._jsonSchema={type:yi("string",wp._jsonSchemaVersion),bundleSource:yi("string","DocumentSnapshot"),bundleName:yi("string"),bundle:yi("string")};var bp=class extends wp{data(e={}){return super.data(e)}},Dy=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _p(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bp(this._firestore,this._userDataWriter,r.key,r,new _p(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new vn(xn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new bp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _p(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new bp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _p(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:pte(a.type),doc:c,oldIndex:u,newIndex:l}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vn(xn.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function pte(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rs(61501,{type:t})}}Dy._jsonSchemaVersion="firestore/querySnapshot/1.0",Dy._jsonSchema={type:yi("string",Dy._jsonSchemaVersion),bundleSource:yi("string","QuerySnapshot"),bundleName:yi("string"),bundle:yi("string")};(function(e,n=!0){(function(i){xy=i})(Vf),Wa(new Lo("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Rx(new mx(r.getProvider("auth-internal")),new _x(s,r.getProvider("app-check-internal")),(function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new vn(xn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sx(u.options.projectId,l)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Kr(QV,YV,e),Kr(QV,YV,"esm2017")})();var Tp=class{constructor(e){return e}},P6="firestore",Mx=class{constructor(){return Uf(P6)}};var Ox=new ct("angularfire2.firestore-instances");function gte(t,e){let n=bw(P6,t,e);return n&&new Tp(n)}function mte(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Tp(r)}}var yte={provide:Mx,deps:[[new pu,Ox]]},vte={provide:Tp,useFactory:gte,deps:[[new pu,Ox],rh]};function k6(t,...e){return Kr("angularfire",eh.full,"fst"),vc([vte,yte,{provide:Ox,useFactory:mte(t),multi:!0,deps:[wr,ai,th,Vm,[new pu,Gw],[new pu,Iw],...e]}])}var cb=nh(FV,!0);var M6=nh(N6,!0);var _te="firebase",wte="12.6.0";Ja(_te,wte,"app");var j6="firebasestorage.googleapis.com",bte="storageBucket",Ete=120*1e3,Ite=600*1e3;var jc=class t extends Qa{constructor(e,n,r=0){super(Lx(e),`Firebase Storage: ${n} (${Lx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Bu=(function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t})(Bu||{});function Lx(t){return"storage/"+t}function Tte(){let t="An unknown error occurred, please check the error payload for server response.";return new jc(Bu.UNKNOWN,t)}function Ste(){return new jc(Bu.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ate(){return new jc(Bu.CANCELED,"User canceled the upload/download.")}function Cte(t){return new jc(Bu.INVALID_URL,"Invalid URL '"+t+"'.")}function Dte(t){return new jc(Bu.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function O6(t){return new jc(Bu.INVALID_ARGUMENT,t)}function U6(){return new jc(Bu.APP_DELETED,"The Firebase app was deleted.")}function xte(t){return new jc(Bu.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Vu=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Dte(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(Y){Y.path_=decodeURIComponent(Y.path)}let l="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${l}/b/${i}/o${y}`,"i"),R={bucket:1,path:3},k=n===j6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",L=new RegExp(`^https?://${k}/${i}/${M}`,"i"),J=[{regex:a,indices:c,postModify:o},{regex:g,indices:R,postModify:u},{regex:L,indices:{bucket:1,path:2},postModify:u}];for(let Y=0;Y<J.length;Y++){let fe=J[Y],be=fe.regex.exec(e);if(be){let P=be[fe.indices.bucket],T=be[fe.indices.path];T||(T=""),r=new t(P,T),fe.postModify(r);break}}if(r==null)throw Cte(e);return r}},Fx=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Nte(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function l(...M){u||(u=!0,e.apply(null,M))}function m(M){i=setTimeout(()=>{i=null,t(g,c())},M)}function y(){o&&clearTimeout(o)}function g(M,...L){if(u){y();return}if(M){y(),l.call(null,M,...L);return}if(c()||s){y(),l.call(null,M,...L);return}r<64&&(r*=2);let J;a===1?(a=2,J=0):J=(r+Math.random())*1e3,m(J)}let R=!1;function k(M){R||(R=!0,y(),!u&&(i!==null?(M||(a=2),clearTimeout(i),m(0)):M||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,k(!0)},n),k}function Rte(t){t(!1)}function Pte(t){return t!==void 0}function L6(t,e,n,r){if(r<e)throw O6(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw O6(`Invalid value for '${t}'. Expected ${n} or less.`)}function kte(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Vx=(function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t})(Vx||{});function Mte(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var Bx=class{constructor(e,n,r,i,o,s,a,c,u,l,m,y=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=m,this.retry=y,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,k)=>{this.resolve_=R,this.reject_=k,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Sp(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Vx.NO_ERROR,c=o.getStatus();if(!a||Mte(c,this.additionalRetryCodes_)&&this.retry){let l=o.getErrorCode()===Vx.ABORT;r(!1,new Sp(!1,null,l));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Sp(u,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());Pte(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=Tte();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?U6():Ate();s(c)}else{let c=Ste();s(c)}};this.canceled_?n(!1,new Sp(!1,null,!0)):this.backoffId_=Nte(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Rte(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Sp=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Ote(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Lte(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Fte(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Vte(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Bte(t,e,n,r,i,o,s=!0,a=!1){let c=kte(t.urlParams),u=t.url+c,l=Object.assign({},t.headers);return Fte(l,e),Ote(l,n),Lte(l,o),Vte(l,r),new Bx(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,a)}function jte(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Ute(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var Z2e=256*1024;var jx=class t{constructor(e,n){this._service=e,n instanceof Vu?this._location=n:this._location=Vu.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Vu(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ute(this._location.path)}get storage(){return this._service}get parent(){let e=jte(this._location.path);if(e===null)return null;let n=new Vu(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xte(e)}};function F6(t,e){let n=e?.[bte];return n==null?null:Vu.makeFromBucketSpec(n,t)}function qte(t,e,n,r={}){t.host=`${e}:${n}`;let i=qf(e);i&&(Aw(`https://${t.host}/b`),Dw("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:Cw(o,t.app.options.projectId))}var Ux=class{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=j6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ete,this._maxUploadRetryTime=Ite,this._requests=new Set,i!=null?this._bucket=Vu.makeFromBucketSpec(i,this._host):this._bucket=F6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vu.makeFromBucketSpec(this._url,e):this._bucket=F6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){L6("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){L6("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Pw(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jx(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Fx(U6());{let s=Bte(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){let[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}},V6="@firebase/storage",B6="0.14.0";var q6="storage";function z6(t=Mw(),e){t=Fo(t);let r=Rw(t,q6).getImmediate({identifier:e}),i=Sw("storage");return i&&zte(r,...i),r}function zte(t,e,n,r={}){qte(t,e,n,r)}function $te(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ux(n,r,i,e,kw)}function Hte(){oh(new Ya(q6,$te,"PUBLIC").setMultipleInstances(!0)),Ja(V6,B6,""),Ja(V6,B6,"esm2020")}Hte();var Gte={apiKey:"AIzaSyBVEG3n4-C4FVtbJ9Q1giz24zN9qOkIK2Q",authDomain:"chanmurarestaurantui.firebaseapp.com",projectId:"chanmurarestaurantui",storageBucket:"chanmurarestaurantui.appspot.com",messagingSenderId:"31518285804",appId:"1:31518285804:web:5a2c2d2e146987d533eac9"},$6=TA(Gte);var lAe=z6($6),Ea=class t{db;constructor(){this.db=_V($6)}async addMenuItem(e){await hx(Zl(this.db,"menuItems"),e)}async addExpense(e){let n=Date.now().toString();await hx(Zl(this.db,`expenses/${e.createdAt}/entries/${n}`),e)}async getMenuItems(){return(await NV(Zl(this.db,"menuItems"))).docs.map(n=>Me({id:n.id},n.data()))}async updateMenuItem(e,n){await z1(Xa(this.db,"menuItems",e),n)}async deleteMenuItem(e){await $1(Xa(this.db,"menuItems",e))}async getLastMonthStats(){let e=new Date,n=e.getMonth()===0?12:e.getMonth(),i=`${e.getMonth()===0?e.getFullYear()-1:e.getFullYear()}-${String(n).padStart(2,"0")}`,o=Xa(this.db,"analytics",i),s=await dx(o);return s.exists()?s.data():{daily:{},totalRevenue:0}}getDateKey(e=new Date){return e.toISOString().split("T")[0]}getCounterDocRef(e){return Xa(this.db,"sales-counters",e)}async placeOrderAtomic(e){let n=this.getDateKey(),r=this.getCounterDocRef(n),i=this.getOrdersCollectionRef(n),o=0;return await kV(this.db,async a=>{let c=await a.get(r),u=1;c.exists()?(u=(c.data().count||0)+1,a.update(r,{count:u,updatedAt:W1()})):(a.set(r,{count:1,updatedAt:W1()}),u=1);let l=Xa(i),m=Mt(Me({orderId:u},e),{totalAmount:Number(e.totalAmount||0),createdAt:W1()});return o=u,a.set(l,m),{orderId:u,docId:l.id}})}subscribeTodayOrders(e){let n=this.getDateKey(),r=this.getOrdersCollectionRef(n),i=CV(r,DV("createdAt","desc"));return H1(i,s=>{let a=s.docs.map(c=>Me({id:c.id},c.data()));e(a)},s=>{console.error("subscribeTodayOrders error",s),e([])})}async getTodayCounter(){let e=this.getDateKey(),n=await dx(this.getCounterDocRef(e));if(!n.exists())return 0;let r=n.data();return Number(r.count||0)}getOrderbyDate(e){let n=e||this.getDateKey(),r=this.getOrdersCollectionRef(n);return cb(r,{idField:"id"})}getOrdersCollectionRef(e){return Zl(this.db,`sales/${e}/orders`)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})};function Wte(t,e){t&1&&(re(0,"span",37),ye(1,"Out of Stock"),ie())}function Kte(t,e){if(t&1){let n=Zi();re(0,"div",26)(1,"div",27)(2,"div",28)(3,"img",29),St("error",function(i){un(n);let o=kt();return ln(o.onImageError(i))}),ie(),Vn(4,Wte,2,0,"span",30),ie(),re(5,"div",31)(6,"h6",32),ye(7),ie(),re(8,"p",33),ye(9),ie(),re(10,"div",34)(11,"button",35),St("click",function(){let i=un(n).$implicit,o=kt();return ln(o.decreaseQuantity(i))}),ye(12,"\u2013"),ie(),re(13,"span"),ye(14),ie(),re(15,"button",36),St("click",function(){let i=un(n).$implicit,o=kt();return ln(o.increaseQuantity(i))}),ye(16,"+"),ie()()()()()}if(t&2){let n=e.$implicit;Re(3),Ct("src",n.imageUrl||"assets/default.jpg",xl),Re(),Ct("ngIf",n.quantityAvailable===0),Re(3),kn(n.name),Re(2),rr("\u20B9",n.price),Re(2),Ct("disabled",n.quantityAvailable===0),Re(3),kn(n.quantity||0),Re(),Ct("disabled",n.quantityAvailable===0)}}function Qte(t,e){if(t&1){let n=Zi();re(0,"div",38)(1,"span",32),ye(2),ie(),re(3,"button",39),St("click",function(){un(n);let i=kt();return ln(i.viewCart())}),ye(4,"View Cart \u2192"),ie()()}if(t&2){let n=kt();Re(2),rr("\u{1F6D2} ",n.cartItemCount," item(s) in cart")}}var ub=class t{constructor(e,n,r){this.cartService=e;this.firebaseService=n;this.router=r}menuItems=$r([]);cartItems=[];isLoading=!0;cartItemCount=0;searchText="";selectedCategory="";minPrice=null;maxPrice=null;sortOrder="";availabilityFilter="";currentPage=1;itemsPerPage=8;async ngOnInit(){let e=await this.firebaseService.getMenuItems();this.menuItems.set(e),this.cartService.cartItems$.subscribe(n=>{this.cartItems=n,this.cartItemCount=n.reduce((i,o)=>i+o.quantity,0);let r=e.map(i=>{let o=n.find(s=>s.menuItem.id===i.id);return Mt(Me({},i),{quantity:o?o.quantity:0})});this.menuItems.set(r),this.isLoading=!1})}filteredMenuItems(){let e=this.menuItems();if(this.searchText.trim()){let n=this.searchText.toLowerCase();e=e.filter(r=>r.name.toLowerCase().includes(n))}return this.selectedCategory&&(e=e.filter(n=>n.category===this.selectedCategory)),this.minPrice!==null&&(e=e.filter(n=>n.price>=this.minPrice)),this.maxPrice!==null&&(e=e.filter(n=>n.price<=this.maxPrice)),this.availabilityFilter==="in"?e=e.filter(n=>n.quantityAvailable>0):this.availabilityFilter==="out"&&(e=e.filter(n=>n.quantityAvailable===0)),this.sortOrder==="asc"?e.sort((n,r)=>n.price-r.price):this.sortOrder==="desc"&&e.sort((n,r)=>r.price-n.price),e}get totalPages(){return Math.ceil(this.filteredMenuItems().length/this.itemsPerPage)}paginatedItems(){let e=(this.currentPage-1)*this.itemsPerPage,n=e+this.itemsPerPage;return this.filteredMenuItems().slice(e,n)}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}previousPage(){this.currentPage>1&&this.currentPage--}viewCart(){this.router.navigate(["/cart"])}onImageError(e){e.target.src="assets/default.jpg"}increaseQuantity(e){e.quantity=(e.quantity||0)+1,this.cartService.addToCart(e,1)}decreaseQuantity(e){(e.quantity||0)<=0||(e.quantity=e.quantity-1,this.cartService.addToCart(e,-1))}static \u0275fac=function(n){return new(n||t)(tt(pa),tt(Ea),tt(li))};static \u0275cmp=Gr({type:t,selectors:[["app-menu-list"]],decls:47,vars:18,consts:[[3,"isLoading"],[1,"sticky-filter-panel","shadow-sm"],[1,"input-group","search-box","mb-3"],[1,"input-group-text","bg-light"],[1,"bi","bi-search"],["type","text","placeholder","Search items...",1,"form-control",3,"ngModelChange","ngModel"],[1,"chips-wrapper","mb-3"],[1,"chip",3,"click"],[1,"row","g-3","filters-row"],[1,"col-md-3"],["type","number","placeholder","Min Price",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","Max Price",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","asc"],["value","desc"],["value","in"],["value","out"],[1,"page-content"],[1,"fw-bold","mt-4"],[1,"row","g-4","mt-2"],["class","col-lg-3 col-md-4 col-sm-6",4,"ngFor","ngForOf"],[1,"pagination-container"],[1,"page-btn",3,"click","disabled"],[1,"page-info"],["class","cart-float",4,"ngIf"],[1,"col-lg-3","col-md-4","col-sm-6"],[1,"card","item-card","shadow-sm"],[1,"image-container"],[1,"menu-img",3,"error","src"],["class","stock-badge",4,"ngIf"],[1,"card-body"],[1,"fw-bold"],[1,"price"],[1,"qty-box"],[1,"btn","minus",3,"click","disabled"],[1,"btn","plus",3,"click","disabled"],[1,"stock-badge"],[1,"cart-float"],[1,"btn","btn-success",3,"click"]],template:function(n,r){n&1&&(Sr(0,"app-loader",0),re(1,"div",1)(2,"div",2)(3,"span",3),Sr(4,"i",4),ie(),re(5,"input",5),On("ngModelChange",function(o){return Bn(r.searchText,o)||(r.searchText=o),o}),St("ngModelChange",function(){return r.currentPage=1}),ie()(),re(6,"div",6)(7,"span",7),St("click",function(){return r.selectedCategory="",r.currentPage=1}),ye(8,"All"),ie(),re(9,"span",7),St("click",function(){return r.selectedCategory="Veg",r.currentPage=1}),ye(10,"\u{1F331} Veg"),ie(),re(11,"span",7),St("click",function(){return r.selectedCategory="Non-Veg",r.currentPage=1}),ye(12,"\u{1F357} Non-Veg"),ie()(),re(13,"div",8)(14,"div",9)(15,"input",10),On("ngModelChange",function(o){return Bn(r.minPrice,o)||(r.minPrice=o),o}),ie()(),re(16,"div",9)(17,"input",11),On("ngModelChange",function(o){return Bn(r.maxPrice,o)||(r.maxPrice=o),o}),ie()(),re(18,"div",9)(19,"select",12),On("ngModelChange",function(o){return Bn(r.sortOrder,o)||(r.sortOrder=o),o}),re(20,"option",13),ye(21,"Sort By"),ie(),re(22,"option",14),ye(23,"Low \u2192 High"),ie(),re(24,"option",15),ye(25,"High \u2192 Low"),ie()()(),re(26,"div",9)(27,"select",12),On("ngModelChange",function(o){return Bn(r.availabilityFilter,o)||(r.availabilityFilter=o),o}),re(28,"option",13),ye(29,"All Items"),ie(),re(30,"option",16),ye(31,"In Stock"),ie(),re(32,"option",17),ye(33,"Out of Stock"),ie()()()()(),re(34,"div",18)(35,"h3",19),ye(36,"\u{1F37D}\uFE0F Menu Items"),ie(),re(37,"div",20),Vn(38,Kte,17,7,"div",21),ie()(),re(39,"div",22)(40,"button",23),St("click",function(){return r.previousPage()}),ye(41,"\u2190 Previous"),ie(),re(42,"span",24),ye(43),ie(),re(44,"button",23),St("click",function(){return r.nextPage()}),ye(45,"Next \u2192"),ie()(),Vn(46,Qte,5,1,"div",25)),n&2&&(Ct("isLoading",r.isLoading),Re(5),Mn("ngModel",r.searchText),Re(2),Ac("active",r.selectedCategory==""),Re(2),Ac("active",r.selectedCategory=="Veg"),Re(2),Ac("active",r.selectedCategory=="Non-Veg"),Re(4),Mn("ngModel",r.minPrice),Re(2),Mn("ngModel",r.maxPrice),Re(2),Mn("ngModel",r.sortOrder),Re(8),Mn("ngModel",r.availabilityFilter),Re(11),Ct("ngForOf",r.paginatedItems()),Re(2),Ct("disabled",r.currentPage===1),Re(3),c0("Page ",r.currentPage," of ",r.totalPages),Re(),Ct("disabled",r.currentPage===r.totalPages),Re(2),Ct("ngIf",r.cartItemCount>0))},dependencies:[Ci,Xo,xs,ts,lw,dw,es,Iu,Of,fa,ks,hw],styles:[".sticky-filter-panel[_ngcontent-%COMP%]{top:70px;background:#fff;padding:18px;border-radius:12px;z-index:200;border:1px solid #eee}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:8px}.chips-wrapper[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.chip[_ngcontent-%COMP%]{padding:6px 14px;background:#f5f5f5;border-radius:50px;cursor:pointer;border:1px solid #ddd;font-size:14px;transition:.2s}.chip.active[_ngcontent-%COMP%]{background:#0d6efd;color:#fff;border-color:#0d6efd}.item-card[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;transition:.2s}.item-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 6px 16px #00000026}.image-container[_ngcontent-%COMP%]{position:relative}.menu-img[_ngcontent-%COMP%]{height:180px;width:100%;object-fit:cover}.stock-badge[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;background:#ff0000d9;padding:4px 10px;font-size:13px;color:#fff;border-radius:4px}.price[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:#444}.qty-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.qty-box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;padding:0;font-weight:700}.minus[_ngcontent-%COMP%]{background:#eee}.plus[_ngcontent-%COMP%]{background:#0d6efd;color:#fff}.pagination-container[_ngcontent-%COMP%]{text-align:center;margin:25px 0}.page-btn[_ngcontent-%COMP%]{background:#0d6efd;color:#fff;border:none;padding:6px 16px;border-radius:6px;margin:0 8px}.page-btn[_ngcontent-%COMP%]:disabled{background:#ccc}.page-info[_ngcontent-%COMP%]{font-weight:700;margin:0 10px}.cart-float[_ngcontent-%COMP%]{position:fixed;bottom:12px;left:50%;transform:translate(-50%);width:95%;padding:14px;background:#fff;border-radius:12px;box-shadow:0 4px 16px #00000026;display:flex;justify-content:space-between;align-items:center;z-index:3000}@media(max-width:576px){.menu-img[_ngcontent-%COMP%]{height:150px}.sticky-filter-panel[_ngcontent-%COMP%]{top:55px}}"]})};function Yte(t,e){t&1&&(re(0,"div"),ye(1,"Your cart is empty"),ie())}function Jte(t,e){if(t&1){let n=Zi();re(0,"tr")(1,"td"),ye(2),ie(),re(3,"td"),ye(4),ie(),re(5,"td"),ye(6),ie(),re(7,"td"),ye(8),ie(),re(9,"td")(10,"div",12)(11,"button",13),St("click",function(){let i=un(n).$implicit,o=kt(2);return ln(o.decreaseQuantity(i))}),ye(12,"-"),ie(),re(13,"span"),ye(14),ie(),re(15,"button",14),St("click",function(){let i=un(n).$implicit,o=kt(2);return ln(o.increaseQuantity(i))}),ye(16,"+"),ie()()(),re(17,"td")(18,"button",15),St("click",function(){let i=un(n).$implicit,o=kt(2);return ln(o.remove(i))}),ye(19,"Remove"),ie()()()}if(t&2){let n=e.$implicit;Re(2),kn(n.menuItem.name),Re(2),kn(n.menuItem.price),Re(2),kn(n.quantity),Re(2),kn(n.totalPrice),Re(6),kn(n.quantity||0)}}function Zte(t,e){if(t&1&&(re(0,"table",10)(1,"thead")(2,"tr")(3,"th"),ye(4,"Name"),ie(),re(5,"th"),ye(6,"Price"),ie(),re(7,"th"),ye(8,"Quantity"),ie(),re(9,"th"),ye(10,"Total"),ie(),re(11,"th"),ye(12,"#"),ie(),re(13,"th"),ye(14,"Actions"),ie()()(),re(15,"tbody"),Vn(16,Jte,20,5,"tr",11),ie()()),t&2){let n=kt();Re(16),Ct("ngForOf",n.cartItems)}}function Xte(t,e){if(t&1){let n=Zi();re(0,"div",16)(1,"div",17)(2,"h5",18),ye(3),ie(),re(4,"p",19)(5,"strong"),ye(6,"Price:"),ie(),ye(7),ie(),re(8,"p",19)(9,"strong"),ye(10,"Total:"),ie(),ye(11),ie(),re(12,"div",20)(13,"button",13),St("click",function(){let i=un(n).$implicit,o=kt();return ln(o.decreaseQuantity(i))}),ye(14,"-"),ie(),re(15,"span"),ye(16),ie(),re(17,"button",14),St("click",function(){let i=un(n).$implicit,o=kt();return ln(o.increaseQuantity(i))}),ye(18,"+"),ie()(),re(19,"button",21),St("click",function(){let i=un(n).$implicit,o=kt();return ln(o.remove(i))}),ye(20,"Remove"),ie()()()}if(t&2){let n=e.$implicit;Re(3),kn(n.menuItem.name),Re(4),rr(" \u20B9",n.menuItem.price),Re(4),rr(" \u20B9",n.totalPrice),Re(5),kn(n.quantity)}}function ene(t,e){if(t&1&&(re(0,"h4"),ye(1),ie()),t&2){let n=kt();Re(),rr("Total Amount: \u20B9",n.totalAmount)}}function tne(t,e){if(t&1){let n=Zi();re(0,"div")(1,"label"),ye(2,"Purchaser Name:"),ie(),re(3,"input",22),On("ngModelChange",function(i){un(n);let o=kt();return Bn(o.purchaserName,i)||(o.purchaserName=i),ln(i)}),ie(),re(4,"label"),ye(5,"Mobile Number:"),ie(),re(6,"input",23),On("ngModelChange",function(i){un(n);let o=kt();return Bn(o.mobileNumber,i)||(o.mobileNumber=i),ln(i)}),ie()()}if(t&2){let n=kt();Re(3),Mn("ngModel",n.purchaserName),Re(3),Mn("ngModel",n.mobileNumber)}}function nne(t,e){if(t&1){let n=Zi();re(0,"button",24),St("click",function(){un(n);let i=kt();return ln(i.confirmOrder())}),ye(1),ie()}if(t&2){let n=kt();Ct("disabled",n.loading()),Re(),rr(" ",n.loading()?"Saving...":"Place Order"," ")}}var lb=class t{constructor(e,n,r){this.cartService=e;this.firebaseService=n;this.router=r}cartItems=[];purchaserName="";mobileNumber="";totalAmount=0;loading=$r(!1);ngOnInit(){this.cartService.cartItems$.subscribe(e=>{this.cartItems=e,this.totalAmount=this.cartItems.reduce((n,r)=>n+r.totalPrice,0)})}increaseQuantity(e){this.cartService.addToCart(e.menuItem,1)}decreaseQuantity(e){e.quantity>1?this.cartService.addToCart(e.menuItem,-1):this.remove(e)}remove(e){this.cartService.removeFromCart(e.menuItem.id),this.cartService.updateCartCount()}async confirmOrder(){if(!this.cartItems.length)return alert("Cart is empty!");if(!this.purchaserName.trim()||!this.mobileNumber.toString().trim())return alert("Enter customer name and mobile number!");this.loading.set(!0);let e={customerName:this.purchaserName,mobileNumber:this.mobileNumber,items:this.cartItems.map(n=>({id:n.menuItem.id,name:n.menuItem.name,price:n.menuItem.price,quantity:n.quantity,totalPrice:n.totalPrice})),totalAmount:this.totalAmount,DateTime:new Date().toLocaleString()};try{let{orderId:n,docId:r}=await this.firebaseService.placeOrderAtomic(e);alert(`Order placed \u2014 Order #${n}`);let i=Mt(Me({},e),{orderId:n,createdAt:new Date().toLocaleString()});this.printInvoice(i),this.cartService.clearCart(),this.cartService.updateCartCount(),this.router.navigate(["/"])}catch(n){console.error("placeOrderAtomic failed",n),alert("Failed to place order \u2014 try again")}finally{this.loading.set(!1)}}goBack(){this.router.navigate(["/menu"])}printInvoice(e){let n=window.open("","_blank","width=600,height=800");if(!n){alert("Failed to open invoice window. Please allow pop-ups for this site.");return}let r=new Date().toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(",","");n.document.write(`
    <html>
      <head>
        <title>Invoice</title>
        <style>
          body {
            font-family: "Times New Roman", serif;
            padding: 20px;
            background: #f7e7a9; /* light yellow like the sample */
            color: #000;
          }
          .bill-box {
            border: 2px solid #000;
            padding: 15px;
          }
          h2, h3, h4 {
            text-align: center;
            margin: 0;
            padding: 0;
          }
          .center {
            text-align: center;
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
          }
          th, td {
            border: 1px solid #000;
            padding: 6px;
            font-size: 14px;
          }
          .no-border td {
            border: none;
          }
          .footer-msg {
            margin-top: 20px;
            text-align: center;
            font-weight: bold;
          }
        </style>
      </head>

      <body>
        <div class="bill-box">

          <h2>NAVEEN'S DELHI MALAI CHAAP</h2>
          <div class="center">Thirukovilur Main Rd, Bharathi Nagar, Tiruvennanallur, Tiruvannamalai, Tamil Nadu 606601</div>
          <div class="center">Contact: 74188 89585</div>
          <br/>

          <table class="no-border">
            <tr>
              <td><b>Bill No:</b> ${e.orderId}</td>
              <td><b>Bill Date:</b> ${r}</td>
            </tr>
            <tr>
              <td><b>Customer:</b> ${e.customerName}</td>
              <td><b>Mobile:</b> ${e.mobileNumber}</td>
            </tr>
          </table>

          <br/>

          <table>
            <thead>
              <tr>
                <th>Item Name</th>
                <th>Rate</th>
                <th>Qty</th>
                <th>Amount</th>
              </tr>
            </thead>
            <tbody>
              ${e.items.map(i=>`
              <tr>
                <td>${i.name}</td>
                <td>\u20B9${i.price}</td>
                <td>${i.quantity}</td>
                <td>\u20B9${i.totalPrice}</td>
              </tr>
              `).join("")}
            </tbody>
          </table>

          <br/>

          <table class="no-border">
            <tr>
              <td><b>Items:</b> ${e.items.length}</td>
              <td><b>Qty:</b> ${e.items.reduce((i,o)=>i+o.quantity,0)}</td>
              <td><b>Total Amount:</b></td>
              <td><b>\u20B9${e.totalAmount}</b></td>
            </tr>
          </table>

          <h3 style="text-align:center;">Net Amount: \u20B9${e.totalAmount}</h3>

          <br/>

          <div class="footer-msg">
            GOODS SOLD CANNOT BE RETURNED OR REFUNDED<br/>
            Thank You! Visit Again
          </div>

        </div>

        <br/>
        <div class="center">
          <button onclick="window.print()">Print Invoice</button>
        </div>

      </body>
    </html>
  `),n.document.close()}static \u0275fac=function(n){return new(n||t)(tt(pa),tt(Ea),tt(li))};static \u0275cmp=Gr({type:t,selectors:[["app-cart"]],decls:14,vars:6,consts:[[1,"btn","btn-primary",3,"click"],[1,"my-3"],[4,"ngIf"],[1,"d-none","d-md-block"],["class","table table-striped",4,"ngIf"],[1,"d-md-none"],["class","card mb-2 shadow-sm",4,"ngFor","ngForOf"],[1,"col-12","mt-3","text-end"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],["id","printArea",2,"display","none"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"btn","btn-outline-secondary","btn-sm","me-2",3,"click"],[1,"btn","btn-outline-secondary","btn-sm","ms-2",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"card","mb-2","shadow-sm"],[1,"card-body"],[1,"card-title"],[1,"mb-1"],[1,"d-flex","align-items-center","mb-2"],[1,"btn","btn-danger","btn-sm","w-100",3,"click"],["type","text","placeholder","Enter purchaser name",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["type","number","maxlength","10","pattern","[0-9]{10}","placeholder","Enter mobile number",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click","disabled"]],template:function(n,r){n&1&&(re(0,"button",0),St("click",function(){return r.goBack()}),ye(1,"Back"),ie(),re(2,"h2",1),ye(3,"Cart"),ie(),Vn(4,Yte,2,0,"div",2),re(5,"div",3),Vn(6,Zte,17,1,"table",4),ie(),re(7,"div",5),Vn(8,Xte,21,4,"div",6),ie(),Vn(9,ene,2,1,"h4",2)(10,tne,7,2,"div",2),re(11,"div",7),Vn(12,nne,2,2,"button",8),ie(),Sr(13,"div",9)),n&2&&(Re(4),Ct("ngIf",r.cartItems.length===0),Re(2),Ct("ngIf",r.cartItems.length>0),Re(2),Ct("ngForOf",r.cartItems),Re(),Ct("ngIf",r.cartItems.length>0),Re(),Ct("ngIf",r.cartItems.length>0),Re(2),Ct("ngIf",r.cartItems.length>0))},dependencies:[Ci,Xo,xs,ts,es,Iu,fa,P2,k2,ks],styles:[".table[_ngcontent-%COMP%]{margin-top:20px}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}#printArea[_ngcontent-%COMP%], #printArea[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible}#printArea[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%}}"]})};var db=class t{constructor(e){this.cartService=e}orders=[];nextId=1;createOrder(e,n,r){let i=e.map(a=>({menuItem:a.menuItem,quantity:a.quantity,totalPrice:a.totalPrice})),o=i.reduce((a,c)=>a+c.totalPrice,0),s={id:this.nextId++,items:i,totalAmount:o,status:"Pending",tableNumber:n,customerName:r,orderTime:new Date};return this.orders.push(s),this.cartService.updateCartCount(),s}getOrders(){return this.orders}updateStatus(e,n){let r=this.orders.find(i=>i.id===e);r&&(r.status=n)}static \u0275fac=function(n){return new(n||t)(Tt(pa))};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})};var hb=class t{constructor(e,n){this.cartService=e;this.orderService=n}tableNumber="";customerName="";placeTableOrder(){let e=this.cartService.cartItems.getValue();if(!e.length){alert("Cart is empty");return}this.orderService.createOrder(e,this.tableNumber,this.customerName),this.cartService.clearCart(),alert("Table order placed!"),this.tableNumber="",this.customerName=""}static \u0275fac=function(n){return new(n||t)(tt(pa),tt(db))};static \u0275cmp=Gr({type:t,selectors:[["app-table-order"]],decls:12,vars:2,consts:[[1,"my-3"],[1,"mb-3"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click"]],template:function(n,r){n&1&&(re(0,"h2",0),ye(1,"Table Order"),ie(),re(2,"div",1)(3,"label"),ye(4,"Table Number"),ie(),re(5,"input",2),On("ngModelChange",function(o){return Bn(r.tableNumber,o)||(r.tableNumber=o),o}),ie()(),re(6,"div",1)(7,"label"),ye(8,"Customer Name"),ie(),re(9,"input",2),On("ngModelChange",function(o){return Bn(r.customerName,o)||(r.customerName=o),o}),ie()(),re(10,"button",3),St("click",function(){return r.placeTableOrder()}),ye(11,"Place Table Order"),ie()),n&2&&(Re(5),Mn("ngModel",r.tableNumber),Re(4),Mn("ngModel",r.customerName))},dependencies:[ts,es,fa,ks],styles:["input[_ngcontent-%COMP%]{max-width:300px}"]})};var tc=Uint8Array,Fs=Uint16Array,Gx=Int32Array,Wx=new tc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Kx=new tc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),H6=new tc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Q6=function(t,e){for(var n=new Fs(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Gx(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},Y6=Q6(Wx,2),ine=Y6.b,zx=Y6.r;ine[28]=258,zx[258]=28;var J6=Q6(Kx,0),xAe=J6.b,G6=J6.r,$x=new Fs(32768);for(Gn=0;Gn<32768;++Gn)ju=(Gn&43690)>>1|(Gn&21845)<<1,ju=(ju&52428)>>2|(ju&13107)<<2,ju=(ju&61680)>>4|(ju&3855)<<4,$x[Gn]=((ju&65280)>>8|(ju&255)<<8)>>1;var ju,Gn,My=function(t,e,n){for(var r=t.length,i=0,o=new Fs(e);i<r;++i)t[i]&&++o[t[i]-1];var s=new Fs(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new Fs(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],l=e-t[i],m=s[t[i]-1]++<<l,y=m|(1<<l)-1;m<=y;++m)a[$x[m]>>c]=u}else for(a=new Fs(r),i=0;i<r;++i)t[i]&&(a[i]=$x[s[t[i]-1]++]>>15-t[i]);return a},Sh=new tc(288);for(Gn=0;Gn<144;++Gn)Sh[Gn]=8;var Gn;for(Gn=144;Gn<256;++Gn)Sh[Gn]=9;var Gn;for(Gn=256;Gn<280;++Gn)Sh[Gn]=7;var Gn;for(Gn=280;Gn<288;++Gn)Sh[Gn]=8;var Gn,fb=new tc(32);for(Gn=0;Gn<32;++Gn)fb[Gn]=5;var Gn,one=My(Sh,9,0);var sne=My(fb,5,0);var Z6=function(t){return(t+7)/8|0},ane=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new tc(t.subarray(e,n))};var Uu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Py=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},qx=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:e8,l:0};if(i==1){var s=new tc(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(fe,be){return fe.f-be.f}),n.push({s:-1,f:25001});var a=n[0],c=n[1],u=0,l=1,m=2;for(n[0]={s:-1,f:a.f+c.f,l:a,r:c};l!=i-1;)a=n[n[u].f<n[m].f?u++:m++],c=n[u!=l&&n[u].f<n[m].f?u++:m++],n[l++]={s:-1,f:a.f+c.f,l:a,r:c};for(var y=o[0].s,r=1;r<i;++r)o[r].s>y&&(y=o[r].s);var g=new Fs(y+1),R=Hx(n[l-1],g,0);if(R>e){var r=0,k=0,M=R-e,L=1<<M;for(o.sort(function(be,P){return g[P.s]-g[be.s]||be.f-P.f});r<i;++r){var Z=o[r].s;if(g[Z]>e)k+=L-(1<<R-g[Z]),g[Z]=e;else break}for(k>>=M;k>0;){var J=o[r].s;g[J]<e?k-=1<<e-g[J]++-1:++r}for(;r>=0&&k;--r){var Y=o[r].s;g[Y]==e&&(--g[Y],++k)}R=e}return{t:new tc(g),l:R}},Hx=function(t,e,n){return t.s==-1?Math.max(Hx(t.l,e,n+1),Hx(t.r,e,n+1)):e[t.s]=n},W6=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Fs(++e),r=0,i=t[0],o=1,s=function(c){n[r++]=c},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},ky=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},X6=function(t,e,n){var r=n.length,i=Z6(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<r;++o)t[i+o+4]=n[o];return(i+4+r)*8},K6=function(t,e,n,r,i,o,s,a,c,u,l){Uu(e,l++,n),++i[256];for(var m=qx(i,15),y=m.t,g=m.l,R=qx(o,15),k=R.t,M=R.l,L=W6(y),Z=L.c,J=L.n,Y=W6(k),fe=Y.c,be=Y.n,P=new Fs(19),T=0;T<Z.length;++T)++P[Z[T]&31];for(var T=0;T<fe.length;++T)++P[fe[T]&31];for(var w=qx(P,7),D=w.t,_=w.l,A=19;A>4&&!D[H6[A-1]];--A);var I=u+5<<3,ee=ky(i,Sh)+ky(o,fb)+s,_e=ky(i,y)+ky(o,k)+s+14+3*A+ky(P,D)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&I<=ee&&I<=_e)return X6(e,l,t.subarray(c,c+u));var Ce,Te,pe,Se;if(Uu(e,l,1+(_e<ee)),l+=2,_e<ee){Ce=My(y,g,0),Te=y,pe=My(k,M,0),Se=k;var $e=My(D,_,0);Uu(e,l,J-257),Uu(e,l+5,be-1),Uu(e,l+10,A-4),l+=14;for(var T=0;T<A;++T)Uu(e,l+3*T,D[H6[T]]);l+=3*A;for(var Le=[Z,fe],B=0;B<2;++B)for(var W=Le[B],T=0;T<W.length;++T){var X=W[T]&31;Uu(e,l,$e[X]),l+=D[X],X>15&&(Uu(e,l,W[T]>>5&127),l+=W[T]>>12)}}else Ce=one,Te=Sh,pe=sne,Se=fb;for(var T=0;T<a;++T){var ne=r[T];if(ne>255){var X=ne>>18&31;Py(e,l,Ce[X+257]),l+=Te[X+257],X>7&&(Uu(e,l,ne>>23&31),l+=Wx[X]);var ce=ne&31;Py(e,l,pe[ce]),l+=Se[ce],ce>3&&(Py(e,l,ne>>5&8191),l+=Kx[ce])}else Py(e,l,Ce[ne]),l+=Te[ne]}return Py(e,l,Ce[256]),l+Te[256]},cne=new Gx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),e8=new tc(0),une=function(t,e,n,r,i,o){var s=o.z||t.length,a=new tc(r+s+5*(1+Math.ceil(s/7e3))+i),c=a.subarray(r,a.length-i),u=o.l,l=(o.r||0)&7;if(e){l&&(c[0]=o.r>>3);for(var m=cne[e-1],y=m>>13,g=m&8191,R=(1<<n)-1,k=o.p||new Fs(32768),M=o.h||new Fs(R+1),L=Math.ceil(n/3),Z=2*L,J=function(lt){return(t[lt]^t[lt+1]<<L^t[lt+2]<<Z)&R},Y=new Gx(25e3),fe=new Fs(288),be=new Fs(32),P=0,T=0,w=o.i||0,D=0,_=o.w||0,A=0;w+2<s;++w){var I=J(w),ee=w&32767,_e=M[I];if(k[ee]=_e,M[I]=ee,_<=w){var Ce=s-w;if((P>7e3||D>24576)&&(Ce>423||!u)){l=K6(t,c,0,Y,fe,be,T,D,A,w-A,l),D=P=T=0,A=w;for(var Te=0;Te<286;++Te)fe[Te]=0;for(var Te=0;Te<30;++Te)be[Te]=0}var pe=2,Se=0,$e=g,Le=ee-_e&32767;if(Ce>2&&I==J(w-Le))for(var B=Math.min(y,Ce)-1,W=Math.min(32767,w),X=Math.min(258,Ce);Le<=W&&--$e&&ee!=_e;){if(t[w+pe]==t[w+pe-Le]){for(var ne=0;ne<X&&t[w+ne]==t[w+ne-Le];++ne);if(ne>pe){if(pe=ne,Se=Le,ne>B)break;for(var ce=Math.min(Le,ne-2),de=0,Te=0;Te<ce;++Te){var Ee=w-Le+Te&32767,Ie=k[Ee],xe=Ee-Ie&32767;xe>de&&(de=xe,_e=Ee)}}}ee=_e,_e=k[ee],Le+=ee-_e&32767}if(Se){Y[D++]=268435456|zx[pe]<<18|G6[Se];var je=zx[pe]&31,Je=G6[Se]&31;T+=Wx[je]+Kx[Je],++fe[257+je],++be[Je],_=w+pe,++P}else Y[D++]=t[w],++fe[t[w]]}}for(w=Math.max(w,_);w<s;++w)Y[D++]=t[w],++fe[t[w]];l=K6(t,c,u,Y,fe,be,T,D,A,w-A,l),u||(o.r=l&7|c[l/8|0]<<3,l-=7,o.h=M,o.p=k,o.i=w,o.w=_)}else{for(var w=o.w||0;w<s+u;w+=65535){var Ke=w+65535;Ke>=s&&(c[l/8|0]=u,Ke=s),l=X6(c,l+1,t.subarray(w,Ke))}o.i=s}return ane(a,0,r+Z6(l)+i)};var t8=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},lne=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new tc(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return une(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)};var n8=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};var dne=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=t8();i.p(e.dictionary),n8(t,2,i.d())}};function pb(t,e){e||(e={});var n=t8();n.p(t);var r=lne(t,e,e.dictionary?6:2,4);return dne(r,e),n8(r,r.length-4,n.d()),r}var hne=typeof TextDecoder<"u"&&new TextDecoder,fne=0;try{hne.decode(e8,{stream:!0}),fne=1}catch{}function r8(t){if(Array.isArray(t))return t}function i8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(l){u=!0,i=l}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Qx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function o8(t,e){if(t){if(typeof t=="string")return Qx(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qx(t,e):void 0}}function s8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yx(t,e){return r8(t)||i8(t,e)||o8(t,e)||s8()}function Jx(t,e="utf8"){return new TextDecoder(e).decode(t)}var pne=new TextEncoder;function a8(t){return pne.encode(t)}var gne=1024*8,mne=(()=>{let t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Zx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},Oy=class t{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=gne,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);let i=n.offset?n.offset>>>0:0,o=e.byteLength-i,s=i;(ArrayBuffer.isView(e)||e instanceof t)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){let r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){let r=Zx[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===mne&&n!=="uint8"&&n!=="int8"){let a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();let c=new Zx[n](a.buffer);return this.offset+=r,c.reverse(),c}let s=new Zx[n](o);return this.offset+=r,s}readInt16(){let e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){let e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){let e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){let e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){let e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){let e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){let e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){let e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return Jx(this.readBytes(e))}decodeText(e=1,n="utf8"){return Jx(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(a8(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}};function Rp(t){let e=t.length;for(;--e>=0;)t[e]=0}var yne=0,G8=1,vne=2,_ne=3,wne=258,EN=29,Yy=256,qy=Yy+1+EN,Dp=30,IN=19,W8=2*qy+1,Ah=15,Xx=16,bne=7,TN=256,K8=16,Q8=17,Y8=18,fN=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),wb=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ene=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),J8=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ine=512,zu=new Array((qy+2)*2);Rp(zu);var By=new Array(Dp*2);Rp(By);var zy=new Array(Ine);Rp(zy);var $y=new Array(wne-_ne+1);Rp($y);var SN=new Array(EN);Rp(SN);var bb=new Array(Dp);Rp(bb);function eN(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}var Z8,X8,eB;function tN(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}var tB=t=>t<256?zy[t]:zy[256+(t>>>7)],Hy=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},is=(t,e,n)=>{t.bi_valid>Xx-n?(t.bi_buf|=e<<t.bi_valid&65535,Hy(t,t.bi_buf),t.bi_buf=e>>Xx-t.bi_valid,t.bi_valid+=n-Xx):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},qc=(t,e,n)=>{is(t,n[e*2],n[e*2+1])},nB=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},Tne=t=>{t.bi_valid===16?(Hy(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},Sne=(t,e)=>{let n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length,u,l,m,y,g,R,k=0;for(y=0;y<=Ah;y++)t.bl_count[y]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<W8;u++)l=t.heap[u],y=n[n[l*2+1]*2+1]+1,y>c&&(y=c,k++),n[l*2+1]=y,!(l>r)&&(t.bl_count[y]++,g=0,l>=a&&(g=s[l-a]),R=n[l*2],t.opt_len+=R*(y+g),o&&(t.static_len+=R*(i[l*2+1]+g)));if(k!==0){do{for(y=c-1;t.bl_count[y]===0;)y--;t.bl_count[y]--,t.bl_count[y+1]+=2,t.bl_count[c]--,k-=2}while(k>0);for(y=c;y!==0;y--)for(l=t.bl_count[y];l!==0;)m=t.heap[--u],!(m>r)&&(n[m*2+1]!==y&&(t.opt_len+=(y-n[m*2+1])*n[m*2],n[m*2+1]=y),l--)}},rB=(t,e,n)=>{let r=new Array(Ah+1),i=0,o,s;for(o=1;o<=Ah;o++)i=i+n[o-1]<<1,r[o]=i;for(s=0;s<=e;s++){let a=t[s*2+1];a!==0&&(t[s*2]=nB(r[a]++,a))}},Ane=()=>{let t,e,n,r,i,o=new Array(Ah+1);for(n=0,r=0;r<EN-1;r++)for(SN[r]=n,t=0;t<1<<fN[r];t++)$y[n++]=r;for($y[n-1]=r,i=0,r=0;r<16;r++)for(bb[r]=i,t=0;t<1<<wb[r];t++)zy[i++]=r;for(i>>=7;r<Dp;r++)for(bb[r]=i<<7,t=0;t<1<<wb[r]-7;t++)zy[256+i++]=r;for(e=0;e<=Ah;e++)o[e]=0;for(t=0;t<=143;)zu[t*2+1]=8,t++,o[8]++;for(;t<=255;)zu[t*2+1]=9,t++,o[9]++;for(;t<=279;)zu[t*2+1]=7,t++,o[7]++;for(;t<=287;)zu[t*2+1]=8,t++,o[8]++;for(rB(zu,qy+1,o),t=0;t<Dp;t++)By[t*2+1]=5,By[t*2]=nB(t,5);Z8=new eN(zu,fN,Yy+1,qy,Ah),X8=new eN(By,wb,0,Dp,Ah),eB=new eN(new Array(0),Ene,0,IN,bne)},iB=t=>{let e;for(e=0;e<qy;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Dp;e++)t.dyn_dtree[e*2]=0;for(e=0;e<IN;e++)t.bl_tree[e*2]=0;t.dyn_ltree[TN*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},oB=t=>{t.bi_valid>8?Hy(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},c8=(t,e,n,r)=>{let i=e*2,o=n*2;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]},nN=(t,e,n)=>{let r=t.heap[n],i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&c8(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!c8(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},u8=(t,e,n)=>{let r,i,o=0,s,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+o++]&255,r+=(t.pending_buf[t.sym_buf+o++]&255)<<8,i=t.pending_buf[t.sym_buf+o++],r===0?qc(t,i,e):(s=$y[i],qc(t,s+Yy+1,e),a=fN[s],a!==0&&(i-=SN[s],is(t,i,a)),r--,s=tB(r),qc(t,s,n),a=wb[s],a!==0&&(r-=bb[s],is(t,r,a)));while(o<t.sym_next);qc(t,TN,e)},pN=(t,e)=>{let n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems,s,a,c=-1,u;for(t.heap_len=0,t.heap_max=W8,s=0;s<o;s++)n[s*2]!==0?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=r[u*2+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)nN(t,n,s);u=o;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],nN(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,n[u*2]=n[s*2]+n[a*2],t.depth[u]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,n[s*2+1]=n[a*2+1]=u,t.heap[1]=u++,nN(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Sne(t,e),rB(n,c,t.bl_count)},l8=(t,e,n)=>{let r,i=-1,o,s=e[1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=e[(r+1)*2+1],!(++a<c&&o===s)&&(a<u?t.bl_tree[o*2]+=a:o!==0?(o!==i&&t.bl_tree[o*2]++,t.bl_tree[K8*2]++):a<=10?t.bl_tree[Q8*2]++:t.bl_tree[Y8*2]++,a=0,i=o,s===0?(c=138,u=3):o===s?(c=6,u=3):(c=7,u=4))},d8=(t,e,n)=>{let r,i=-1,o,s=e[1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(o=s,s=e[(r+1)*2+1],!(++a<c&&o===s)){if(a<u)do qc(t,o,t.bl_tree);while(--a!==0);else o!==0?(o!==i&&(qc(t,o,t.bl_tree),a--),qc(t,K8,t.bl_tree),is(t,a-3,2)):a<=10?(qc(t,Q8,t.bl_tree),is(t,a-3,3)):(qc(t,Y8,t.bl_tree),is(t,a-11,7));a=0,i=o,s===0?(c=138,u=3):o===s?(c=6,u=3):(c=7,u=4)}},Cne=t=>{let e;for(l8(t,t.dyn_ltree,t.l_desc.max_code),l8(t,t.dyn_dtree,t.d_desc.max_code),pN(t,t.bl_desc),e=IN-1;e>=3&&t.bl_tree[J8[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},Dne=(t,e,n,r)=>{let i;for(is(t,e-257,5),is(t,n-1,5),is(t,r-4,4),i=0;i<r;i++)is(t,t.bl_tree[J8[i]*2+1],3);d8(t,t.dyn_ltree,e-1),d8(t,t.dyn_dtree,n-1)},xne=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return 0;if(t.dyn_ltree[18]!==0||t.dyn_ltree[20]!==0||t.dyn_ltree[26]!==0)return 1;for(n=32;n<Yy;n++)if(t.dyn_ltree[n*2]!==0)return 1;return 0},h8=!1,Nne=t=>{h8||(Ane(),h8=!0),t.l_desc=new tN(t.dyn_ltree,Z8),t.d_desc=new tN(t.dyn_dtree,X8),t.bl_desc=new tN(t.bl_tree,eB),t.bi_buf=0,t.bi_valid=0,iB(t)},sB=(t,e,n,r)=>{is(t,(yne<<1)+(r?1:0),3),oB(t),Hy(t,n),Hy(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},Rne=t=>{is(t,G8<<1,3),qc(t,TN,zu),Tne(t)},Pne=(t,e,n,r)=>{let i,o,s=0;t.level>0?(t.strm.data_type===2&&(t.strm.data_type=xne(t)),pN(t,t.l_desc),pN(t,t.d_desc),s=Cne(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&e!==-1?sB(t,e,n,r):t.strategy===4||o===i?(is(t,(G8<<1)+(r?1:0),3),u8(t,zu,By)):(is(t,(vne<<1)+(r?1:0),3),Dne(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),u8(t,t.dyn_ltree,t.dyn_dtree)),iB(t),r&&oB(t)},kne=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[($y[n]+Yy+1)*2]++,t.dyn_dtree[tB(e)*2]++),t.sym_next===t.sym_end),Mne=Nne,One=sB,Lne=Pne,Fne=kne,Vne=Rne,Bne={_tr_init:Mne,_tr_stored_block:One,_tr_flush_block:Lne,_tr_tally:Fne,_tr_align:Vne},jne=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0},Gy=jne,Une=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},qne=new Uint32Array(Une()),zne=(t,e,n,r)=>{let i=qne,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1},ji=zne,xh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Pp={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:$ne,_tr_stored_block:gN,_tr_flush_block:Hne,_tr_tally:nd,_tr_align:Gne}=Bne,{Z_NO_FLUSH:rd,Z_PARTIAL_FLUSH:Wne,Z_FULL_FLUSH:Kne,Z_FINISH:Ia,Z_BLOCK:f8,Z_OK:eo,Z_STREAM_END:p8,Z_STREAM_ERROR:zc,Z_DATA_ERROR:Qne,Z_BUF_ERROR:rN,Z_DEFAULT_COMPRESSION:Yne,Z_FILTERED:Jne,Z_HUFFMAN_ONLY:gb,Z_RLE:Zne,Z_FIXED:Xne,Z_DEFAULT_STRATEGY:ere,Z_UNKNOWN:tre,Z_DEFLATED:Tb}=Pp,nre=9,rre=15,ire=8,ore=29,sre=256,mN=sre+1+ore,are=30,cre=19,ure=2*mN+1,lre=15,En=3,td=258,$c=td+En+1,dre=32,xp=42,AN=57,yN=69,vN=73,_N=91,wN=103,Ch=113,Fy=666,jo=1,kp=2,Nh=3,Mp=4,hre=3,Dh=(t,e)=>(t.msg=xh[e],e),g8=t=>t*2-(t>4?9:0),ed=t=>{let e=t.length;for(;--e>=0;)t[e]=0},fre=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)},pre=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,id=pre,Vs=t=>{let e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Bs=(t,e)=>{Hne(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Vs(t.strm)},Wn=(t,e)=>{t.pending_buf[t.pending++]=e},Ly=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},bN=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=Gy(t.adler,e,i,n):t.state.wrap===2&&(t.adler=ji(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},aB=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,o,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-$c?t.strstart-(t.w_size-$c):0,u=t.window,l=t.w_mask,m=t.prev,y=t.strstart+td,g=u[r+s-1],R=u[r+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(u[i+s]!==R||u[i+s-1]!==g||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<y);if(o=td-(y-r),r=y-td,o>s){if(t.match_start=e,s=o,o>=a)break;g=u[r+s-1],R=u[r+s]}}while((e=m[e&l])>c&&--n!==0);return s<=t.lookahead?s:t.lookahead},Np=t=>{let e=t.w_size,n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-$c)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),fre(t),r+=e),t.strm.avail_in===0)break;if(n=bN(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=En)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=id(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=id(t,t.ins_h,t.window[i+En-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<En)););}while(t.lookahead<$c&&t.strm.avail_in!==0)},cB=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,o,s=0,a=t.strm.avail_in;do{if(r=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>o&&(r=o),r<n&&(r===0&&e!==Ia||e===rd||r!==i+t.strm.avail_in)))break;s=e===Ia&&r===i+t.strm.avail_in?1:0,gN(t,0,0,s),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Vs(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(bN(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(s===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?Mp:e!==rd&&e!==Ia&&t.strm.avail_in===0&&t.strstart===t.block_start?kp:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&(bN(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,n=o>t.w_size?t.w_size:o,i=t.strstart-t.block_start,(i>=n||(i||e===Ia)&&e!==rd&&t.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,s=e===Ia&&t.strm.avail_in===0&&r===i?1:0,gN(t,t.block_start,r,s),t.block_start+=r,Vs(t.strm)),s?Nh:jo)},iN=(t,e)=>{let n,r;for(;;){if(t.lookahead<$c){if(Np(t),t.lookahead<$c&&e===rd)return jo;if(t.lookahead===0)break}if(n=0,t.lookahead>=En&&(t.ins_h=id(t,t.ins_h,t.window[t.strstart+En-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-$c&&(t.match_length=aB(t,n)),t.match_length>=En)if(r=nd(t,t.strstart-t.match_start,t.match_length-En),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=En){t.match_length--;do t.strstart++,t.ins_h=id(t,t.ins_h,t.window[t.strstart+En-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=id(t,t.ins_h,t.window[t.strstart+1]);else r=nd(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Bs(t,!1),t.strm.avail_out===0))return jo}return t.insert=t.strstart<En-1?t.strstart:En-1,e===Ia?(Bs(t,!0),t.strm.avail_out===0?Nh:Mp):t.sym_next&&(Bs(t,!1),t.strm.avail_out===0)?jo:kp},Ap=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<$c){if(Np(t),t.lookahead<$c&&e===rd)return jo;if(t.lookahead===0)break}if(n=0,t.lookahead>=En&&(t.ins_h=id(t,t.ins_h,t.window[t.strstart+En-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=En-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-$c&&(t.match_length=aB(t,n),t.match_length<=5&&(t.strategy===Jne||t.match_length===En&&t.strstart-t.match_start>4096)&&(t.match_length=En-1)),t.prev_length>=En&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-En,r=nd(t,t.strstart-1-t.prev_match,t.prev_length-En),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=id(t,t.ins_h,t.window[t.strstart+En-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=En-1,t.strstart++,r&&(Bs(t,!1),t.strm.avail_out===0))return jo}else if(t.match_available){if(r=nd(t,0,t.window[t.strstart-1]),r&&Bs(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return jo}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=nd(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<En-1?t.strstart:En-1,e===Ia?(Bs(t,!0),t.strm.avail_out===0?Nh:Mp):t.sym_next&&(Bs(t,!1),t.strm.avail_out===0)?jo:kp},gre=(t,e)=>{let n,r,i,o,s=t.window;for(;;){if(t.lookahead<=td){if(Np(t),t.lookahead<=td&&e===rd)return jo;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=En&&t.strstart>0&&(i=t.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=t.strstart+td;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=td-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=En?(n=nd(t,1,t.match_length-En),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=nd(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Bs(t,!1),t.strm.avail_out===0))return jo}return t.insert=0,e===Ia?(Bs(t,!0),t.strm.avail_out===0?Nh:Mp):t.sym_next&&(Bs(t,!1),t.strm.avail_out===0)?jo:kp},mre=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(Np(t),t.lookahead===0)){if(e===rd)return jo;break}if(t.match_length=0,n=nd(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Bs(t,!1),t.strm.avail_out===0))return jo}return t.insert=0,e===Ia?(Bs(t,!0),t.strm.avail_out===0?Nh:Mp):t.sym_next&&(Bs(t,!1),t.strm.avail_out===0)?jo:kp};function Uc(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}var Vy=[new Uc(0,0,0,0,cB),new Uc(4,4,8,4,iN),new Uc(4,5,16,8,iN),new Uc(4,6,32,32,iN),new Uc(4,4,16,16,Ap),new Uc(8,16,32,32,Ap),new Uc(8,16,128,128,Ap),new Uc(8,32,128,256,Ap),new Uc(32,128,258,1024,Ap),new Uc(32,258,258,4096,Ap)],yre=t=>{t.window_size=2*t.w_size,ed(t.head),t.max_lazy_match=Vy[t.level].max_lazy,t.good_match=Vy[t.level].good_length,t.nice_match=Vy[t.level].nice_length,t.max_chain_length=Vy[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=En-1,t.match_available=0,t.ins_h=0};function vre(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Tb,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ure*2),this.dyn_dtree=new Uint16Array((2*are+1)*2),this.bl_tree=new Uint16Array((2*cre+1)*2),ed(this.dyn_ltree),ed(this.dyn_dtree),ed(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(lre+1),this.heap=new Uint16Array(2*mN+1),ed(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*mN+1),ed(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Jy=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.status!==xp&&e.status!==AN&&e.status!==yN&&e.status!==vN&&e.status!==_N&&e.status!==wN&&e.status!==Ch&&e.status!==Fy?1:0},uB=t=>{if(Jy(t))return Dh(t,zc);t.total_in=t.total_out=0,t.data_type=tre;let e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?AN:e.wrap?xp:Ch,t.adler=e.wrap===2?0:1,e.last_flush=-2,$ne(e),eo},lB=t=>{let e=uB(t);return e===eo&&yre(t.state),e},_re=(t,e)=>Jy(t)||t.state.wrap!==2?zc:(t.state.gzhead=e,eo),dB=(t,e,n,r,i,o)=>{if(!t)return zc;let s=1;if(e===Yne&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>nre||n!==Tb||r<8||r>15||e<0||e>9||o<0||o>Xne||r===8&&s!==1)return Dh(t,zc);r===8&&(r=9);let a=new vre;return t.state=a,a.strm=t,a.status=xp,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+En-1)/En),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=o,a.method=n,lB(t)},wre=(t,e)=>dB(t,e,Tb,rre,ire,ere),bre=(t,e)=>{if(Jy(t)||e>f8||e<0)return t?Dh(t,zc):zc;let n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===Fy&&e!==Ia)return Dh(t,t.avail_out===0?rN:zc);let r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(Vs(t),t.avail_out===0)return n.last_flush=-1,eo}else if(t.avail_in===0&&g8(e)<=g8(r)&&e!==Ia)return Dh(t,rN);if(n.status===Fy&&t.avail_in!==0)return Dh(t,rN);if(n.status===xp&&n.wrap===0&&(n.status=Ch),n.status===xp){let i=Tb+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=gb||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,i|=o<<6,n.strstart!==0&&(i|=dre),i+=31-i%31,Ly(n,i),n.strstart!==0&&(Ly(n,t.adler>>>16),Ly(n,t.adler&65535)),t.adler=1,n.status=Ch,Vs(t),n.pending!==0)return n.last_flush=-1,eo}if(n.status===AN){if(t.adler=0,Wn(n,31),Wn(n,139),Wn(n,8),n.gzhead)Wn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Wn(n,n.gzhead.time&255),Wn(n,n.gzhead.time>>8&255),Wn(n,n.gzhead.time>>16&255),Wn(n,n.gzhead.time>>24&255),Wn(n,n.level===9?2:n.strategy>=gb||n.level<2?4:0),Wn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Wn(n,n.gzhead.extra.length&255),Wn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=ji(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=yN;else if(Wn(n,0),Wn(n,0),Wn(n,0),Wn(n,0),Wn(n,0),Wn(n,n.level===9?2:n.strategy>=gb||n.level<2?4:0),Wn(n,hre),n.status=Ch,Vs(t),n.pending!==0)return n.last_flush=-1,eo}if(n.status===yN){if(n.gzhead.extra){let i=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=ji(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,Vs(t),n.pending!==0)return n.last_flush=-1,eo;i=0,o-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(t.adler=ji(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=vN}if(n.status===vN){if(n.gzhead.name){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=ji(t.adler,n.pending_buf,n.pending-i,i)),Vs(t),n.pending!==0)return n.last_flush=-1,eo;i=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,Wn(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=ji(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=_N}if(n.status===_N){if(n.gzhead.comment){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=ji(t.adler,n.pending_buf,n.pending-i,i)),Vs(t),n.pending!==0)return n.last_flush=-1,eo;i=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,Wn(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=ji(t.adler,n.pending_buf,n.pending-i,i))}n.status=wN}if(n.status===wN){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Vs(t),n.pending!==0))return n.last_flush=-1,eo;Wn(n,t.adler&255),Wn(n,t.adler>>8&255),t.adler=0}if(n.status=Ch,Vs(t),n.pending!==0)return n.last_flush=-1,eo}if(t.avail_in!==0||n.lookahead!==0||e!==rd&&n.status!==Fy){let i=n.level===0?cB(n,e):n.strategy===gb?mre(n,e):n.strategy===Zne?gre(n,e):Vy[n.level].func(n,e);if((i===Nh||i===Mp)&&(n.status=Fy),i===jo||i===Nh)return t.avail_out===0&&(n.last_flush=-1),eo;if(i===kp&&(e===Wne?Gne(n):e!==f8&&(gN(n,0,0,!1),e===Kne&&(ed(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Vs(t),t.avail_out===0))return n.last_flush=-1,eo}return e!==Ia?eo:n.wrap<=0?p8:(n.wrap===2?(Wn(n,t.adler&255),Wn(n,t.adler>>8&255),Wn(n,t.adler>>16&255),Wn(n,t.adler>>24&255),Wn(n,t.total_in&255),Wn(n,t.total_in>>8&255),Wn(n,t.total_in>>16&255),Wn(n,t.total_in>>24&255)):(Ly(n,t.adler>>>16),Ly(n,t.adler&65535)),Vs(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?eo:p8)},Ere=t=>{if(Jy(t))return zc;let e=t.state.status;return t.state=null,e===Ch?Dh(t,Qne):eo},Ire=(t,e)=>{let n=e.length;if(Jy(t))return zc;let r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==xp||r.lookahead)return zc;if(i===1&&(t.adler=Gy(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(ed(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(e.subarray(n-r.w_size,n),0),e=c,n=r.w_size}let o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Np(r);r.lookahead>=En;){let c=r.strstart,u=r.lookahead-(En-1);do r.ins_h=id(r,r.ins_h,r.window[c+En-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=En-1,Np(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=En-1,r.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,r.wrap=i,eo},Tre=wre,Sre=dB,Are=lB,Cre=uB,Dre=_re,xre=bre,Nre=Ere,Rre=Ire,Pre="pako deflate (from Nodeca project)",jy={deflateInit:Tre,deflateInit2:Sre,deflateReset:Are,deflateResetKeep:Cre,deflateSetHeader:Dre,deflate:xre,deflateEnd:Nre,deflateSetDictionary:Rre,deflateInfo:Pre},kre=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Mre=function(t){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(let r in n)kre(n,r)&&(t[r]=n[r])}}return t},Ore=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;let n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},Sb={assign:Mre,flattenChunks:Ore},hB=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{hB=!1}var Wy=new Uint8Array(256);for(let t=0;t<256;t++)Wy[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Wy[254]=Wy[254]=1;var Lre=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e},Fre=(t,e)=>{if(e<65534&&t.subarray&&hB)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n},Vre=(t,e)=>{let n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i,o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=Wy[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return Fre(o,i)},Bre=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Wy[t[n]]>e?n:e},Ky={string2buf:Lre,buf2string:Vre,utf8border:Bre};function jre(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fB=jre,pB=Object.prototype.toString,{Z_NO_FLUSH:Ure,Z_SYNC_FLUSH:qre,Z_FULL_FLUSH:zre,Z_FINISH:$re,Z_OK:Eb,Z_STREAM_END:Hre,Z_DEFAULT_COMPRESSION:Gre,Z_DEFAULT_STRATEGY:Wre,Z_DEFLATED:Kre}=Pp;function Zy(t){this.options=Sb.assign({level:Gre,method:Kre,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wre},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fB,this.strm.avail_out=0;let n=jy.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Eb)throw new Error(xh[n]);if(e.header&&jy.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=Ky.string2buf(e.dictionary):pB.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=jy.deflateSetDictionary(this.strm,r),n!==Eb)throw new Error(xh[n]);this._dict_set=!0}}Zy.prototype.push=function(t,e){let n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?$re:Ure,typeof t=="string"?n.input=Ky.string2buf(t):pB.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===qre||o===zre)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=jy.deflate(n,o),i===Hre)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=jy.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Eb;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Zy.prototype.onData=function(t){this.chunks.push(t)};Zy.prototype.onEnd=function(t){t===Eb&&(this.result=Sb.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function CN(t,e){let n=new Zy(e);if(n.push(t,!0),n.err)throw n.msg||xh[n.err];return n.result}function Qre(t,e){return e=e||{},e.raw=!0,CN(t,e)}function Yre(t,e){return e=e||{},e.gzip=!0,CN(t,e)}var Jre=Zy,Zre=CN,Xre=Qre,eie=Yre,tie=Pp,nie={Deflate:Jre,deflate:Zre,deflateRaw:Xre,gzip:eie,constants:tie},mb=16209,rie=16191,iie=function(e,n){let r,i,o,s,a,c,u,l,m,y,g,R,k,M,L,Z,J,Y,fe,be,P,T,w,D,_=e.state;r=e.next_in,w=e.input,i=r+(e.avail_in-5),o=e.next_out,D=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),c=_.dmax,u=_.wsize,l=_.whave,m=_.wnext,y=_.window,g=_.hold,R=_.bits,k=_.lencode,M=_.distcode,L=(1<<_.lenbits)-1,Z=(1<<_.distbits)-1;e:do{R<15&&(g+=w[r++]<<R,R+=8,g+=w[r++]<<R,R+=8),J=k[g&L];t:for(;;){if(Y=J>>>24,g>>>=Y,R-=Y,Y=J>>>16&255,Y===0)D[o++]=J&65535;else if(Y&16){fe=J&65535,Y&=15,Y&&(R<Y&&(g+=w[r++]<<R,R+=8),fe+=g&(1<<Y)-1,g>>>=Y,R-=Y),R<15&&(g+=w[r++]<<R,R+=8,g+=w[r++]<<R,R+=8),J=M[g&Z];n:for(;;){if(Y=J>>>24,g>>>=Y,R-=Y,Y=J>>>16&255,Y&16){if(be=J&65535,Y&=15,R<Y&&(g+=w[r++]<<R,R+=8,R<Y&&(g+=w[r++]<<R,R+=8)),be+=g&(1<<Y)-1,be>c){e.msg="invalid distance too far back",_.mode=mb;break e}if(g>>>=Y,R-=Y,Y=o-s,be>Y){if(Y=be-Y,Y>l&&_.sane){e.msg="invalid distance too far back",_.mode=mb;break e}if(P=0,T=y,m===0){if(P+=u-Y,Y<fe){fe-=Y;do D[o++]=y[P++];while(--Y);P=o-be,T=D}}else if(m<Y){if(P+=u+m-Y,Y-=m,Y<fe){fe-=Y;do D[o++]=y[P++];while(--Y);if(P=0,m<fe){Y=m,fe-=Y;do D[o++]=y[P++];while(--Y);P=o-be,T=D}}}else if(P+=m-Y,Y<fe){fe-=Y;do D[o++]=y[P++];while(--Y);P=o-be,T=D}for(;fe>2;)D[o++]=T[P++],D[o++]=T[P++],D[o++]=T[P++],fe-=3;fe&&(D[o++]=T[P++],fe>1&&(D[o++]=T[P++]))}else{P=o-be;do D[o++]=D[P++],D[o++]=D[P++],D[o++]=D[P++],fe-=3;while(fe>2);fe&&(D[o++]=D[P++],fe>1&&(D[o++]=D[P++]))}}else if((Y&64)===0){J=M[(J&65535)+(g&(1<<Y)-1)];continue n}else{e.msg="invalid distance code",_.mode=mb;break e}break}}else if((Y&64)===0){J=k[(J&65535)+(g&(1<<Y)-1)];continue t}else if(Y&32){_.mode=rie;break e}else{e.msg="invalid literal/length code",_.mode=mb;break e}break}}while(r<i&&o<a);fe=R>>3,r-=fe,R-=fe<<3,g&=(1<<R)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),_.hold=g,_.bits=R},Cp=15,m8=852,y8=592,v8=0,oN=1,_8=2,oie=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),sie=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),aie=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),cie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),uie=(t,e,n,r,i,o,s,a)=>{let c=a.bits,u=0,l=0,m=0,y=0,g=0,R=0,k=0,M=0,L=0,Z=0,J,Y,fe,be,P,T=null,w,D=new Uint16Array(Cp+1),_=new Uint16Array(Cp+1),A=null,I,ee,_e;for(u=0;u<=Cp;u++)D[u]=0;for(l=0;l<r;l++)D[e[n+l]]++;for(g=c,y=Cp;y>=1&&D[y]===0;y--);if(g>y&&(g=y),y===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(m=1;m<y&&D[m]===0;m++);for(g<m&&(g=m),M=1,u=1;u<=Cp;u++)if(M<<=1,M-=D[u],M<0)return-1;if(M>0&&(t===v8||y!==1))return-1;for(_[1]=0,u=1;u<Cp;u++)_[u+1]=_[u]+D[u];for(l=0;l<r;l++)e[n+l]!==0&&(s[_[e[n+l]]++]=l);if(t===v8?(T=A=s,w=20):t===oN?(T=oie,A=sie,w=257):(T=aie,A=cie,w=0),Z=0,l=0,u=m,P=o,R=g,k=0,fe=-1,L=1<<g,be=L-1,t===oN&&L>m8||t===_8&&L>y8)return 1;for(;;){I=u-k,s[l]+1<w?(ee=0,_e=s[l]):s[l]>=w?(ee=A[s[l]-w],_e=T[s[l]-w]):(ee=96,_e=0),J=1<<u-k,Y=1<<R,m=Y;do Y-=J,i[P+(Z>>k)+Y]=I<<24|ee<<16|_e|0;while(Y!==0);for(J=1<<u-1;Z&J;)J>>=1;if(J!==0?(Z&=J-1,Z+=J):Z=0,l++,--D[u]===0){if(u===y)break;u=e[n+s[l]]}if(u>g&&(Z&be)!==fe){for(k===0&&(k=g),P+=m,R=u-k,M=1<<R;R+k<y&&(M-=D[R+k],!(M<=0));)R++,M<<=1;if(L+=1<<R,t===oN&&L>m8||t===_8&&L>y8)return 1;fe=Z&be,i[fe]=g<<24|R<<16|P-o|0}}return Z!==0&&(i[P+Z]=u-k<<24|64<<16|0),a.bits=g,0},Uy=uie,lie=0,gB=1,mB=2,{Z_FINISH:w8,Z_BLOCK:die,Z_TREES:yb,Z_OK:Rh,Z_STREAM_END:hie,Z_NEED_DICT:fie,Z_STREAM_ERROR:Ta,Z_DATA_ERROR:yB,Z_MEM_ERROR:vB,Z_BUF_ERROR:pie,Z_DEFLATED:b8}=Pp,Ab=16180,E8=16181,I8=16182,T8=16183,S8=16184,A8=16185,C8=16186,D8=16187,x8=16188,N8=16189,Ib=16190,qu=16191,sN=16192,R8=16193,aN=16194,P8=16195,k8=16196,M8=16197,O8=16198,vb=16199,_b=16200,L8=16201,F8=16202,V8=16203,B8=16204,j8=16205,cN=16206,U8=16207,q8=16208,Cr=16209,_B=16210,wB=16211,gie=852,mie=592,yie=15,vie=yie,z8=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function _ie(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Ph=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.mode<Ab||e.mode>wB?1:0},bB=t=>{if(Ph(t))return Ta;let e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Ab,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(gie),e.distcode=e.distdyn=new Int32Array(mie),e.sane=1,e.back=-1,Rh},EB=t=>{if(Ph(t))return Ta;let e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,bB(t)},IB=(t,e)=>{let n;if(Ph(t))return Ta;let r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ta:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,EB(t))},TB=(t,e)=>{if(!t)return Ta;let n=new _ie;t.state=n,n.strm=t,n.window=null,n.mode=Ab;let r=IB(t,e);return r!==Rh&&(t.state=null),r},wie=t=>TB(t,vie),$8=!0,uN,lN,bie=t=>{if($8){uN=new Int32Array(512),lN=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Uy(gB,t.lens,0,288,uN,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Uy(mB,t.lens,0,32,lN,0,t.work,{bits:5}),$8=!1}t.lencode=uN,t.lenbits=9,t.distcode=lN,t.distbits=5},SB=(t,e,n,r)=>{let i,o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Eie=(t,e)=>{let n,r,i,o,s,a,c,u,l,m,y,g,R,k,M=0,L,Z,J,Y,fe,be,P,T,w=new Uint8Array(4),D,_,A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ph(t)||!t.output||!t.input&&t.avail_in!==0)return Ta;n=t.state,n.mode===qu&&(n.mode=sN),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,m=a,y=c,T=Rh;e:for(;;)switch(n.mode){case Ab:if(n.wrap===0){n.mode=sN;break}for(;l<16;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,w[0]=u&255,w[1]=u>>>8&255,n.check=ji(n.check,w,2,0),u=0,l=0,n.mode=E8;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Cr;break}if((u&15)!==b8){t.msg="unknown compression method",n.mode=Cr;break}if(u>>>=4,l-=4,P=(u&15)+8,n.wbits===0&&(n.wbits=P),P>15||P>n.wbits){t.msg="invalid window size",n.mode=Cr;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?N8:qu,u=0,l=0;break;case E8:for(;l<16;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(n.flags=u,(n.flags&255)!==b8){t.msg="unknown compression method",n.mode=Cr;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Cr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(w[0]=u&255,w[1]=u>>>8&255,n.check=ji(n.check,w,2,0)),u=0,l=0,n.mode=I8;case I8:for(;l<32;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(w[0]=u&255,w[1]=u>>>8&255,w[2]=u>>>16&255,w[3]=u>>>24&255,n.check=ji(n.check,w,4,0)),u=0,l=0,n.mode=T8;case T8:for(;l<16;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(w[0]=u&255,w[1]=u>>>8&255,n.check=ji(n.check,w,2,0)),u=0,l=0,n.mode=S8;case S8:if(n.flags&1024){for(;l<16;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(w[0]=u&255,w[1]=u>>>8&255,n.check=ji(n.check,w,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=A8;case A8:if(n.flags&1024&&(g=n.length,g>a&&(g=a),g&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+g),P)),n.flags&512&&n.wrap&4&&(n.check=ji(n.check,r,g,o)),a-=g,o+=g,n.length-=g),n.length))break e;n.length=0,n.mode=C8;case C8:if(n.flags&2048){if(a===0)break e;g=0;do P=r[o+g++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P));while(P&&g<a);if(n.flags&512&&n.wrap&4&&(n.check=ji(n.check,r,g,o)),a-=g,o+=g,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=D8;case D8:if(n.flags&4096){if(a===0)break e;g=0;do P=r[o+g++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P));while(P&&g<a);if(n.flags&512&&n.wrap&4&&(n.check=ji(n.check,r,g,o)),a-=g,o+=g,P)break e}else n.head&&(n.head.comment=null);n.mode=x8;case x8:if(n.flags&512){for(;l<16;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Cr;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=qu;break;case N8:for(;l<32;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}t.adler=n.check=z8(u),u=0,l=0,n.mode=Ib;case Ib:if(n.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,fie;t.adler=n.check=1,n.mode=qu;case qu:if(e===die||e===yb)break e;case sN:if(n.last){u>>>=l&7,l-=l&7,n.mode=cN;break}for(;l<3;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}switch(n.last=u&1,u>>>=1,l-=1,u&3){case 0:n.mode=R8;break;case 1:if(bie(n),n.mode=vb,e===yb){u>>>=2,l-=2;break e}break;case 2:n.mode=k8;break;case 3:t.msg="invalid block type",n.mode=Cr}u>>>=2,l-=2;break;case R8:for(u>>>=l&7,l-=l&7;l<32;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Cr;break}if(n.length=u&65535,u=0,l=0,n.mode=aN,e===yb)break e;case aN:n.mode=P8;case P8:if(g=n.length,g){if(g>a&&(g=a),g>c&&(g=c),g===0)break e;i.set(r.subarray(o,o+g),s),a-=g,o+=g,c-=g,s+=g,n.length-=g;break}n.mode=qu;break;case k8:for(;l<14;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(n.nlen=(u&31)+257,u>>>=5,l-=5,n.ndist=(u&31)+1,u>>>=5,l-=5,n.ncode=(u&15)+4,u>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Cr;break}n.have=0,n.mode=M8;case M8:for(;n.have<n.ncode;){for(;l<3;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}n.lens[A[n.have++]]=u&7,u>>>=3,l-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},T=Uy(lie,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,T){t.msg="invalid code lengths set",n.mode=Cr;break}n.have=0,n.mode=O8;case O8:for(;n.have<n.nlen+n.ndist;){for(;M=n.lencode[u&(1<<n.lenbits)-1],L=M>>>24,Z=M>>>16&255,J=M&65535,!(L<=l);){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(J<16)u>>>=L,l-=L,n.lens[n.have++]=J;else{if(J===16){for(_=L+2;l<_;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(u>>>=L,l-=L,n.have===0){t.msg="invalid bit length repeat",n.mode=Cr;break}P=n.lens[n.have-1],g=3+(u&3),u>>>=2,l-=2}else if(J===17){for(_=L+3;l<_;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}u>>>=L,l-=L,P=0,g=3+(u&7),u>>>=3,l-=3}else{for(_=L+7;l<_;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}u>>>=L,l-=L,P=0,g=11+(u&127),u>>>=7,l-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Cr;break}for(;g--;)n.lens[n.have++]=P}}if(n.mode===Cr)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Cr;break}if(n.lenbits=9,D={bits:n.lenbits},T=Uy(gB,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,T){t.msg="invalid literal/lengths set",n.mode=Cr;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},T=Uy(mB,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,T){t.msg="invalid distances set",n.mode=Cr;break}if(n.mode=vb,e===yb)break e;case vb:n.mode=_b;case _b:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,iie(t,y),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,l=n.bits,n.mode===qu&&(n.back=-1);break}for(n.back=0;M=n.lencode[u&(1<<n.lenbits)-1],L=M>>>24,Z=M>>>16&255,J=M&65535,!(L<=l);){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(Z&&(Z&240)===0){for(Y=L,fe=Z,be=J;M=n.lencode[be+((u&(1<<Y+fe)-1)>>Y)],L=M>>>24,Z=M>>>16&255,J=M&65535,!(Y+L<=l);){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}u>>>=Y,l-=Y,n.back+=Y}if(u>>>=L,l-=L,n.back+=L,n.length=J,Z===0){n.mode=j8;break}if(Z&32){n.back=-1,n.mode=qu;break}if(Z&64){t.msg="invalid literal/length code",n.mode=Cr;break}n.extra=Z&15,n.mode=L8;case L8:if(n.extra){for(_=n.extra;l<_;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=F8;case F8:for(;M=n.distcode[u&(1<<n.distbits)-1],L=M>>>24,Z=M>>>16&255,J=M&65535,!(L<=l);){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if((Z&240)===0){for(Y=L,fe=Z,be=J;M=n.distcode[be+((u&(1<<Y+fe)-1)>>Y)],L=M>>>24,Z=M>>>16&255,J=M&65535,!(Y+L<=l);){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}u>>>=Y,l-=Y,n.back+=Y}if(u>>>=L,l-=L,n.back+=L,Z&64){t.msg="invalid distance code",n.mode=Cr;break}n.offset=J,n.extra=Z&15,n.mode=V8;case V8:if(n.extra){for(_=n.extra;l<_;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Cr;break}n.mode=B8;case B8:if(c===0)break e;if(g=y-c,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Cr;break}g>n.wnext?(g-=n.wnext,R=n.wsize-g):R=n.wnext-g,g>n.length&&(g=n.length),k=n.window}else k=i,R=s-n.offset,g=n.length;g>c&&(g=c),c-=g,n.length-=g;do i[s++]=k[R++];while(--g);n.length===0&&(n.mode=_b);break;case j8:if(c===0)break e;i[s++]=n.length,c--,n.mode=_b;break;case cN:if(n.wrap){for(;l<32;){if(a===0)break e;a--,u|=r[o++]<<l,l+=8}if(y-=c,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?ji(n.check,i,y,s-y):Gy(n.check,i,y,s-y)),y=c,n.wrap&4&&(n.flags?u:z8(u))!==n.check){t.msg="incorrect data check",n.mode=Cr;break}u=0,l=0}n.mode=U8;case U8:if(n.wrap&&n.flags){for(;l<32;){if(a===0)break e;a--,u+=r[o++]<<l,l+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Cr;break}u=0,l=0}n.mode=q8;case q8:T=hie;break e;case Cr:T=yB;break e;case _B:return vB;case wB:default:return Ta}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,(n.wsize||y!==t.avail_out&&n.mode<Cr&&(n.mode<cN||e!==w8))&&SB(t,t.output,t.next_out,y-t.avail_out),m-=t.avail_in,y-=t.avail_out,t.total_in+=m,t.total_out+=y,n.total+=y,n.wrap&4&&y&&(t.adler=n.check=n.flags?ji(n.check,i,y,t.next_out-y):Gy(n.check,i,y,t.next_out-y)),t.data_type=n.bits+(n.last?64:0)+(n.mode===qu?128:0)+(n.mode===vb||n.mode===aN?256:0),(m===0&&y===0||e===w8)&&T===Rh&&(T=pie),T},Iie=t=>{if(Ph(t))return Ta;let e=t.state;return e.window&&(e.window=null),t.state=null,Rh},Tie=(t,e)=>{if(Ph(t))return Ta;let n=t.state;return(n.wrap&2)===0?Ta:(n.head=e,e.done=!1,Rh)},Sie=(t,e)=>{let n=e.length,r,i,o;return Ph(t)||(r=t.state,r.wrap!==0&&r.mode!==Ib)?Ta:r.mode===Ib&&(i=1,i=Gy(i,e,n,0),i!==r.check)?yB:(o=SB(t,e,n,n),o?(r.mode=_B,vB):(r.havedict=1,Rh))},Aie=EB,Cie=IB,Die=bB,xie=wie,Nie=TB,Rie=Eie,Pie=Iie,kie=Tie,Mie=Sie,Oie="pako inflate (from Nodeca project)",$u={inflateReset:Aie,inflateReset2:Cie,inflateResetKeep:Die,inflateInit:xie,inflateInit2:Nie,inflate:Rie,inflateEnd:Pie,inflateGetHeader:kie,inflateSetDictionary:Mie,inflateInfo:Oie};function Lie(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Fie=Lie,AB=Object.prototype.toString,{Z_NO_FLUSH:Vie,Z_FINISH:Bie,Z_OK:Qy,Z_STREAM_END:dN,Z_NEED_DICT:hN,Z_STREAM_ERROR:jie,Z_DATA_ERROR:H8,Z_MEM_ERROR:Uie}=Pp;function Xy(t){this.options=Sb.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fB,this.strm.avail_out=0;let n=$u.inflateInit2(this.strm,e.windowBits);if(n!==Qy)throw new Error(xh[n]);if(this.header=new Fie,$u.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Ky.string2buf(e.dictionary):AB.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=$u.inflateSetDictionary(this.strm,e.dictionary),n!==Qy)))throw new Error(xh[n])}Xy.prototype.push=function(t,e){let n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Bie:Vie,AB.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=$u.inflate(n,s),o===hN&&i&&(o=$u.inflateSetDictionary(n,i),o===Qy?o=$u.inflate(n,s):o===H8&&(o=hN));n.avail_in>0&&o===dN&&n.state.wrap>0&&t[n.next_in]!==0;)$u.inflateReset(n),o=$u.inflate(n,s);switch(o){case jie:case H8:case hN:case Uie:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===dN))if(this.options.to==="string"){let c=Ky.utf8border(n.output,n.next_out),u=n.next_out-c,l=Ky.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(l)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===Qy&&a===0)){if(o===dN)return o=$u.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Xy.prototype.onData=function(t){this.chunks.push(t)};Xy.prototype.onEnd=function(t){t===Qy&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Sb.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function DN(t,e){let n=new Xy(e);if(n.push(t),n.err)throw n.msg||xh[n.err];return n.result}function qie(t,e){return e=e||{},e.raw=!0,DN(t,e)}var zie=Xy,$ie=DN,Hie=qie,Gie=DN,Wie=Pp,Kie={Inflate:zie,inflate:$ie,inflateRaw:Hie,ungzip:Gie,constants:Wie},{Deflate:HAe,deflate:GAe,deflateRaw:WAe,gzip:KAe}=nie,{Inflate:Qie,inflate:Yie,inflateRaw:QAe,ungzip:YAe}=Kie;var xN=Qie,CB=Yie;var xB=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;xB[t]=e}var DB=4294967295;function Jie(t,e,n){let r=t;for(let i=0;i<n;i++)r=xB[(r^e[i])&255]^r>>>8;return r}function Zie(t,e){return(Jie(DB,t,e)^DB)>>>0}function NN(t,e,n){let r=t.readUint32(),i=Zie(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function Cb(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function Db(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function xb(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function Nb(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<r;o++)e[o]=t[o]+(e[o-i]+n[o]>>1)&255}}function Rb(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+n[o]&255;for(;o<r;o++)e[o]=t[o]+Xie(e[o-i],n[o],n[o-i])&255}}function Xie(t,e,n){let r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),s=Math.abs(r-n);return i<=o&&i<=s?t:o<=s?e:n}function NB(t,e,n,r,i,o){switch(t){case 0:Cb(e,n,i);break;case 1:Db(e,n,i,o);break;case 2:xb(e,n,r,i);break;case 3:Nb(e,n,r,i,o);break;case 4:Rb(e,n,r,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}var eoe=new Uint16Array([255]),toe=new Uint8Array(eoe.buffer),noe=toe[0]===255;function RB(t){let{data:e,width:n,height:r,channels:i,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,c=new Uint8Array(r*n*a),u=0;for(let l=0;l<7;l++){let m=s[l],y=Math.ceil((n-m.x)/m.xStep),g=Math.ceil((r-m.y)/m.yStep);if(y<=0||g<=0)continue;let R=y*a,k=new Uint8Array(R);for(let M=0;M<g;M++){let L=e[u++],Z=e.subarray(u,u+R);u+=R;let J=new Uint8Array(R);NB(L,Z,J,k,R,a),k.set(J);for(let Y=0;Y<y;Y++){let fe=m.x+Y*m.xStep,be=m.y+M*m.yStep;if(!(fe>=n||be>=r))for(let P=0;P<a;P++)c[(be*n+fe)*a+P]=J[Y*a+P]}}}if(o===16){let l=new Uint16Array(c.buffer);if(noe)for(let m=0;m<l.length;m++)l[m]=roe(l[m]);return l}else return c}function roe(t){return(t&255)<<8|t>>8&255}var ioe=new Uint16Array([255]),ooe=new Uint8Array(ioe.buffer),soe=ooe[0]===255,aoe=new Uint8Array(0);function RN(t){let{data:e,width:n,height:r,channels:i,depth:o}=t,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*n),c=new Uint8Array(r*a),u=aoe,l=0,m,y;for(let g=0;g<r;g++){switch(m=e.subarray(l+1,l+1+a),y=c.subarray(g*a,(g+1)*a),e[l]){case 0:Cb(m,y,a);break;case 1:Db(m,y,a,s);break;case 2:xb(m,y,u,a);break;case 3:Nb(m,y,u,a,s);break;case 4:Rb(m,y,u,a,s);break;default:throw new Error(`Unsupported filter: ${e[l]}`)}u=y,l+=a+1}if(o===16){let g=new Uint16Array(c.buffer);if(soe)for(let R=0;R<g.length;R++)g[R]=coe(g[R]);return g}else return c}function coe(t){return(t&255)<<8|t>>8&255}var Pb=Uint8Array.of(137,80,78,71,13,10,26,10);function PN(t){if(!PB(t.readBytes(Pb.length)))throw new Error("wrong PNG signature")}function PB(t){if(t.length<Pb.length)return!1;for(let e=0;e<Pb.length;e++)if(t[e]!==Pb[e])return!1;return!0}var kB="tEXt",loe=0,MB=new TextDecoder("latin1");function doe(t){if(foe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}var hoe=/^[\u0000-\u00FF]*$/;function foe(t){if(!hoe.test(t))throw new Error("invalid latin1 text")}function OB(t,e,n){let r=kN(e);t[r]=poe(e,n-r.length-1)}function kN(t){for(t.mark();t.readByte()!==loe;);let e=t.offset;t.reset();let n=MB.decode(t.readBytes(e-t.offset-1));return t.skip(1),doe(n),n}function poe(t,e){return MB.decode(t.readBytes(e))}var Uo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},ev={UNKNOWN:-1,DEFLATE:0},kb={UNKNOWN:-1,ADAPTIVE:0},tv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},nv={NONE:0,BACKGROUND:1,PREVIOUS:2},Mb={SOURCE:0,OVER:1};var Ob=class extends Oy{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);let{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new xN,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ev.UNKNOWN,this._filterMethod=kb.UNKNOWN,this._interlaceMethod=tv.UNKNOWN,this._colorType=Uo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(PN(this);!this._end;){let e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(PN(this);!this._end;){let e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){let r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case kB:OB(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?NN(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){let r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?NN(this,e+4,n):this.skip(4)}decodeIHDR(){let e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=goe(this.readUint8());let n=this.readUint8();this._colorType=n;let r;switch(n){case Uo.GREYSCALE:r=1;break;case Uo.TRUECOLOUR:r=3;break;case Uo.INDEXED_COLOUR:r=1;break;case Uo.GREYSCALE_ALPHA:r=2;break;case Uo.TRUECOLOUR_ALPHA:r=4;break;case Uo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==ev.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);let n=e/3;this._hasPalette=!0;let r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Uo.GREYSCALE:case Uo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case Uo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){let r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Uo.UNKNOWN:case Uo.GREYSCALE_ALPHA:case Uo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){let n=kN(this),r=this.readUint8();if(r!==ev.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);let i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:CB(i)}}decodepHYs(){let e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){let n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=RN({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{let i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case nv.NONE:break;case nv.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){let s=(i*e.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[s+a]=0}break;case nv.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){let r=1<<this._png.depth,i=(o,s)=>{let a=((o+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,c=(o*n.width+s)*this._png.channels;return{index:a,frameIndex:c}};switch(n.blendOp){case Mb.SOURCE:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){let{index:a,frameIndex:c}=i(o,s);for(let u=0;u<this._png.channels;u++)e.data[a+u]=n.data[c+u]}break;case Mb.OVER:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){let{index:a,frameIndex:c}=i(o,s);for(let u=0;u<this._png.channels;u++){let l=n.data[c+this._png.channels-1]/r,m=u%(this._png.channels-1)===0?1:n.data[c+u],y=Math.floor(l*m+(1-l)*e.data[a+u]);e.data[a+u]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==kb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===tv.NO_INTERLACE)this._png.data=RN({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===tv.ADAM7)this._png.data=RB({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:nv.NONE,blendOp:Mb.SOURCE,data:e}),this._inflator=new xN,this._writingDataChunks=!1}};function goe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}function LB(t,e){return new Ob(t,e).decode()}var Ht=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function MN(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var lr={log:MN,warn:function(t){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):MN.call(null,arguments))},error:function(t){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):MN(t))}};function ON(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){kh(r.response,e,n)},r.onerror=function(){lr.error("could not download file")},r.send()}function FB(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Lb(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var kh=Ht.saveAs||((typeof window>"u"?"undefined":nr(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Ht.URL||Ht.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?FB(i.href)?ON(t,e,n):Lb(i,i.target="_blank"):Lb(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Lb(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(FB(t))ON(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Lb(r)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:nr(o)!=="object"&&(lr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return ON(t,e,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(Ht.HTMLElement)||Ht.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":nr(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var l=a.result;l=s?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=l:location=l,r=null},a.readAsDataURL(t)}else{var c=Ht.URL||Ht.webkitURL,u=c.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});function aj(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+a+c+u}}var jb=Ht.atob.bind(Ht),VB=Ht.btoa.bind(Ht);function LN(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=yo(n,r,i,o,e[0],7,-680876936),o=yo(o,n,r,i,e[1],12,-389564586),i=yo(i,o,n,r,e[2],17,606105819),r=yo(r,i,o,n,e[3],22,-1044525330),n=yo(n,r,i,o,e[4],7,-176418897),o=yo(o,n,r,i,e[5],12,1200080426),i=yo(i,o,n,r,e[6],17,-1473231341),r=yo(r,i,o,n,e[7],22,-45705983),n=yo(n,r,i,o,e[8],7,1770035416),o=yo(o,n,r,i,e[9],12,-1958414417),i=yo(i,o,n,r,e[10],17,-42063),r=yo(r,i,o,n,e[11],22,-1990404162),n=yo(n,r,i,o,e[12],7,1804603682),o=yo(o,n,r,i,e[13],12,-40341101),i=yo(i,o,n,r,e[14],17,-1502002290),n=vo(n,r=yo(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=vo(o,n,r,i,e[6],9,-1069501632),i=vo(i,o,n,r,e[11],14,643717713),r=vo(r,i,o,n,e[0],20,-373897302),n=vo(n,r,i,o,e[5],5,-701558691),o=vo(o,n,r,i,e[10],9,38016083),i=vo(i,o,n,r,e[15],14,-660478335),r=vo(r,i,o,n,e[4],20,-405537848),n=vo(n,r,i,o,e[9],5,568446438),o=vo(o,n,r,i,e[14],9,-1019803690),i=vo(i,o,n,r,e[3],14,-187363961),r=vo(r,i,o,n,e[8],20,1163531501),n=vo(n,r,i,o,e[13],5,-1444681467),o=vo(o,n,r,i,e[2],9,-51403784),i=vo(i,o,n,r,e[7],14,1735328473),n=_o(n,r=vo(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=_o(o,n,r,i,e[8],11,-2022574463),i=_o(i,o,n,r,e[11],16,1839030562),r=_o(r,i,o,n,e[14],23,-35309556),n=_o(n,r,i,o,e[1],4,-1530992060),o=_o(o,n,r,i,e[4],11,1272893353),i=_o(i,o,n,r,e[7],16,-155497632),r=_o(r,i,o,n,e[10],23,-1094730640),n=_o(n,r,i,o,e[13],4,681279174),o=_o(o,n,r,i,e[0],11,-358537222),i=_o(i,o,n,r,e[3],16,-722521979),r=_o(r,i,o,n,e[6],23,76029189),n=_o(n,r,i,o,e[9],4,-640364487),o=_o(o,n,r,i,e[12],11,-421815835),i=_o(i,o,n,r,e[15],16,530742520),n=wo(n,r=_o(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=wo(o,n,r,i,e[7],10,1126891415),i=wo(i,o,n,r,e[14],15,-1416354905),r=wo(r,i,o,n,e[5],21,-57434055),n=wo(n,r,i,o,e[12],6,1700485571),o=wo(o,n,r,i,e[3],10,-1894986606),i=wo(i,o,n,r,e[10],15,-1051523),r=wo(r,i,o,n,e[1],21,-2054922799),n=wo(n,r,i,o,e[8],6,1873313359),o=wo(o,n,r,i,e[15],10,-30611744),i=wo(i,o,n,r,e[6],15,-1560198380),r=wo(r,i,o,n,e[13],21,1309151649),n=wo(n,r,i,o,e[4],6,-145523070),o=wo(o,n,r,i,e[11],10,-1120210379),i=wo(i,o,n,r,e[2],15,718787259),r=wo(r,i,o,n,e[9],21,-343485551),t[0]=sd(n,t[0]),t[1]=sd(r,t[1]),t[2]=sd(i,t[2]),t[3]=sd(o,t[3])}function Wb(t,e,n,r,i,o){return e=sd(sd(e,t),sd(r,o)),sd(e<<i|e>>>32-i,n)}function yo(t,e,n,r,i,o,s){return Wb(e&n|~e&r,t,e,i,o,s)}function vo(t,e,n,r,i,o,s){return Wb(e&r|n&~r,t,e,i,o,s)}function _o(t,e,n,r,i,o,s){return Wb(e^n^r,t,e,i,o,s)}function wo(t,e,n,r,i,o,s){return Wb(n^(e|~r),t,e,i,o,s)}function cj(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)LN(r,moe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(LN(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,LN(r,i),r}function moe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var BB="0123456789abcdef".split("");function yoe(t){for(var e="",n=0;n<4;n++)e+=BB[t>>8*n+4&15]+BB[t>>8*n&15];return e}function voe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function qN(t){return cj(t).map(voe).join("")}var _oe=(function(t){for(var e=0;e<t.length;e++)t[e]=yoe(t[e]);return t.join("")})(cj("hello"))!="5d41402abc4b2a76b9719d911017c592";function sd(t,e){if(_oe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function zN(t,e){var n,r,i,o;if(t!==n){for(var s=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),a=[],c=0;c<256;c++)a[c]=c;var u=0;for(c=0;c<256;c++){var l=a[c];u=(u+l+s.charCodeAt(c))%256,a[c]=a[u],a[u]=l}n=t,r=a}else a=r;var m=e.length,y=0,g=0,R="";for(c=0;c<m;c++)g=(g+(l=a[y=(y+1)%256]))%256,a[y]=a[g],a[g]=l,s=a[(a[y]+a[g])%256],R+=String.fromCharCode(e.charCodeAt(c)^s);return R}var jB={print:4,modify:8,copy:16,"annot-forms":32};function Fp(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(jB.perm!==void 0)throw new Error("Invalid permission: "+a);i+=jB[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=qN(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=zN(this.encryptionKey,this.padding)}function Vp(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function UB(t){if(nr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(a){Ht.console&&lr.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Hb(t){if(!(this instanceof Hb))return new Hb(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function uj(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Mh(t,e,n,r,i){if(!(this instanceof Mh))return new Mh(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,uj.call(this,r,i)}function Bp(t,e,n,r,i){if(!(this instanceof Bp))return new Bp(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,uj.call(this,r,i)}function yt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,c=16,u="S",l=null;nr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,(l=t.encryption||null)!==null&&(l.userPassword=l.userPassword||"",l.ownerPassword=l.ownerPassword||"",l.userPermissions=l.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=UB;var R="1.3",k=g.__private__.getPdfVersion=function(){return R};g.__private__.setPdfVersion=function(v){R=v};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return M};var L=g.__private__.getPageFormat=function(v){return M[v]};i=i||"a4";var Z="compat",J="advanced",Y=Z;function fe(){this.saveGraphicsState(),H(new ht(qt,0,0,-qt,0,Wo()*qt).toString()+" cm"),this.setFontSize(this.getFontSize()/qt),u="n",Y=J}function be(){this.restoreGraphicsState(),u="S",Y=Z}var P=g.__private__.combineFontStyleAndFontWeight=function(v,O){if(v=="bold"&&O=="normal"||v=="bold"&&O==400||v=="normal"&&O=="italic"||v=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(v=O==400||O==="normal"?v==="italic"?"italic":"normal":O!=700&&O!=="bold"||v!=="normal"?(O==700?"bold":O)+""+v:"bold"),v};g.advancedAPI=function(v){var O=Y===Z;return O&&fe.call(this),typeof v!="function"||(v(this),O&&be.call(this)),this},g.compatAPI=function(v){var O=Y===J;return O&&be.call(this),typeof v!="function"||(v(this),O&&fe.call(this)),this},g.isAdvancedAPI=function(){return Y===J};var T,w=function(v){if(Y!==J)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=g.roundToPrecision=g.__private__.roundToPrecision=function(v,O){var G=e||O;if(isNaN(v)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(G).replace(/0+$/,"")};T=g.hpf=g.__private__.hpf=typeof c=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return D(v,c)}:c==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return D(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return D(v,16)};var _=g.f2=g.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return D(v,2)},A=g.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return D(v,3)},I=g.scale=g.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return Y===Z?v*qt:Y===J?v:void 0},ee=function(v){return I((function(O){return Y===Z?Wo()-O:Y===J?O:void 0})(v))};g.__private__.setPrecision=g.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var _e,Ce="00000000000000000000000000000000",Te=g.__private__.getFileId=function(){return Ce},pe=g.__private__.setFileId=function(v){return Ce=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():Ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),l!==null&&(sr=new Fp(l.userPermissions,l.userPassword,l.ownerPassword,Ce)),Ce};g.setFileId=function(v){return pe(v),this},g.getFileId=function(){return Te()};var Se=g.__private__.convertDateToPDFDate=function(v){var O=v.getTimezoneOffset(),G=O<0?"+":"-",te=Math.floor(Math.abs(O/60)),le=Math.abs(O%60),Ae=[G,X(te),"'",X(le),"'"].join("");return["D:",v.getFullYear(),X(v.getMonth()+1),X(v.getDate()),X(v.getHours()),X(v.getMinutes()),X(v.getSeconds()),Ae].join("")},$e=g.__private__.convertPDFDateToDate=function(v){var O=parseInt(v.substr(2,4),10),G=parseInt(v.substr(6,2),10)-1,te=parseInt(v.substr(8,2),10),le=parseInt(v.substr(10,2),10),Ae=parseInt(v.substr(12,2),10),Oe=parseInt(v.substr(14,2),10);return new Date(O,G,te,le,Ae,Oe,0)},Le=g.__private__.setCreationDate=function(v){var O;if(v===void 0&&(v=new Date),v instanceof Date)O=Se(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=v}return _e=O},B=g.__private__.getCreationDate=function(v){var O=_e;return v==="jsDate"&&(O=$e(_e)),O};g.setCreationDate=function(v){return Le(v),this},g.getCreationDate=function(v){return B(v)};var W,X=g.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},ne=g.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},ce=0,de=[],Ee=[],Ie=0,xe=[],je=[],Je=!1,Ke=Ee;g.__private__.setCustomOutputDestination=function(v){Je=!0,Ke=v};var lt=function(v){Je||(Ke=v)};g.__private__.resetCustomOutputDestination=function(){Je=!1,Ke=Ee};var H=g.__private__.out=function(v){return v=v.toString(),Ie+=v.length+1,Ke.push(v),Ke},Qe=g.__private__.write=function(v){return H(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Ut=g.__private__.getArrayBuffer=function(v){for(var O=v.length,G=new ArrayBuffer(O),te=new Uint8Array(G);O--;)te[O]=v.charCodeAt(O);return G},bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return bt};var Ve=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(v){return Ve=Y===J?v/qt:v,this};var Ze,Ge=g.__private__.getFontSize=g.getFontSize=function(){return Y===Z?Ve:Ve*qt},mt=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(v){return mt=v,this},g.__private__.getR2L=g.getR2L=function(){return mt};var vt,dn=g.__private__.setZoomMode=function(v){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Ze=v;else if(isNaN(v)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Ze=v}else Ze=parseInt(v,10)};g.__private__.getZoomMode=function(){return Ze};var Xt,Nt=g.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');vt=v};g.__private__.getPageMode=function(){return vt};var Et=g.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');Xt=v};g.__private__.getLayoutMode=function(){return Xt},g.__private__.setDisplayMode=g.setDisplayMode=function(v,O,G){return dn(v),Et(O),Nt(G),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(v){if(Object.keys(It).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[v]},g.__private__.getDocumentProperties=function(){return It},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(v){for(var O in It)It.hasOwnProperty(O)&&v[O]&&(It[O]=v[O]);return this},g.__private__.setDocumentProperty=function(v,O){if(Object.keys(It).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[v]=O};var nt,qt,ft,dr,en,Vt={},Gt={},Ln=[],dt={},jn={},_t={},Ft={},Nn=null,zt=0,Xe=[],hn=new UB(g),Lr=t.hotfixes||[],mr={},to={},bo=[],ht=function v(O,G,te,le,Ae,Oe){if(!(this instanceof v))return new v(O,G,te,le,Ae,Oe);isNaN(O)&&(O=1),isNaN(G)&&(G=0),isNaN(te)&&(te=0),isNaN(le)&&(le=1),isNaN(Ae)&&(Ae=0),isNaN(Oe)&&(Oe=0),this._matrix=[O,G,te,le,Ae,Oe]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(v)},ht.prototype.multiply=function(v){var O=v.sx*this.sx+v.shy*this.shx,G=v.sx*this.shy+v.shy*this.sy,te=v.shx*this.sx+v.sy*this.shx,le=v.shx*this.shy+v.sy*this.sy,Ae=v.tx*this.sx+v.ty*this.shx+this.tx,Oe=v.tx*this.shy+v.ty*this.sy+this.ty;return new ht(O,G,te,le,Ae,Oe)},ht.prototype.decompose=function(){var v=this.sx,O=this.shy,G=this.shx,te=this.sy,le=this.tx,Ae=this.ty,Oe=Math.sqrt(v*v+O*O),et=(v/=Oe)*G+(O/=Oe)*te;G-=v*et,te-=O*et;var st=Math.sqrt(G*G+te*te);return et/=st,v*(te/=st)<O*(G/=st)&&(v=-v,O=-O,et=-et,Oe=-Oe),{scale:new ht(Oe,0,0,st,0,0),translate:new ht(1,0,0,1,le,Ae),rotate:new ht(v,O,-O,v,0,0),skew:new ht(1,0,et,1,0,0)}},ht.prototype.toString=function(v){return this.join(" ")},ht.prototype.inversed=function(){var v=this.sx,O=this.shy,G=this.shx,te=this.sy,le=this.tx,Ae=this.ty,Oe=1/(v*te-O*G),et=te*Oe,st=-O*Oe,Rt=-G*Oe,Pt=v*Oe;return new ht(et,st,Rt,Pt,-et*le-Rt*Ae,-st*le-Pt*Ae)},ht.prototype.applyToPoint=function(v){var O=v.x*this.sx+v.y*this.shx+this.tx,G=v.x*this.shy+v.y*this.sy+this.ty;return new ds(O,G)},ht.prototype.applyToRectangle=function(v){var O=this.applyToPoint(v),G=this.applyToPoint(new ds(v.x+v.w,v.y+v.h));return new Ho(O.x,O.y,G.x-O.x,G.y-O.y)},ht.prototype.clone=function(){var v=this.sx,O=this.shy,G=this.shx,te=this.sy,le=this.tx,Ae=this.ty;return new ht(v,O,G,te,le,Ae)},g.Matrix=ht;var qo=g.matrixMult=function(v,O){return O.multiply(v)},or=new ht(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=or;var Zr=function(v,O){if(!jn[v]){var G=(O instanceof Mh?"Sh":"P")+(Object.keys(dt).length+1).toString(10);O.id=G,jn[v]=G,dt[G]=O,hn.publish("addPattern",O)}};g.ShadingPattern=Mh,g.TilingPattern=Bp,g.addShadingPattern=function(v,O){return w("addShadingPattern()"),Zr(v,O),this},g.beginTilingPattern=function(v){w("beginTilingPattern()"),Ks(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},g.endTilingPattern=function(v,O){w("endTilingPattern()"),O.stream=je[W].join(`
`),Zr(v,O),hn.publish("endTilingPattern",O),bo.pop().restore()};var Fr,Un=g.__private__.newObject=function(){var v=br();return yr(v,!0),v},br=g.__private__.newObjectDeferred=function(){return ce++,de[ce]=function(){return Ie},ce},yr=function(v,O){return O=typeof O=="boolean"&&O,de[v]=Ie,O&&H(v+" 0 obj"),v},no=g.__private__.newAdditionalObject=function(){var v={objId:br(),content:""};return xe.push(v),v},vi=br(),ro=br(),xi=g.__private__.decodeColorString=function(v){var O=v.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var G=parseFloat(O[0]);O=[G,G,G,"r"]}for(var te="#",le=0;le<3;le++)te+=("0"+Math.floor(255*parseFloat(O[le])).toString(16)).slice(-2);return te},Ni=g.__private__.encodeColorString=function(v){var O;typeof v=="string"&&(v={ch1:v});var G=v.ch1,te=v.ch2,le=v.ch3,Ae=v.ch4,Oe=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var et=new aj(G);if(et.ok)G=et.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var st=parseInt(G.substr(1),16);G=st>>16&255,te=st>>8&255,le=255&st}if(te===void 0||Ae===void 0&&G===te&&te===le)O=typeof G=="string"?G+" "+Oe[0]:v.precision===2?_(G/255)+" "+Oe[0]:A(G/255)+" "+Oe[0];else if(Ae===void 0||nr(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return["1.","1.","1.",Oe[1]].join(" ");O=typeof G=="string"?[G,te,le,Oe[1]].join(" "):v.precision===2?[_(G/255),_(te/255),_(le/255),Oe[1]].join(" "):[A(G/255),A(te/255),A(le/255),Oe[1]].join(" ")}else O=typeof G=="string"?[G,te,le,Ae,Oe[2]].join(" "):v.precision===2?[_(G),_(te),_(le),_(Ae),Oe[2]].join(" "):[A(G),A(te),A(le),A(Ae),Oe[2]].join(" ");return O},_i=g.__private__.getFilters=function(){return s},Xr=g.__private__.putStream=function(v){var O=(v=v||{}).data||"",G=v.filters||_i(),te=v.alreadyAppliedFilters||[],le=v.addLength1||!1,Ae=O.length,Oe=v.objectId,et=function(f){return f};if(l!==null&&Oe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");l!==null&&(et=sr.encryptor(Oe,0));var st={};G===!0&&(G=["FlateEncode"]);var Rt=v.additionalKeyValues||[],Pt=(st=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(O,G):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(st.data.length!==0&&(Rt.push({key:"Length",value:st.data.length}),le===!0&&Rt.push({key:"Length1",value:Ae})),Pt.length!=0)if(Pt.split("/").length-1==1)Rt.push({key:"Filter",value:Pt});else{Rt.push({key:"Filter",value:"["+Pt+"]"});for(var Lt=0;Lt<Rt.length;Lt+=1)if(Rt[Lt].key==="DecodeParms"){for(var Zn=[],qn=0;qn<st.reverseChain.split("/").length-1;qn+=1)Zn.push("null");Zn.push(Rt[Lt].value),Rt[Lt].value="["+Zn.join(" ")+"]"}}H("<<");for(var pn=0;pn<Rt.length;pn++)H("/"+Rt[pn].key+" "+Rt[pn].value);H(">>"),st.data.length!==0&&(H("stream"),H(et(st.data)),H("endstream"))},Ri=g.__private__.putPage=function(v){var O=v.number,G=v.data,te=v.objId,le=v.contentsObjId;yr(te,!0),H("<</Type /Page"),H("/Parent "+v.rootDictionaryObjId+" 0 R"),H("/Resources "+v.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(T(v.mediaBox.bottomLeftX))+" "+parseFloat(T(v.mediaBox.bottomLeftY))+" "+T(v.mediaBox.topRightX)+" "+T(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&H("/CropBox ["+T(v.cropBox.bottomLeftX)+" "+T(v.cropBox.bottomLeftY)+" "+T(v.cropBox.topRightX)+" "+T(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&H("/BleedBox ["+T(v.bleedBox.bottomLeftX)+" "+T(v.bleedBox.bottomLeftY)+" "+T(v.bleedBox.topRightX)+" "+T(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&H("/TrimBox ["+T(v.trimBox.bottomLeftX)+" "+T(v.trimBox.bottomLeftY)+" "+T(v.trimBox.topRightX)+" "+T(v.trimBox.topRightY)+"]"),v.artBox!==null&&H("/ArtBox ["+T(v.artBox.bottomLeftX)+" "+T(v.artBox.bottomLeftY)+" "+T(v.artBox.topRightX)+" "+T(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&H("/UserUnit "+v.userUnit),hn.publish("putPage",{objId:te,pageContext:Xe[O],pageNumber:O,page:G}),H("/Contents "+le+" 0 R"),H(">>"),H("endobj");var Ae=G.join(`
`);return Y===J&&(Ae+=`
Q`),yr(le,!0),Xr({data:Ae,filters:_i(),objectId:le}),H("endobj"),te},io=g.__private__.putPages=function(){var v,O,G=[];for(v=1;v<=zt;v++)Xe[v].objId=br(),Xe[v].contentsObjId=br();for(v=1;v<=zt;v++)G.push(Ri({number:v,data:je[v],objId:Xe[v].objId,contentsObjId:Xe[v].contentsObjId,mediaBox:Xe[v].mediaBox,cropBox:Xe[v].cropBox,bleedBox:Xe[v].bleedBox,trimBox:Xe[v].trimBox,artBox:Xe[v].artBox,userUnit:Xe[v].userUnit,rootDictionaryObjId:vi,resourceDictionaryObjId:ro}));yr(vi,!0),H("<</Type /Pages");var te="/Kids [";for(O=0;O<zt;O++)te+=G[O]+" 0 R ";H(te+"]"),H("/Count "+zt),H(">>"),H("endobj"),hn.publish("postPutPages")},js=function(v){hn.publish("putFont",{font:v,out:H,newObject:Un,putStream:Xr}),v.isAlreadyPutted!==!0&&(v.objectNumber=Un(),H("<<"),H("/Type /Font"),H("/BaseFont /"+Vp(v.postScriptName)),H("/Subtype /Type1"),typeof v.encoding=="string"&&H("/Encoding /"+v.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},Eo=function(v){v.objectNumber=Un();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[T(v.x),T(v.y),T(v.x+v.width),T(v.y+v.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var G=v.pages[1].join(`
`);Xr({data:G,additionalKeyValues:O,objectId:v.objectNumber}),H("endobj")},ss=function(v,O){O||(O=21);var G=Un(),te=(function(Oe,et){var st,Rt=[],Pt=1/(et-1);for(st=0;st<1;st+=Pt)Rt.push(st);if(Rt.push(1),Oe[0].offset!=0){var Lt={offset:0,color:Oe[0].color};Oe.unshift(Lt)}if(Oe[Oe.length-1].offset!=1){var Zn={offset:1,color:Oe[Oe.length-1].color};Oe.push(Zn)}for(var qn="",pn=0,f=0;f<Rt.length;f++){for(st=Rt[f];st>Oe[pn+1].offset;)pn++;var S=Oe[pn].offset,N=(st-S)/(Oe[pn+1].offset-S),q=Oe[pn].color,ae=Oe[pn+1].color;qn+=ne(Math.round((1-N)*q[0]+N*ae[0]).toString(16))+ne(Math.round((1-N)*q[1]+N*ae[1]).toString(16))+ne(Math.round((1-N)*q[2]+N*ae[2]).toString(16))}return qn.trim()})(v.colors,O),le=[];le.push({key:"FunctionType",value:"0"}),le.push({key:"Domain",value:"[0.0 1.0]"}),le.push({key:"Size",value:"["+O+"]"}),le.push({key:"BitsPerSample",value:"8"}),le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xr({data:te,additionalKeyValues:le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),H("endobj"),v.objectNumber=Un(),H("<< /ShadingType "+v.type),H("/ColorSpace /DeviceRGB");var Ae="/Coords ["+T(parseFloat(v.coords[0]))+" "+T(parseFloat(v.coords[1]))+" ";v.type===2?Ae+=T(parseFloat(v.coords[2]))+" "+T(parseFloat(v.coords[3])):Ae+=T(parseFloat(v.coords[2]))+" "+T(parseFloat(v.coords[3]))+" "+T(parseFloat(v.coords[4]))+" "+T(parseFloat(v.coords[5])),H(Ae+="]"),v.matrix&&H("/Matrix ["+v.matrix.toString()+"]"),H("/Function "+G+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},as=function(v,O){var G=br(),te=Un();O.push({resourcesOid:G,objectOid:te}),v.objectNumber=te;var le=[];le.push({key:"Type",value:"/Pattern"}),le.push({key:"PatternType",value:"1"}),le.push({key:"PaintType",value:"1"}),le.push({key:"TilingType",value:"1"}),le.push({key:"BBox",value:"["+v.boundingBox.map(T).join(" ")+"]"}),le.push({key:"XStep",value:T(v.xStep)}),le.push({key:"YStep",value:T(v.yStep)}),le.push({key:"Resources",value:G+" 0 R"}),v.matrix&&le.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Xr({data:v.stream,additionalKeyValues:le,objectId:v.objectNumber}),H("endobj")},Us=function(v){for(var O in v.objectNumber=Un(),H("<<"),v)switch(O){case"opacity":H("/ca "+_(v[O]));break;case"stroke-opacity":H("/CA "+_(v[O]))}H(">>"),H("endobj")},Io=function(v){yr(v.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var O in H("/Font <<"),Vt)Vt.hasOwnProperty(O)&&(m===!1||m===!0&&y.hasOwnProperty(O))&&H("/"+O+" "+Vt[O].objectNumber+" 0 R");H(">>")})(),(function(){if(Object.keys(dt).length>0){for(var O in H("/Shading <<"),dt)dt.hasOwnProperty(O)&&dt[O]instanceof Mh&&dt[O].objectNumber>=0&&H("/"+O+" "+dt[O].objectNumber+" 0 R");hn.publish("putShadingPatternDict"),H(">>")}})(),(function(O){if(Object.keys(dt).length>0){for(var G in H("/Pattern <<"),dt)dt.hasOwnProperty(G)&&dt[G]instanceof g.TilingPattern&&dt[G].objectNumber>=0&&dt[G].objectNumber<O&&H("/"+G+" "+dt[G].objectNumber+" 0 R");hn.publish("putTilingPatternDict"),H(">>")}})(v.objectOid),(function(){if(Object.keys(_t).length>0){var O;for(O in H("/ExtGState <<"),_t)_t.hasOwnProperty(O)&&_t[O].objectNumber>=0&&H("/"+O+" "+_t[O].objectNumber+" 0 R");hn.publish("putGStateDict"),H(">>")}})(),(function(){for(var O in H("/XObject <<"),mr)mr.hasOwnProperty(O)&&mr[O].objectNumber>=0&&H("/"+O+" "+mr[O].objectNumber+" 0 R");hn.publish("putXobjectDict"),H(">>")})(),H(">>"),H("endobj")},cs=function(v){Gt[v.fontName]=Gt[v.fontName]||{},Gt[v.fontName][v.fontStyle]=v.id},Kc=function(v,O,G,te,le){var Ae={id:"F"+(Object.keys(Vt).length+1).toString(10),postScriptName:v,fontName:O,fontStyle:G,encoding:te,isStandardFont:le||!1,metadata:{}};return hn.publish("addFont",{font:Ae,instance:this}),Vt[Ae.id]=Ae,cs(Ae),Ae.id},wi=g.__private__.pdfEscape=g.pdfEscape=function(v,O){return(function(G,te){var le,Ae,Oe,et,st,Rt,Pt,Lt,Zn;if(Oe=(te=te||{}).sourceEncoding||"Unicode",st=te.outputEncoding,(te.autoencode||st)&&Vt[nt].metadata&&Vt[nt].metadata[Oe]&&Vt[nt].metadata[Oe].encoding&&(et=Vt[nt].metadata[Oe].encoding,!st&&Vt[nt].encoding&&(st=Vt[nt].encoding),!st&&et.codePages&&(st=et.codePages[0]),typeof st=="string"&&(st=et[st]),st)){for(Pt=!1,Rt=[],le=0,Ae=G.length;le<Ae;le++)(Lt=st[G.charCodeAt(le)])?Rt.push(String.fromCharCode(Lt)):Rt.push(G[le]),Rt[le].charCodeAt(0)>>8&&(Pt=!0);G=Rt.join("")}for(le=G.length;Pt===void 0&&le!==0;)G.charCodeAt(le-1)>>8&&(Pt=!0),le--;if(!Pt)return G;for(Rt=te.noBOM?[]:[254,255],le=0,Ae=G.length;le<Ae;le++){if((Zn=(Lt=G.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+G+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Rt.push(Zn),Rt.push(Lt-(Zn<<8))}return String.fromCharCode.apply(void 0,Rt)})(v,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zo=g.__private__.beginPage=function(v){je[++zt]=[],Xe[zt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},oc(zt),lt(je[W])},To=function(v,O){var G,te,le;switch(n=O||n,typeof v=="string"&&(G=L(v.toLowerCase()),Array.isArray(G)&&(te=G[0],le=G[1])),Array.isArray(v)&&(te=v[0]*qt,le=v[1]*qt),isNaN(te)&&(te=i[0],le=i[1]),(te>14400||le>14400)&&(lr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),le=Math.min(14400,le)),i=[te,le],n.substr(0,1)){case"l":le>te&&(i=[le,te]);break;case"p":te>le&&(i=[le,te])}zo(i),Ot(lc),H(_n),$o!==0&&H($o+" J"),fn!==0&&H(fn+" j"),hn.publish("addPage",{pageNumber:zt})},us=function(v){v>0&&v<=zt&&(je.splice(v,1),Xe.splice(v,1),zt--,W>zt&&(W=zt),this.setPage(W))},oc=function(v){v>0&&v<=zt&&(W=v)},sc=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return je.length-1},ac=function(v,O,G){var te,le=void 0;return G=G||{},v=v!==void 0?v:Vt[nt].fontName,O=O!==void 0?O:Vt[nt].fontStyle,te=v.toLowerCase(),Gt[te]!==void 0&&Gt[te][O]!==void 0?le=Gt[te][O]:Gt[v]!==void 0&&Gt[v][O]!==void 0?le=Gt[v][O]:G.disableWarning===!1&&lr.warn("Unable to look up font label for font '"+v+"', '"+O+"'. Refer to getFontList() for available fonts."),le||G.noFallback||(le=Gt.times[O])==null&&(le=Gt.times.normal),le},oo=g.__private__.putInfo=function(){var v=Un(),O=function(te){return te};for(var G in l!==null&&(O=sr.encryptor(v,0)),H("<<"),H("/Producer ("+wi(O("jsPDF "+yt.version))+")"),It)It.hasOwnProperty(G)&&It[G]&&H("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+wi(O(It[G]))+")");H("/CreationDate ("+wi(O(_e))+")"),H(">>"),H("endobj")},qs=g.__private__.putCatalog=function(v){var O=(v=v||{}).rootDictionaryObjId||vi;switch(Un(),H("<<"),H("/Type /Catalog"),H("/Pages "+O+" 0 R"),Ze||(Ze="fullwidth"),Ze){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+Ze;G.substr(G.length-1)==="%"&&(Ze=parseInt(Ze)/100),typeof Ze=="number"&&H("/OpenAction [3 0 R /XYZ null null "+_(Ze)+"]")}switch(Xt||(Xt="continuous"),Xt){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}vt&&H("/PageMode /"+vt),hn.publish("putCatalog"),H(">>"),H("endobj")},so=g.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(ce+1)),H("/Root "+ce+" 0 R"),H("/Info "+(ce-1)+" 0 R"),l!==null&&H("/Encrypt "+sr.oid+" 0 R"),H("/ID [ <"+Ce+"> <"+Ce+"> ]"),H(">>")},In=g.__private__.putHeader=function(){H("%PDF-"+R),H("%\xBA\xDF\xAC\xE0")},ls=g.__private__.putXRef=function(){var v="0000000000";H("xref"),H("0 "+(ce+1)),H("0000000000 65535 f ");for(var O=1;O<=ce;O++)typeof de[O]=="function"?H((v+de[O]()).slice(-10)+" 00000 n "):de[O]!==void 0?H((v+de[O]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},Pi=g.__private__.buildDocument=function(){var v;ce=0,Ie=0,Ee=[],de=[],xe=[],vi=br(),ro=br(),lt(Ee),hn.publish("buildDocument"),In(),io(),(function(){hn.publish("putAdditionalObjects");for(var G=0;G<xe.length;G++){var te=xe[G];yr(te.objId,!0),H(te.content),H("endobj")}hn.publish("postPutAdditionalObjects")})(),v=[],(function(){for(var G in Vt)Vt.hasOwnProperty(G)&&(m===!1||m===!0&&y.hasOwnProperty(G))&&js(Vt[G])})(),(function(){var G;for(G in _t)_t.hasOwnProperty(G)&&Us(_t[G])})(),(function(){for(var G in mr)mr.hasOwnProperty(G)&&Eo(mr[G])})(),(function(G){var te;for(te in dt)dt.hasOwnProperty(te)&&(dt[te]instanceof Mh?ss(dt[te]):dt[te]instanceof Bp&&as(dt[te],G))})(v),hn.publish("putResources"),v.forEach(Io),Io({resourcesOid:ro,objectOid:Number.MAX_SAFE_INTEGER}),hn.publish("postPutResources"),l!==null&&(sr.oid=Un(),H("<<"),H("/Filter /Standard"),H("/V "+sr.v),H("/R "+sr.r),H("/U <"+sr.toHexString(sr.U)+">"),H("/O <"+sr.toHexString(sr.O)+">"),H("/P "+sr.P),H(">>"),H("endobj")),oo(),qs();var O=Ie;return ls(),so(),H("startxref"),H(""+O),H("%%EOF"),lt(je[W]),Ee.join(`
`)},zs=g.__private__.getBlob=function(v){return new Blob([Ut(v)],{type:"application/pdf"})},Rn=g.output=g.__private__.output=(Fr=function(v,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",v){case void 0:return Pi();case"save":g.save(O.filename);break;case"arraybuffer":return Ut(Pi());case"blob":return zs(Pi());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(zs(Pi()))||void 0;lr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",te=Pi();try{G=VB(te)}catch{G=VB(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+O.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(le=O.pdfObjectUrl,Ae="");var Oe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+le+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",et=Ht.open();return et!==null&&et.document.write(Oe),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',Rt=Ht.open();if(Rt!==null){Rt.document.write(st);var Pt=this;Rt.document.documentElement.querySelector("#pdfViewer").onload=function(){Rt.document.title=O.filename,Rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return Rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',Zn=Ht.open();if(Zn!==null&&(Zn.document.write(Lt),Zn.document.title=O.filename),Zn||typeof safari>"u")return Zn;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",O);default:return null}},Fr.foo=function(){try{return Fr.apply(this,arguments)}catch(G){var v=G.stack||"";~v.indexOf(" at ")&&(v=v.split(" at ")[1]);var O="Error in function "+v.split(`
`)[0].split("<")[0]+": "+G.message;if(!Ht.console)throw new Error(O);Ht.console.error(O,G),Ht.alert&&alert(O)}},Fr.foo.bar=Fr,Fr.foo),ei=function(v){return Array.isArray(Lr)===!0&&Lr.indexOf(v)>-1};switch(r){case"pt":qt=1;break;case"mm":qt=72/25.4;break;case"cm":qt=72/2.54;break;case"in":qt=72;break;case"px":qt=ei("px_scaling")==1?.75:96/72;break;case"pc":case"em":qt=12;break;case"ex":qt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);qt=r}var sr=null;Le(),pe();var Dr=g.__private__.getPageInfo=g.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xe[v].objId,pageNumber:v,pageContext:Xe[v]}},ao=g.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in Xe)if(Xe[O].objId===v)break;return Dr(O)},Sa=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Xe[W].objId,pageNumber:W,pageContext:Xe[W]}};g.addPage=function(){return To.apply(this,arguments),this},g.setPage=function(){return oc.apply(this,arguments),lt.call(this,je[W]),this},g.insertPage=function(v){return this.addPage(),this.movePage(W,v),this},g.movePage=function(v,O){var G,te;if(v>O){G=je[v],te=Xe[v];for(var le=v;le>O;le--)je[le]=je[le-1],Xe[le]=Xe[le-1];je[O]=G,Xe[O]=te,this.setPage(O)}else if(v<O){G=je[v],te=Xe[v];for(var Ae=v;Ae<O;Ae++)je[Ae]=je[Ae+1],Xe[Ae]=Xe[Ae+1];je[O]=G,Xe[O]=te,this.setPage(O)}return this},g.deletePage=function(){return us.apply(this,arguments),this},g.__private__.text=g.text=function(v,O,G,te,le){var Ae,Oe,et,st,Rt,Pt,Lt,Zn,qn,pn=(te=te||{}).scope||this;if(typeof v=="number"&&typeof O=="number"&&(typeof G=="string"||Array.isArray(G))){var f=G;G=O,O=v,v=f}if(arguments[3]instanceof ht==0?(et=arguments[4],st=arguments[5],nr(Lt=arguments[3])==="object"&&Lt!==null||(typeof et=="string"&&(st=et,et=null),typeof Lt=="string"&&(st=Lt,Lt=null),typeof Lt=="number"&&(et=Lt,Lt=null),te={flags:Lt,angle:et,align:st})):(w("The transform parameter of text() with a Matrix value"),qn=le),isNaN(O)||isNaN(G)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return pn;var S,N="",q=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:Mi,ae=pn.internal.scaleFactor;function me(Kn){return Kn=Kn.split("	").join(Array(te.TabLen||9).join(" ")),wi(Kn,Lt)}function He(Kn){for(var cr,Ur=Kn.concat(),Ei=[],ru=Ur.length;ru--;)typeof(cr=Ur.shift())=="string"?Ei.push(cr):Array.isArray(Kn)&&(cr.length===1||cr[1]===void 0&&cr[2]===void 0)?Ei.push(cr[0]):Ei.push([cr[0],cr[1],cr[2]]);return Ei}function At(Kn,cr){var Ur;if(typeof Kn=="string")Ur=cr(Kn)[0];else if(Array.isArray(Kn)){for(var Ei,ru,Zp=Kn.concat(),Vh=[],ov=Zp.length;ov--;)typeof(Ei=Zp.shift())=="string"?Vh.push(cr(Ei)[0]):Array.isArray(Ei)&&typeof Ei[0]=="string"&&(ru=cr(Ei[0],Ei[1],Ei[2]),Vh.push([ru[0],ru[1],ru[2]]));Ur=Vh}return Ur}var d=!1,b=!0;if(typeof v=="string")d=!0;else if(Array.isArray(v)){var x=v.concat();Oe=[];for(var U,se=x.length;se--;)(typeof(U=x.shift())!="string"||Array.isArray(U)&&typeof U[0]!="string")&&(b=!1);d=b}if(d===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var we=Ve/pn.internal.scaleFactor,qe=we*(q-1);switch(te.baseline){case"bottom":G-=qe;break;case"top":G+=we-qe;break;case"hanging":G+=we-2*qe;break;case"middle":G+=we/2-qe}if((Pt=te.maxWidth||0)>0&&(typeof v=="string"?v=pn.splitTextToSize(v,Pt):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(Kn,cr){return Kn.concat(pn.splitTextToSize(cr,Pt))},[]))),Ae={text:v,x:O,y:G,options:te,mutex:{pdfEscape:wi,activeFontKey:nt,fonts:Vt,activeFontSize:Ve}},hn.publish("preProcessText",Ae),v=Ae.text,et=(te=Ae.options).angle,qn instanceof ht==0&&et&&typeof et=="number"){et*=Math.PI/180,te.rotationDirection===0&&(et=-et),Y===J&&(et=-et);var cn=Math.cos(et),ar=Math.sin(et);qn=new ht(cn,ar,-ar,cn,0,0)}else et&&et instanceof ht&&(qn=et);Y!==J||qn||(qn=or),(Rt=te.charSpace||Oi)!==void 0&&(N+=T(I(Rt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zn=te.horizontalScale)!==void 0&&(N+=T(100*Zn)+` Tz
`),te.lang;var Bt=-1,hr=te.renderingMode!==void 0?te.renderingMode:te.stroke,xr=pn.internal.getCurrentPageInfo().pageContext;switch(hr){case 0:case!1:case"fill":Bt=0;break;case 1:case!0:case"stroke":Bt=1;break;case 2:case"fillThenStroke":Bt=2;break;case 3:case"invisible":Bt=3;break;case 4:case"fillAndAddForClipping":Bt=4;break;case 5:case"strokeAndAddPathForClipping":Bt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Bt=6;break;case 7:case"addToPathForClipping":Bt=7}var xa=xr.usedRenderingMode!==void 0?xr.usedRenderingMode:-1;Bt!==-1?N+=Bt+` Tr
`:xa!==-1&&(N+=`0 Tr
`),Bt!==-1&&(xr.usedRenderingMode=Bt),st=te.align||"left";var Ir,Qs=Ve*q,tu=pn.internal.pageSize.getWidth(),Gp=Vt[nt];Rt=te.charSpace||Oi,Pt=te.maxWidth||0,Lt=Object.assign({autoencode:!0,noBOM:!0},te.flags);var Ju=[],ud=function(Kn){return pn.getStringUnitWidth(Kn,{font:Gp,charSpace:Rt,fontSize:Ve,doKerning:!1})*Ve/ae};if(Object.prototype.toString.call(v)==="[object Array]"){var fs;Oe=He(v),st!=="left"&&(Ir=Oe.map(ud));var ps,Zu=0;if(st==="right"){O-=Ir[0],v=[],se=Oe.length;for(var nu=0;nu<se;nu++)nu===0?(ps=qi(O),fs=Er(G)):(ps=I(Zu-Ir[nu]),fs=-Qs),v.push([Oe[nu],ps,fs]),Zu=Ir[nu]}else if(st==="center"){O-=Ir[0]/2,v=[],se=Oe.length;for(var Xu=0;Xu<se;Xu++)Xu===0?(ps=qi(O),fs=Er(G)):(ps=I((Zu-Ir[Xu])/2),fs=-Qs),v.push([Oe[Xu],ps,fs]),Zu=Ir[Xu]}else if(st==="left"){v=[],se=Oe.length;for(var Wp=0;Wp<se;Wp++)v.push(Oe[Wp])}else if(st==="justify"&&Gp.encoding==="Identity-H"){v=[],se=Oe.length,Pt=Pt!==0?Pt:tu;for(var Fh=0,jr=0;jr<se;jr++)if(fs=jr===0?Er(G):-Qs,ps=jr===0?qi(O):Fh,jr<se-1){var iv=I((Pt-Ir[jr])/(Oe[jr].split(" ").length-1)),fc=Oe[jr].split(" ");v.push([fc[0]+" ",ps,fs]),Fh=0;for(var pc=1;pc<fc.length;pc++){var Kp=(ud(fc[pc-1]+" "+fc[pc])-ud(fc[pc]))*ae+iv;pc==fc.length-1?v.push([fc[pc],Kp,0]):v.push([fc[pc]+" ",Kp,0]),Fh-=Kp}}else v.push([Oe[jr],ps,fs]);v.push(["",Fh,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],se=Oe.length,Pt=Pt!==0?Pt:tu,jr=0;jr<se;jr++){fs=jr===0?Er(G):-Qs,ps=jr===0?qi(O):0;var Qp=Oe[jr].split(" ").length-1,Yp=Qp>0?(Pt-Ir[jr])/Qp:0;jr<se-1?Ju.push(T(I(Yp))):Ju.push(0),v.push([Oe[jr],ps,fs])}}}(typeof te.R2L=="boolean"?te.R2L:mt)===!0&&(v=At(v,function(Kn,cr,Ur){return[Kn.split("").reverse().join(""),cr,Ur]})),Ae={text:v,x:O,y:G,options:te,mutex:{pdfEscape:wi,activeFontKey:nt,fonts:Vt,activeFontSize:Ve}},hn.publish("postProcessText",Ae),v=Ae.text,S=Ae.mutex.isHex||!1;var Jp=Vt[nt].encoding;Jp!=="WinAnsiEncoding"&&Jp!=="StandardEncoding"||(v=At(v,function(Kn,cr,Ur){return[me(Kn),cr,Ur]})),Oe=He(v),v=[];for(var el,tl,nl,ld=Array.isArray(Oe[0])?1:0,rl="",dd=function(Kn,cr,Ur){var Ei="";return Ur instanceof ht?(Ur=typeof te.angle=="number"?qo(Ur,new ht(1,0,0,1,Kn,cr)):qo(new ht(1,0,0,1,Kn,cr),Ur),Y===J&&(Ur=qo(new ht(1,0,0,-1,0,0),Ur)),Ei=Ur.join(" ")+` Tm
`):Ei=T(Kn)+" "+T(cr)+` Td
`,Ei},Ys=0;Ys<Oe.length;Ys++){switch(rl="",ld){case 1:nl=(S?"<":"(")+Oe[Ys][0]+(S?">":")"),el=parseFloat(Oe[Ys][1]),tl=parseFloat(Oe[Ys][2]);break;case 0:nl=(S?"<":"(")+Oe[Ys]+(S?">":")"),el=qi(O),tl=Er(G)}Ju!==void 0&&Ju[Ys]!==void 0&&(rl=Ju[Ys]+` Tw
`),Ys===0?v.push(rl+dd(el,tl,qn)+nl):ld===0?v.push(rl+nl):ld===1&&v.push(rl+dd(el,tl,qn)+nl)}v=ld===0?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var gc=`BT
/`;return gc+=nt+" "+Ve+` Tf
`,gc+=T(Ve*q)+` TL
`,gc+=Hs+`
`,gc+=N,gc+=v,H(gc+="ET"),y[nt]=!0,pn};var cc=g.__private__.clip=g.clip=function(v){return H(v==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return cc("evenodd")},g.__private__.discardPath=g.discardPath=function(){return H("n"),this};var So=g.__private__.isValidStyle=function(v){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(O=!0),O};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(v){return So(v)&&(u=v),this};var Fn=g.__private__.getStyle=g.getStyle=function(v){var O=u;switch(v){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=v}return O},Aa=g.close=function(){return H("h"),this};g.stroke=function(){return H("S"),this},g.fill=function(v){return ki("f",v),this},g.fillEvenOdd=function(v){return ki("f*",v),this},g.fillStroke=function(v){return ki("B",v),this},g.fillStrokeEvenOdd=function(v){return ki("B*",v),this};var ki=function(v,O){nr(O)==="object"?Qc(O,v):H(v)},Vr=function(v){v===null||Y===J&&v===void 0||(v=Fn(v),H(v))};function Wu(v,O,G,te,le){var Ae=new Bp(O||this.boundingBox,G||this.xStep,te||this.yStep,this.gState,le||this.matrix);Ae.stream=this.stream;var Oe=v+"$$"+this.cloneIndex+++"$$";return Zr(Oe,Ae),Ae}var Qc=function(v,O){var G=jn[v.key],te=dt[G];if(te instanceof Mh)H("q"),H(Ku(O)),te.gState&&g.setGState(te.gState),H(v.matrix.toString()+" cm"),H("/"+G+" sh"),H("Q");else if(te instanceof Bp){var le=new ht(1,0,0,-1,0,Wo());v.matrix&&(le=le.multiply(v.matrix||or),G=Wu.call(te,v.key,v.boundingBox,v.xStep,v.yStep,le).id),H("q"),H("/Pattern cs"),H("/"+G+" scn"),te.gState&&g.setGState(te.gState),H(O),H("Q")}},Ku=function(v){switch(v){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},uc=g.moveTo=function(v,O){return H(T(I(v))+" "+T(ee(O))+" m"),this},Yc=g.lineTo=function(v,O){return H(T(I(v))+" "+T(ee(O))+" l"),this},ti=g.curveTo=function(v,O,G,te,le,Ae){return H([T(I(v)),T(ee(O)),T(I(G)),T(ee(te)),T(I(le)),T(ee(Ae)),"c"].join(" ")),this};g.__private__.line=g.line=function(v,O,G,te,le){if(isNaN(v)||isNaN(O)||isNaN(G)||isNaN(te)||!So(le))throw new Error("Invalid arguments passed to jsPDF.line");return Y===Z?this.lines([[G-v,te-O]],v,O,[1,1],le||"S"):this.lines([[G-v,te-O]],v,O,[1,1]).stroke()},g.__private__.lines=g.lines=function(v,O,G,te,le,Ae){var Oe,et,st,Rt,Pt,Lt,Zn,qn,pn,f,S,N;if(typeof v=="number"&&(N=G,G=O,O=v,v=N),te=te||[1,1],Ae=Ae||!1,isNaN(O)||isNaN(G)||!Array.isArray(v)||!Array.isArray(te)||!So(le)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(uc(O,G),Oe=te[0],et=te[1],Rt=v.length,f=O,S=G,st=0;st<Rt;st++)(Pt=v[st]).length===2?(f=Pt[0]*Oe+f,S=Pt[1]*et+S,Yc(f,S)):(Lt=Pt[0]*Oe+f,Zn=Pt[1]*et+S,qn=Pt[2]*Oe+f,pn=Pt[3]*et+S,f=Pt[4]*Oe+f,S=Pt[5]*et+S,ti(Lt,Zn,qn,pn,f,S));return Ae&&Aa(),Vr(le),this},g.path=function(v){for(var O=0;O<v.length;O++){var G=v[O],te=G.c;switch(G.op){case"m":uc(te[0],te[1]);break;case"l":Yc(te[0],te[1]);break;case"c":ti.apply(this,te);break;case"h":Aa()}}return this},g.__private__.rect=g.rect=function(v,O,G,te,le){if(isNaN(v)||isNaN(O)||isNaN(G)||isNaN(te)||!So(le))throw new Error("Invalid arguments passed to jsPDF.rect");return Y===Z&&(te=-te),H([T(I(v)),T(ee(O)),T(I(G)),T(I(te)),"re"].join(" ")),Vr(le),this},g.__private__.triangle=g.triangle=function(v,O,G,te,le,Ae,Oe){if(isNaN(v)||isNaN(O)||isNaN(G)||isNaN(te)||isNaN(le)||isNaN(Ae)||!So(Oe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-v,te-O],[le-G,Ae-te],[v-le,O-Ae]],v,O,[1,1],Oe,!0),this},g.__private__.roundedRect=g.roundedRect=function(v,O,G,te,le,Ae,Oe){if(isNaN(v)||isNaN(O)||isNaN(G)||isNaN(te)||isNaN(le)||isNaN(Ae)||!So(Oe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return le=Math.min(le,.5*G),Ae=Math.min(Ae,.5*te),this.lines([[G-2*le,0],[le*et,0,le,Ae-Ae*et,le,Ae],[0,te-2*Ae],[0,Ae*et,-le*et,Ae,-le,Ae],[2*le-G,0],[-le*et,0,-le,-Ae*et,-le,-Ae],[0,2*Ae-te],[0,-Ae*et,le*et,-Ae,le,-Ae]],v+le,O,[1,1],Oe,!0),this},g.__private__.ellipse=g.ellipse=function(v,O,G,te,le){if(isNaN(v)||isNaN(O)||isNaN(G)||isNaN(te)||!So(le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*G,Oe=4/3*(Math.SQRT2-1)*te;return uc(v+G,O),ti(v+G,O-Oe,v+Ae,O-te,v,O-te),ti(v-Ae,O-te,v-G,O-Oe,v-G,O),ti(v-G,O+Oe,v-Ae,O+te,v,O+te),ti(v+Ae,O+te,v+G,O+Oe,v+G,O),Vr(le),this},g.__private__.circle=g.circle=function(v,O,G,te){if(isNaN(v)||isNaN(O)||isNaN(G)||!So(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,O,G,G,te)},g.setFont=function(v,O,G){return G&&(O=P(O,G)),nt=ac(v,O,{disableWarning:!1}),this};var Ca=g.__private__.getFont=g.getFont=function(){return Vt[ac.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var v,O,G={};for(v in Gt)if(Gt.hasOwnProperty(v))for(O in G[v]=[],Gt[v])Gt[v].hasOwnProperty(O)&&G[v].push(O);return G},g.addFont=function(v,O,G,te,le){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?le=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(G=P(G,te)),Kc.call(this,v,O,G,le=le||"Identity-H")};var Mi,lc=t.lineWidth||.200025,Ao=g.__private__.getLineWidth=g.getLineWidth=function(){return lc},Ot=g.__private__.setLineWidth=g.setLineWidth=function(v){return lc=v,H(T(I(v))+" w"),this};g.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(v,O){if(v=v||[],O=O||0,isNaN(O)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(G){return T(I(G))}).join(" "),O=T(I(O)),H("["+v+"] "+O+" d"),this};var Co=g.__private__.getLineHeight=g.getLineHeight=function(){return Ve*Mi};g.__private__.getLineHeight=g.getLineHeight=function(){return Ve*Mi};var dc=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Mi=v),this},Qu=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Mi};dc(t.lineHeight);var qi=g.__private__.getHorizontalCoordinate=function(v){return I(v)},Er=g.__private__.getVerticalCoordinate=function(v){return Y===J?v:Xe[W].mediaBox.topRightY-Xe[W].mediaBox.bottomLeftY-I(v)},Yu=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(v){return T(qi(v))},Jc=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(v){return T(Er(v))},_n=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return xi(_n)},g.__private__.setStrokeColor=g.setDrawColor=function(v,O,G,te){return _n=Ni({ch1:v,ch2:O,ch3:G,ch4:te,pdfColorType:"draw",precision:2}),H(_n),this};var $s=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return xi($s)},g.__private__.setFillColor=g.setFillColor=function(v,O,G,te){return $s=Ni({ch1:v,ch2:O,ch3:G,ch4:te,pdfColorType:"fill",precision:2}),H($s),this};var Hs=t.textColor||"0 g",Gs=g.__private__.getTextColor=g.getTextColor=function(){return xi(Hs)};g.__private__.setTextColor=g.setTextColor=function(v,O,G,te){return Hs=Ni({ch1:v,ch2:O,ch3:G,ch4:te,pdfColorType:"text",precision:3}),this};var Oi=t.charSpace,Zc=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Oi||0)};g.__private__.setCharSpace=g.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Oi=v,this};var $o=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(v){var O=g.CapJoinStyles[v];if(O===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $o=O,H(O+" J"),this};var fn=0;g.__private__.setLineJoin=g.setLineJoin=function(v){var O=g.CapJoinStyles[v];if(O===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fn=O,H(O+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(T(I(v))+" M"),this},g.GState=Hb,g.setGState=function(v){(v=typeof v=="string"?_t[Ft[v]]:Xc(null,v)).equals(Nn)||(H("/"+v.id+" gs"),Nn=v)};var Xc=function(v,O){if(!v||!Ft[v]){var G=!1;for(var te in _t)if(_t.hasOwnProperty(te)&&_t[te].equals(O)){G=!0;break}if(G)O=_t[te];else{var le="GS"+(Object.keys(_t).length+1).toString(10);_t[le]=O,O.id=le}return v&&(Ft[v]=O.id),hn.publish("addGState",O),O}};g.addGState=function(v,O){return Xc(v,O),this},g.saveGraphicsState=function(){return H("q"),Ln.push({key:nt,size:Ve,color:Hs}),this},g.restoreGraphicsState=function(){H("Q");var v=Ln.pop();return nt=v.key,Ve=v.size,Hs=v.color,Nn=null,this},g.setCurrentTransformationMatrix=function(v){return H(v.toString()+" cm"),this},g.comment=function(v){return H("#"+v),this};var ds=function(v,O){var G=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(Ae){isNaN(Ae)||(G=parseFloat(Ae))}});var te=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(Ae){isNaN(Ae)||(te=parseFloat(Ae))}});var le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return le},set:function(Ae){le=Ae.toString()}}),this},Ho=function(v,O,G,te){ds.call(this,v,O),this.type="rect";var le=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return le},set:function(Oe){isNaN(Oe)||(le=parseFloat(Oe))}});var Ae=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(Oe){isNaN(Oe)||(Ae=parseFloat(Oe))}}),this},Ws=function(){this.page=zt,this.currentPage=W,this.pages=je.slice(0),this.pagesContext=Xe.slice(0),this.x=ft,this.y=dr,this.matrix=en,this.width=Da(W),this.height=eu(W),this.outputDestination=Ke,this.id="",this.objectNumber=-1};Ws.prototype.restore=function(){zt=this.page,W=this.currentPage,Xe=this.pagesContext,je=this.pages,ft=this.x,dr=this.y,en=this.matrix,bi(W,this.width),Go(W,this.height),Ke=this.outputDestination};var Ks=function(v,O,G,te,le){bo.push(new Ws),zt=W=0,je=[],ft=v,dr=O,en=le,zo([G,te])};for(var zi in g.beginFormObject=function(v,O,G,te,le){return Ks(v,O,G,te,le),this},g.endFormObject=function(v){return(function(O){if(to[O])bo.pop().restore();else{var G=new Ws,te="Xo"+(Object.keys(mr).length+1).toString(10);G.id=te,to[O]=te,mr[te]=G,hn.publish("addFormObject",G),bo.pop().restore()}})(v),this},g.doFormObject=function(v,O){var G=mr[to[v]];return H("q"),H(O.toString()+" cm"),H("/"+G.id+" Do"),H("Q"),this},g.getFormObject=function(v){var O=mr[to[v]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},g.save=function(v,O){return v=v||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(kh(zs(Pi()),v),typeof kh.unload=="function"&&Ht.setTimeout&&setTimeout(kh.unload,911),this):new Promise(function(G,te){try{var le=kh(zs(Pi()),v);typeof kh.unload=="function"&&Ht.setTimeout&&setTimeout(kh.unload,911),G(le)}catch(Ae){te(Ae.message)}})},yt.API)yt.API.hasOwnProperty(zi)&&(zi==="events"&&yt.API.events.length?(function(v,O){var G,te,le;for(le=O.length-1;le!==-1;le--)G=O[le][0],te=O[le][1],v.subscribe.apply(v,[G].concat(typeof te=="function"?[te]:te))})(hn,yt.API.events):g[zi]=yt.API[zi]);function Da(v){return Xe[v].mediaBox.topRightX-Xe[v].mediaBox.bottomLeftX}function bi(v,O){Xe[v].mediaBox.topRightX=O+Xe[v].mediaBox.bottomLeftX}function eu(v){return Xe[v].mediaBox.topRightY-Xe[v].mediaBox.bottomLeftY}function Go(v,O){Xe[v].mediaBox.topRightY=O+Xe[v].mediaBox.bottomLeftY}var Br=g.getPageWidth=function(v){return Da(v=v||W)/qt},hc=g.setPageWidth=function(v,O){bi(v,O*qt)},Wo=g.getPageHeight=function(v){return eu(v=v||W)/qt},hs=g.setPageHeight=function(v,O){Go(v,O*qt)};return g.internal={pdfEscape:wi,getStyle:Fn,getFont:Ca,getFontSize:Ge,getCharSpace:Zc,getTextColor:Gs,getLineHeight:Co,getLineHeightFactor:Qu,getLineWidth:Ao,write:Qe,getHorizontalCoordinate:qi,getVerticalCoordinate:Er,getCoordinateString:Yu,getVerticalCoordinateString:Jc,collections:{},newObject:Un,newAdditionalObject:no,newObjectDeferred:br,newObjectDeferredBegin:yr,getFilters:_i,putStream:Xr,events:hn,scaleFactor:qt,pageSize:{getWidth:function(){return Br(W)},setWidth:function(v){hc(W,v)},getHeight:function(){return Wo(W)},setHeight:function(v){hs(W,v)}},encryptionOptions:l,encryption:sr,getEncryptor:function(v){return l!==null?sr.encryptor(v,0):function(O){return O}},output:Rn,getNumberOfPages:sc,get pages(){return je},out:H,f2:_,f3:A,getPageInfo:Dr,getPageInfoByObjId:ao,getCurrentPageInfo:Sa,getPDFVersion:k,Point:ds,Rectangle:Ho,Matrix:ht,hasHotfix:ei},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Br(W)},set:function(v){hc(W,v)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Wo(W)},set:function(v){hs(W,v)},enumerable:!0,configurable:!0}),function(v){for(var O=0,G=bt.length;O<G;O++){var te=Kc.call(this,v[O][0],v[O][1],v[O][2],bt[O][3],!0);m===!1&&(y[te]=!0);var le=v[O][0].split("-");cs({id:te,fontName:le[0],fontStyle:le[1]||""})}hn.publish("addFonts",{fonts:Vt,dictionary:Gt})}.call(g,bt),nt="F1",To(i,n),hn.publish("initialized"),g}Fp.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Fp.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Fp.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Fp.prototype.processOwnerPassword=function(t,e){return zN(qN(e).substr(0,5),t)},Fp.prototype.encryptor=function(t,e){var n=qN(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return zN(n,r)}},Hb.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||nr(t)!==nr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},yt.API={events:[]},yt.version="3.0.4";var Or=yt.API,GN=1,Lh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Op=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yt=function(t){return t.toFixed(2)},od=function(t){return t.toFixed(5)};Or.__acroform__={};var os=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},qB=function(t){return t*GN},Hc=function(t){var e=new dj,n=ut.internal.getHeight(t)||0,r=ut.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Yt(r)),Number(Yt(n))],e},woe=Or.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},boe=Or.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Eoe=Or.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Qr=Or.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Eoe(t,e-1)},Yr=Or.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return woe(t,e-1)},Jr=Or.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return boe(t,e-1)},Ioe=Or.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(o+a)||0,c.upperRight_X=n(i+s)||0,c.upperRight_Y=r(o)||0,[Number(Yt(c.lowerLeft_X)),Number(Yt(c.lowerLeft_Y)),Number(Yt(c.upperRight_X)),Number(Yt(c.upperRight_Y))]},Toe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=$N(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Yt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Hc(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},$N=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(_){return _.split(`
`)}):i.map(function(_){return[_]});var o=n,s=ut.internal.getHeight(t)||0;s=s<0?-s:s;var a=ut.internal.getWidth(t)||0;a=a<0?-a:a;var c=function(_,A,I){if(_+1<i.length){var ee=A+" "+i[_+1][0];return Fb(ee,t,I).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var u,l,m=Fb("3",t,o).height,y=t.multiline?s-o:(s-m)/2,g=y+=2,R=0,k=0,M=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Fb(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var L="",Z=0,J=0;J<i.length;J++)if(i.hasOwnProperty(J)){var Y=!1;if(i[J].length!==1&&M!==i[J].length-1){if((m+2)*(Z+2)+2>s)continue e;L+=i[J][M],Y=!0,k=J,J--}else{L=(L+=i[J][M]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var fe=parseInt(J),be=c(fe,L,o),P=J>=i.length-1;if(be&&!P){L+=" ",M=0;continue}if(be||P){if(P)k=fe;else if(t.multiline&&(m+2)*(Z+2)+2>s)continue e}else{if(!t.multiline||(m+2)*(Z+2)+2>s)continue e;k=fe}}for(var T="",w=R;w<=k;w++){var D=i[w];if(t.multiline){if(w===k){T+=D[M]+" ",M=(M+1)%D.length;continue}if(w===R){T+=D[D.length-1]+" ";continue}}T+=D[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,l=Fb(T,t,o).width,t.textAlign){case"right":u=a-l-2;break;case"center":u=(a-l)/2;break;default:u=2}e+=Yt(u)+" "+Yt(g)+` Td
`,e+="("+Lh(T)+`) Tj
`,e+=-Yt(u)+` 0 Td
`,g=-(o+2),l=0,R=Y?k:k+1,Z++,L=""}break}return r.text=e,r.fontSize=o,r},Fb=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Soe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Aoe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Coe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(rc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Soe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");GN=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new hj,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&Aoe(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],c=[],u=a.Rect;if(a.Rect&&(a.Rect=Ioe(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ut.createDefaultAppearanceStream(a),nr(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(c=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var l=Toe(a);c.push({key:"AP",value:"<</N "+l+">>"}),i.internal.acroformPlugin.xForms.push(l)}if(a.appearanceStreamContent){var m="";for(var y in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(y)){var g=a.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var R=g[s];typeof R=="function"&&(R=R.call(i,a)),m+="/"+s+" "+R+" ",i.internal.acroformPlugin.xForms.indexOf(R)>=0||i.internal.acroformPlugin.xForms.push(R)}}else typeof(R=g)=="function"&&(R=R.call(i,a)),m+="/"+s+" "+R,i.internal.acroformPlugin.xForms.indexOf(R)>=0||i.internal.acroformPlugin.xForms.push(R);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:a.objId}),i.internal.out("endobj")}o&&(function(k,M){for(var L in k)if(k.hasOwnProperty(L)){var Z=L,J=k[L];M.internal.newObjectDeferredBegin(J.objId,!0),nr(J)==="object"&&typeof J.putStream=="function"&&J.putStream(),delete k[Z]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},lj=Or.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),nr(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Lh(r(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},FN=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Lh(r(t))+")"},Gc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gc.prototype.toString=function(){return this.objId+" 0 R"},Gc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Gc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:lj(i,this.objId,this.scope)}):i instanceof Gc?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var dj=function(){Gc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};os(dj,Gc);var hj=function(){Gc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Lh(n(t))+")"}},set:function(n){t=n}})};os(hj,Gc);var rc=function t(){Gc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');e=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qr(e,3)},set:function(L){L?this.F=Yr(e,3):this.F=Jr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');n=L}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(L){r=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(L){r[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(L){r[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(L){r[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(L){r[3]=L}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Gb)return;o="FieldObject"+t.FieldNum++}var L=function(Z){return Z};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+Lh(L(o))+")"},set:function(L){o=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(L){o=L}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(L){s=L}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(L){a=L}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(L){c=L}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/GN:u},set:function(L){u=L}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(L){l=L}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Gb||this instanceof Oh))return FN(m,this.objId,this.scope)},set:function(L){L=L.toString(),m=L}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Ui==0?FN(y,this.objId,this.scope):y},set:function(L){L=L.toString(),y=this instanceof Ui==0?L.substr(0,1)==="("?Op(L.substr(1,L.length-2)):Op(L):L}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui==1?Op(y.substr(1,y.length-1)):y},set:function(L){L=L.toString(),y=this instanceof Ui==1?"/"+L:L}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ui==0?FN(g,this.objId,this.scope):g},set:function(L){L=L.toString(),g=this instanceof Ui==0?L.substr(0,1)==="("?Op(L.substr(1,L.length-2)):Op(L):L}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui==1?Op(g.substr(1,g.length-1)):g},set:function(L){L=L.toString(),g=this instanceof Ui==1?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(L){L=!!L,k=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(L){R=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,1)},set:function(L){L?this.Ff=Yr(this.Ff,1):this.Ff=Jr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,2)},set:function(L){L?this.Ff=Yr(this.Ff,2):this.Ff=Jr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,3)},set:function(L){L?this.Ff=Yr(this.Ff,3):this.Ff=Jr(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');M=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(M){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:M=2;break;case"center":case 1:M=1;break;default:M=0}}})};os(rc,Gc);var jp=function(){rc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lj(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(o,s,a){a||(a=1);for(var c,u=[];c=s.exec(o);)u.push(c[a]);return u})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,18)},set:function(n){n?this.Ff=Yr(this.Ff,18):this.Ff=Jr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Yr(this.Ff,19):this.Ff=Jr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,20)},set:function(n){n?(this.Ff=Yr(this.Ff,20),e.sort()):this.Ff=Jr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,22)},set:function(n){n?this.Ff=Yr(this.Ff,22):this.Ff=Jr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,23)},set:function(n){n?this.Ff=Yr(this.Ff,23):this.Ff=Jr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,27)},set:function(n){n?this.Ff=Yr(this.Ff,27):this.Ff=Jr(this.Ff,27)}}),this.hasAppearanceStream=!1};os(jp,rc);var Up=function(){jp.call(this),this.fontName="helvetica",this.combo=!1};os(Up,jp);var qp=function(){Up.call(this),this.combo=!0};os(qp,Up);var Ub=function(){qp.call(this),this.edit=!0};os(Ub,qp);var Ui=function(){rc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,15)},set:function(n){n?this.Ff=Yr(this.Ff,15):this.Ff=Jr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,16)},set:function(n){n?this.Ff=Yr(this.Ff,16):this.Ff=Jr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,17)},set:function(n){n?this.Ff=Yr(this.Ff,17):this.Ff=Jr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,26)},set:function(n){n?this.Ff=Yr(this.Ff,26):this.Ff=Jr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Lh(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){nr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};os(Ui,rc);var qb=function(){Ui.call(this),this.pushButton=!0};os(qb,Ui);var zp=function(){Ui.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};os(zp,Ui);var Gb=function(){var t,e;rc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Lh(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){nr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};os(Gb,rc),zp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},zp.prototype.createOption=function(t){var e=new Gb;return e.Parent=this,e.optionName=t,this.Kids.push(e),Doe.call(this.scope,e),e};var zb=function(){Ui.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ut.CheckBox.createAppearanceStream()};os(zb,Ui);var Oh=function(){rc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,13)},set:function(e){e?this.Ff=Yr(this.Ff,13):this.Ff=Jr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,21)},set:function(e){e?this.Ff=Yr(this.Ff,21):this.Ff=Jr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,23)},set:function(e){e?this.Ff=Yr(this.Ff,23):this.Ff=Jr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,24)},set:function(e){e?this.Ff=Yr(this.Ff,24):this.Ff=Jr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,25)},set:function(e){e?this.Ff=Yr(this.Ff,25):this.Ff=Jr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,26)},set:function(e){e?this.Ff=Yr(this.Ff,26):this.Ff=Jr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};os(Oh,rc);var $b=function(){Oh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,14)},set:function(t){t?this.Ff=Yr(this.Ff,14):this.Ff=Jr(this.Ff,14)}}),this.password=!0};os($b,Oh);var ut={CheckBox:{createAppearanceStream:function(){return{N:{On:ut.CheckBox.YesNormal},D:{On:ut.CheckBox.YesPushDown,Off:ut.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Hc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=$N(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Yt(ut.internal.getWidth(t))+" "+Yt(ut.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Yt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Hc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=ut.internal.getHeight(t),s=ut.internal.getWidth(t),a=$N(t,t.caption);return i.push("1 g"),i.push("0 0 "+Yt(s)+" "+Yt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Yt(s-1)+" "+Yt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Yt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Hc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Yt(ut.internal.getWidth(t))+" "+Yt(ut.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ut.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ut.RadioButton.Circle.YesNormal,e.D[t]=ut.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Hc(t);e.scope=t.scope;var n=[],r=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=ut.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+od(ut.internal.getWidth(t)/2)+" "+od(ut.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Hc(t);e.scope=t.scope;var n=[],r=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*ut.internal.Bezier_C).toFixed(5)),s=Number((r*ut.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+od(ut.internal.getWidth(t)/2)+" "+od(ut.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+od(ut.internal.getWidth(t)/2)+" "+od(ut.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Hc(t);e.scope=t.scope;var n=[],r=ut.internal.getWidth(t)<=ut.internal.getHeight(t)?ut.internal.getWidth(t)/4:ut.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*ut.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+od(ut.internal.getWidth(t)/2)+" "+od(ut.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ut.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ut.RadioButton.Cross.YesNormal,e.D[t]=ut.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Hc(t);e.scope=t.scope;var n=[],r=ut.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Yt(ut.internal.getWidth(t)-2)+" "+Yt(ut.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Yt(r.x1.x)+" "+Yt(r.x1.y)+" m"),n.push(Yt(r.x2.x)+" "+Yt(r.x2.y)+" l"),n.push(Yt(r.x4.x)+" "+Yt(r.x4.y)+" m"),n.push(Yt(r.x3.x)+" "+Yt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Hc(t);e.scope=t.scope;var n=ut.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Yt(ut.internal.getWidth(t))+" "+Yt(ut.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Yt(ut.internal.getWidth(t)-2)+" "+Yt(ut.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Yt(n.x1.x)+" "+Yt(n.x1.y)+" m"),r.push(Yt(n.x2.x)+" "+Yt(n.x2.y)+" l"),r.push(Yt(n.x4.x)+" "+Yt(n.x4.y)+" m"),r.push(Yt(n.x3.x)+" "+Yt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Hc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Yt(ut.internal.getWidth(t))+" "+Yt(ut.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ut.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ut.internal.getWidth(t),n=ut.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},ut.internal.getWidth=function(t){var e=0;return nr(t)==="object"&&(e=qB(t.Rect[2])),e},ut.internal.getHeight=function(t){var e=0;return nr(t)==="object"&&(e=qB(t.Rect[3])),e};var Doe=Or.addField=function(t){if(Coe(this,t),!(t instanceof rc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Or.AcroFormChoiceField=jp,Or.AcroFormListBox=Up,Or.AcroFormComboBox=qp,Or.AcroFormEditBox=Ub,Or.AcroFormButton=Ui,Or.AcroFormPushButton=qb,Or.AcroFormRadioButton=zp,Or.AcroFormCheckBox=zb,Or.AcroFormTextField=Oh,Or.AcroFormPasswordField=$b,Or.AcroFormAppearance=ut,Or.AcroForm={ChoiceField:jp,ListBox:Up,ComboBox:qp,EditBox:Ub,Button:Ui,PushButton:qb,RadioButton:zp,CheckBox:zb,TextField:Oh,PasswordField:$b,Appearance:ut},yt.AcroForm={ChoiceField:jp,ListBox:Up,ComboBox:qp,EditBox:Ub,Button:Ui,PushButton:qb,RadioButton:zp,CheckBox:zb,TextField:Oh,PasswordField:$b,Appearance:ut};var $Ce=yt.AcroForm;function fj(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(_,A){var I,ee,_e,Ce,Te,pe=n;if((A=A||n)==="RGBA"||_.data!==void 0&&_.data instanceof Uint8ClampedArray&&"height"in _&&"width"in _)return"RGBA";if(be(_))for(Te in r)for(_e=r[Te],I=0;I<_e.length;I+=1){for(Ce=!0,ee=0;ee<_e[I].length;ee+=1)if(_e[I][ee]!==void 0&&_e[I][ee]!==_[ee]){Ce=!1;break}if(Ce===!0){pe=Te;break}}else for(Te in r)for(_e=r[Te],I=0;I<_e.length;I+=1){for(Ce=!0,ee=0;ee<_e[I].length;ee+=1)if(_e[I][ee]!==void 0&&_e[I][ee]!==_.charCodeAt(ee)){Ce=!1;break}if(Ce===!0){pe=Te;break}}return pe===n&&A!==n&&(pe=A),pe},o=function _(A){for(var I=this.internal.write,ee=this.internal.putStream,_e=(0,this.internal.getFilters)();_e.indexOf("FlateEncode")!==-1;)_e.splice(_e.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var Ce=[];if(Ce.push({key:"Type",value:"/XObject"}),Ce.push({key:"Subtype",value:"/Image"}),Ce.push({key:"Width",value:A.width}),Ce.push({key:"Height",value:A.height}),A.colorSpace===L.INDEXED?Ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(Ce.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===L.DEVICE_CMYK&&Ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ce.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&Ce.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)&&A.transparency.length>0){for(var Te="",pe=0,Se=A.transparency.length;pe<Se;pe++)Te+=A.transparency[pe]+" "+A.transparency[pe]+" ";Ce.push({key:"Mask",value:"["+Te+"]"})}A.sMask!==void 0&&Ce.push({key:"SMask",value:A.objectId+1+" 0 R"});var $e=A.filter!==void 0?["/"+A.filter]:void 0;if(ee({data:A.data,additionalKeyValues:Ce,alreadyAppliedFilters:$e,objectId:A.objectId}),I("endobj"),"sMask"in A&&A.sMask!==void 0){var Le,B=(Le=A.sMaskBitsPerComponent)!==null&&Le!==void 0?Le:A.bitsPerComponent,W={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:A.sMask};"filter"in A&&(W.decodeParameters="/Predictor ".concat(A.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(A.width),W.filter=A.filter),_.call(this,W)}if(A.colorSpace===L.INDEXED){var X=this.internal.newObject();ee({data:T(new Uint8Array(A.palette)),objectId:X}),I("endobj")}},s=function(){var _=this.internal.collections[e+"images"];for(var A in _)o.call(this,_[A])},a=function(){var _,A=this.internal.collections[e+"images"],I=this.internal.write;for(var ee in A)I("/I"+(_=A[ee]).index,_.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var _=this.internal.collections[e+"images"];return c.call(this),_},l=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(_){return typeof t["process"+_.toUpperCase()]=="function"},y=function(_){return nr(_)==="object"&&_.nodeType===1},g=function(_,A){if(_.nodeName==="IMG"&&_.hasAttribute("src")){var I=""+_.getAttribute("src");if(I.indexOf("data:image/")===0)return jb(unescape(I).split("base64,").pop());var ee=t.loadFile(I,!0);if(ee!==void 0)return ee}if(_.nodeName==="CANVAS"){if(_.width===0||_.height===0)throw new Error("Given canvas must have data. Canvas width: "+_.width+", height: "+_.height);var _e;switch(A){case"PNG":_e="image/png";break;case"WEBP":_e="image/webp";break;default:_e="image/jpeg"}return jb(_.toDataURL(_e,1).split("base64,").pop())}},R=function(_){var A=this.internal.collections[e+"images"];if(A){for(var I in A)if(_===A[I].alias)return A[I]}},k=function(_,A,I){return _||A||(_=-96,A=-96),_<0&&(_=-1*I.width*72/_/this.internal.scaleFactor),A<0&&(A=-1*I.height*72/A/this.internal.scaleFactor),_===0&&(_=A*I.width/I.height),A===0&&(A=_*I.height/I.width),[_,A]},M=function(_,A,I,ee,_e,Ce){var Te=k.call(this,I,ee,_e),pe=this.internal.getCoordinateString,Se=this.internal.getVerticalCoordinateString,$e=u.call(this);if(I=Te[0],ee=Te[1],$e[_e.index]=_e,Ce){Ce*=Math.PI/180;var Le=Math.cos(Ce),B=Math.sin(Ce),W=function(ne){return ne.toFixed(4)},X=[W(Le),W(B),W(-1*B),W(Le),0,0,"cm"]}this.internal.write("q"),Ce?(this.internal.write([1,"0","0",1,pe(_),Se(A+ee),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([pe(I),"0","0",pe(ee),"0","0","cm"].join(" "))):this.internal.write([pe(I),"0","0",pe(ee),pe(_),Se(A+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+_e.index+" Do"),this.internal.write("Q")},L=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Z=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},J=t.__addimage__.sHashCode=function(_){var A,I,ee=0;if(typeof _=="string")for(I=_.length,A=0;A<I;A++)ee=(ee<<5)-ee+_.charCodeAt(A),ee|=0;else if(be(_))for(I=_.byteLength/2,A=0;A<I;A++)ee=(ee<<5)-ee+_[A],ee|=0;return ee},Y=t.__addimage__.validateStringAsBase64=function(_){(_=_||"").toString().trim();var A=!0;return _.length===0&&(A=!1),_.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(_.substr(0,_.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(_.substr(-2))===!1&&(A=!1),A},fe=t.__addimage__.extractImageFromDataUrl=function(_){if(_==null||!(_=_.trim()).startsWith("data:"))return null;var A=_.indexOf(",");return A<0?null:_.substring(0,A).trim().endsWith("base64")?_.substring(A+1):null};t.__addimage__.isArrayBuffer=function(_){return _ instanceof ArrayBuffer};var be=t.__addimage__.isArrayBufferView=function(_){return _ instanceof Int8Array||_ instanceof Uint8Array||_ instanceof Uint8ClampedArray||_ instanceof Int16Array||_ instanceof Uint16Array||_ instanceof Int32Array||_ instanceof Uint32Array||_ instanceof Float32Array||_ instanceof Float64Array},P=t.__addimage__.binaryStringToUint8Array=function(_){for(var A=_.length,I=new Uint8Array(A),ee=0;ee<A;ee++)I[ee]=_.charCodeAt(ee);return I},T=t.__addimage__.arrayBufferToBinaryString=function(_){for(var A="",I=be(_)?_:new Uint8Array(_),ee=0;ee<I.length;ee+=8192)A+=String.fromCharCode.apply(null,I.subarray(ee,ee+8192));return A};t.addImage=function(){var _,A,I,ee,_e,Ce,Te,pe,Se;if(typeof arguments[1]=="number"?(A=n,I=arguments[1],ee=arguments[2],_e=arguments[3],Ce=arguments[4],Te=arguments[5],pe=arguments[6],Se=arguments[7]):(A=arguments[1],I=arguments[2],ee=arguments[3],_e=arguments[4],Ce=arguments[5],Te=arguments[6],pe=arguments[7],Se=arguments[8]),nr(_=arguments[0])==="object"&&!y(_)&&"imageData"in _){var $e=_;_=$e.imageData,A=$e.format||A||n,I=$e.x||I||0,ee=$e.y||ee||0,_e=$e.w||$e.width||_e,Ce=$e.h||$e.height||Ce,Te=$e.alias||Te,pe=$e.compression||pe,Se=$e.rotation||$e.angle||Se}var Le=this.internal.getFilters();if(pe===void 0&&Le.indexOf("FlateEncode")!==-1&&(pe="SLOW"),isNaN(I)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var B=w.call(this,_,A,Te,pe);return M.call(this,I,ee,_e,Ce,B,Se),this};var w=function(_,A,I,ee){var _e,Ce,Te;if(typeof _=="string"&&i(_)===n){_=unescape(_);var pe=D(_,!1);(pe!==""||(pe=t.loadFile(_,!0))!==void 0)&&(_=pe)}if(y(_)&&(_=g(_,A)),A=i(_,A),!m(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((Te=I)==null||Te.length===0)&&(I=(function(Se){return typeof Se=="string"||be(Se)?J(Se):be(Se.data)?J(Se.data):null})(_)),(_e=R.call(this,I))||(_ instanceof Uint8Array||A==="RGBA"||(Ce=_,_=P(_)),_e=this["process"+A.toUpperCase()](_,l.call(this),I,(function(Se){return Se&&typeof Se=="string"&&(Se=Se.toUpperCase()),Se in t.image_compression?Se:Z.NONE})(ee),Ce)),!_e)throw new Error("An unknown error occurred whilst processing the image.");return _e},D=t.__addimage__.convertBase64ToBinaryString=function(_,A){A=typeof A!="boolean"||A;var I,ee="";if(typeof _=="string"){var _e;I=(_e=fe(_))!==null&&_e!==void 0?_e:_;try{ee=jb(I)}catch(Ce){if(A)throw Y(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};t.getImageProperties=function(_){var A,I,ee="";if(y(_)&&(_=g(_)),typeof _=="string"&&i(_)===n&&((ee=D(_,!1))===""&&(ee=t.loadFile(_)||""),_=ee),I=i(_),!m(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(_ instanceof Uint8Array||(_=P(_)),!(A=this["process"+I.toUpperCase()](_)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=I,A}})(yt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};yt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,l=!1,m=0;m<u.length&&!l;m++)switch((r=u[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(l!=0){this.internal.write("/Annots [");for(var y=0;y<u.length;y++){r=u[y];var g=this.internal.pdfEscape,R=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(k.objId),Z=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(L(r.contents))+")",o+=" /Popup "+M.objId+" 0 R",o+=" /P "+c.objId+" 0 R",o+=" /T ("+g(L(Z))+") >>",k.content=o;var J=k.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+J,r.open&&(o+=" /Open true"),o+=" >>",M.content=o,this.internal.write(k.objId,"0 R",M.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var Y=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(R(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Y+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var fe=this.annotations._nameMap[r.options.name];r.options.pageNumber=fe.page,r.options.top=fe.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(R(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var be=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+be+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+i),h:u(r+o)},options:s,type:"link"})},t.textWithLink=function(n,r,i,o){var s,a,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var l=this.splitTextToSize(n,a).length;s=Math.ceil(u*l)}else a=c,s=u;return this.text(n,r,i,o),i+=.2*u,o.align==="center"&&(r-=c/2),o.align==="right"&&(r-=c),this.link(r,i-u,a,s,o),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(yt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},a=t.__arabicParser__.isArabicEndLetter=function(k){return s(k)&&o(k)&&e[k.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(k){return s(k)&&i.indexOf(k.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return s(k)&&o(k)&&e[k.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(k){return s(k)&&o(k)&&e[k.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(k){return s(k)&&o(k)&&e[k.charCodeAt(0)].length>=3};var l=t.__arabicParser__.arabicLetterHasMedialForm=function(k){return s(k)&&o(k)&&e[k.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(k){var M=0,L=n,Z="",J=0;for(M=0;M<k.length;M+=1)L[k.charCodeAt(M)]!==void 0?(J++,typeof(L=L[k.charCodeAt(M)])=="number"&&(Z+=String.fromCharCode(L),L=n,J=0),M===k.length-1&&(L=n,Z+=k.charAt(M-(J-1)),M-=J-1,J=0)):(L=n,Z+=k.charAt(M-J),M-=J,J=0);return Z};t.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&r[k.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(k,M,L){return s(k)?o(k)===!1?-1:!u(k)||!s(M)&&!s(L)||!s(L)&&a(M)||a(k)&&!s(M)||a(k)&&c(M)||a(k)&&a(M)?0:l(k)&&s(M)&&!a(M)&&s(L)&&u(L)?3:a(k)||!s(L)?1:2:-1},g=function(k){var M=0,L=0,Z=0,J="",Y="",fe="",be=(k=k||"").split("\\s+"),P=[];for(M=0;M<be.length;M+=1){for(P.push(""),L=0;L<be[M].length;L+=1)J=be[M][L],Y=be[M][L-1],fe=be[M][L+1],s(J)?(Z=y(J,Y,fe),P[M]+=Z!==-1?String.fromCharCode(e[J.charCodeAt(0)][Z]):J):P[M]+=J;P[M]=m(P[M])}return P.join(" ")},R=t.__arabicParser__.processArabic=t.processArabic=function(){var k,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(M)){var Z=0;for(L=[],Z=0;Z<M.length;Z+=1)Array.isArray(M[Z])?L.push([g(M[Z][0]),M[Z][1],M[Z][2]]):L.push([g(M[Z])]);k=L}else k=g(M);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};t.events.push(["preProcessText",R])})(yt.API),yt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(yt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(k){c=k}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(k){u=k}});var l=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return l},set:function(k){l=k}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(k){y=k}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(k){R=k}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){r.call(this);var l=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),y=u.scaleFactor||this.internal.scaleFactor,g=0,R=0,k=0,M=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var L=u.maxWidth;L>0?typeof c=="string"?c=this.splitTextToSize(c,L):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(J,Y){return J.concat(M.splitTextToSize(Y,L))},[])):c=Array.isArray(c)?c:[c];for(var Z=0;Z<c.length;Z++)g<(k=this.getStringUnitWidth(c[Z],{font:m})*l)&&(g=k);return g!==0&&(R=c.length),{w:g/=y,h:Math.max((R*l*this.getLineHeightFactor()-l*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,l=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,g&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-l,c.y+l,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+l,{align:"center",baseline:"top",maxWidth:c.width-l-l}):this.text(c.text,c.x+l,c.y+l,{align:"left",baseline:"top",maxWidth:c.width-l-l})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,l,m,y){if(r.call(this),!l)throw new Error("No data for PDF table.");var g,R,k,M,L=[],Z=[],J=[],Y={},fe={},be=[],P=[],T=(y=y||{}).autoSize||!1,w=y.printHeaders!==!1,D=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,_=y.margins||Object.assign({width:this.getPageWidth()},e),A=typeof y.padding=="number"?y.padding:3,I=y.headerBackgroundColor||"#c8c8c8",ee=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=w,this.internal.__cell__.margins=_,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=ee,this.setFontSize(D),m==null)Z=L=Object.keys(l[0]),J=L.map(function(){return"left"});else if(Array.isArray(m)&&nr(m[0])==="object")for(L=m.map(function($e){return $e.name}),Z=m.map(function($e){return $e.prompt||$e.name||""}),J=m.map(function($e){return $e.align||"left"}),g=0;g<m.length;g+=1)fe[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(Z=L=m,J=L.map(function(){return"left"}));if(T||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<L.length;g+=1){for(Y[M=L[g]]=l.map(function($e){return $e[M]}),this.setFont(void 0,"bold"),be.push(this.getTextDimensions(Z[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=Y[M],this.setFont(void 0,"normal"),k=0;k<R.length;k+=1)be.push(this.getTextDimensions(R[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);fe[M]=Math.max.apply(null,be)+A+A,be=[]}if(w){var _e={};for(g=0;g<L.length;g+=1)_e[L[g]]={},_e[L[g]].text=Z[g],_e[L[g]].align=J[g];var Ce=a.call(this,_e,fe);P=L.map(function($e){return new o(c,u,fe[$e],Ce,_e[$e].text,void 0,_e[$e].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var Te=m.reduce(function($e,Le){return $e[Le.name]=Le.align,$e},{});for(g=0;g<l.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:l[g]},this);var pe=a.call(this,l[g],fe);for(k=0;k<L.length;k+=1){var Se=l[g][L[k]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:k,data:Se},this),s.call(this,new o(c,u,fe[L[k]],pe,Se,g+2,Te[L[k]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var a=function(c,u){var l=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(g){var R=c[g];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,u[g]-l-l)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/y+l+l},this).reduce(function(g,R){return Math.max(g,R)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var l;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){l=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(l.y=this.internal.__cell__.margins.top||0,y.push(l)),l.lineNumber=c;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,l),this.setTextColor(R)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}})(yt.API);var pj={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},gj=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],HN=fj(gj),mj=[100,200,300,400,500,600,700,800,900],xoe=fj(mj);function VN(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(o){return pj[o=o||"normal"]?o:"normal"})(t.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),i=(function(o){return typeof HN[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function zB(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Noe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$B={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function HB(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function GB(t){return t.trimLeft()}function Roe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Poe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Vb,WB,KB,Lp,Bb,QB,YB,JB,BN=["times"];function ZB(t,e,n,r,i){var o=4,s=ej;switch(i){case yt.API.image_compression.FAST:o=1,s=XB;break;case yt.API.image_compression.MEDIUM:o=6,s=tj;break;case yt.API.image_compression.SLOW:o=9,s=nj}t=(function(c,u,l,m){for(var y,g=c.length/u,R=new Uint8Array(c.length+g),k=[koe,XB,ej,tj,nj],M=0;M<g;M+=1){var L=M*u,Z=c.subarray(L,L+u);if(m)R.set(m(Z,l,y),L+M);else{for(var J=k.length,Y=[],fe=0;fe<J;fe+=1)Y[fe]=k[fe](Z,l,y);var be=Ooe(Y.concat());R.set(Y[be],L+M)}y=Z}return R})(t,e,Math.ceil(n*r/8),s);var a=pb(t,{level:o});return yt.API.__addimage__.arrayBufferToBinaryString(a)}function koe(t){var e=Array.apply([],t);return e.unshift(0),e}function XB(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var o=t[i-e]||0;r[i+1]=t[i]-o+256&255}return r}function ej(t,e,n){var r=t.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var s=n&&n[o]||0;i[o+1]=t[o]-s+256&255}return i}function tj(t,e,n){var r=t.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var s=t[o-e]||0,a=n&&n[o]||0;i[o+1]=t[o]+256-(s+a>>>1)&255}return i}function nj(t,e,n){var r=t.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=Moe(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);i[o+1]=t[o]-s+256&255}return i}function Moe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),o=Math.abs(t+e-n-n);return r<=i&&r<=o?t:i<=o?e:n}function Ooe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function jN(t,e,n){var r=e*n,i=Math.floor(r/8),o=16-(r-8*i+n),s=(1<<n)-1;return yj(t,i)>>o&s}function rj(t,e,n,r){var i=n*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,c=(e&a)<<s;(function(u,l,m){if(l+1<u.byteLength)u.setUint16(l,m,!1);else{var y=m>>8&255;u.setUint8(l,y)}})(t,o,yj(t,o)&~(a<<s)&65535|c)}function yj(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Loe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,s=1<<1+(7&i);t[e++],t[e++];var a=null,c=null;o&&(a=e,c=s,e+=3*s);var u=!0,l=[],m=0,y=null,g=0,R=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,R=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=t[e++];m=t[e++]|t[e++]<<8,y=t[e++],1&k||(y=null),g=k>>2&7,e++;break;case 254:for(;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var M=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,Z=t[e++]|t[e++]<<8,J=t[e++]|t[e++]<<8,Y=t[e++],fe=Y>>6&1,be=1<<1+(7&Y),P=a,T=c,w=!1;Y>>7&&(w=!0,P=e,T=be,e+=3*be);var D=e;for(e++;;){var _;if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}l.push({x:M,y:L,width:Z,height:J,has_local_palette:w,palette_offset:P,palette_size:T,data_offset:D,data_length:e-D,transparent_index:y,interlaced:!!fe,delay:m,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return R},this.frameInfo=function(A){if(A<0||A>=l.length)throw new Error("Frame index out of range.");return l[A]},this.decodeAndBlitFrameBGRA=function(A,I){var ee=this.frameInfo(A),_e=ee.width*ee.height,Ce=new Uint8Array(_e);ij(t,ee.data_offset,Ce,_e);var Te=ee.palette_offset,pe=ee.transparent_index;pe===null&&(pe=256);var Se=ee.width,$e=n-Se,Le=Se,B=4*(ee.y*n+ee.x),W=4*((ee.y+ee.height)*n+ee.x),X=B,ne=4*$e;ee.interlaced===!0&&(ne+=4*n*7);for(var ce=8,de=0,Ee=Ce.length;de<Ee;++de){var Ie=Ce[de];if(Le===0&&(Le=Se,(X+=ne)>=W&&(ne=4*$e+4*n*(ce-1),X=B+(Se+$e)*(ce<<1),ce>>=1)),Ie===pe)X+=4;else{var xe=t[Te+3*Ie],je=t[Te+3*Ie+1],Je=t[Te+3*Ie+2];I[X++]=Je,I[X++]=je,I[X++]=xe,I[X++]=255}--Le}},this.decodeAndBlitFrameRGBA=function(A,I){var ee=this.frameInfo(A),_e=ee.width*ee.height,Ce=new Uint8Array(_e);ij(t,ee.data_offset,Ce,_e);var Te=ee.palette_offset,pe=ee.transparent_index;pe===null&&(pe=256);var Se=ee.width,$e=n-Se,Le=Se,B=4*(ee.y*n+ee.x),W=4*((ee.y+ee.height)*n+ee.x),X=B,ne=4*$e;ee.interlaced===!0&&(ne+=4*n*7);for(var ce=8,de=0,Ee=Ce.length;de<Ee;++de){var Ie=Ce[de];if(Le===0&&(Le=Se,(X+=ne)>=W&&(ne=4*$e+4*n*(ce-1),X=B+(Se+$e)*(ce<<1),ce>>=1)),Ie===pe)X+=4;else{var xe=t[Te+3*Ie],je=t[Te+3*Ie+1],Je=t[Te+3*Ie+2];I[X++]=xe,I[X++]=je,I[X++]=Je,I[X++]=255}--Le}}}function ij(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,c=i+1,u=(1<<c)-1,l=0,m=0,y=0,g=t[e++],R=new Int32Array(4096),k=null;;){for(;l<16&&g!==0;)m|=t[e++]<<l,l+=8,g===1?g=t[e++]:--g;if(l<c)break;var M=m&u;if(m>>=c,l-=c,M!==o){if(M===s)break;for(var L=M<a?M:k,Z=0,J=L;J>o;)J=R[J]>>8,++Z;var Y=J;if(y+Z+(L!==M?1:0)>r)return void lr.log("Warning, gif stream longer than expected.");n[y++]=Y;var fe=y+=Z;for(L!==M&&(n[y++]=Y),J=L;Z--;)J=R[J],n[--fe]=255&J,J>>=8;k!==null&&a<4096&&(R[a++]=k<<8|Y,a>=u+1&&c<12&&(++c,u=u<<1|1)),k=M}else a=s+1,u=(1<<(c=i+1))-1,k=null}return y!==r&&lr.log("Warning, gif stream shorter than expected."),n}function UN(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),c=new Array(64),u=new Array(64),l=new Array(64),m=new Array(65535),y=new Array(65535),g=new Array(64),R=new Array(64),k=[],M=0,L=7,Z=new Array(64),J=new Array(64),Y=new Array(64),fe=new Array(256),be=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],w=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_e=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ce(B,W){for(var X=0,ne=0,ce=new Array,de=1;de<=16;de++){for(var Ee=1;Ee<=B[de];Ee++)ce[W[ne]]=[],ce[W[ne]][0]=X,ce[W[ne]][1]=de,ne++,X++;X*=2}return ce}function Te(B){for(var W=B[0],X=B[1]-1;X>=0;)W&1<<X&&(M|=1<<L),X--,--L<0&&(M==255?(pe(255),pe(0)):pe(M),L=7,M=0)}function pe(B){k.push(B)}function Se(B){pe(B>>8&255),pe(255&B)}function $e(B,W,X,ne,ce){for(var de,Ee=ce[0],Ie=ce[240],xe=(function(Ve,Ze){var Ge,mt,vt,dn,Xt,Nt,Et,It,nt,qt,ft=0;for(nt=0;nt<8;++nt){Ge=Ve[ft],mt=Ve[ft+1],vt=Ve[ft+2],dn=Ve[ft+3],Xt=Ve[ft+4],Nt=Ve[ft+5],Et=Ve[ft+6];var dr=Ge+(It=Ve[ft+7]),en=Ge-It,Vt=mt+Et,Gt=mt-Et,Ln=vt+Nt,dt=vt-Nt,jn=dn+Xt,_t=dn-Xt,Ft=dr+jn,Nn=dr-jn,zt=Vt+Ln,Xe=Vt-Ln;Ve[ft]=Ft+zt,Ve[ft+4]=Ft-zt;var hn=.707106781*(Xe+Nn);Ve[ft+2]=Nn+hn,Ve[ft+6]=Nn-hn;var Lr=.382683433*((Ft=_t+dt)-(Xe=Gt+en)),mr=.5411961*Ft+Lr,to=1.306562965*Xe+Lr,bo=.707106781*(zt=dt+Gt),ht=en+bo,qo=en-bo;Ve[ft+5]=qo+mr,Ve[ft+3]=qo-mr,Ve[ft+1]=ht+to,Ve[ft+7]=ht-to,ft+=8}for(ft=0,nt=0;nt<8;++nt){Ge=Ve[ft],mt=Ve[ft+8],vt=Ve[ft+16],dn=Ve[ft+24],Xt=Ve[ft+32],Nt=Ve[ft+40],Et=Ve[ft+48];var or=Ge+(It=Ve[ft+56]),Zr=Ge-It,Fr=mt+Et,Un=mt-Et,br=vt+Nt,yr=vt-Nt,no=dn+Xt,vi=dn-Xt,ro=or+no,xi=or-no,Ni=Fr+br,_i=Fr-br;Ve[ft]=ro+Ni,Ve[ft+32]=ro-Ni;var Xr=.707106781*(_i+xi);Ve[ft+16]=xi+Xr,Ve[ft+48]=xi-Xr;var Ri=.382683433*((ro=vi+yr)-(_i=Un+Zr)),io=.5411961*ro+Ri,js=1.306562965*_i+Ri,Eo=.707106781*(Ni=yr+Un),ss=Zr+Eo,as=Zr-Eo;Ve[ft+40]=as+io,Ve[ft+24]=as-io,Ve[ft+8]=ss+js,Ve[ft+56]=ss-js,ft++}for(nt=0;nt<64;++nt)qt=Ve[nt]*Ze[nt],g[nt]=qt>0?qt+.5|0:qt-.5|0;return g})(B,W),je=0;je<64;++je)R[P[je]]=xe[je];var Je=R[0]-X;X=R[0],Je==0?Te(ne[0]):(Te(ne[y[de=32767+Je]]),Te(m[de]));for(var Ke=63;Ke>0&&R[Ke]==0;)Ke--;if(Ke==0)return Te(Ee),X;for(var lt,H=1;H<=Ke;){for(var Qe=H;R[H]==0&&H<=Ke;)++H;var Ut=H-Qe;if(Ut>=16){lt=Ut>>4;for(var bt=1;bt<=lt;++bt)Te(Ie);Ut&=15}de=32767+R[H],Te(ce[(Ut<<4)+y[de]]),Te(m[de]),H++}return Ke!=63&&Te(Ee),X}function Le(B){B=Math.min(Math.max(B,1),100),o!=B&&((function(W){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ce=s((X[ne]*W+50)/100);ce=Math.min(Math.max(ce,1),255),a[P[ne]]=ce}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var Ie=s((de[Ee]*W+50)/100);Ie=Math.min(Math.max(Ie,1),255),c[P[Ee]]=Ie}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,Je=0;Je<8;Je++)for(var Ke=0;Ke<8;Ke++)u[je]=1/(a[P[je]]*xe[Je]*xe[Ke]*8),l[je]=1/(c[P[je]]*xe[Je]*xe[Ke]*8),je++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),o=B)}this.encode=function(B,W){W&&Le(W),k=new Array,M=0,L=7,Se(65496),Se(65504),Se(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),Se(1),Se(1),pe(0),pe(0),(function(){Se(65499),Se(132),pe(0);for(var mt=0;mt<64;mt++)pe(a[mt]);pe(1);for(var vt=0;vt<64;vt++)pe(c[vt])})(),(function(mt,vt){Se(65472),Se(17),pe(8),Se(vt),Se(mt),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)})(B.width,B.height),(function(){Se(65476),Se(418),pe(0);for(var mt=0;mt<16;mt++)pe(T[mt+1]);for(var vt=0;vt<=11;vt++)pe(w[vt]);pe(16);for(var dn=0;dn<16;dn++)pe(D[dn+1]);for(var Xt=0;Xt<=161;Xt++)pe(_[Xt]);pe(1);for(var Nt=0;Nt<16;Nt++)pe(A[Nt+1]);for(var Et=0;Et<=11;Et++)pe(I[Et]);pe(17);for(var It=0;It<16;It++)pe(ee[It+1]);for(var nt=0;nt<=161;nt++)pe(_e[nt])})(),Se(65498),Se(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var X=0,ne=0,ce=0;M=0,L=7,this.encode.displayName="_encode_";for(var de,Ee,Ie,xe,je,Je,Ke,lt,H,Qe=B.data,Ut=B.width,bt=B.height,Ve=4*Ut,Ze=0;Ze<bt;){for(de=0;de<Ve;){for(je=Ve*Ze+de,Ke=-1,lt=0,H=0;H<64;H++)Je=je+(lt=H>>3)*Ve+(Ke=4*(7&H)),Ze+lt>=bt&&(Je-=Ve*(Ze+1+lt-bt)),de+Ke>=Ve&&(Je-=de+Ke-Ve+4),Ee=Qe[Je++],Ie=Qe[Je++],xe=Qe[Je++],Z[H]=(be[Ee]+be[Ie+256|0]+be[xe+512|0]>>16)-128,J[H]=(be[Ee+768|0]+be[Ie+1024|0]+be[xe+1280|0]>>16)-128,Y[H]=(be[Ee+1280|0]+be[Ie+1536|0]+be[xe+1792|0]>>16)-128;X=$e(Z,u,X,e,r),ne=$e(J,l,ne,n,i),ce=$e(Y,l,ce,n,i),de+=32}Ze+=8}if(L>=0){var Ge=[];Ge[1]=L+1,Ge[0]=(1<<L+1)-1,Te(Ge)}return Se(65497),new Uint8Array(k)},t=t||50,(function(){for(var B=String.fromCharCode,W=0;W<256;W++)fe[W]=B(W)})(),e=Ce(T,w),n=Ce(A,I),r=Ce(D,_),i=Ce(ee,_e),(function(){for(var B=1,W=2,X=1;X<=15;X++){for(var ne=B;ne<W;ne++)y[32767+ne]=X,m[32767+ne]=[],m[32767+ne][1]=X,m[32767+ne][0]=ne;for(var ce=-(W-1);ce<=-B;ce++)y[32767+ce]=X,m[32767+ce]=[],m[32767+ce][1]=X,m[32767+ce][0]=W-1+ce;B<<=1,W<<=1}})(),(function(){for(var B=0;B<256;B++)be[B]=19595*B,be[B+256|0]=38470*B,be[B+512|0]=7471*B+32768,be[B+768|0]=-11059*B,be[B+1024|0]=-21709*B,be[B+1280|0]=32768*B+8421375,be[B+1536|0]=-27439*B,be[B+1792|0]=-5329*B})(),Le(t)}function nc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function oj(t){function e(w){if(!w)throw Error("assert :P")}function n(w,D,_){for(var A=0;4>A;A++)if(w[D+A]!=_.charCodeAt(A))return!0;return!1}function r(w,D,_,A,I){for(var ee=0;ee<I;ee++)w[D+ee]=_[A+ee]}function i(w,D,_,A){for(var I=0;I<A;I++)w[D+I]=_}function o(w){return new Int32Array(w)}function s(w,D){for(var _=[],A=0;A<w;A++)_.push(new D);return _}function a(w,D){var _=[];return(function A(I,ee,_e){for(var Ce=_e[ee],Te=0;Te<Ce&&(I.push(_e.length>ee+1?[]:new D),!(_e.length<ee+1));Te++)A(I[Te],ee+1,_e)})(_,0,w),_}var c=function(){var w=this;function D(h,p){for(var E=1<<p-1>>>0;h&E;)E>>>=1;return E?(h&E-1)+E:h}function _(h,p,E,C,F){e(!(C%E));do h[p+(C-=E)]=F;while(0<C)}function A(h,p,E,C,F){if(e(2328>=F),512>=F)var V=o(512);else if((V=o(F))==null)return 0;return(function(j,z,$,K,oe,ve){var Q,ue,he=z,De=1<<$,ge=o(16),Ne=o(16);for(e(oe!=0),e(K!=null),e(j!=null),e(0<$),ue=0;ue<oe;++ue){if(15<K[ue])return 0;++ge[K[ue]]}if(ge[0]==oe)return 0;for(Ne[1]=0,Q=1;15>Q;++Q){if(ge[Q]>1<<Q)return 0;Ne[Q+1]=Ne[Q]+ge[Q]}for(ue=0;ue<oe;++ue)Q=K[ue],0<K[ue]&&(ve[Ne[Q]++]=ue);if(Ne[15]==1)return(K=new I).g=0,K.value=ve[0],_(j,he,1,De,K),De;var ke,ze=-1,Be=De-1,wt=0,at=1,tn=1,pt=1<<$;for(ue=0,Q=1,oe=2;Q<=$;++Q,oe<<=1){if(at+=tn<<=1,0>(tn-=ge[Q]))return 0;for(;0<ge[Q];--ge[Q])(K=new I).g=Q,K.value=ve[ue++],_(j,he+wt,oe,pt,K),wt=D(wt,Q)}for(Q=$+1,oe=2;15>=Q;++Q,oe<<=1){if(at+=tn<<=1,0>(tn-=ge[Q]))return 0;for(;0<ge[Q];--ge[Q]){if(K=new I,(wt&Be)!=ze){for(he+=pt,ke=1<<(ze=Q)-$;15>ze&&!(0>=(ke-=ge[ze]));)++ze,ke<<=1;De+=pt=1<<(ke=ze-$),j[z+(ze=wt&Be)].g=ke+$,j[z+ze].value=he-z-ze}K.g=Q-$,K.value=ve[ue++],_(j,he+(wt>>$),oe,pt,K),wt=D(wt,Q)}}return at!=2*Ne[15]-1?0:De})(h,p,E,C,F,V)}function I(){this.value=this.g=0}function ee(){this.value=this.g=0}function _e(){this.G=s(5,I),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ud,ee)}function Ce(h,p,E,C){e(h!=null),e(p!=null),e(2147483648>C),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=p,h.pa=E,h.Jd=p,h.Yc=E+C,h.Zc=4<=C?E+C-4+1:E,Ee(h)}function Te(h,p){for(var E=0;0<p--;)E|=xe(h,128)<<p;return E}function pe(h,p){var E=Te(h,p);return Ie(h)?-E:E}function Se(h,p,E,C){var F,V=0;for(e(h!=null),e(p!=null),e(4294967288>C),h.Sb=C,h.Ra=0,h.u=0,h.h=0,4<C&&(C=4),F=0;F<C;++F)V+=p[E+F]<<8*F;h.Ra=V,h.bb=C,h.oa=p,h.pa=E}function $e(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Zu-8>>>0,++h.bb,h.u-=8;ne(h)&&(h.h=1,h.u=0)}function Le(h,p){if(e(0<=p),!h.h&&p<=ps){var E=X(h)&fs[p];return h.u+=p,$e(h),E}return h.h=1,h.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(h){return h.Ra>>>(h.u&Zu-1)>>>0}function ne(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Zu}function ce(h,p){h.u=p,h.h=ne(h)}function de(h){h.u>=nu&&(e(h.u>=nu),$e(h))}function Ee(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function Ie(h){return Te(h,1)}function xe(h,p){var E=h.Ca;0>h.b&&Ee(h);var C=h.b,F=E*p>>>8,V=(h.I>>>C>F)+0;for(V?(E-=F,h.I-=F+1<<C>>>0):E=F+1,C=E,F=0;256<=C;)F+=8,C>>=8;return C=7^F+Xu[C],h.b-=C,h.Ca=(E<<C)-1,V}function je(h,p,E){h[p+0]=E>>24&255,h[p+1]=E>>16&255,h[p+2]=E>>8&255,h[p+3]=255&E}function Je(h,p){return h[p+0]|h[p+1]<<8}function Ke(h,p){return Je(h,p)|h[p+2]<<16}function lt(h,p){return Je(h,p)|Je(h,p+2)<<16}function H(h,p){var E=1<<p;return e(h!=null),e(0<p),h.X=o(E),h.X==null?0:(h.Mb=32-p,h.Xa=p,1)}function Qe(h,p){e(h!=null),e(p!=null),e(h.Xa==p.Xa),r(p.X,0,h.X,0,1<<p.Xa)}function Ut(){this.X=[],this.Xa=this.Mb=0}function bt(h,p,E,C){e(E!=null),e(C!=null);var F=E[0],V=C[0];return F==0&&(F=(h*V+p/2)/p),V==0&&(V=(p*F+h/2)/h),0>=F||0>=V?0:(E[0]=F,C[0]=V,1)}function Ve(h,p){return h+(1<<p)-1>>>p}function Ze(h,p){return((4278255360&h)+(4278255360&p)>>>0&4278255360)+((16711935&h)+(16711935&p)>>>0&16711935)>>>0}function Ge(h,p){w[p]=function(E,C,F,V,j,z,$){var K;for(K=0;K<j;++K){var oe=w[h](z[$+K-1],F,V+K);z[$+K]=Ze(E[C+K],oe)}}}function mt(){this.ud=this.hd=this.jd=0}function vt(h,p){return((4278124286&(h^p))>>>1)+(h&p)>>>0}function dn(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Xt(h,p){return dn(h+(h-p+.5>>1))}function Nt(h,p,E){return Math.abs(p-E)-Math.abs(h-E)}function Et(h,p,E,C,F,V,j){for(C=V[j-1],E=0;E<F;++E)V[j+E]=C=Ze(h[p+E],C)}function It(h,p,E,C,F){var V;for(V=0;V<E;++V){var j=h[p+V],z=j>>8&255,$=16711935&($=($=16711935&j)+((z<<16)+z));C[F+V]=(4278255360&j)+$>>>0}}function nt(h,p){p.jd=255&h,p.hd=h>>8&255,p.ud=h>>16&255}function qt(h,p,E,C,F,V){var j;for(j=0;j<C;++j){var z=p[E+j],$=z>>>8,K=z,oe=255&(oe=(oe=z>>>16)+((h.jd<<24>>24)*($<<24>>24)>>>5));K=255&(K=(K+=(h.hd<<24>>24)*($<<24>>24)>>>5)+((h.ud<<24>>24)*(oe<<24>>24)>>>5)),F[V+j]=(4278255360&z)+(oe<<16)+K}}function ft(h,p,E,C,F){w[p]=function(V,j,z,$,K,oe,ve,Q,ue){for($=ve;$<Q;++$)for(ve=0;ve<ue;++ve)K[oe++]=F(z[C(V[j++])])},w[h]=function(V,j,z,$,K,oe,ve){var Q=8>>V.b,ue=V.Ea,he=V.K[0],De=V.w;if(8>Q)for(V=(1<<V.b)-1,De=(1<<Q)-1;j<z;++j){var ge,Ne=0;for(ge=0;ge<ue;++ge)ge&V||(Ne=C($[K++])),oe[ve++]=F(he[Ne&De]),Ne>>=Q}else w["VP8LMapColor"+E]($,K,he,De,oe,ve,j,z,ue)}}function dr(h,p,E,C,F){for(E=p+E;p<E;){var V=h[p++];C[F++]=V>>16&255,C[F++]=V>>8&255,C[F++]=255&V}}function en(h,p,E,C,F){for(E=p+E;p<E;){var V=h[p++];C[F++]=V>>16&255,C[F++]=V>>8&255,C[F++]=255&V,C[F++]=V>>24&255}}function Vt(h,p,E,C,F){for(E=p+E;p<E;){var V=(j=h[p++])>>16&240|j>>12&15,j=240&j|j>>28&15;C[F++]=V,C[F++]=j}}function Gt(h,p,E,C,F){for(E=p+E;p<E;){var V=(j=h[p++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;C[F++]=V,C[F++]=j}}function Ln(h,p,E,C,F){for(E=p+E;p<E;){var V=h[p++];C[F++]=255&V,C[F++]=V>>8&255,C[F++]=V>>16&255}}function dt(h,p,E,C,F,V){if(V==0)for(E=p+E;p<E;)je(C,((V=h[p++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),F+=32;else r(C,F,h,p,E)}function jn(h,p){w[p][0]=w[h+"0"],w[p][1]=w[h+"1"],w[p][2]=w[h+"2"],w[p][3]=w[h+"3"],w[p][4]=w[h+"4"],w[p][5]=w[h+"5"],w[p][6]=w[h+"6"],w[p][7]=w[h+"7"],w[p][8]=w[h+"8"],w[p][9]=w[h+"9"],w[p][10]=w[h+"10"],w[p][11]=w[h+"11"],w[p][12]=w[h+"12"],w[p][13]=w[h+"13"],w[p][14]=w[h+"0"],w[p][15]=w[h+"0"]}function _t(h){return h==rE||h==iE||h==dv||h==oE}function Ft(){this.eb=[],this.size=this.A=this.fb=0}function Nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function zt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ft,this.f.kb=new Nn,this.sd=null}function Xe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function hn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Lr(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function mr(h,p){var E=h.T,C=p.ba.f.RGBA,F=C.eb,V=C.fb+h.ka*C.A,j=Zs[p.ba.S],z=h.y,$=h.O,K=h.f,oe=h.N,ve=h.ea,Q=h.W,ue=p.cc,he=p.dc,De=p.Mc,ge=p.Nc,Ne=h.ka,ke=h.ka+h.T,ze=h.U,Be=ze+1>>1;for(Ne==0?j(z,$,null,null,K,oe,ve,Q,K,oe,ve,Q,F,V,null,null,ze):(j(p.ec,p.fc,z,$,ue,he,De,ge,K,oe,ve,Q,F,V-C.A,F,V,ze),++E);Ne+2<ke;Ne+=2)ue=K,he=oe,De=ve,ge=Q,oe+=h.Rc,Q+=h.Rc,V+=2*C.A,j(z,($+=2*h.fa)-h.fa,z,$,ue,he,De,ge,K,oe,ve,Q,F,V-C.A,F,V,ze);return $+=h.fa,h.j+ke<h.o?(r(p.ec,p.fc,z,$,ze),r(p.cc,p.dc,K,oe,Be),r(p.Mc,p.Nc,ve,Q,Be),E--):1&ke||j(z,$,null,null,K,oe,ve,Q,K,oe,ve,Q,F,V+C.A,null,null,ze),E}function to(h,p,E){var C=h.F,F=[h.J];if(C!=null){var V=h.U,j=p.ba.S,z=j==lv||j==dv;p=p.ba.f.RGBA;var $=[0],K=h.ka;$[0]=h.T,h.Kb&&(K==0?--$[0]:(--K,F[0]-=h.width),h.j+h.ka+h.T==h.o&&($[0]=h.o-h.j-K));var oe=p.eb;K=p.fb+K*p.A,h=uR(C,F[0],h.width,V,$,oe,K+(z?0:3),p.A),e(E==$),h&&_t(j)&&Xp(oe,K,z,V,$,p.A)}return 0}function bo(h){var p=h.ma,E=p.ba.S,C=11>E,F=E==cv||E==uv||E==lv||E==nE||E==12||_t(E);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!tu(p.Oa,h,F?11:12))return 0;if(F&&_t(E)&&He(),h.da)alert("todo:use_scaling");else{if(C){if(p.Ib=Lr,h.Kb){if(E=h.U+1>>1,p.memory=o(h.U+2*E),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+h.U,p.Mc=p.cc,p.Nc=p.dc+E,p.Ib=mr,He()}}else alert("todo:EmitYUV");F&&(p.Jb=to,C&&ae())}if(C&&!AR){for(h=0;256>h;++h)uU[h]=89858*(h-128)+fv>>hv,hU[h]=-22014*(h-128)+fv,dU[h]=-45773*(h-128),lU[h]=113618*(h-128)+fv>>hv;for(h=tg;h<cE;++h)p=76283*(h-16)+fv>>hv,fU[h-tg]=oo(p,255),pU[h-tg]=oo(p+8>>4,15);AR=1}return 1}function ht(h){var p=h.ma,E=h.U,C=h.T;return e(!(1&h.ka)),0>=E||0>=C?0:(E=p.Ib(h,p),p.Jb!=null&&p.Jb(h,p,E),p.Dc+=E,1)}function qo(h){h.ma.memory=null}function or(h,p,E,C){return Le(h,8)!=47?0:(p[0]=Le(h,14)+1,E[0]=Le(h,14)+1,C[0]=Le(h,1),Le(h,3)!=0?0:!h.h)}function Zr(h,p){if(4>h)return h+1;var E=h-2>>1;return(2+(1&h)<<E)+Le(p,E)+1}function Fr(h,p){return 120<p?p-120:1<=(E=((E=Qj[p-1])>>4)*h+(8-(15&E)))?E:1;var E}function Un(h,p,E){var C=X(E),F=h[p+=255&C].g-8;return 0<F&&(ce(E,E.u+8),C=X(E),p+=h[p].value,p+=C&(1<<F)-1),ce(E,E.u+h[p].g),h[p].value}function br(h,p,E){return E.g+=h.g,E.value+=h.value<<p>>>0,e(8>=E.g),h.g}function yr(h,p,E){var C=h.xc;return e((p=C==0?0:h.vc[h.md*(E>>C)+(p>>C)])<h.Wb),h.Ya[p]}function no(h,p,E,C){var F=h.ab,V=h.c*p,j=h.C;p=j+p;var z=E,$=C;for(C=h.Ta,E=h.Ua;0<F--;){var K=h.gc[F],oe=j,ve=p,Q=z,ue=$,he=($=C,z=E,K.Ea);switch(e(oe<ve),e(ve<=K.nc),K.hc){case 2:jr(Q,ue,(ve-oe)*he,$,z);break;case 0:var De=oe,ge=ve,Ne=$,ke=z,ze=(pt=K).Ea;De==0&&(Wp(Q,ue,null,null,1,Ne,ke),Et(Q,ue+1,0,0,ze-1,Ne,ke+1),ue+=ze,ke+=ze,++De);for(var Be=1<<pt.b,wt=Be-1,at=Ve(ze,pt.b),tn=pt.K,pt=pt.w+(De>>pt.b)*at;De<ge;){var wn=tn,Ii=pt,nn=1;for(Fh(Q,ue,Ne,ke-ze,1,Ne,ke);nn<ze;){var gt=(nn&~wt)+Be;gt>ze&&(gt=ze),(0,Qp[wn[Ii++]>>8&15])(Q,ue+ +nn,Ne,ke+nn-ze,gt-nn,Ne,ke+nn),nn=gt}ue+=ze,ke+=ze,++De&wt||(pt+=at)}ve!=K.nc&&r($,z-he,$,z+(ve-oe-1)*he,he);break;case 1:for(he=Q,ge=ue,ze=(Q=K.Ea)-(ke=Q&~(Ne=(ue=1<<K.b)-1)),De=Ve(Q,K.b),Be=K.K,K=K.w+(oe>>K.b)*De;oe<ve;){for(wt=Be,at=K,tn=new mt,pt=ge+ke,wn=ge+Q;ge<pt;)nt(wt[at++],tn),Yp(tn,he,ge,ue,$,z),ge+=ue,z+=ue;ge<wn&&(nt(wt[at++],tn),Yp(tn,he,ge,ze,$,z),ge+=ze,z+=ze),++oe&Ne||(K+=De)}break;case 3:if(Q==$&&ue==z&&0<K.b){for(ge=$,Q=he=z+(ve-oe)*he-(ke=(ve-oe)*Ve(K.Ea,K.b)),ue=$,Ne=z,De=[],ke=(ze=ke)-1;0<=ke;--ke)De[ke]=ue[Ne+ke];for(ke=ze-1;0<=ke;--ke)ge[Q+ke]=De[ke];iv(K,oe,ve,$,he,$,z)}else iv(K,oe,ve,Q,ue,$,z)}z=C,$=E}$!=E&&r(C,E,z,$,V)}function vi(h,p){var E=h.V,C=h.Ba+h.c*h.C,F=p-h.C;if(e(p<=h.l.o),e(16>=F),0<F){var V=h.l,j=h.Ta,z=h.Ua,$=V.width;if(no(h,F,E,C),F=z=[z],e((E=h.C)<(C=p)),e(V.v<V.va),C>V.o&&(C=V.o),E<V.j){var K=V.j-E;E=V.j,F[0]+=K*$}if(E>=C?E=0:(F[0]+=4*V.v,V.ka=E-V.j,V.U=V.va-V.v,V.T=C-E,E=1),E){if(z=z[0],11>(E=h.ca).S){var oe=E.f.RGBA,ve=(C=E.S,F=V.U,V=V.T,K=oe.eb,oe.A),Q=V;for(oe=oe.fb+h.Ma*oe.A;0<Q--;){var ue=j,he=z,De=F,ge=K,Ne=oe;switch(C){case av:Jp(ue,he,De,ge,Ne);break;case cv:el(ue,he,De,ge,Ne);break;case rE:el(ue,he,De,ge,Ne),Xp(ge,Ne,0,De,1,0);break;case mR:ld(ue,he,De,ge,Ne);break;case uv:dt(ue,he,De,ge,Ne,1);break;case iE:dt(ue,he,De,ge,Ne,1),Xp(ge,Ne,0,De,1,0);break;case lv:dt(ue,he,De,ge,Ne,0);break;case dv:dt(ue,he,De,ge,Ne,0),Xp(ge,Ne,1,De,1,0);break;case nE:tl(ue,he,De,ge,Ne);break;case oE:tl(ue,he,De,ge,Ne),cR(ge,Ne,De,1,0);break;case yR:nl(ue,he,De,ge,Ne);break;default:e(0)}z+=$,oe+=ve}h.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=E.height)}}h.C=p,e(h.C<=h.i)}function ro(h){var p;if(0<h.ua)return 0;for(p=0;p<h.Wb;++p){var E=h.Ya[p].G,C=h.Ya[p].H;if(0<E[1][C[1]+0].g||0<E[2][C[2]+0].g||0<E[3][C[3]+0].g)return 0}return 1}function xi(h,p,E,C,F,V){if(h.Z!=0){var j=h.qd,z=h.rd;for(e(ol[h.Z]!=null);p<E;++p)ol[h.Z](j,z,C,F,C,F,V),j=C,z=F,F+=V;h.qd=j,h.rd=z}}function Ni(h,p){var E=h.l.ma,C=E.Z==0||E.Z==1?h.l.j:h.C;if(C=h.C<C?C:h.C,e(p<=h.l.o),p>C){var F=h.l.width,V=E.ca,j=E.tb+F*C,z=h.V,$=h.Ba+h.c*C,K=h.gc;e(h.ab==1),e(K[0].hc==3),pc(K[0],C,p,z,$,V,j),xi(E,C,p,V,j,F)}h.C=h.Ma=p}function _i(h,p,E,C,F,V,j){var z=h.$/C,$=h.$%C,K=h.m,oe=h.s,ve=E+h.$,Q=ve;F=E+C*F;var ue=E+C*V,he=280+oe.ua,De=h.Pb?z:16777216,ge=0<oe.ua?oe.Wa:null,Ne=oe.wc,ke=ve<ue?yr(oe,$,z):null;e(h.C<V),e(ue<=F);var ze=!1;e:for(;;){for(;ze||ve<ue;){var Be=0;if(z>=De){var wt=ve-E;e((De=h).Pb),De.wd=De.m,De.xd=wt,0<De.s.ua&&Qe(De.s.Wa,De.s.vb),De=z+Jj}if($&Ne||(ke=yr(oe,$,z)),e(ke!=null),ke.Qb&&(p[ve]=ke.qb,ze=!0),!ze)if(de(K),ke.jc){Be=K,wt=p;var at=ve,tn=ke.pd[X(Be)&ud-1];e(ke.jc),256>tn.g?(ce(Be,Be.u+tn.g),wt[at]=tn.value,Be=0):(ce(Be,Be.u+tn.g-256),e(256<=tn.value),Be=tn.value),Be==0&&(ze=!0)}else Be=Un(ke.G[0],ke.H[0],K);if(K.h)break;if(ze||256>Be){if(!ze)if(ke.nd)p[ve]=(ke.qb|Be<<8)>>>0;else{if(de(K),ze=Un(ke.G[1],ke.H[1],K),de(K),wt=Un(ke.G[2],ke.H[2],K),at=Un(ke.G[3],ke.H[3],K),K.h)break;p[ve]=(at<<24|ze<<16|Be<<8|wt)>>>0}if(ze=!1,++ve,++$>=C&&($=0,++z,j!=null&&z<=V&&!(z%16)&&j(h,z),ge!=null))for(;Q<ve;)Be=p[Q++],ge.X[(506832829*Be&4294967295)>>>ge.Mb]=Be}else if(280>Be){if(Be=Zr(Be-256,K),wt=Un(ke.G[4],ke.H[4],K),de(K),wt=Fr(C,wt=Zr(wt,K)),K.h)break;if(ve-E<wt||F-ve<Be)break e;for(at=0;at<Be;++at)p[ve+at]=p[ve+at-wt];for(ve+=Be,$+=Be;$>=C;)$-=C,++z,j!=null&&z<=V&&!(z%16)&&j(h,z);if(e(ve<=F),$&Ne&&(ke=yr(oe,$,z)),ge!=null)for(;Q<ve;)Be=p[Q++],ge.X[(506832829*Be&4294967295)>>>ge.Mb]=Be}else{if(!(Be<he))break e;for(ze=Be-280,e(ge!=null);Q<ve;)Be=p[Q++],ge.X[(506832829*Be&4294967295)>>>ge.Mb]=Be;Be=ve,e(!(ze>>>(wt=ge).Xa)),p[Be]=wt.X[ze],ze=!0}ze||e(K.h==ne(K))}if(h.Pb&&K.h&&ve<F)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Qe(h.s.vb,h.s.Wa);else{if(K.h)break e;j?.(h,z>V?V:z),h.a=0,h.$=ve-E}return 1}return h.a=3,0}function Xr(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var p=h.Wa;p!=null&&(p.X=null),h.vb=null,e(h!=null)}function Ri(){var h=new Rt;return h==null?null:(h.a=0,h.xb=wR,jn("Predictor","VP8LPredictors"),jn("Predictor","VP8LPredictors_C"),jn("PredictorAdd","VP8LPredictorsAdd"),jn("PredictorAdd","VP8LPredictorsAdd_C"),jr=It,Yp=qt,Jp=dr,el=en,tl=Vt,nl=Gt,ld=Ln,w.VP8LMapColor32b=fc,w.VP8LMapColor8b=Kp,h)}function io(h,p,E,C,F){var V=1,j=[h],z=[p],$=C.m,K=C.s,oe=null,ve=0;e:for(;;){if(E)for(;V&&Le($,1);){var Q=j,ue=z,he=C,De=1,ge=he.m,Ne=he.gc[he.ab],ke=Le(ge,2);if(he.Oc&1<<ke)V=0;else{switch(he.Oc|=1<<ke,Ne.hc=ke,Ne.Ea=Q[0],Ne.nc=ue[0],Ne.K=[null],++he.ab,e(4>=he.ab),ke){case 0:case 1:Ne.b=Le(ge,3)+2,De=io(Ve(Ne.Ea,Ne.b),Ve(Ne.nc,Ne.b),0,he,Ne.K),Ne.K=Ne.K[0];break;case 3:var ze,Be=Le(ge,8)+1,wt=16<Be?0:4<Be?1:2<Be?2:3;if(Q[0]=Ve(Ne.Ea,wt),Ne.b=wt,ze=De=io(Be,1,0,he,Ne.K)){var at,tn=Be,pt=Ne,wn=1<<(8>>pt.b),Ii=o(wn);if(Ii==null)ze=0;else{var nn=pt.K[0],gt=pt.w;for(Ii[0]=pt.K[0][0],at=1;at<1*tn;++at)Ii[at]=Ze(nn[gt+at],Ii[at-1]);for(;at<4*wn;++at)Ii[at]=0;pt.K[0]=null,pt.K[0]=Ii,ze=1}}De=ze;break;case 2:break;default:e(0)}V=De}}if(j=j[0],z=z[0],V&&Le($,1)&&!(V=1<=(ve=Le($,4))&&11>=ve)){C.a=3;break e}var Ye;if(Ye=V)t:{var qr,Jt,Tn,vr=C,$i=j,Do=z,Rr=ve,co=E,xo=vr.m,Ti=vr.s,Pn=[null],Xn=1,Pr=0,er=Yj[Rr];n:for(;;){if(co&&Le(xo,1)){var Hi=Le(xo,3)+2,Ra=Ve($i,Hi),zr=Ve(Do,Hi),Ko=Ra*zr;if(!io(Ra,zr,0,vr,Pn))break n;for(Pn=Pn[0],Ti.xc=Hi,qr=0;qr<Ko;++qr){var ur=Pn[qr]>>8&65535;Pn[qr]=ur,ur>=Xn&&(Xn=ur+1)}}if(xo.h)break n;for(Jt=0;5>Jt;++Jt){var Si=vR[Jt];!Jt&&0<Rr&&(Si+=1<<Rr),Pr<Si&&(Pr=Si)}var ms=s(Xn*er,I),No=Xn,ys=s(No,_e);if(ys==null)var vs=null;else e(65536>=No),vs=ys;var Qo=o(Pr);if(vs==null||Qo==null||ms==null){vr.a=1;break n}var _s=ms;for(qr=Tn=0;qr<Xn;++qr){var fr=vs[qr],ws=fr.G,Pa=fr.H,hd=0,ou=1,Gi=0;for(Jt=0;5>Jt;++Jt){Si=vR[Jt],ws[Jt]=_s,Pa[Jt]=Tn,!Jt&&0<Rr&&(Si+=1<<Rr);i:{var gv,uE=Si,mv=vr,ng=Qo,yU=_s,vU=Tn,lE=0,sl=mv.m,_U=Le(sl,1);if(i(ng,0,0,uE),_U){var wU=Le(sl,1)+1,bU=Le(sl,1),xR=Le(sl,bU==0?1:8);ng[xR]=1,wU==2&&(ng[xR=Le(sl,8)]=1);var yv=1}else{var NR=o(19),RR=Le(sl,4)+4;if(19<RR){mv.a=3;var vv=0;break i}for(gv=0;gv<RR;++gv)NR[Kj[gv]]=Le(sl,3);var dE=void 0,rg=void 0,PR=mv,EU=NR,_v=uE,kR=ng,hE=0,al=PR.m,MR=8,OR=s(128,I);r:for(;A(OR,0,7,EU,19);){if(Le(al,1)){var IU=2+2*Le(al,3);if((dE=2+Le(al,IU))>_v)break r}else dE=_v;for(rg=0;rg<_v&&dE--;){de(al);var LR=OR[0+(127&X(al))];ce(al,al.u+LR.g);var Bh=LR.value;if(16>Bh)kR[rg++]=Bh,Bh!=0&&(MR=Bh);else{var TU=Bh==16,FR=Bh-16,SU=Gj[FR],VR=Le(al,Hj[FR])+SU;if(rg+VR>_v)break r;for(var AU=TU?MR:0;0<VR--;)kR[rg++]=AU}}hE=1;break r}hE||(PR.a=3),yv=hE}(yv=yv&&!sl.h)&&(lE=A(yU,vU,8,ng,uE)),yv&&lE!=0?vv=lE:(mv.a=3,vv=0)}if(vv==0)break n;if(ou&&Wj[Jt]==1&&(ou=_s[Tn].g==0),hd+=_s[Tn].g,Tn+=vv,3>=Jt){var ig,fE=Qo[0];for(ig=1;ig<Si;++ig)Qo[ig]>fE&&(fE=Qo[ig]);Gi+=fE}}if(fr.nd=ou,fr.Qb=0,ou&&(fr.qb=(ws[3][Pa[3]+0].value<<24|ws[1][Pa[1]+0].value<<16|ws[2][Pa[2]+0].value)>>>0,hd==0&&256>ws[0][Pa[0]+0].value&&(fr.Qb=1,fr.qb+=ws[0][Pa[0]+0].value<<8)),fr.jc=!fr.Qb&&6>Gi,fr.jc){var wv,su=fr;for(wv=0;wv<ud;++wv){var cl=wv,ul=su.pd[cl],bv=su.G[0][su.H[0]+cl];256<=bv.value?(ul.g=bv.g+256,ul.value=bv.value):(ul.g=0,ul.value=0,cl>>=br(bv,8,ul),cl>>=br(su.G[1][su.H[1]+cl],16,ul),cl>>=br(su.G[2][su.H[2]+cl],0,ul),br(su.G[3][su.H[3]+cl],24,ul))}}}Ti.vc=Pn,Ti.Wb=Xn,Ti.Ya=vs,Ti.yc=ms,Ye=1;break t}Ye=0}if(!(V=Ye)){C.a=3;break e}if(0<ve){if(K.ua=1<<ve,!H(K.Wa,ve)){C.a=1,V=0;break e}}else K.ua=0;var pE=C,BR=j,CU=z,gE=pE.s,mE=gE.xc;if(pE.c=BR,pE.i=CU,gE.md=Ve(BR,mE),gE.wc=mE==0?-1:(1<<mE)-1,E){C.xb=iU;break e}if((oe=o(j*z))==null){C.a=1,V=0;break e}V=(V=_i(C,oe,0,j,z,z,null))&&!$.h;break e}return V?(F!=null?F[0]=oe:(e(oe==null),e(E)),C.$=0,E||Xr(K)):Xr(K),V}function js(h,p){var E=h.c*h.i,C=E+p+16*p;return e(h.c<=p),h.V=o(C),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+E+p,1)}function Eo(h,p){var E=h.C,C=p-E,F=h.V,V=h.Ba+h.c*E;for(e(p<=h.l.o);0<C;){var j=16<C?16:C,z=h.l.ma,$=h.l.width,K=$*j,oe=z.ca,ve=z.tb+$*E,Q=h.Ta,ue=h.Ua;no(h,j,F,V),lR(Q,ue,oe,ve,K),xi(z,E,E+j,oe,ve,$),C-=j,F+=j*h.c,E+=j}e(E==p),h.C=h.Ma=p}function ss(){this.ub=this.yd=this.td=this.Rb=0}function as(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Us(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Io(){this.Yb=(function(){var h=[];return(function p(E,C,F){for(var V=F[C],j=0;j<V&&(E.push(F.length>C+1?[]:0),!(F.length<C+1));j++)p(E[j],C+1,F)})(h,0,[3,11]),h})()}function cs(){this.jb=o(3),this.Wc=a([4,8],Io),this.Xc=a([4,17],Io)}function Kc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function wi(){this.ld=this.La=this.dd=this.tc=0}function zo(){this.Na=this.la=0}function To(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function us(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function oc(){this.uc=this.M=this.Nb=0,this.wa=Array(new wi),this.Y=0,this.ya=Array(new us),this.aa=0,this.l=new qs}function sc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ac(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new ss,this.Kc=new as,this.ed=new Kc,this.Qa=new Us,this.Ic=this.$c=this.Aa=0,this.D=new oc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,B),this.ia=0,this.pb=s(4,To),this.Pa=new cs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new sc),this.Hd=0,this.rb=Array(new zo),this.sb=0,this.wa=Array(new wi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new us),this.L=this.aa=0,this.gd=a([4,2],wi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function oo(h,p){return 0>h?0:h>p?p:h}function qs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function so(){var h=new ac;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,eg||(eg=zs)),h}function In(h,p,E){return h.a==0&&(h.a=p,h.sc=E,h.cb=0),0}function ls(h,p,E){return 3<=E&&h[p+0]==157&&h[p+1]==1&&h[p+2]==42}function Pi(h,p){if(h==null)return 0;if(h.a=0,h.sc="OK",p==null)return In(h,2,"null VP8Io passed to VP8GetHeaders()");var E=p.data,C=p.w,F=p.ha;if(4>F)return In(h,7,"Truncated header.");var V=E[C+0]|E[C+1]<<8|E[C+2]<<16,j=h.Od;if(j.Rb=!(1&V),j.td=V>>1&7,j.yd=V>>4&1,j.ub=V>>5,3<j.td)return In(h,3,"Incorrect keyframe parameters.");if(!j.yd)return In(h,4,"Frame not displayable.");C+=3,F-=3;var z=h.Kc;if(j.Rb){if(7>F)return In(h,7,"cannot parse picture header");if(!ls(E,C,F))return In(h,3,"Bad code word");z.c=16383&(E[C+4]<<8|E[C+3]),z.Td=E[C+4]>>6,z.i=16383&(E[C+6]<<8|E[C+5]),z.Ud=E[C+6]>>6,C+=7,F-=7,h.za=z.c+15>>4,h.Ub=z.i+15>>4,p.width=z.c,p.height=z.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((V=h.Pa).jb,0,255,V.jb.length),e((V=h.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,i(V.Zb,0,0,V.Zb.length),i(V.Lb,0,0,V.Lb)}if(j.ub>F)return In(h,7,"bad partition length");Ce(V=h.m,E,C,j.ub),C+=j.ub,F-=j.ub,j.Rb&&(z.Ld=Ie(V),z.Kd=Ie(V)),z=h.Qa;var $,K=h.Pa;if(e(V!=null),e(z!=null),z.Cb=Ie(V),z.Cb){if(z.Bb=Ie(V),Ie(V)){for(z.Fb=Ie(V),$=0;4>$;++$)z.Zb[$]=Ie(V)?pe(V,7):0;for($=0;4>$;++$)z.Lb[$]=Ie(V)?pe(V,6):0}if(z.Bb)for($=0;3>$;++$)K.jb[$]=Ie(V)?Te(V,8):255}else z.Bb=0;if(V.Ka)return In(h,3,"cannot parse segment header");if((z=h.ed).zd=Ie(V),z.Tb=Te(V,6),z.wb=Te(V,3),z.Pc=Ie(V),z.Pc&&Ie(V)){for(K=0;4>K;++K)Ie(V)&&(z.vd[K]=pe(V,6));for(K=0;4>K;++K)Ie(V)&&(z.od[K]=pe(V,6))}if(h.L=z.Tb==0?0:z.zd?1:2,V.Ka)return In(h,3,"cannot parse filter header");var oe=F;if(F=$=C,C=$+oe,z=oe,h.Xb=(1<<Te(h.m,2))-1,oe<3*(K=h.Xb))E=7;else{for($+=3*K,z-=3*K,oe=0;oe<K;++oe){var ve=E[F+0]|E[F+1]<<8|E[F+2]<<16;ve>z&&(ve=z),Ce(h.Jc[+oe],E,$,ve),$+=ve,z-=ve,F+=3}Ce(h.Jc[+K],E,$,z),E=$<C?0:5}if(E!=0)return In(h,E,"cannot parse partitions");for(E=Te($=h.m,7),F=Ie($)?pe($,4):0,C=Ie($)?pe($,4):0,z=Ie($)?pe($,4):0,K=Ie($)?pe($,4):0,$=Ie($)?pe($,4):0,oe=h.Qa,ve=0;4>ve;++ve){if(oe.Cb){var Q=oe.Zb[ve];oe.Fb||(Q+=E)}else{if(0<ve){h.pb[ve]=h.pb[0];continue}Q=E}var ue=h.pb[ve];ue.Sc[0]=sE[oo(Q+F,127)],ue.Sc[1]=aE[oo(Q+0,127)],ue.Eb[0]=2*sE[oo(Q+C,127)],ue.Eb[1]=101581*aE[oo(Q+z,127)]>>16,8>ue.Eb[1]&&(ue.Eb[1]=8),ue.Qc[0]=sE[oo(Q+K,117)],ue.Qc[1]=aE[oo(Q+$,127)],ue.lc=Q+$}if(!j.Rb)return In(h,4,"Not a key frame.");for(Ie(V),j=h.Pa,E=0;4>E;++E){for(F=0;8>F;++F)for(C=0;3>C;++C)for(z=0;11>z;++z)K=xe(V,nU[E][F][C][z])?Te(V,8):eU[E][F][C][z],j.Wc[E][F].Yb[C][z]=K;for(F=0;17>F;++F)j.Xc[E][F]=j.Wc[E][rU[F]]}return h.kc=Ie(V),h.kc&&(h.Bd=Te(V,8)),h.cb=1}function zs(h,p,E,C,F,V,j){var z=p[F].Yb[E];for(E=0;16>F;++F){if(!xe(h,z[E+0]))return F;for(;!xe(h,z[E+1]);)if(z=p[++F].Yb[0],E=0,F==16)return 16;var $=p[F+1].Yb;if(xe(h,z[E+2])){var K=h,oe=0;if(xe(K,(Q=z)[(ve=E)+3]))if(xe(K,Q[ve+6])){for(z=0,ve=2*(oe=xe(K,Q[ve+8]))+(Q=xe(K,Q[ve+9+oe])),oe=0,Q=Zj[ve];Q[z];++z)oe+=oe+xe(K,Q[z]);oe+=3+(8<<ve)}else xe(K,Q[ve+7])?(oe=7+2*xe(K,165),oe+=xe(K,145)):oe=5+xe(K,159);else oe=xe(K,Q[ve+4])?3+xe(K,Q[ve+5]):2;z=$[2]}else oe=1,z=$[1];$=j+Xj[F],0>(K=h).b&&Ee(K);var ve,Q=K.b,ue=(ve=K.Ca>>1)-(K.I>>Q)>>31;--K.b,K.Ca+=ue,K.Ca|=1,K.I-=(ve+1&ue)<<Q,V[$]=((oe^ue)-ue)*C[(0<F)+0]}return 16}function Rn(h){var p=h.rb[h.sb-1];p.la=0,p.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function ei(h,p,E,C,F){F=h[p+E+32*C]+(F>>3),h[p+E+32*C]=-256&F?0>F?0:255:F}function sr(h,p,E,C,F,V){ei(h,p,0,E,C+F),ei(h,p,1,E,C+V),ei(h,p,2,E,C-V),ei(h,p,3,E,C-F)}function Dr(h){return(20091*h>>16)+h}function ao(h,p,E,C){var F,V=0,j=o(16);for(F=0;4>F;++F){var z=h[p+0]+h[p+8],$=h[p+0]-h[p+8],K=(35468*h[p+4]>>16)-Dr(h[p+12]),oe=Dr(h[p+4])+(35468*h[p+12]>>16);j[V+0]=z+oe,j[V+1]=$+K,j[V+2]=$-K,j[V+3]=z-oe,V+=4,p++}for(F=V=0;4>F;++F)z=(h=j[V+0]+4)+j[V+8],$=h-j[V+8],K=(35468*j[V+4]>>16)-Dr(j[V+12]),ei(E,C,0,0,z+(oe=Dr(j[V+4])+(35468*j[V+12]>>16))),ei(E,C,1,0,$+K),ei(E,C,2,0,$-K),ei(E,C,3,0,z-oe),V++,C+=32}function Sa(h,p,E,C){var F=h[p+0]+4,V=35468*h[p+4]>>16,j=Dr(h[p+4]),z=35468*h[p+1]>>16;sr(E,C,0,F+j,h=Dr(h[p+1]),z),sr(E,C,1,F+V,h,z),sr(E,C,2,F-V,h,z),sr(E,C,3,F-j,h,z)}function cc(h,p,E,C,F){ao(h,p,E,C),F&&ao(h,p+16,E,C+4)}function So(h,p,E,C){dd(h,p+0,E,C,1),dd(h,p+32,E,C+128,1)}function Fn(h,p,E,C){var F;for(h=h[p+0]+4,F=0;4>F;++F)for(p=0;4>p;++p)ei(E,C,p,F,h)}function Aa(h,p,E,C){h[p+0]&&Kn(h,p+0,E,C),h[p+16]&&Kn(h,p+16,E,C+4),h[p+32]&&Kn(h,p+32,E,C+128),h[p+48]&&Kn(h,p+48,E,C+128+4)}function ki(h,p,E,C){var F,V=o(16);for(F=0;4>F;++F){var j=h[p+0+F]+h[p+12+F],z=h[p+4+F]+h[p+8+F],$=h[p+4+F]-h[p+8+F],K=h[p+0+F]-h[p+12+F];V[0+F]=j+z,V[8+F]=j-z,V[4+F]=K+$,V[12+F]=K-$}for(F=0;4>F;++F)j=(h=V[0+4*F]+3)+V[3+4*F],z=V[1+4*F]+V[2+4*F],$=V[1+4*F]-V[2+4*F],K=h-V[3+4*F],E[C+0]=j+z>>3,E[C+16]=K+$>>3,E[C+32]=j-z>>3,E[C+48]=K-$>>3,C+=64}function Vr(h,p,E){var C,F=p-32,V=gs,j=255-h[F-1];for(C=0;C<E;++C){var z,$=V,K=j+h[p-1];for(z=0;z<E;++z)h[p+z]=$[K+h[F+z]];p+=32}}function Wu(h,p){Vr(h,p,4)}function Qc(h,p){Vr(h,p,8)}function Ku(h,p){Vr(h,p,16)}function uc(h,p){var E;for(E=0;16>E;++E)r(h,p+32*E,h,p-32,16)}function Yc(h,p){var E;for(E=16;0<E;--E)i(h,p,h[p-1],16),p+=32}function ti(h,p,E){var C;for(C=0;16>C;++C)i(p,E+32*C,h,16)}function Ca(h,p){var E,C=16;for(E=0;16>E;++E)C+=h[p-1+32*E]+h[p+E-32];ti(C>>5,h,p)}function Mi(h,p){var E,C=8;for(E=0;16>E;++E)C+=h[p-1+32*E];ti(C>>4,h,p)}function lc(h,p){var E,C=8;for(E=0;16>E;++E)C+=h[p+E-32];ti(C>>4,h,p)}function Ao(h,p){ti(128,h,p)}function Ot(h,p,E){return h+2*p+E+2>>2}function Co(h,p){var E,C=p-32;for(C=new Uint8Array([Ot(h[C-1],h[C+0],h[C+1]),Ot(h[C+0],h[C+1],h[C+2]),Ot(h[C+1],h[C+2],h[C+3]),Ot(h[C+2],h[C+3],h[C+4])]),E=0;4>E;++E)r(h,p+32*E,C,0,C.length)}function dc(h,p){var E=h[p-1],C=h[p-1+32],F=h[p-1+64],V=h[p-1+96];je(h,p+0,16843009*Ot(h[p-1-32],E,C)),je(h,p+32,16843009*Ot(E,C,F)),je(h,p+64,16843009*Ot(C,F,V)),je(h,p+96,16843009*Ot(F,V,V))}function Qu(h,p){var E,C=4;for(E=0;4>E;++E)C+=h[p+E-32]+h[p-1+32*E];for(C>>=3,E=0;4>E;++E)i(h,p+32*E,C,4)}function qi(h,p){var E=h[p-1+0],C=h[p-1+32],F=h[p-1+64],V=h[p-1-32],j=h[p+0-32],z=h[p+1-32],$=h[p+2-32],K=h[p+3-32];h[p+0+96]=Ot(C,F,h[p-1+96]),h[p+1+96]=h[p+0+64]=Ot(E,C,F),h[p+2+96]=h[p+1+64]=h[p+0+32]=Ot(V,E,C),h[p+3+96]=h[p+2+64]=h[p+1+32]=h[p+0+0]=Ot(j,V,E),h[p+3+64]=h[p+2+32]=h[p+1+0]=Ot(z,j,V),h[p+3+32]=h[p+2+0]=Ot($,z,j),h[p+3+0]=Ot(K,$,z)}function Er(h,p){var E=h[p+1-32],C=h[p+2-32],F=h[p+3-32],V=h[p+4-32],j=h[p+5-32],z=h[p+6-32],$=h[p+7-32];h[p+0+0]=Ot(h[p+0-32],E,C),h[p+1+0]=h[p+0+32]=Ot(E,C,F),h[p+2+0]=h[p+1+32]=h[p+0+64]=Ot(C,F,V),h[p+3+0]=h[p+2+32]=h[p+1+64]=h[p+0+96]=Ot(F,V,j),h[p+3+32]=h[p+2+64]=h[p+1+96]=Ot(V,j,z),h[p+3+64]=h[p+2+96]=Ot(j,z,$),h[p+3+96]=Ot(z,$,$)}function Yu(h,p){var E=h[p-1+0],C=h[p-1+32],F=h[p-1+64],V=h[p-1-32],j=h[p+0-32],z=h[p+1-32],$=h[p+2-32],K=h[p+3-32];h[p+0+0]=h[p+1+64]=V+j+1>>1,h[p+1+0]=h[p+2+64]=j+z+1>>1,h[p+2+0]=h[p+3+64]=z+$+1>>1,h[p+3+0]=$+K+1>>1,h[p+0+96]=Ot(F,C,E),h[p+0+64]=Ot(C,E,V),h[p+0+32]=h[p+1+96]=Ot(E,V,j),h[p+1+32]=h[p+2+96]=Ot(V,j,z),h[p+2+32]=h[p+3+96]=Ot(j,z,$),h[p+3+32]=Ot(z,$,K)}function Jc(h,p){var E=h[p+0-32],C=h[p+1-32],F=h[p+2-32],V=h[p+3-32],j=h[p+4-32],z=h[p+5-32],$=h[p+6-32],K=h[p+7-32];h[p+0+0]=E+C+1>>1,h[p+1+0]=h[p+0+64]=C+F+1>>1,h[p+2+0]=h[p+1+64]=F+V+1>>1,h[p+3+0]=h[p+2+64]=V+j+1>>1,h[p+0+32]=Ot(E,C,F),h[p+1+32]=h[p+0+96]=Ot(C,F,V),h[p+2+32]=h[p+1+96]=Ot(F,V,j),h[p+3+32]=h[p+2+96]=Ot(V,j,z),h[p+3+64]=Ot(j,z,$),h[p+3+96]=Ot(z,$,K)}function _n(h,p){var E=h[p-1+0],C=h[p-1+32],F=h[p-1+64],V=h[p-1+96];h[p+0+0]=E+C+1>>1,h[p+2+0]=h[p+0+32]=C+F+1>>1,h[p+2+32]=h[p+0+64]=F+V+1>>1,h[p+1+0]=Ot(E,C,F),h[p+3+0]=h[p+1+32]=Ot(C,F,V),h[p+3+32]=h[p+1+64]=Ot(F,V,V),h[p+3+64]=h[p+2+64]=h[p+0+96]=h[p+1+96]=h[p+2+96]=h[p+3+96]=V}function $s(h,p){var E=h[p-1+0],C=h[p-1+32],F=h[p-1+64],V=h[p-1+96],j=h[p-1-32],z=h[p+0-32],$=h[p+1-32],K=h[p+2-32];h[p+0+0]=h[p+2+32]=E+j+1>>1,h[p+0+32]=h[p+2+64]=C+E+1>>1,h[p+0+64]=h[p+2+96]=F+C+1>>1,h[p+0+96]=V+F+1>>1,h[p+3+0]=Ot(z,$,K),h[p+2+0]=Ot(j,z,$),h[p+1+0]=h[p+3+32]=Ot(E,j,z),h[p+1+32]=h[p+3+64]=Ot(C,E,j),h[p+1+64]=h[p+3+96]=Ot(F,C,E),h[p+1+96]=Ot(V,F,C)}function Hs(h,p){var E;for(E=0;8>E;++E)r(h,p+32*E,h,p-32,8)}function Gs(h,p){var E;for(E=0;8>E;++E)i(h,p,h[p-1],8),p+=32}function Oi(h,p,E){var C;for(C=0;8>C;++C)i(p,E+32*C,h,8)}function Zc(h,p){var E,C=8;for(E=0;8>E;++E)C+=h[p+E-32]+h[p-1+32*E];Oi(C>>4,h,p)}function $o(h,p){var E,C=4;for(E=0;8>E;++E)C+=h[p+E-32];Oi(C>>3,h,p)}function fn(h,p){var E,C=4;for(E=0;8>E;++E)C+=h[p-1+32*E];Oi(C>>3,h,p)}function Xc(h,p){Oi(128,h,p)}function ds(h,p,E){var C=h[p-E],F=h[p+0],V=3*(F-C)+tE[1020+h[p-2*E]-h[p+E]],j=sv[112+(V+4>>3)];h[p-E]=gs[255+C+sv[112+(V+3>>3)]],h[p+0]=gs[255+F-j]}function Ho(h,p,E,C){var F=h[p+0],V=h[p+E];return Js[255+h[p-2*E]-h[p-E]]>C||Js[255+V-F]>C}function Ws(h,p,E,C){return 4*Js[255+h[p-E]-h[p+0]]+Js[255+h[p-2*E]-h[p+E]]<=C}function Ks(h,p,E,C,F){var V=h[p-3*E],j=h[p-2*E],z=h[p-E],$=h[p+0],K=h[p+E],oe=h[p+2*E],ve=h[p+3*E];return 4*Js[255+z-$]+Js[255+j-K]>C?0:Js[255+h[p-4*E]-V]<=F&&Js[255+V-j]<=F&&Js[255+j-z]<=F&&Js[255+ve-oe]<=F&&Js[255+oe-K]<=F&&Js[255+K-$]<=F}function zi(h,p,E,C){var F=2*C+1;for(C=0;16>C;++C)Ws(h,p+C,E,F)&&ds(h,p+C,E)}function Da(h,p,E,C){var F=2*C+1;for(C=0;16>C;++C)Ws(h,p+C*E,1,F)&&ds(h,p+C*E,1)}function bi(h,p,E,C){var F;for(F=3;0<F;--F)zi(h,p+=4*E,E,C)}function eu(h,p,E,C){var F;for(F=3;0<F;--F)Da(h,p+=4,E,C)}function Go(h,p,E,C,F,V,j,z){for(V=2*V+1;0<F--;){if(Ks(h,p,E,V,j))if(Ho(h,p,E,z))ds(h,p,E);else{var $=h,K=p,oe=E,ve=$[K-2*oe],Q=$[K-oe],ue=$[K+0],he=$[K+oe],De=$[K+2*oe],ge=27*(ke=tE[1020+3*(ue-Q)+tE[1020+ve-he]])+63>>7,Ne=18*ke+63>>7,ke=9*ke+63>>7;$[K-3*oe]=gs[255+$[K-3*oe]+ke],$[K-2*oe]=gs[255+ve+Ne],$[K-oe]=gs[255+Q+ge],$[K+0]=gs[255+ue-ge],$[K+oe]=gs[255+he-Ne],$[K+2*oe]=gs[255+De-ke]}p+=C}}function Br(h,p,E,C,F,V,j,z){for(V=2*V+1;0<F--;){if(Ks(h,p,E,V,j))if(Ho(h,p,E,z))ds(h,p,E);else{var $=h,K=p,oe=E,ve=$[K-oe],Q=$[K+0],ue=$[K+oe],he=sv[112+(4+(De=3*(Q-ve))>>3)],De=sv[112+(De+3>>3)],ge=he+1>>1;$[K-2*oe]=gs[255+$[K-2*oe]+ge],$[K-oe]=gs[255+ve+De],$[K+0]=gs[255+Q-he],$[K+oe]=gs[255+ue-ge]}p+=C}}function hc(h,p,E,C,F,V){Go(h,p,E,1,16,C,F,V)}function Wo(h,p,E,C,F,V){Go(h,p,1,E,16,C,F,V)}function hs(h,p,E,C,F,V){var j;for(j=3;0<j;--j)Br(h,p+=4*E,E,1,16,C,F,V)}function v(h,p,E,C,F,V){var j;for(j=3;0<j;--j)Br(h,p+=4,1,E,16,C,F,V)}function O(h,p,E,C,F,V,j,z){Go(h,p,F,1,8,V,j,z),Go(E,C,F,1,8,V,j,z)}function G(h,p,E,C,F,V,j,z){Go(h,p,1,F,8,V,j,z),Go(E,C,1,F,8,V,j,z)}function te(h,p,E,C,F,V,j,z){Br(h,p+4*F,F,1,8,V,j,z),Br(E,C+4*F,F,1,8,V,j,z)}function le(h,p,E,C,F,V,j,z){Br(h,p+4,1,F,8,V,j,z),Br(E,C+4,1,F,8,V,j,z)}function Ae(){this.ba=new zt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new hn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Oe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function et(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function st(){this.ua=0,this.Wa=new Ut,this.vb=new Ut,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _e,this.yc=new I}function Rt(){this.xb=this.a=0,this.l=new qs,this.ca=new zt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new st,this.ab=0,this.gc=s(4,et),this.Oc=0}function Pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lt(h,p,E,C,F,V,j){for(h=h==null?0:h[p+0],p=0;p<j;++p)F[V+p]=h+E[C+p]&255,h=F[V+p]}function Zn(h,p,E,C,F,V,j){var z;if(h==null)Lt(null,null,E,C,F,V,j);else for(z=0;z<j;++z)F[V+z]=h[p+z]+E[C+z]&255}function qn(h,p,E,C,F,V,j){if(h==null)Lt(null,null,E,C,F,V,j);else{var z,$=h[p+0],K=$,oe=$;for(z=0;z<j;++z)K=oe+($=h[p+z])-K,oe=E[C+z]+(-256&K?0>K?0:255:K)&255,K=$,F[V+z]=oe}}function pn(h,p,E,C){var F=p.width,V=p.o;if(e(h!=null&&p!=null),0>E||0>=C||E+C>V)return null;if(!h.Cc){if(h.ga==null){var j;if(h.ga=new Pt,(j=h.ga==null)||(j=p.width*p.o,e(h.Gb.length==0),h.Gb=o(j),h.Uc=0,h.Gb==null?j=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,j=1),j=!j),!j){j=h.ga;var z=h.Fa,$=h.P,K=h.qc,oe=h.mb,ve=h.nb,Q=$+1,ue=K-1,he=j.l;if(e(z!=null&&oe!=null&&p!=null),ol[0]=null,ol[1]=Lt,ol[2]=Zn,ol[3]=qn,j.ca=oe,j.tb=ve,j.c=p.width,j.i=p.height,e(0<j.c&&0<j.i),1>=K)p=0;else if(j.$a=3&z[$+0],j.Z=z[$+0]>>2&3,j.Lc=z[$+0]>>4&3,$=z[$+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||$)p=0;else if(he.put=ht,he.ac=bo,he.bc=qo,he.ma=j,he.width=p.width,he.height=p.height,he.Da=p.Da,he.v=p.v,he.va=p.va,he.j=p.j,he.o=p.o,j.$a)e:{e(j.$a==1),p=Ri();t:for(;;){if(p==null){p=0;break e}if(e(j!=null),j.mc=p,p.c=j.c,p.i=j.i,p.l=j.l,p.l.ma=j,p.l.width=j.c,p.l.height=j.i,p.a=0,Se(p.m,z,Q,ue),!io(j.c,j.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&ro(p.s)?(j.ic=1,z=p.c*p.i,p.Ta=null,p.Ua=0,p.V=o(z),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(j.ic=0,p=js(p,j.c)),!p))break t;p=1;break e}j.mc=null,p=0}else p=ue>=j.c*j.i;j=!p}if(j)return null;h.ga.Lc!=1?h.Ga=0:C=V-E}e(h.ga!=null),e(E+C<=V);e:{if(p=(z=h.ga).c,V=z.l.o,z.$a==0){if(Q=h.rc,ue=h.Vc,he=h.Fa,$=h.P+1+E*p,K=h.mb,oe=h.nb+E*p,e($<=h.P+h.qc),z.Z!=0)for(e(ol[z.Z]!=null),j=0;j<C;++j)ol[z.Z](Q,ue,he,$,K,oe,p),Q=K,ue=oe,oe+=p,$+=p;else for(j=0;j<C;++j)r(K,oe,he,$,p),Q=K,ue=oe,oe+=p,$+=p;h.rc=Q,h.Vc=ue}else{if(e(z.mc!=null),p=E+C,e((j=z.mc)!=null),e(p<=j.i),j.C>=p)p=1;else if(z.ic||ae(),z.ic){z=j.V,Q=j.Ba,ue=j.c;var De=j.i,ge=(he=1,$=j.$/ue,K=j.$%ue,oe=j.m,ve=j.s,j.$),Ne=ue*De,ke=ue*p,ze=ve.wc,Be=ge<ke?yr(ve,K,$):null;e(ge<=Ne),e(p<=De),e(ro(ve));t:for(;;){for(;!oe.h&&ge<ke;){if(K&ze||(Be=yr(ve,K,$)),e(Be!=null),de(oe),256>(De=Un(Be.G[0],Be.H[0],oe)))z[Q+ge]=De,++ge,++K>=ue&&(K=0,++$<=p&&!($%16)&&Ni(j,$));else{if(!(280>De)){he=0;break t}De=Zr(De-256,oe);var wt,at=Un(Be.G[4],Be.H[4],oe);if(de(oe),!(ge>=(at=Fr(ue,at=Zr(at,oe)))&&Ne-ge>=De)){he=0;break t}for(wt=0;wt<De;++wt)z[Q+ge+wt]=z[Q+ge+wt-at];for(ge+=De,K+=De;K>=ue;)K-=ue,++$<=p&&!($%16)&&Ni(j,$);ge<ke&&K&ze&&(Be=yr(ve,K,$))}e(oe.h==ne(oe))}Ni(j,$>p?p:$);break t}!he||oe.h&&ge<Ne?(he=0,j.a=oe.h?5:3):j.$=ge,p=he}else p=_i(j,j.V,j.Ba,j.c,j.i,p,Eo);if(!p){C=0;break e}}E+C>=V&&(h.Cc=1),C=1}if(!C)return null;if(h.Cc&&((C=h.ga)!=null&&(C.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+E*F}function f(h,p,E,C,F,V){for(;0<F--;){var j,z=h,$=p+(E?1:0),K=h,oe=p+(E?0:3);for(j=0;j<C;++j){var ve=K[oe+4*j];ve!=255&&(ve*=32897,z[$+4*j+0]=z[$+4*j+0]*ve>>23,z[$+4*j+1]=z[$+4*j+1]*ve>>23,z[$+4*j+2]=z[$+4*j+2]*ve>>23)}p+=V}}function S(h,p,E,C,F){for(;0<C--;){var V;for(V=0;V<E;++V){var j=h[p+2*V+0],z=15&(K=h[p+2*V+1]),$=4369*z,K=(240&K|K>>4)*$>>16;h[p+2*V+0]=(240&j|j>>4)*$>>16&240|(15&j|j<<4)*$>>16>>4&15,h[p+2*V+1]=240&K|z}p+=F}}function N(h,p,E,C,F,V,j,z){var $,K,oe=255;for(K=0;K<F;++K){for($=0;$<C;++$){var ve=h[p+$];V[j+4*$]=ve,oe&=ve}p+=E,j+=z}return oe!=255}function q(h,p,E,C,F){var V;for(V=0;V<F;++V)E[C+V]=h[p+V]>>8}function ae(){Xp=f,cR=S,uR=N,lR=q}function me(h,p,E){w[h]=function(C,F,V,j,z,$,K,oe,ve,Q,ue,he,De,ge,Ne,ke,ze){var Be,wt=ze-1>>1,at=z[$+0]|K[oe+0]<<16,tn=ve[Q+0]|ue[he+0]<<16;e(C!=null);var pt=3*at+tn+131074>>2;for(p(C[F+0],255&pt,pt>>16,De,ge),V!=null&&(pt=3*tn+at+131074>>2,p(V[j+0],255&pt,pt>>16,Ne,ke)),Be=1;Be<=wt;++Be){var wn=z[$+Be]|K[oe+Be]<<16,Ii=ve[Q+Be]|ue[he+Be]<<16,nn=at+wn+tn+Ii+524296,gt=nn+2*(wn+tn)>>3;pt=gt+at>>1,at=(nn=nn+2*(at+Ii)>>3)+wn>>1,p(C[F+2*Be-1],255&pt,pt>>16,De,ge+(2*Be-1)*E),p(C[F+2*Be-0],255&at,at>>16,De,ge+(2*Be-0)*E),V!=null&&(pt=nn+tn>>1,at=gt+Ii>>1,p(V[j+2*Be-1],255&pt,pt>>16,Ne,ke+(2*Be-1)*E),p(V[j+2*Be+0],255&at,at>>16,Ne,ke+(2*Be+0)*E)),at=wn,tn=Ii}1&ze||(pt=3*at+tn+131074>>2,p(C[F+ze-1],255&pt,pt>>16,De,ge+(ze-1)*E),V!=null&&(pt=3*tn+at+131074>>2,p(V[j+ze-1],255&pt,pt>>16,Ne,ke+(ze-1)*E)))}}function He(){Zs[av]=oU,Zs[cv]=bR,Zs[mR]=sU,Zs[uv]=ER,Zs[lv]=IR,Zs[nE]=TR,Zs[yR]=aU,Zs[rE]=bR,Zs[iE]=ER,Zs[dv]=IR,Zs[oE]=TR}function At(h){return h&~cU?0>h?0:255:h>>SR}function d(h,p){return At((19077*h>>8)+(26149*p>>8)-14234)}function b(h,p,E){return At((19077*h>>8)-(6419*p>>8)-(13320*E>>8)+8708)}function x(h,p){return At((19077*h>>8)+(33050*p>>8)-17685)}function U(h,p,E,C,F){C[F+0]=d(h,E),C[F+1]=b(h,p,E),C[F+2]=x(h,p)}function se(h,p,E,C,F){C[F+0]=x(h,p),C[F+1]=b(h,p,E),C[F+2]=d(h,E)}function we(h,p,E,C,F){var V=b(h,p,E);p=V<<3&224|x(h,p)>>3,C[F+0]=248&d(h,E)|V>>5,C[F+1]=p}function qe(h,p,E,C,F){var V=240&x(h,p)|15;C[F+0]=240&d(h,E)|b(h,p,E)>>4,C[F+1]=V}function cn(h,p,E,C,F){C[F+0]=255,U(h,p,E,C,F+1)}function ar(h,p,E,C,F){se(h,p,E,C,F),C[F+3]=255}function Bt(h,p,E,C,F){U(h,p,E,C,F),C[F+3]=255}function hr(h,p,E){w[h]=function(C,F,V,j,z,$,K,oe,ve){for(var Q=oe+(-2&ve)*E;oe!=Q;)p(C[F+0],V[j+0],z[$+0],K,oe),p(C[F+1],V[j+0],z[$+0],K,oe+E),F+=2,++j,++$,oe+=2*E;1&ve&&p(C[F+0],V[j+0],z[$+0],K,oe)}}function xr(h,p,E){return E==0?h==0?p==0?6:5:p==0?4:0:E}function xa(h,p,E,C,F){switch(h>>>30){case 3:dd(p,E,C,F,0);break;case 2:Ys(p,E,C,F);break;case 1:Kn(p,E,C,F)}}function Ir(h,p){var E,C,F=p.M,V=p.Nb,j=h.oc,z=h.pc+40,$=h.oc,K=h.pc+584,oe=h.oc,ve=h.pc+600;for(E=0;16>E;++E)j[z+32*E-1]=129;for(E=0;8>E;++E)$[K+32*E-1]=129,oe[ve+32*E-1]=129;for(0<F?j[z-1-32]=$[K-1-32]=oe[ve-1-32]=129:(i(j,z-32-1,127,21),i($,K-32-1,127,9),i(oe,ve-32-1,127,9)),C=0;C<h.za;++C){var Q=p.ya[p.aa+C];if(0<C){for(E=-1;16>E;++E)r(j,z+32*E-4,j,z+32*E+12,4);for(E=-1;8>E;++E)r($,K+32*E-4,$,K+32*E+4,4),r(oe,ve+32*E-4,oe,ve+32*E+4,4)}var ue=h.Gd,he=h.Hd+C,De=Q.ad,ge=Q.Hc;if(0<F&&(r(j,z-32,ue[he].y,0,16),r($,K-32,ue[he].f,0,8),r(oe,ve-32,ue[he].ea,0,8)),Q.Za){var Ne=j,ke=z-32+16;for(0<F&&(C>=h.za-1?i(Ne,ke,ue[he].y[15],4):r(Ne,ke,ue[he+1].y,0,4)),E=0;4>E;E++)Ne[ke+128+E]=Ne[ke+256+E]=Ne[ke+384+E]=Ne[ke+0+E];for(E=0;16>E;++E,ge<<=2)Ne=j,ke=z+CR[E],Na[Q.Ob[E]](Ne,ke),xa(ge,De,16*+E,Ne,ke)}else if(Ne=xr(C,F,Q.Ob[0]),il[Ne](j,z),ge!=0)for(E=0;16>E;++E,ge<<=2)xa(ge,De,16*+E,j,z+CR[E]);for(E=Q.Gc,Ne=xr(C,F,Q.Dd),iu[Ne]($,K),iu[Ne](oe,ve),ge=De,Ne=$,ke=K,255&(Q=0|E)&&(170&Q?gc(ge,256,Ne,ke):cr(ge,256,Ne,ke)),Q=oe,ge=ve,255&(E>>=8)&&(170&E?gc(De,320,Q,ge):cr(De,320,Q,ge)),F<h.Ub-1&&(r(ue[he].y,0,j,z+480,16),r(ue[he].f,0,$,K+224,8),r(ue[he].ea,0,oe,ve+224,8)),E=8*V*h.B,ue=h.sa,he=h.ta+16*C+16*V*h.R,De=h.qa,Q=h.ra+8*C+E,ge=h.Ha,Ne=h.Ia+8*C+E,E=0;16>E;++E)r(ue,he+E*h.R,j,z+32*E,16);for(E=0;8>E;++E)r(De,Q+E*h.B,$,K+32*E,8),r(ge,Ne+E*h.B,oe,ve+32*E,8)}}function Qs(h,p,E,C,F,V,j,z,$){var K=[0],oe=[0],ve=0,Q=$!=null?$.kd:0,ue=$??new Oe;if(h==null||12>E)return 7;ue.data=h,ue.w=p,ue.ha=E,p=[p],E=[E],ue.gb=[ue.gb];e:{var he=p,De=E,ge=ue.gb;if(e(h!=null),e(De!=null),e(ge!=null),ge[0]=0,12<=De[0]&&!n(h,he[0],"RIFF")){if(n(h,he[0]+8,"WEBP")){ge=3;break e}var Ne=lt(h,he[0]+4);if(12>Ne||4294967286<Ne){ge=3;break e}if(Q&&Ne>De[0]-8){ge=7;break e}ge[0]=Ne,he[0]+=12,De[0]-=12}ge=0}if(ge!=0)return ge;for(Ne=0<ue.gb[0],E=E[0];;){e:{var ke=h;De=p,ge=E;var ze=K,Be=oe,wt=he=[0];if((pt=ve=[ve])[0]=0,8>ge[0])ge=7;else{if(!n(ke,De[0],"VP8X")){if(lt(ke,De[0]+4)!=10){ge=3;break e}if(18>ge[0]){ge=7;break e}var at=lt(ke,De[0]+8),tn=1+Ke(ke,De[0]+12);if(2147483648<=tn*(ke=1+Ke(ke,De[0]+15))){ge=3;break e}wt!=null&&(wt[0]=at),ze!=null&&(ze[0]=tn),Be!=null&&(Be[0]=ke),De[0]+=18,ge[0]-=18,pt[0]=1}ge=0}}if(ve=ve[0],he=he[0],ge!=0)return ge;if(De=!!(2&he),!Ne&&ve)return 3;if(V!=null&&(V[0]=!!(16&he)),j!=null&&(j[0]=De),z!=null&&(z[0]=0),j=K[0],he=oe[0],ve&&De&&$==null){ge=0;break}if(4>E){ge=7;break}if(Ne&&ve||!Ne&&!ve&&!n(h,p[0],"ALPH")){E=[E],ue.na=[ue.na],ue.P=[ue.P],ue.Sa=[ue.Sa];e:{at=h,ge=p,Ne=E;var pt=ue.gb;ze=ue.na,Be=ue.P,wt=ue.Sa,tn=22,e(at!=null),e(Ne!=null),ke=ge[0];var wn=Ne[0];for(e(ze!=null),e(wt!=null),ze[0]=null,Be[0]=null,wt[0]=0;;){if(ge[0]=ke,Ne[0]=wn,8>wn){ge=7;break e}var Ii=lt(at,ke+4);if(4294967286<Ii){ge=3;break e}var nn=8+Ii+1&-2;if(tn+=nn,0<pt&&tn>pt){ge=3;break e}if(!n(at,ke,"VP8 ")||!n(at,ke,"VP8L")){ge=0;break e}if(wn[0]<nn){ge=7;break e}n(at,ke,"ALPH")||(ze[0]=at,Be[0]=ke+8,wt[0]=Ii),ke+=nn,wn-=nn}}if(E=E[0],ue.na=ue.na[0],ue.P=ue.P[0],ue.Sa=ue.Sa[0],ge!=0)break}E=[E],ue.Ja=[ue.Ja],ue.xa=[ue.xa];e:if(pt=h,ge=p,Ne=E,ze=ue.gb[0],Be=ue.Ja,wt=ue.xa,at=ge[0],ke=!n(pt,at,"VP8 "),tn=!n(pt,at,"VP8L"),e(pt!=null),e(Ne!=null),e(Be!=null),e(wt!=null),8>Ne[0])ge=7;else{if(ke||tn){if(pt=lt(pt,at+4),12<=ze&&pt>ze-12){ge=3;break e}if(Q&&pt>Ne[0]-8){ge=7;break e}Be[0]=pt,ge[0]+=8,Ne[0]-=8,wt[0]=tn}else wt[0]=5<=Ne[0]&&pt[at+0]==47&&!(pt[at+4]>>5),Be[0]=Ne[0];ge=0}if(E=E[0],ue.Ja=ue.Ja[0],ue.xa=ue.xa[0],p=p[0],ge!=0)break;if(4294967286<ue.Ja)return 3;if(z==null||De||(z[0]=ue.xa?2:1),j=[j],he=[he],ue.xa){if(5>E){ge=7;break}z=j,Q=he,De=V,h==null||5>E?h=0:5<=E&&h[p+0]==47&&!(h[p+4]>>5)?(Ne=[0],pt=[0],ze=[0],Se(Be=new W,h,p,E),or(Be,Ne,pt,ze)?(z!=null&&(z[0]=Ne[0]),Q!=null&&(Q[0]=pt[0]),De!=null&&(De[0]=ze[0]),h=1):h=0):h=0}else{if(10>E){ge=7;break}z=he,h==null||10>E||!ls(h,p+3,E-3)?h=0:(Q=h[p+0]|h[p+1]<<8|h[p+2]<<16,De=16383&(h[p+7]<<8|h[p+6]),h=16383&(h[p+9]<<8|h[p+8]),1&Q||3<(Q>>1&7)||!(Q>>4&1)||Q>>5>=ue.Ja||!De||!h?h=0:(j&&(j[0]=De),z&&(z[0]=h),h=1))}if(!h||(j=j[0],he=he[0],ve&&(K[0]!=j||oe[0]!=he)))return 3;$!=null&&($[0]=ue,$.offset=p-$.w,e(4294967286>p-$.w),e($.offset==$.ha-E));break}return ge==0||ge==7&&ve&&$==null?(V!=null&&(V[0]|=ue.na!=null&&0<ue.na.length),C!=null&&(C[0]=j),F!=null&&(F[0]=he),0):ge}function tu(h,p,E){var C=p.width,F=p.height,V=0,j=0,z=C,$=F;if(p.Da=h!=null&&0<h.Da,p.Da&&(z=h.cd,$=h.bd,V=h.v,j=h.j,11>E||(V&=-2,j&=-2),0>V||0>j||0>=z||0>=$||V+z>C||j+$>F))return 0;if(p.v=V,p.j=j,p.va=V+z,p.o=j+$,p.U=z,p.T=$,p.da=h!=null&&0<h.da,p.da){if(!bt(z,$,E=[h.ib],V=[h.hb]))return 0;p.ib=E[0],p.hb=V[0]}return p.ob=h!=null&&h.ob,p.Kb=h==null||!h.Sd,p.da&&(p.ob=p.ib<3*C/4&&p.hb<3*F/4,p.Kb=0),1}function Gp(h){if(h==null)return 2;if(11>h.S){var p=h.f.RGBA;p.fb+=(h.height-1)*p.A,p.A=-p.A}else p=h.f.kb,h=h.height,p.O+=(h-1)*p.fa,p.fa=-p.fa,p.N+=(h-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(h-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(h-1)*p.lb,p.lb=-p.lb);return 0}function Ju(h,p,E,C){if(C==null||0>=h||0>=p)return 2;if(E!=null){if(E.Da){var F=E.cd,V=E.bd,j=-2&E.v,z=-2&E.j;if(0>j||0>z||0>=F||0>=V||j+F>h||z+V>p)return 2;h=F,p=V}if(E.da){if(!bt(h,p,F=[E.ib],V=[E.hb]))return 2;h=F[0],p=V[0]}}C.width=h,C.height=p;e:{var $=C.width,K=C.height;if(h=C.S,0>=$||0>=K||!(h>=av&&13>h))h=2;else{if(0>=C.Rd&&C.sd==null){j=V=F=p=0;var oe=(z=$*DR[h])*K;if(11>h||(V=(K+1)/2*(p=($+1)/2),h==12&&(j=(F=$)*K)),(K=o(oe+2*V+j))==null){h=1;break e}C.sd=K,11>h?(($=C.f.RGBA).eb=K,$.fb=0,$.A=z,$.size=oe):(($=C.f.kb).y=K,$.O=0,$.fa=z,$.Fd=oe,$.f=K,$.N=0+oe,$.Ab=p,$.Cd=V,$.ea=K,$.W=0+oe+V,$.Db=p,$.Ed=V,h==12&&($.F=K,$.J=0+oe+2*V),$.Tc=j,$.lb=F)}if(p=1,F=C.S,V=C.width,j=C.height,F>=av&&13>F)if(11>F)h=C.f.RGBA,p&=(z=Math.abs(h.A))*(j-1)+V<=h.size,p&=z>=V*DR[F],p&=h.eb!=null;else{h=C.f.kb,z=(V+1)/2,oe=(j+1)/2,$=Math.abs(h.fa),K=Math.abs(h.Ab);var ve=Math.abs(h.Db),Q=Math.abs(h.lb),ue=Q*(j-1)+V;p&=$*(j-1)+V<=h.Fd,p&=K*(oe-1)+z<=h.Cd,p=(p&=ve*(oe-1)+z<=h.Ed)&$>=V&K>=z&ve>=z,p&=h.y!=null,p&=h.f!=null,p&=h.ea!=null,F==12&&(p&=Q>=V,p&=ue<=h.Tc,p&=h.F!=null)}else p=0;h=p?0:2}}return h!=0||E!=null&&E.fd&&(h=Gp(C)),h}var ud=64,fs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ps=24,Zu=32,nu=8,Xu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ge("Predictor0","PredictorAdd0"),w.Predictor0=function(){return 4278190080},w.Predictor1=function(h){return h},w.Predictor2=function(h,p,E){return p[E+0]},w.Predictor3=function(h,p,E){return p[E+1]},w.Predictor4=function(h,p,E){return p[E-1]},w.Predictor5=function(h,p,E){return vt(vt(h,p[E+1]),p[E+0])},w.Predictor6=function(h,p,E){return vt(h,p[E-1])},w.Predictor7=function(h,p,E){return vt(h,p[E+0])},w.Predictor8=function(h,p,E){return vt(p[E-1],p[E+0])},w.Predictor9=function(h,p,E){return vt(p[E+0],p[E+1])},w.Predictor10=function(h,p,E){return vt(vt(h,p[E-1]),vt(p[E+0],p[E+1]))},w.Predictor11=function(h,p,E){var C=p[E+0];return 0>=Nt(C>>24&255,h>>24&255,(p=p[E-1])>>24&255)+Nt(C>>16&255,h>>16&255,p>>16&255)+Nt(C>>8&255,h>>8&255,p>>8&255)+Nt(255&C,255&h,255&p)?C:h},w.Predictor12=function(h,p,E){var C=p[E+0];return(dn((h>>24&255)+(C>>24&255)-((p=p[E-1])>>24&255))<<24|dn((h>>16&255)+(C>>16&255)-(p>>16&255))<<16|dn((h>>8&255)+(C>>8&255)-(p>>8&255))<<8|dn((255&h)+(255&C)-(255&p)))>>>0},w.Predictor13=function(h,p,E){var C=p[E-1];return(Xt((h=vt(h,p[E+0]))>>24&255,C>>24&255)<<24|Xt(h>>16&255,C>>16&255)<<16|Xt(h>>8&255,C>>8&255)<<8|Xt(255&h,255&C))>>>0};var Wp=w.PredictorAdd0;w.PredictorAdd1=Et,Ge("Predictor2","PredictorAdd2"),Ge("Predictor3","PredictorAdd3"),Ge("Predictor4","PredictorAdd4"),Ge("Predictor5","PredictorAdd5"),Ge("Predictor6","PredictorAdd6"),Ge("Predictor7","PredictorAdd7"),Ge("Predictor8","PredictorAdd8"),Ge("Predictor9","PredictorAdd9"),Ge("Predictor10","PredictorAdd10"),Ge("Predictor11","PredictorAdd11"),Ge("Predictor12","PredictorAdd12"),Ge("Predictor13","PredictorAdd13");var Fh=w.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var jr,iv=w.ColorIndexInverseTransform,fc=w.MapARGB,pc=w.VP8LColorIndexInverseTransformAlpha,Kp=w.MapAlpha,Qp=w.VP8LPredictorsAdd=[];Qp.length=16,(w.VP8LPredictors=[]).length=16,(w.VP8LPredictorsAdd_C=[]).length=16,(w.VP8LPredictors_C=[]).length=16;var Yp,Jp,el,tl,nl,ld,rl,dd,Ys,gc,Kn,cr,Ur,Ei,ru,Zp,Vh,ov,nR,rR,iR,oR,sR,aR,Xp,cR,uR,lR,dR=o(511),hR=o(2041),fR=o(225),pR=o(767),gR=0,tE=hR,sv=fR,gs=pR,Js=dR,av=0,cv=1,mR=2,uv=3,lv=4,nE=5,yR=6,rE=7,iE=8,dv=9,oE=10,Hj=[2,3,7],Gj=[3,3,11],vR=[280,256,256,256,40],Wj=[0,1,1,1,0],Kj=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qj=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Yj=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jj=8,sE=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],aE=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],eg=null,Zj=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Xj=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_R=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],eU=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tU=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],nU=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],rU=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],il=[],Na=[],iu=[],iU=1,wR=2,ol=[],Zs=[];me("UpsampleRgbLinePair",U,3),me("UpsampleBgrLinePair",se,3),me("UpsampleRgbaLinePair",Bt,4),me("UpsampleBgraLinePair",ar,4),me("UpsampleArgbLinePair",cn,4),me("UpsampleRgba4444LinePair",qe,2),me("UpsampleRgb565LinePair",we,2);var oU=w.UpsampleRgbLinePair,sU=w.UpsampleBgrLinePair,bR=w.UpsampleRgbaLinePair,ER=w.UpsampleBgraLinePair,IR=w.UpsampleArgbLinePair,TR=w.UpsampleRgba4444LinePair,aU=w.UpsampleRgb565LinePair,hv=16,fv=1<<hv-1,tg=-227,cE=482,SR=6,cU=(256<<SR)-1,AR=0,uU=o(256),lU=o(256),dU=o(256),hU=o(256),fU=o(cE-tg),pU=o(cE-tg);hr("YuvToRgbRow",U,3),hr("YuvToBgrRow",se,3),hr("YuvToRgbaRow",Bt,4),hr("YuvToBgraRow",ar,4),hr("YuvToArgbRow",cn,4),hr("YuvToRgba4444Row",qe,2),hr("YuvToRgb565Row",we,2);var CR=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],pv=[0,2,8],gU=[8,7,6,4,4,2,2,2,1,1,1,1],mU=1;this.WebPDecodeRGBA=function(h,p,E,C,F){var V=cv,j=new Ae,z=new zt;j.ba=z,z.S=V,z.width=[z.width],z.height=[z.height];var $=z.width,K=z.height,oe=new Xe;if(oe==null||h==null)var ve=2;else e(oe!=null),ve=Qs(h,p,E,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(ve!=0?$=0:($!=null&&($[0]=oe.width[0]),K!=null&&(K[0]=oe.height[0]),$=1),$){z.width=z.width[0],z.height=z.height[0],C!=null&&(C[0]=z.width),F!=null&&(F[0]=z.height);e:{if(C=new qs,(F=new Oe).data=h,F.w=p,F.ha=E,F.kd=1,p=[0],e(F!=null),((h=Qs(F.data,F.w,F.ha,null,null,null,p,null,F))==0||h==7)&&p[0]&&(h=4),(p=h)==0){if(e(j!=null),C.data=F.data,C.w=F.w+F.offset,C.ha=F.ha-F.offset,C.put=ht,C.ac=bo,C.bc=qo,C.ma=j,F.xa){if((h=Ri())==null){j=1;break e}if((function(Q,ue){var he=[0],De=[0],ge=[0];t:for(;;){if(Q==null)return 0;if(ue==null)return Q.a=2,0;if(Q.l=ue,Q.a=0,Se(Q.m,ue.data,ue.w,ue.ha),!or(Q.m,he,De,ge)){Q.a=3;break t}if(Q.xb=wR,ue.width=he[0],ue.height=De[0],!io(he[0],De[0],1,Q,null))break t;return 1}return e(Q.a!=0),0})(h,C)){if(C=(p=Ju(C.width,C.height,j.Oa,j.ba))==0){t:{C=h;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((E=C.l)!=null),e((F=E.ma)!=null),C.xb!=0){if(C.ca=F.ba,C.tb=F.tb,e(C.ca!=null),!tu(F.Oa,E,uv)){C.a=2;break n}if(!js(C,E.width)||E.da)break n;if((E.da||_t(C.ca.S))&&ae(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&ae()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!H(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!_i(C,C.V,C.Ba,C.c,C.i,E.o,vi))break n;F.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(p=h.a)}else p=h.a}else{if((h=new so)==null){j=1;break e}if(h.Fa=F.na,h.P=F.P,h.qc=F.Sa,Pi(h,C)){if((p=Ju(C.width,C.height,j.Oa,j.ba))==0){if(h.Aa=0,E=j.Oa,e((F=h)!=null),E!=null){if(0<($=0>($=E.Md)?0:100<$?255:255*$/100)){for(K=oe=0;4>K;++K)12>(ve=F.pb[K]).lc&&(ve.ia=$*gU[0>ve.lc?0:ve.lc]>>3),oe|=ve.ia;oe&&(alert("todo:VP8InitRandom"),F.ia=1)}F.Ga=E.Id,100<F.Ga?F.Ga=100:0>F.Ga&&(F.Ga=0)}(function(Q,ue){if(Q==null)return 0;if(ue==null)return In(Q,2,"NULL VP8Io parameter in VP8Decode().");if(!Q.cb&&!Pi(Q,ue))return 0;if(e(Q.cb),ue.ac==null||ue.ac(ue)){ue.ob&&(Q.L=0);var he=pv[Q.L];if(Q.L==2?(Q.yb=0,Q.zb=0):(Q.yb=ue.v-he>>4,Q.zb=ue.j-he>>4,0>Q.yb&&(Q.yb=0),0>Q.zb&&(Q.zb=0)),Q.Va=ue.o+15+he>>4,Q.Hb=ue.va+15+he>>4,Q.Hb>Q.za&&(Q.Hb=Q.za),Q.Va>Q.Ub&&(Q.Va=Q.Ub),0<Q.L){var De=Q.ed;for(he=0;4>he;++he){var ge;if(Q.Qa.Cb){var Ne=Q.Qa.Lb[he];Q.Qa.Fb||(Ne+=De.Tb)}else Ne=De.Tb;for(ge=0;1>=ge;++ge){var ke=Q.gd[he][ge],ze=Ne;if(De.Pc&&(ze+=De.vd[0],ge&&(ze+=De.od[0])),0<(ze=0>ze?0:63<ze?63:ze)){var Be=ze;0<De.wb&&(Be=4<De.wb?Be>>2:Be>>1)>9-De.wb&&(Be=9-De.wb),1>Be&&(Be=1),ke.dd=Be,ke.tc=2*ze+Be,ke.ld=40<=ze?2:15<=ze?1:0}else ke.tc=0;ke.La=ge}}}he=0}else In(Q,6,"Frame setup failed"),he=Q.a;if(he=he==0){if(he){Q.$c=0,0<Q.Aa||(Q.Ic=mU);t:{he=Q.Ic,De=4*(Be=Q.za);var wt=32*Be,at=Be+1,tn=0<Q.L?Be*(0<Q.Aa?2:1):0,pt=(Q.Aa==2?2:1)*Be;if((ke=De+832+(ge=3*(16*he+pv[Q.L])/2*wt)+(Ne=Q.Fa!=null&&0<Q.Fa.length?Q.Kc.c*Q.Kc.i:0))!=ke)he=0;else{if(ke>Q.Vb){if(Q.Vb=0,Q.Ec=o(ke),Q.Fc=0,Q.Ec==null){he=In(Q,1,"no memory during frame initialization.");break t}Q.Vb=ke}ke=Q.Ec,ze=Q.Fc,Q.Ac=ke,Q.Bc=ze,ze+=De,Q.Gd=s(wt,sc),Q.Hd=0,Q.rb=s(at+1,zo),Q.sb=1,Q.wa=tn?s(tn,wi):null,Q.Y=0,Q.D.Nb=0,Q.D.wa=Q.wa,Q.D.Y=Q.Y,0<Q.Aa&&(Q.D.Y+=Be),e(!0),Q.oc=ke,Q.pc=ze,ze+=832,Q.ya=s(pt,us),Q.aa=0,Q.D.ya=Q.ya,Q.D.aa=Q.aa,Q.Aa==2&&(Q.D.aa+=Be),Q.R=16*Be,Q.B=8*Be,Be=(wt=pv[Q.L])*Q.R,wt=wt/2*Q.B,Q.sa=ke,Q.ta=ze+Be,Q.qa=Q.sa,Q.ra=Q.ta+16*he*Q.R+wt,Q.Ha=Q.qa,Q.Ia=Q.ra+8*he*Q.B+wt,Q.$c=0,ze+=ge,Q.mb=Ne?ke:null,Q.nb=Ne?ze:null,e(ze+Ne<=Q.Fc+Q.Vb),Rn(Q),i(Q.Ac,Q.Bc,0,De),he=1}}if(he){if(ue.ka=0,ue.y=Q.sa,ue.O=Q.ta,ue.f=Q.qa,ue.N=Q.ra,ue.ea=Q.Ha,ue.Vd=Q.Ia,ue.fa=Q.R,ue.Rc=Q.B,ue.F=null,ue.J=0,!gR){for(he=-255;255>=he;++he)dR[255+he]=0>he?-he:he;for(he=-1020;1020>=he;++he)hR[1020+he]=-128>he?-128:127<he?127:he;for(he=-112;112>=he;++he)fR[112+he]=-16>he?-16:15<he?15:he;for(he=-255;510>=he;++he)pR[255+he]=0>he?0:255<he?255:he;gR=1}rl=ki,dd=cc,gc=So,Kn=Fn,cr=Aa,Ys=Sa,Ur=hc,Ei=Wo,ru=O,Zp=G,Vh=hs,ov=v,nR=te,rR=le,iR=zi,oR=Da,sR=bi,aR=eu,Na[0]=Qu,Na[1]=Wu,Na[2]=Co,Na[3]=dc,Na[4]=qi,Na[5]=Yu,Na[6]=Er,Na[7]=Jc,Na[8]=$s,Na[9]=_n,il[0]=Ca,il[1]=Ku,il[2]=uc,il[3]=Yc,il[4]=Mi,il[5]=lc,il[6]=Ao,iu[0]=Zc,iu[1]=Qc,iu[2]=Hs,iu[3]=Gs,iu[4]=fn,iu[5]=$o,iu[6]=Xc,he=1}else he=0}he&&(he=(function(wn,Ii){for(wn.M=0;wn.M<wn.Va;++wn.M){var nn,gt=wn.Jc[wn.M&wn.Xb],Ye=wn.m,qr=wn;for(nn=0;nn<qr.za;++nn){var Jt=Ye,Tn=qr,vr=Tn.Ac,$i=Tn.Bc+4*nn,Do=Tn.zc,Rr=Tn.ya[Tn.aa+nn];if(Tn.Qa.Bb?Rr.$b=xe(Jt,Tn.Pa.jb[0])?2+xe(Jt,Tn.Pa.jb[2]):xe(Jt,Tn.Pa.jb[1]):Rr.$b=0,Tn.kc&&(Rr.Ad=xe(Jt,Tn.Bd)),Rr.Za=!xe(Jt,145)+0,Rr.Za){var co=Rr.Ob,xo=0;for(Tn=0;4>Tn;++Tn){var Ti,Pn=Do[0+Tn];for(Ti=0;4>Ti;++Ti){Pn=tU[vr[$i+Ti]][Pn];for(var Xn=_R[xe(Jt,Pn[0])];0<Xn;)Xn=_R[2*Xn+xe(Jt,Pn[Xn])];Pn=-Xn,vr[$i+Ti]=Pn}r(co,xo,vr,$i,4),xo+=4,Do[0+Tn]=Pn}}else Pn=xe(Jt,156)?xe(Jt,128)?1:3:xe(Jt,163)?2:0,Rr.Ob[0]=Pn,i(vr,$i,Pn,4),i(Do,0,Pn,4);Rr.Dd=xe(Jt,142)?xe(Jt,114)?xe(Jt,183)?1:3:2:0}if(qr.m.Ka)return In(wn,7,"Premature end-of-partition0 encountered.");for(;wn.ja<wn.za;++wn.ja){if(qr=gt,Jt=(Ye=wn).rb[Ye.sb-1],vr=Ye.rb[Ye.sb+Ye.ja],nn=Ye.ya[Ye.aa+Ye.ja],$i=Ye.kc?nn.Ad:0)Jt.la=vr.la=0,nn.Za||(Jt.Na=vr.Na=0),nn.Hc=0,nn.Gc=0,nn.ia=0;else{var Pr,er;if(Jt=vr,vr=qr,$i=Ye.Pa.Xc,Do=Ye.ya[Ye.aa+Ye.ja],Rr=Ye.pb[Do.$b],Tn=Do.ad,co=0,xo=Ye.rb[Ye.sb-1],Pn=Ti=0,i(Tn,co,0,384),Do.Za)var Hi=0,Ra=$i[3];else{Xn=o(16);var zr=Jt.Na+xo.Na;if(zr=eg(vr,$i[1],zr,Rr.Eb,0,Xn,0),Jt.Na=xo.Na=(0<zr)+0,1<zr)rl(Xn,0,Tn,co);else{var Ko=Xn[0]+3>>3;for(Xn=0;256>Xn;Xn+=16)Tn[co+Xn]=Ko}Hi=1,Ra=$i[0]}var ur=15&Jt.la,Si=15&xo.la;for(Xn=0;4>Xn;++Xn){var ms=1&Si;for(Ko=er=0;4>Ko;++Ko)ur=ur>>1|(ms=(zr=eg(vr,Ra,zr=ms+(1&ur),Rr.Sc,Hi,Tn,co))>Hi)<<7,er=er<<2|(3<zr?3:1<zr?2:Tn[co+0]!=0),co+=16;ur>>=4,Si=Si>>1|ms<<7,Ti=(Ti<<8|er)>>>0}for(Ra=ur,Hi=Si>>4,Pr=0;4>Pr;Pr+=2){for(er=0,ur=Jt.la>>4+Pr,Si=xo.la>>4+Pr,Xn=0;2>Xn;++Xn){for(ms=1&Si,Ko=0;2>Ko;++Ko)zr=ms+(1&ur),ur=ur>>1|(ms=0<(zr=eg(vr,$i[2],zr,Rr.Qc,0,Tn,co)))<<3,er=er<<2|(3<zr?3:1<zr?2:Tn[co+0]!=0),co+=16;ur>>=2,Si=Si>>1|ms<<5}Pn|=er<<4*Pr,Ra|=ur<<4<<Pr,Hi|=(240&Si)<<Pr}Jt.la=Ra,xo.la=Hi,Do.Hc=Ti,Do.Gc=Pn,Do.ia=43690&Pn?0:Rr.ia,$i=!(Ti|Pn)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[nn.$b][nn.Za],Ye.wa[Ye.Y+Ye.ja].La|=!$i),qr.Ka)return In(wn,7,"Premature end-of-file encountered.")}if(Rn(wn),Ye=Ii,qr=1,nn=(gt=wn).D,Jt=0<gt.L&&gt.M>=gt.zb&&gt.M<=gt.Va,gt.Aa==0)t:{if(nn.M=gt.M,nn.uc=Jt,Ir(gt,nn),qr=1,nn=(er=gt.D).Nb,Jt=(Pn=pv[gt.L])*gt.R,vr=Pn/2*gt.B,Xn=16*nn*gt.R,Ko=8*nn*gt.B,$i=gt.sa,Do=gt.ta-Jt+Xn,Rr=gt.qa,Tn=gt.ra-vr+Ko,co=gt.Ha,xo=gt.Ia-vr+Ko,Si=(ur=er.M)==0,Ti=ur>=gt.Va-1,gt.Aa==2&&Ir(gt,er),er.uc)for(ms=(zr=gt).D.M,e(zr.D.uc),er=zr.yb;er<zr.Hb;++er){Hi=er,Ra=ms;var No=(ys=(Gi=zr).D).Nb;Pr=Gi.R;var ys=ys.wa[ys.Y+Hi],vs=Gi.sa,Qo=Gi.ta+16*No*Pr+16*Hi,_s=ys.dd,fr=ys.tc;if(fr!=0)if(e(3<=fr),Gi.L==1)0<Hi&&oR(vs,Qo,Pr,fr+4),ys.La&&aR(vs,Qo,Pr,fr),0<Ra&&iR(vs,Qo,Pr,fr+4),ys.La&&sR(vs,Qo,Pr,fr);else{var ws=Gi.B,Pa=Gi.qa,hd=Gi.ra+8*No*ws+8*Hi,ou=Gi.Ha,Gi=Gi.Ia+8*No*ws+8*Hi;No=ys.ld,0<Hi&&(Ei(vs,Qo,Pr,fr+4,_s,No),Zp(Pa,hd,ou,Gi,ws,fr+4,_s,No)),ys.La&&(ov(vs,Qo,Pr,fr,_s,No),rR(Pa,hd,ou,Gi,ws,fr,_s,No)),0<Ra&&(Ur(vs,Qo,Pr,fr+4,_s,No),ru(Pa,hd,ou,Gi,ws,fr+4,_s,No)),ys.La&&(Vh(vs,Qo,Pr,fr,_s,No),nR(Pa,hd,ou,Gi,ws,fr,_s,No))}}if(gt.ia&&alert("todo:DitherRow"),Ye.put!=null){if(er=16*ur,ur=16*(ur+1),Si?(Ye.y=gt.sa,Ye.O=gt.ta+Xn,Ye.f=gt.qa,Ye.N=gt.ra+Ko,Ye.ea=gt.Ha,Ye.W=gt.Ia+Ko):(er-=Pn,Ye.y=$i,Ye.O=Do,Ye.f=Rr,Ye.N=Tn,Ye.ea=co,Ye.W=xo),Ti||(ur-=Pn),ur>Ye.o&&(ur=Ye.o),Ye.F=null,Ye.J=null,gt.Fa!=null&&0<gt.Fa.length&&er<ur&&(Ye.J=pn(gt,Ye,er,ur-er),Ye.F=gt.mb,Ye.F==null&&Ye.F.length==0)){qr=In(gt,3,"Could not decode alpha data.");break t}er<Ye.j&&(Pn=Ye.j-er,er=Ye.j,e(!(1&Pn)),Ye.O+=gt.R*Pn,Ye.N+=gt.B*(Pn>>1),Ye.W+=gt.B*(Pn>>1),Ye.F!=null&&(Ye.J+=Ye.width*Pn)),er<ur&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,Ye.F!=null&&(Ye.J+=Ye.v),Ye.ka=er-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=ur-er,qr=Ye.put(Ye))}nn+1!=gt.Ic||Ti||(r(gt.sa,gt.ta-Jt,$i,Do+16*gt.R,Jt),r(gt.qa,gt.ra-vr,Rr,Tn+8*gt.B,vr),r(gt.Ha,gt.Ia-vr,co,xo+8*gt.B,vr))}if(!qr)return In(wn,6,"Output aborted.")}return 1})(Q,ue)),ue.bc!=null&&ue.bc(ue),he&=1}return he?(Q.cb=0,he):0})(h,C)||(p=h.a)}}else p=h.a}p==0&&j.Oa!=null&&j.Oa.fd&&(p=Gp(j.ba))}j=p}V=j!=0?null:11>V?z.f.RGBA.eb:z.f.kb.y}else V=null;return V};var DR=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(w,D){for(var _="",A=0;A<4;A++)_+=String.fromCharCode(w[D++]);return _}function l(w,D){return w[D+0]|w[D+1]<<8}function m(w,D){return(w[D+0]|w[D+1]<<8|w[D+2]<<16)>>>0}function y(w,D){return(w[D+0]|w[D+1]<<8|w[D+2]<<16|w[D+3]<<24)>>>0}new c;var g=[0],R=[0],k=[],M=new c,L=t,Z=(function(w,D){var _={},A=0,I=!1,ee=0,_e=0;if(_.frames=[],!(function(B,W){for(var X=0;X<4;X++)if(B[W+X]!="RIFF".charCodeAt(X))return!0;return!1})(w,D)){for(y(w,D+=4),D+=8;D<w.length;){var Ce=u(w,D),Te=y(w,D+=4);D+=4;var pe=Te+(1&Te);switch(Ce){case"VP8 ":case"VP8L":_.frames[A]===void 0&&(_.frames[A]={}),(Le=_.frames[A]).src_off=I?_e:D-8,Le.src_size=ee+Te+8,A++,I&&(I=!1,ee=0,_e=0);break;case"VP8X":(Le=_.header={}).feature_flags=w[D];var Se=D+4;Le.canvas_width=1+m(w,Se),Se+=3,Le.canvas_height=1+m(w,Se),Se+=3;break;case"ALPH":I=!0,ee=pe+8,_e=D-8;break;case"ANIM":(Le=_.header).bgcolor=y(w,D),Se=D+4,Le.loop_count=l(w,Se),Se+=2;break;case"ANMF":var $e,Le;(Le=_.frames[A]={}).offset_x=2*m(w,D),D+=3,Le.offset_y=2*m(w,D),D+=3,Le.width=1+m(w,D),D+=3,Le.height=1+m(w,D),D+=3,Le.duration=m(w,D),D+=3,$e=w[D++],Le.dispose=1&$e,Le.blend=$e>>1&1}Ce!="ANMF"&&(D+=pe)}return _}})(L,0);Z.response=L,Z.rgbaoutput=!0,Z.dataurl=!1;var J=Z.header?Z.header:null,Y=Z.frames?Z.frames:null;if(J){J.loop_counter=J.loop_count,g=[J.canvas_height],R=[J.canvas_width];for(var fe=0;fe<Y.length&&Y[fe].blend!=0;fe++);}var be=Y[0],P=M.WebPDecodeRGBA(L,be.src_off,be.src_size,R,g);be.rgba=P,be.imgwidth=R[0],be.imgheight=g[0];for(var T=0;T<R[0]*g[0]*4;T++)k[T]=P[T];return this.width=R,this.height=g,this.data=k,this}(function(t){var e,n,r,i,o,s,a,c,u,l=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new s,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new s,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,c=this.internal.Matrix,u=new l}]);var m=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=B;Object.defineProperty(this,"pdf",{get:function(){return W}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(H){X=!!H}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(H){ne=!!H}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(H){isNaN(H)||(ce=H)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(H){isNaN(H)||(de=H)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(H){var Qe;typeof H=="number"?Qe=[H,H,H,H]:((Qe=new Array(4))[0]=H[0],Qe[1]=H.length>=2?H[1]:Qe[0],Qe[2]=H.length>=3?H[2]:Qe[0],Qe[3]=H.length>=4?H[3]:Qe[1]),u.margin=Qe}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(H){Ee=H}});var Ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ie},set:function(H){Ie=H}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(H){xe=H}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(H){H instanceof l&&(u=H)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(H){u.path=H}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(H){je=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var Qe;Qe=y(H),this.ctx.fillStyle=Qe.style,this.ctx.isFillTransparent=Qe.a===0,this.ctx.fillOpacity=Qe.a,this.pdf.setFillColor(Qe.r,Qe.g,Qe.b,{a:Qe.a}),this.pdf.setTextColor(Qe.r,Qe.g,Qe.b,{a:Qe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var Qe=y(H);this.ctx.strokeStyle=Qe.style,this.ctx.isStrokeTransparent=Qe.a===0,this.ctx.strokeOpacity=Qe.a,Qe.a===0?this.pdf.setDrawColor(255,255,255):(Qe.a,this.pdf.setDrawColor(Qe.r,Qe.g,Qe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var Je=null,Ke=null,lt=null;Object.defineProperty(this,"fontFaces",{get:function(){return lt},set:function(H){Je=null,Ke=null,lt=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var Qe;if(this.ctx.font=H,(Qe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(H))!==null){var Ut=Qe[1];Qe[2];var bt=Qe[3],Ve=Qe[4];Qe[5];var Ze=Qe[6],Ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ve)[2];Ve=Math.floor(Ge==="px"?parseFloat(Ve)*this.pdf.internal.scaleFactor:Ge==="em"?parseFloat(Ve)*this.pdf.getFontSize():parseFloat(Ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ve);var mt=(function(ft){var dr,en,Vt=[],Gt=ft.trim();if(Gt==="")return BN;if(Gt in $B)return[$B[Gt]];for(;Gt!=="";){switch(en=null,dr=(Gt=GB(Gt)).charAt(0)){case'"':case"'":en=Roe(Gt.substring(1),dr);break;default:en=Poe(Gt)}if(en===null||(Vt.push(en[0]),(Gt=GB(en[1]))!==""&&Gt.charAt(0)!==","))return BN;Gt=Gt.replace(/^,/,"")}return Vt})(Ze);if(this.fontFaces){var vt=(function(ft,dr){var en=ft.getFontList(),Vt=JSON.stringify(en);if(Je===null||Ke!==Vt){var Gt=(function(Ln){var dt=[];return Object.keys(Ln).forEach(function(jn){Ln[jn].forEach(function(_t){var Ft=null;switch(_t){case"bold":Ft={family:jn,weight:"bold"};break;case"italic":Ft={family:jn,style:"italic"};break;case"bolditalic":Ft={family:jn,weight:"bold",style:"italic"};break;case"":case"normal":Ft={family:jn}}Ft!==null&&(Ft.ref={name:jn,style:_t},dt.push(Ft))})}),dt})(en);Je=(function(Ln){for(var dt={},jn=0;jn<Ln.length;++jn){var _t=VN(Ln[jn]),Ft=_t.family,Nn=_t.stretch,zt=_t.style,Xe=_t.weight;dt[Ft]=dt[Ft]||{},dt[Ft][Nn]=dt[Ft][Nn]||{},dt[Ft][Nn][zt]=dt[Ft][Nn][zt]||{},dt[Ft][Nn][zt][Xe]=_t}return dt})(Gt.concat(dr)),Ke=Vt}return Je})(this.pdf,this.fontFaces),dn=mt.map(function(ft){return{family:ft,stretch:"normal",weight:bt,style:Ut}}),Xt=(function(ft,dr,en){for(var Vt=(en=en||{}).defaultFontFamily||"times",Gt=Object.assign({},Noe,en.genericFontFamilies||{}),Ln=null,dt=null,jn=0;jn<dr.length;++jn)if(Gt[(Ln=VN(dr[jn])).family]&&(Ln.family=Gt[Ln.family]),ft.hasOwnProperty(Ln.family)){dt=ft[Ln.family];break}if(!(dt=dt||ft[Vt]))throw new Error("Could not find a font-family for the rule '"+HB(Ln)+"' and default family '"+Vt+"'.");if(dt=(function(_t,Ft){if(Ft[_t])return Ft[_t];var Nn=HN[_t],zt=Nn<=HN.normal?-1:1,Xe=zB(Ft,gj,Nn,zt);if(!Xe)throw new Error("Could not find a matching font-stretch value for "+_t);return Xe})(Ln.stretch,dt),dt=(function(_t,Ft){if(Ft[_t])return Ft[_t];for(var Nn=pj[_t],zt=0;zt<Nn.length;++zt)if(Ft[Nn[zt]])return Ft[Nn[zt]];throw new Error("Could not find a matching font-style for "+_t)})(Ln.style,dt),!(dt=(function(_t,Ft){if(Ft[_t])return Ft[_t];if(_t===400&&Ft[500])return Ft[500];if(_t===500&&Ft[400])return Ft[400];var Nn=xoe[_t],zt=zB(Ft,mj,Nn,_t<400?-1:1);if(!zt)throw new Error("Could not find a matching font-weight for value "+_t);return zt})(Ln.weight,dt)))throw new Error("Failed to resolve a font for the rule '"+HB(Ln)+"'.");return dt})(vt,dn);this.pdf.setFont(Xt.ref.name,Xt.ref.style)}else{var Nt="";(bt==="bold"||parseInt(bt,10)>=700||Ut==="bold")&&(Nt="bold"),Ut==="italic"&&(Nt+="italic"),Nt.length===0&&(Nt="normal");for(var Et="",It={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},nt=0;nt<mt.length;nt++){if(this.pdf.internal.getFont(mt[nt],Nt,{noFallback:!0,disableWarning:!0})!==void 0){Et=mt[nt];break}if(Nt==="bolditalic"&&this.pdf.internal.getFont(mt[nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Et=mt[nt],Nt="bold";else if(this.pdf.internal.getFont(mt[nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Et=mt[nt],Nt="normal";break}}if(Et===""){for(var qt=0;qt<mt.length;qt++)if(It[mt[qt]]){Et=It[mt[qt]];break}}Et=Et===""?"Times":Et,this.pdf.setFont(Et,Nt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,Le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,Le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};m.prototype.setLineDash=function(B){this.lineDash=B},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){Y.call(this,"fill",!1)},m.prototype.stroke=function(){Y.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(B,W){if(isNaN(B)||isNaN(W))throw lr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new s(B,W));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new s(B,W)},m.prototype.closePath=function(){var B=new s(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&nr(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){B=new s(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(B.x,B.y)},m.prototype.lineTo=function(B,W){if(isNaN(B)||isNaN(W))throw lr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new s(B,W));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new s(X.x,X.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Y.call(this,null,!0)},m.prototype.quadraticCurveTo=function(B,W,X,ne){if(isNaN(X)||isNaN(ne)||isNaN(B)||isNaN(W))throw lr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new s(X,ne)),de=this.ctx.transform.applyToPoint(new s(B,W));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},m.prototype.bezierCurveTo=function(B,W,X,ne,ce,de){if(isNaN(ce)||isNaN(de)||isNaN(B)||isNaN(W)||isNaN(X)||isNaN(ne))throw lr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new s(ce,de)),Ie=this.ctx.transform.applyToPoint(new s(B,W)),xe=this.ctx.transform.applyToPoint(new s(X,ne));this.path.push({type:"bct",x1:Ie.x,y1:Ie.y,x2:xe.x,y2:xe.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new s(Ee.x,Ee.y)},m.prototype.arc=function(B,W,X,ne,ce,de){if(isNaN(B)||isNaN(W)||isNaN(X)||isNaN(ne)||isNaN(ce))throw lr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new s(B,W));B=Ee.x,W=Ee.y;var Ie=this.ctx.transform.applyToPoint(new s(0,X)),xe=this.ctx.transform.applyToPoint(new s(0,0));X=Math.sqrt(Math.pow(Ie.x-xe.x,2)+Math.pow(Ie.y-xe.y,2))}Math.abs(ce-ne)>=2*Math.PI&&(ne=0,ce=2*Math.PI),this.path.push({type:"arc",x:B,y:W,radius:X,startAngle:ne,endAngle:ce,counterclockwise:de})},m.prototype.arcTo=function(B,W,X,ne,ce){throw new Error("arcTo not implemented.")},m.prototype.rect=function(B,W,X,ne){if(isNaN(B)||isNaN(W)||isNaN(X)||isNaN(ne))throw lr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,W),this.lineTo(B+X,W),this.lineTo(B+X,W+ne),this.lineTo(B,W+ne),this.lineTo(B,W),this.lineTo(B+X,W),this.lineTo(B,W)},m.prototype.fillRect=function(B,W,X,ne){if(isNaN(B)||isNaN(W)||isNaN(X)||isNaN(ne))throw lr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,W,X,ne),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},m.prototype.strokeRect=function(B,W,X,ne){if(isNaN(B)||isNaN(W)||isNaN(X)||isNaN(ne))throw lr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(B,W,X,ne),this.stroke())},m.prototype.clearRect=function(B,W,X,ne){if(isNaN(B)||isNaN(W)||isNaN(X)||isNaN(ne))throw lr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,W,X,ne))},m.prototype.save=function(B){B=typeof B!="boolean"||B;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new l(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},m.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(W),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(B){var W,X,ne,ce;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))W=0,X=0,ne=0,ce=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(de!==null)W=parseInt(de[1]),X=parseInt(de[2]),ne=parseInt(de[3]),ce=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)W=parseInt(de[1]),X=parseInt(de[2]),ne=parseInt(de[3]),ce=parseFloat(de[4]);else{if(ce=1,typeof B=="string"&&B.charAt(0)!=="#"){var Ee=new aj(B);B=Ee.ok?Ee.toHex():"#000000"}B.length===4?(W=B.substring(1,2),W+=W,X=B.substring(2,3),X+=X,ne=B.substring(3,4),ne+=ne):(W=B.substring(1,3),X=B.substring(3,5),ne=B.substring(5,7)),W=parseInt(W,16),X=parseInt(X,16),ne=parseInt(ne,16)}}return{r:W,g:X,b:ne,a:ce,style:B}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},R=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(B,W,X,ne){if(isNaN(W)||isNaN(X)||typeof B!="string")throw lr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!g.call(this)){var ce=pe(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;A.call(this,{text:B,x:W,y:X,scale:de,angle:ce,align:this.textAlign,maxWidth:ne})}},m.prototype.strokeText=function(B,W,X,ne){if(isNaN(W)||isNaN(X)||typeof B!="string")throw lr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){ne=isNaN(ne)?void 0:ne;var ce=pe(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;A.call(this,{text:B,x:W,y:X,scale:de,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ne})}},m.prototype.measureText=function(B){if(typeof B!="string")throw lr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,X=this.pdf.internal.scaleFactor,ne=W.internal.getFontSize(),ce=W.getStringUnitWidth(B)*ne/W.internal.scaleFactor;return new function(de){var Ee=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:ce*=Math.round(96*X/72*1e4)/1e4})},m.prototype.scale=function(B,W){if(isNaN(B)||isNaN(W))throw lr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(B,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.rotate=function(B){if(isNaN(B))throw lr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},m.prototype.translate=function(B,W){if(isNaN(B)||isNaN(W))throw lr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,B,W);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.transform=function(B,W,X,ne,ce,de){if(isNaN(B)||isNaN(W)||isNaN(X)||isNaN(ne)||isNaN(ce)||isNaN(de))throw lr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new c(B,W,X,ne,ce,de);this.ctx.transform=this.ctx.transform.multiply(Ee)},m.prototype.setTransform=function(B,W,X,ne,ce,de){B=isNaN(B)?1:B,W=isNaN(W)?0:W,X=isNaN(X)?0:X,ne=isNaN(ne)?1:ne,ce=isNaN(ce)?0:ce,de=isNaN(de)?0:de,this.ctx.transform=new c(B,W,X,ne,ce,de)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(B,W,X,ne,ce,de,Ee,Ie,xe){var je=this.pdf.getImageProperties(B),Je=1,Ke=1,lt=1,H=1;ne!==void 0&&Ie!==void 0&&(lt=Ie/ne,H=xe/ce,Je=je.width/ne*Ie/ne,Ke=je.height/ce*xe/ce),de===void 0&&(de=W,Ee=X,W=0,X=0),ne!==void 0&&Ie===void 0&&(Ie=ne,xe=ce),ne===void 0&&Ie===void 0&&(Ie=je.width,xe=je.height);var Qe=this.ctx.transform.decompose(),Ut=pe(Qe.rotate.shx),bt=new c,Ve=(bt=(bt=(bt=bt.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale)).applyToRectangle(new a(de-W*lt,Ee-X*H,ne*Je,ce*Ke));if(this.autoPaging){for(var Ze,Ge=M.call(this,Ve),mt=[],vt=0;vt<Ge.length;vt+=1)mt.indexOf(Ge[vt])===-1&&mt.push(Ge[vt]);J(mt);for(var dn=mt[0],Xt=mt[mt.length-1],Nt=dn;Nt<Xt+1;Nt++){this.pdf.setPage(Nt);var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=Nt===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=Nt===1?0:nt+(Nt-2)*qt;if(this.ctx.clip_path.length!==0){var dr=this.path;Ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(Ze,this.posX+this.margin[3],-ft+It+this.ctx.prevPageLastElemOffset),fe.call(this,"fill",!0),this.path=dr}var en=JSON.parse(JSON.stringify(Ve));en=Z([en],this.posX+this.margin[3],-ft+It+this.ctx.prevPageLastElemOffset)[0];var Vt=(Nt>dn||Nt<Xt)&&k.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,qt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",en.x,en.y,en.w,en.h,null,null,Ut),Vt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,Ut)};var M=function(B,W,X){var ne=[];W=W||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ne.push(Math.floor((B.y+ce)/X)+1);break;case"arc":ne.push(Math.floor((B.y+ce-B.radius)/X)+1),ne.push(Math.floor((B.y+ce+B.radius)/X)+1);break;case"qct":var de=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ne.push(Math.floor((de.y+ce)/X)+1),ne.push(Math.floor((de.y+de.h+ce)/X)+1);break;case"bct":var Ee=$e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ne.push(Math.floor((Ee.y+ce)/X)+1),ne.push(Math.floor((Ee.y+Ee.h+ce)/X)+1);break;case"rect":ne.push(Math.floor((B.y+ce)/X)+1),ne.push(Math.floor((B.y+B.h+ce)/X)+1)}for(var Ie=0;Ie<ne.length;Ie+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Ie];)L.call(this);return ne},L=function(){var B=this.fillStyle,W=this.strokeStyle,X=this.font,ne=this.lineCap,ce=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=W,this.font=X,this.lineCap=ne,this.lineWidth=ce,this.lineJoin=de},Z=function(B,W,X){for(var ne=0;ne<B.length;ne++)switch(B[ne].type){case"bct":B[ne].x2+=W,B[ne].y2+=X;case"qct":B[ne].x1+=W,B[ne].y1+=X;default:B[ne].x+=W,B[ne].y+=X}return B},J=function(B){return B.sort(function(W,X){return W-X})},Y=function(B,W){var X=this.fillStyle,ne=this.strokeStyle,ce=this.lineCap,de=this.lineWidth,Ee=Math.abs(de*this.ctx.transform.scaleX),Ie=this.lineJoin;if(this.autoPaging){for(var xe,je,Je=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),lt=[],H=0;H<Ke.length;H++)if(Ke[H].x!==void 0)for(var Qe=M.call(this,Ke[H]),Ut=0;Ut<Qe.length;Ut+=1)lt.indexOf(Qe[Ut])===-1&&lt.push(Qe[Ut]);for(var bt=0;bt<lt.length;bt++)for(;this.pdf.internal.getNumberOfPages()<lt[bt];)L.call(this);J(lt);for(var Ve=lt[0],Ze=lt[lt.length-1],Ge=Ve;Ge<Ze+1;Ge++){this.pdf.setPage(Ge),this.fillStyle=X,this.strokeStyle=ne,this.lineCap=ce,this.lineWidth=Ee,this.lineJoin=Ie;var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=Ge===1?this.posY+this.margin[0]:this.margin[0],dn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=Ge===1?0:dn+(Ge-2)*Xt;if(this.ctx.clip_path.length!==0){var Et=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(xe,this.posX+this.margin[3],-Nt+vt+this.ctx.prevPageLastElemOffset),fe.call(this,B,!0),this.path=Et}if(je=JSON.parse(JSON.stringify(Je)),this.path=Z(je,this.posX+this.margin[3],-Nt+vt+this.ctx.prevPageLastElemOffset),W===!1||Ge===0){var It=(Ge>Ve||Ge<Ze)&&k.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,Xt,null).clip().discardPath()),fe.call(this,B,W),It&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=Je}else this.lineWidth=Ee,fe.call(this,B,W),this.lineWidth=de},fe=function(B,W){if((B!=="stroke"||W||!R.call(this))&&(B==="stroke"||W||!g.call(this))){for(var X,ne,ce=[],de=this.path,Ee=0;Ee<de.length;Ee++){var Ie=de[Ee];switch(Ie.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Ie,deltas:[],abs:[]});break;case"lt":var xe=ce.length;if(de[Ee-1]&&!isNaN(de[Ee-1].x)&&(X=[Ie.x-de[Ee-1].x,Ie.y-de[Ee-1].y],xe>0)){for(;xe>=0;xe--)if(ce[xe-1].close!==!0&&ce[xe-1].begin!==!0){ce[xe-1].deltas.push(X),ce[xe-1].abs.push(Ie);break}}break;case"bct":X=[Ie.x1-de[Ee-1].x,Ie.y1-de[Ee-1].y,Ie.x2-de[Ee-1].x,Ie.y2-de[Ee-1].y,Ie.x-de[Ee-1].x,Ie.y-de[Ee-1].y],ce[ce.length-1].deltas.push(X);break;case"qct":var je=de[Ee-1].x+2/3*(Ie.x1-de[Ee-1].x),Je=de[Ee-1].y+2/3*(Ie.y1-de[Ee-1].y),Ke=Ie.x+2/3*(Ie.x1-Ie.x),lt=Ie.y+2/3*(Ie.y1-Ie.y),H=Ie.x,Qe=Ie.y;X=[je-de[Ee-1].x,Je-de[Ee-1].y,Ke-de[Ee-1].x,lt-de[Ee-1].y,H-de[Ee-1].x,Qe-de[Ee-1].y],ce[ce.length-1].deltas.push(X);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Ie)}}ne=W?null:B==="stroke"?"stroke":"fill";for(var Ut=!1,bt=0;bt<ce.length;bt++)if(ce[bt].arc)for(var Ve=ce[bt].abs,Ze=0;Ze<Ve.length;Ze++){var Ge=Ve[Ze];Ge.type==="arc"?T.call(this,Ge.x,Ge.y,Ge.radius,Ge.startAngle,Ge.endAngle,Ge.counterclockwise,void 0,W,!Ut):I.call(this,Ge.x,Ge.y),Ut=!0}else if(ce[bt].close===!0)this.pdf.internal.out("h"),Ut=!1;else if(ce[bt].begin!==!0){var mt=ce[bt].start.x,vt=ce[bt].start.y;ee.call(this,ce[bt].deltas,mt,vt),Ut=!0}ne&&w.call(this,ne),W&&D.call(this)}},be=function(B){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-X;case"top":return B+W-X;case"hanging":return B+W-2*X;case"middle":return B+W/2-X;default:return B}},P=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(W,X){this.colorStops.push([W,X])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(B,W,X,ne,ce,de,Ee,Ie,xe){for(var je=Ce.call(this,X,ne,ce,de),Je=0;Je<je.length;Je++){var Ke=je[Je];Je===0&&(xe?_.call(this,Ke.x1+B,Ke.y1+W):I.call(this,Ke.x1+B,Ke.y1+W)),_e.call(this,B,W,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}Ie?D.call(this):w.call(this,Ee)},w=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(B,W){this.pdf.internal.out(n(B)+" "+r(W)+" m")},A=function(B){var W;switch(B.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var X,ne,ce,de=this.pdf.getTextDimensions(B.text),Ee=be.call(this,B.y),Ie=P.call(this,Ee)-de.h,xe=this.ctx.transform.applyToPoint(new s(B.x,Ee));if(this.autoPaging){var je=this.ctx.transform.decompose(),Je=new c;Je=(Je=(Je=Je.multiply(je.translate)).multiply(je.skew)).multiply(je.scale);for(var Ke=this.ctx.transform.applyToRectangle(new a(B.x,Ee,de.w,de.h)),lt=Je.applyToRectangle(new a(B.x,Ie,de.w,de.h)),H=M.call(this,lt),Qe=[],Ut=0;Ut<H.length;Ut+=1)Qe.indexOf(H[Ut])===-1&&Qe.push(H[Ut]);J(Qe);for(var bt=Qe[0],Ve=Qe[Qe.length-1],Ze=bt;Ze<Ve+1;Ze++){this.pdf.setPage(Ze);var Ge=Ze===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],dn=vt-this.margin[0],Xt=this.pdf.internal.pageSize.width-this.margin[1],Nt=Xt-this.margin[3],Et=Ze===1?0:mt+(Ze-2)*dn;if(this.ctx.clip_path.length!==0){var It=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Z(X,this.posX+this.margin[3],-1*Et+Ge),fe.call(this,"fill",!0),this.path=It}var nt=Z([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-Et+Ge+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*B.scale),ce=this.lineWidth,this.lineWidth=ce*B.scale);var qt=this.autoPaging!=="text";if(qt||nt.y+nt.h<=vt){if(qt||nt.y>=Ge&&nt.x<=Xt){var ft=qt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Xt-nt.x)[0],dr=Z([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Et+Ge+this.ctx.prevPageLastElemOffset)[0],en=qt&&(Ze>bt||Ze<Ve)&&k.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,dn,null).clip().discardPath()),this.pdf.text(ft,dr.x,dr.y,{angle:B.angle,align:W,renderingMode:B.renderingMode}),en&&this.pdf.restoreGraphicsState()}}else nt.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-nt.y);B.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ce)}}else B.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*B.scale),ce=this.lineWidth,this.lineWidth=ce*B.scale),this.pdf.text(B.text,xe.x+this.posX,xe.y+this.posY,{angle:B.angle,align:W,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ce)},I=function(B,W,X,ne){X=X||0,ne=ne||0,this.pdf.internal.out(n(B+X)+" "+r(W+ne)+" l")},ee=function(B,W,X){return this.pdf.lines(B,W,X,null,null)},_e=function(B,W,X,ne,ce,de,Ee,Ie){this.pdf.internal.out([e(i(X+B)),e(o(ne+W)),e(i(ce+B)),e(o(de+W)),e(i(Ee+B)),e(o(Ie+W)),"c"].join(" "))},Ce=function(B,W,X,ne){for(var ce=2*Math.PI,de=Math.PI/2;W>X;)W-=ce;var Ee=Math.abs(X-W);Ee<ce&&ne&&(Ee=ce-Ee);for(var Ie=[],xe=ne?-1:1,je=W;Ee>1e-5;){var Je=je+xe*Math.min(Ee,de);Ie.push(Te.call(this,B,je,Je)),Ee-=Math.abs(Je-je),je=Je}return Ie},Te=function(B,W,X){var ne=(X-W)/2,ce=B*Math.cos(ne),de=B*Math.sin(ne),Ee=ce,Ie=-de,xe=Ee*Ee+Ie*Ie,je=xe+Ee*ce+Ie*de,Je=4/3*(Math.sqrt(2*xe*je)-je)/(Ee*de-Ie*ce),Ke=Ee-Je*Ie,lt=Ie+Je*Ee,H=Ke,Qe=-lt,Ut=ne+W,bt=Math.cos(Ut),Ve=Math.sin(Ut);return{x1:B*Math.cos(W),y1:B*Math.sin(W),x2:Ke*bt-lt*Ve,y2:Ke*Ve+lt*bt,x3:H*bt-Qe*Ve,y3:H*Ve+Qe*bt,x4:B*Math.cos(X),y4:B*Math.sin(X)}},pe=function(B){return 180*B/Math.PI},Se=function(B,W,X,ne,ce,de){var Ee=B+.5*(X-B),Ie=W+.5*(ne-W),xe=ce+.5*(X-ce),je=de+.5*(ne-de),Je=Math.min(B,ce,Ee,xe),Ke=Math.max(B,ce,Ee,xe),lt=Math.min(W,de,Ie,je),H=Math.max(W,de,Ie,je);return new a(Je,lt,Ke-Je,H-lt)},$e=function(B,W,X,ne,ce,de,Ee,Ie){var xe,je,Je,Ke,lt,H,Qe,Ut,bt,Ve,Ze,Ge,mt,vt,dn=X-B,Xt=ne-W,Nt=ce-X,Et=de-ne,It=Ee-ce,nt=Ie-de;for(je=0;je<41;je++)bt=(Qe=(Je=B+(xe=je/40)*dn)+xe*((lt=X+xe*Nt)-Je))+xe*(lt+xe*(ce+xe*It-lt)-Qe),Ve=(Ut=(Ke=W+xe*Xt)+xe*((H=ne+xe*Et)-Ke))+xe*(H+xe*(de+xe*nt-H)-Ut),je==0?(Ze=bt,Ge=Ve,mt=bt,vt=Ve):(Ze=Math.min(Ze,bt),Ge=Math.min(Ge,Ve),mt=Math.max(mt,bt),vt=Math.max(vt,Ve));return new a(Math.round(Ze),Math.round(Ge),Math.round(mt-Ze),Math.round(vt-Ge))},Le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,W,X=(B=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:W}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(yt.API),(function(t){var e=function(s){var a,c,u,l,m,y,g,R,k,M;for(/[^\x00-\xFF]/.test(s),c=[],u=0,l=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;l>u;u+=4)(m=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(y=(m=((m=((m=((m=(m-(M=m%85))/85)-(k=m%85))/85)-(R=m%85))/85)-(g=m%85))/85)%85,c.push(y+33,g+33,R+33,k+33,M+33)):c.push(122);return(function(L,Z){for(var J=Z;J>0;J--)L.pop()})(c,a.length),String.fromCharCode.apply(String,c)+"~>"},n=function(s){var a,c,u,l,m,y=String,g="length",R=255,k="charCodeAt",M="slice",L="replace";for(s[M](-2),s=s[M](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),u=[],l=0,m=(s+=a="uuuuu"[M](s[g]%5||5))[g];m>l;l+=5)c=52200625*(s[k](l)-33)+614125*(s[k](l+1)-33)+7225*(s[k](l+2)-33)+85*(s[k](l+3)-33)+(s[k](l+4)-33),u.push(R&c>>24,R&c>>16,R&c>>8,R&c);return(function(Z,J){for(var Y=J;Y>0;Y--)Z.pop()})(u,a[g]),y.fromCharCode.apply(y,u)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},o=function(s){for(var a=new Uint8Array(s.length),c=s.length;c--;)a[c]=s.charCodeAt(c);return(a=pb(a)).reduce(function(u,l){return u+String.fromCharCode(l)},"")};t.processDataByFilters=function(s,a){var c=0,u=s||"",l=[];for(typeof(a=a||[])=="string"&&(a=[a]),c=0;c<a.length;c+=1)switch(a[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=o(u),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[c]+'" is not implemented')}return{data:u,reverseChain:l.reverse().join(" ")}}})(yt.API),(function(t){t.loadFile=function(e,n,r){return(function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=(function(c,u,l){var m=new XMLHttpRequest,y=0,g=function(R){var k=R.length,M=[],L=String.fromCharCode;for(y=0;y<k;y+=1)M.push(L(255&R.charCodeAt(y)));return M.join("")};if(m.open("GET",c,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?l(g(this.responseText)):l(void 0)}),m.send(null),u&&m.status===200)return g(m.responseText)})(i,o,s)}catch{}return a})(e,n,r)},t.loadImageFile=t.loadFile})(yt.API),(function(t){function e(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):import("./chunk-7G76UXZ4.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):import("./chunk-UUYKBFRF.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var c=nr(a);return c==="undefined"?"undefined":c==="string"||a instanceof String?"string":c==="number"||a instanceof Number?"number":c==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(a,c){var u=document.createElement(a);for(var l in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[l]=c.style[l];return u},o=function a(c,u){for(var l=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||l.appendChild(a(m,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(l.width=c.width,l.height=c.height,l.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(l.value=c.value),l.addEventListener("load",function(){l.scrollTop=c.scrollTop,l.scrollLeft=c.scrollLeft},!0)),l},s=function a(c){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),l=a.convert(Promise.resolve(),u);return(l=l.setProgress(1,a,1,[a])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,c){return a.__proto__=c||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,c){return this.then(function(){switch(c=c||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),c){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(c){var u=this.opt.jsPDF,l=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=l,l)for(var g=0;g<l.length;++g){var R=l[g],k=R.src.find(function(M){return M.format==="truetype"});k&&u.addFont(k.url,R.ref.name,R.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,c):this.outputPdf(a,c)},s.prototype.outputPdf=function(a,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,c)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var c=Object.keys(a||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(a,c){return this.then(function(){var u=a in s.template.prop?this.prop[a]:this.opt[a];return c?c(u):u})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function c(u,l){return Math.floor(u*l/72*96)}return this.then(function(){(a=a||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:c(a.inner.width,a.k),height:c(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,c,u,l){return a!=null&&(this.progress.val=a),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),l!=null&&(this.progress.stack=l),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,c,u,l){return this.setProgress(a?this.progress.val+a:null,c||null,u?this.progress.n+u:null,l?this.progress.stack.concat(l):null)},s.prototype.then=function(a,c){var u=this;return this.thenCore(a,c,function(l,m){return u.updateProgress(null,null,1,[l]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,l),y}).then(l,m).then(function(y){return u.updateProgress(1),y})})},s.prototype.thenCore=function(a,c,u){u=u||Promise.prototype.then;var l=this;a&&(a=a.bind(l)),c&&(c=c.bind(l));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?l:s.convert(Object.assign({},l),Promise.prototype),y=u.call(m,a,c);return s.convert(y,l.__proto__)},s.prototype.thenExternal=function(a,c){return Promise.prototype.then.call(this,a,c)},s.prototype.thenList=function(a){var c=this;return a.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(a){a&&(a=a.bind(this));var c=Promise.prototype.catch.call(this,a);return s.convert(c,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,yt.getPageSize=function(a,c,u){if(nr(a)==="object"){var l=a;a=l.orientation,c=l.unit||c,u=l.format||u}c=c||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var m,y=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var R,k=0,M=0;if(g.hasOwnProperty(y))k=g[y][1]/m,M=g[y][0]/m;else try{k=u[1],M=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",M>k&&(R=M,M=k,k=R);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",k>M&&(R=M,M=k,k=R)}return{width:M,height:k,unit:c,k:m,orientation:a}},t.html=function(a,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(VN):null;var u=new s(c);return c.worker?u:u.from(a).doCallback()}})(yt.API),yt.API.addJS=function(t){return KB=t,this.internal.events.subscribe("postPutResources",function(){Vb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),WB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+KB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vb!==void 0&&WB!==void 0&&this.internal.out("/Names <</JavaScript "+Vb+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var c=a[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,l=[];for(o=0;o<u;o++){var m=n.internal.newObject();l.push(m);var y=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<l.length;o++)n.internal.write("(page_"+(o+1)+")"+l[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var c=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])})(yt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,s,a){var c,u=this.decode.DCT_DECODE,l=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(m){for(var y,g=256*m.charCodeAt(4)+m.charCodeAt(5),R=m.length,k={width:0,height:0,numcomponents:1},M=4;M<R;M+=2){if(M+=g,e.indexOf(m.charCodeAt(M+1))!==-1){y=256*m.charCodeAt(M+5)+m.charCodeAt(M+6),k={width:256*m.charCodeAt(M+7)+m.charCodeAt(M+8),height:y,numcomponents:m.charCodeAt(M+9)};break}g=256*m.charCodeAt(M+2)+m.charCodeAt(M+3)}return k})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}l={data:n,width:c.width,height:c.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return l}})(yt.API),yt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=LB(t,{checkCrc:!0}),s=o.width,a=o.height,c=o.channels,u=o.palette,l=o.depth;i=u&&c===1?(function(T){for(var w=T.width,D=T.height,_=T.data,A=T.palette,I=T.depth,ee=!1,_e=[],Ce=[],Te=void 0,pe=!1,Se=0,$e=0;$e<A.length;$e++){var Le=Yx(A[$e],4),B=Le[0],W=Le[1],X=Le[2],ne=Le[3];_e.push(B,W,X),ne!=null&&(ne===0?(Se++,Ce.length<1&&Ce.push($e)):ne<255&&(pe=!0))}if(pe||Se>1){ee=!0,Ce=void 0;var ce=w*D;Te=new Uint8Array(ce);for(var de=new DataView(_.buffer),Ee=0;Ee<ce;Ee++){var Ie=jN(de,Ee,I),xe=Yx(A[Ie],4)[3];Te[Ee]=xe}}else Se===0&&(Ce=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:_,alphaBytes:Te,needSMask:ee,palette:_e,mask:Ce}})(o):c===2||c===4?(function(T){for(var w=T.data,D=T.width,_=T.height,A=T.channels,I=T.depth,ee=A===2?"DeviceGray":"DeviceRGB",_e=A-1,Ce=D*_,Te=_e,pe=Ce*Te,Se=1*Ce,$e=Math.ceil(pe*I/8),Le=Math.ceil(Se*I/8),B=new Uint8Array($e),W=new Uint8Array(Le),X=new DataView(w.buffer),ne=new DataView(B.buffer),ce=new DataView(W.buffer),de=!1,Ee=0;Ee<Ce;Ee++){for(var Ie=Ee*A,xe=0;xe<Te;xe++)rj(ne,jN(X,Ie+xe,I),Ee*Te+xe,I);var je=jN(X,Ie+Te,I);je<(1<<I)-1&&(de=!0),rj(ce,je,1*Ee,I)}return{colorSpace:ee,colorsPerPixel:_e,sMaskBitsPerComponent:de?I:void 0,colorBytes:B,alphaBytes:W,needSMask:de}})(o):(function(T){var w=T.data,D=T.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:w instanceof Uint16Array?(function(_){for(var A=_.length,I=new Uint8Array(2*A),ee=new DataView(I.buffer,I.byteOffset,I.byteLength),_e=0;_e<A;_e++)ee.setUint16(2*_e,_[_e],!1);return I})(w):w,needSMask:!1}})(o);var m,y,g,R=i,k=R.colorSpace,M=R.colorsPerPixel,L=R.sMaskBitsPerComponent,Z=R.colorBytes,J=R.alphaBytes,Y=R.needSMask,fe=R.palette,be=R.mask,P=null;return r!==yt.API.image_compression.NONE&&typeof pb=="function"?(P=(function(T){var w;switch(T){case yt.API.image_compression.FAST:w=11;break;case yt.API.image_compression.MEDIUM:w=13;break;case yt.API.image_compression.SLOW:w=14;break;default:w=12}return w})(r),m=this.decode.FLATE_DECODE,y="/Predictor ".concat(P," /Colors ").concat(M," /BitsPerComponent ").concat(l," /Columns ").concat(s),t=ZB(Z,Math.ceil(s*M*l/8),M,l,r),Y&&(g=ZB(J,Math.ceil(s*L/8),1,L,r))):(m=void 0,y=void 0,t=Z,Y&&(g=J)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:n,data:t,index:e,filter:m,decodeParameters:y,transparency:be,palette:fe,sMask:g,predictor:P,width:s,height:a,bitsPerComponent:l,sMaskBitsPerComponent:L,colorSpace:k}}},(function(t){t.processGIF89A=function(e,n,r,i){var o=new Loe(e),s=o.width,a=o.height,c=[];o.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:a},l=new UN(100).encode(u,100);return t.processJPEG.call(this,l,n,r,i)},t.processGIF87A=t.processGIF89A})(yt.API),nc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},nc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){lr.log("bit decode error:"+n)}},nc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var c=this.palette[o>>7-a&1];this.data[s+4*a]=c.blue,this.data[s+4*a+1]=c.green,this.data[s+4*a+2]=c.red,this.data[s+4*a+3]=255}n!==0&&(this.pos+=4-n)}},nc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,c=15&o,u=this.palette[a];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},nc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},nc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,c=(o>>10&e)/e*255|0,u=o>>15?255:0,l=r*this.width*4+4*i;this.data[l]=c,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=u}this.pos+=t}},nc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,c=(s>>5&n)/n*255|0,u=(s>>11)/e*255|0,l=i*this.width*4+4*o;this.data[l]=u,this.data[l+1]=c,this.data[l+2]=a,this.data[l+3]=255}this.pos+=t}},nc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},nc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},nc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var o=new nc(e,!1),s=o.width,a=o.height,c={data:o.getData(),width:s,height:a},u=new UN(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)}})(yt.API),oj.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var o=new oj(e),s=o.width,a=o.height,c={data:o.getData(),width:s,height:a},u=new UN(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)}})(yt.API),yt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,c=0,u=0;u<i;u+=4){var l=r[u],m=r[u+1],y=r[u+2],g=r[u+3];o[a++]=l,o[a++]=m,o[a++]=y,s[c++]=g}var R=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:R,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},yt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Lp=yt.API,Bb=Lp.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,c=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,l=u.fof?u.fof:1,m=e.doKerning!==!1,y=0,g=t.length,R=0,k=a[0]||c,M=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?M.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(y=m&&nr(u[r])==="object"&&!isNaN(parseInt(u[r][R],10))?u[r][R]/l:0,M.push((a[r]||k)/c+y)),R=r;return M},QB=Lp.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Lp.processArabic&&(t=Lp.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Bb.apply(this,arguments).reduce(function(o,s){return o+s},0)},YB=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var c=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(c,o)),a=0,c=o),a+=e[o],o++;return c!==o&&i.push(t.slice(c,o)),i},JB=function(t,e,n){n||(n={});var r,i,o,s,a,c,u,l=[],m=[l],y=n.textIndent||0,g=0,R=0,k=t.split(" "),M=Bb.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?k[0].length+2:n.lineIndent||0){var L=Array(c).join(" "),Z=[];k.map(function(Y){(Y=Y.split(/\s*\n/)).length>1?Z=Z.concat(Y.map(function(fe,be){return(be&&fe.length?`
`:"")+fe})):Z.push(Y[0])}),k=Z,c=QB.apply(this,[L,n])}for(o=0,s=k.length;o<s;o++){var J=0;if(r=k[o],c&&r[0]==`
`&&(r=r.substr(1),J=1),y+g+(R=(i=Bb.apply(this,[r,n])).reduce(function(Y,fe){return Y+fe},0))>e||J){if(R>e){for(a=YB.apply(this,[r,i,e-(y+g),e]),l.push(a.shift()),l=[a.pop()];a.length;)m.push([a.shift()]);R=i.slice(r.length-(l[0]?l[0].length:0)).reduce(function(Y,fe){return Y+fe},0)}else l=[r];m.push(l),y=R+c,g=M}else l.push(r),y+=g+R,g=M}return u=c?function(Y,fe){return(fe?L:"")+Y.join(" ")}:function(Y){return Y.join(" ")},m.map(u)},Lp.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(l){if(l.widths&&l.kerning)return{widths:l.widths,kerning:l.kerning};var m=this.internal.getFont(l.fontName,l.fontStyle),y="Unicode";return m.metadata[y]?{widths:m.metadata[y].widths||{0:1},kerning:m.metadata[y].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,c,u=[];for(a=0,c=r.length;a<c;a++)u=u.concat(JB.apply(this,[r[a],s,o]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[n[o]]=e[o],i[e[o]]=n[o];var s=function(y){return"0x"+parseInt(y,10).toString(16)},a=t.__fontmetrics__.compress=function(y){var g,R,k,M,L=["{"];for(var Z in y){if(g=y[Z],isNaN(parseInt(Z,10))?R="'"+Z+"'":(Z=parseInt(Z,10),R=(R=s(Z).slice(2)).slice(0,-1)+i[R.slice(-1)]),typeof g=="number")g<0?(k=s(g).slice(3),M="-"):(k=s(g).slice(2),M=""),k=M+k.slice(0,-1)+i[k.slice(-1)];else{if(nr(g)!=="object")throw new Error("Don't know what to do with value type "+nr(g)+".");k=a(g)}L.push(R+k)}return L.push("}"),L.join("")},c=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,R,k,M,L={},Z=1,J=L,Y=[],fe="",be="",P=y.length-1,T=1;T<P;T+=1)(M=y[T])=="'"?g?(k=g.join(""),g=void 0):g=[]:g?g.push(M):M=="{"?(Y.push([J,k]),J={},k=void 0):M=="}"?((R=Y.pop())[0][R[1]]=J,k=void 0,J=R[0]):M=="-"?Z=-1:k===void 0?r.hasOwnProperty(M)?(fe+=r[M],k=parseInt(fe,16)*Z,Z=1,fe=""):fe+=M:r.hasOwnProperty(M)?(be+=r[M],J[k]=parseInt(be,16)*Z,Z=1,k=void 0,be=""):be+=M;return L},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var g=y.font,R=m.Unicode[g.postScriptName];R&&(g.metadata.Unicode={},g.metadata.Unicode.widths=R.widths,g.metadata.Unicode.kerning=R.kerning);var k=l.Unicode[g.postScriptName];k&&(g.metadata.Unicode.encoding=k,g.encoding=k.codePages[0])}])})(yt.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(jb(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(yt),yt.API.addSvgAsImage=function(t,e,n,r,i,o,s,a){if(isNaN(e)||isNaN(n))throw lr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw lr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var l={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Ht.canvg?Promise.resolve(Ht.canvg):import("./chunk-LZKGYWCY.js")).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(u,t,l)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(l)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),e,n,r,i,s,a)})},yt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},yt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),c=[],u=0,l=0,m=0;function y(R,k){var M,L=!1;for(M=0;M<R.length;M+=1)R[M]===k&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=a.length;for(m=0;m<g;m+=1)n[a[m]].value=n[a[m]].defaultValue,n[a[m]].explicitSet=!1}if(nr(t)==="object"){for(i in t)if(o=t[i],y(a,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&y(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(u=0;u<o.length;u+=1)if(r=!0,o[u].length===1&&typeof o[u][0]=="number")c.push(String(o[u]-1));else if(o[u].length>1){for(l=0;l<o[u].length;l+=1)typeof o[u][l]!="number"&&(r=!1);r===!0&&c.push([o[u][0]-1,o[u][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var R,k=[];for(R in n)n[R].explicitSet===!0&&(n[R].type==="name"?k.push("/"+R+" /"+n[R].value):k.push("/"+R+" "+n[R].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=o.length+s.length+a.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(yt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(o,s){for(var a,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],l=[""],m=0,y=o.length;m<y;++m){if(a=s.metadata.characterToGlyph(o.charCodeAt(m)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(m),c.indexOf(a)==-1&&(c.push(a),c.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return l.join("");a=a.toString(16),l.push(u[4-a.length],a)}return l.join("")},r=function(o){var s,a,c,u,l,m,y;for(l=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,y=(a=Object.keys(o).sort(function(g,R){return g-R})).length;m<y;m++)s=a[m],c.length>=100&&(l+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(u=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(l+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),l+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,c=s.out,u=s.newObject,l=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var m=a.metadata.Unicode.widths,y=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",R=0;R<y.length;R++)g+=String.fromCharCode(y[R]);var k=u();l({data:g,addLength1:!0,objectId:k}),c("endobj");var M=u();l({data:r(a.metadata.toUnicode),addLength1:!0,objectId:M}),c("endobj");var L=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Vp(a.fontName)),c("/FontFile2 "+k+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/Flags "+a.metadata.flags),c("/StemV "+a.metadata.stemV),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c(">>"),c("endobj");var Z=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Vp(a.fontName)),c("/FontDescriptor "+L+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+a.encoding+")"),c(">>"),c(">>"),c("endobj"),a.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+M+" 0 R"),c("/BaseFont /"+Vp(a.fontName)),c("/Encoding /"+a.encoding),c("/DescendantFonts ["+Z+" 0 R]"),c(">>"),c("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,c=s.out,u=s.newObject,l=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var m=a.metadata.rawData,y="",g=0;g<m.length;g++)y+=String.fromCharCode(m[g]);var R=u();l({data:y,addLength1:!0,objectId:R}),c("endobj");var k=u();l({data:r(a.metadata.toUnicode),addLength1:!0,objectId:k}),c("endobj");var M=u();c("<<"),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c("/StemV "+a.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+R+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/FontName /"+Vp(a.fontName)),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c(">>"),c("endobj"),a.objectNumber=u();for(var L=0;L<a.metadata.hmtx.widths.length;L++)a.metadata.hmtx.widths[L]=parseInt(a.metadata.hmtx.widths[L]*(1e3/a.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+Vp(a.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),c("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",c=o.x,u=o.y,l=o.options||{},m=o.mutex||{},y=m.pdfEscape,g=m.activeFontKey,R=m.fonts,k=g,M="",L=0,Z="",J=R[k].encoding;if(R[k].encoding!=="Identity-H")return{text:a,x:c,y:u,options:l,mutex:m};for(Z=a,k=g,Array.isArray(a)&&(Z=a[0]),L=0;L<Z.length;L+=1)R[k].metadata.hasOwnProperty("cmap")&&(s=R[k].metadata.cmap.unicode.codeMap[Z[L].charCodeAt(0)]),s||Z[L].charCodeAt(0)<256&&R[k].metadata.hasOwnProperty("Unicode")?M+=Z[L]:M+="";var Y="";return parseInt(k.slice(1))<14||J==="WinAnsiEncoding"?Y=y(M,k).split("").map(function(fe){return fe.charCodeAt(0).toString(16)}).join(""):J==="Identity-H"&&(Y=n(M,R[k])),m.isHex=!0,{text:Y,x:c,y:u,options:l,mutex:m}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],c={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?a.push([i(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):a.push(i(Object.assign({},c,{text:s[u]})).text);o.text=a}else o.text=i(Object.assign({},c,{text:s})).text}])})(yt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(yt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,s,a,c,u,l,m=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Z=!1,J=0;this.__bidiEngine__={};var Y=function(_){var A=_.charCodeAt(),I=A>>8,ee=k[I];return ee!==void 0?m[256*ee+(255&A)]:I===252||I===253?"AL":L.test(I)?"L":I===8?"R":"N"},fe=function(_){for(var A,I=0;I<_.length;I++){if((A=Y(_.charAt(I)))==="L")return!1;if(A==="R")return!0}return!1},be=function(_,A,I,ee){var _e,Ce,Te,pe,Se=A[ee];switch(Se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Z=!1;break;case"N":case"AN":break;case"EN":Z&&(Se="AN");break;case"AL":Z=!0,Se="R";break;case"WS":case"BN":Se="N";break;case"CS":ee<1||ee+1>=A.length||(_e=I[ee-1])!=="EN"&&_e!=="AN"||(Ce=A[ee+1])!=="EN"&&Ce!=="AN"?Se="N":Z&&(Ce="AN"),Se=Ce===_e?Ce:"N";break;case"ES":Se=(_e=ee>0?I[ee-1]:"B")==="EN"&&ee+1<A.length&&A[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&I[ee-1]==="EN"){Se="EN";break}if(Z){Se="N";break}for(Te=ee+1,pe=A.length;Te<pe&&A[Te]==="ET";)Te++;Se=Te<pe&&A[Te]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(pe=A.length,Te=ee+1;Te<pe&&A[Te]==="NSM";)Te++;if(Te<pe){var $e=_[ee],Le=$e>=1425&&$e<=2303||$e===64286;if(_e=A[Te],Le&&(_e==="R"||_e==="AL")){Se="R";break}}}Se=ee<1||(_e=A[ee-1])==="B"?"N":I[ee-1];break;case"B":Z=!1,i=!0,Se=J;break;case"S":o=!0,Se="N"}return Se},P=function(_,A,I){var ee=_.split("");return I&&T(ee,I,{hiLevel:J}),ee.reverse(),A&&A.reverse(),ee.join("")},T=function(_,A,I){var ee,_e,Ce,Te,pe,Se=-1,$e=_.length,Le=0,B=[],W=J?g:y,X=[];for(Z=!1,i=!1,o=!1,_e=0;_e<$e;_e++)X[_e]=Y(_[_e]);for(Ce=0;Ce<$e;Ce++){if(pe=Le,B[Ce]=be(_,X,B,Ce),ee=240&(Le=W[pe][R[B[Ce]]]),Le&=15,A[Ce]=Te=W[Le][5],ee>0)if(ee===16){for(_e=Se;_e<Ce;_e++)A[_e]=1;Se=-1}else Se=-1;if(W[Le][6])Se===-1&&(Se=Ce);else if(Se>-1){for(_e=Se;_e<Ce;_e++)A[_e]=Te;Se=-1}X[Ce]==="B"&&(A[Ce]=0),I.hiLevel|=Te}o&&(function(ne,ce,de){for(var Ee=0;Ee<de;Ee++)if(ne[Ee]==="S"){ce[Ee]=J;for(var Ie=Ee-1;Ie>=0&&ne[Ie]==="WS";Ie--)ce[Ie]=J}})(X,A,$e)},w=function(_,A,I,ee,_e){if(!(_e.hiLevel<_)){if(_===1&&J===1&&!i)return A.reverse(),void(I&&I.reverse());for(var Ce,Te,pe,Se,$e=A.length,Le=0;Le<$e;){if(ee[Le]>=_){for(pe=Le+1;pe<$e&&ee[pe]>=_;)pe++;for(Se=Le,Te=pe-1;Se<Te;Se++,Te--)Ce=A[Se],A[Se]=A[Te],A[Te]=Ce,I&&(Ce=I[Se],I[Se]=I[Te],I[Te]=Ce);Le=pe}Le++}}},D=function(_,A,I){var ee=_.split(""),_e={hiLevel:J};return I||(I=[]),T(ee,I,_e),(function(Ce,Te,pe){if(pe.hiLevel!==0&&l)for(var Se,$e=0;$e<Ce.length;$e++)Te[$e]===1&&(Se=M.indexOf(Ce[$e]))>=0&&(Ce[$e]=M[Se+1])})(ee,I,_e),w(2,ee,A,I,_e),w(1,ee,A,I,_e),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(_,A,I){if((function(_e,Ce){if(Ce)for(var Te=0;Te<_e.length;Te++)Ce[Te]=Te;a===void 0&&(a=fe(_e)),u===void 0&&(u=fe(_e))})(_,A),s||!c||u)if(s&&c&&a^u)J=a?1:0,_=P(_,A,I);else if(!s&&c&&u)J=a?1:0,_=D(_,A,I),_=P(_,A);else if(!s||a||c||u){if(s&&!c&&a^u)_=P(_,A),a?(J=0,_=D(_,A,I)):(J=1,_=D(_,A,I),_=P(_,A));else if(s&&a&&!c&&u)J=1,_=D(_,A,I),_=P(_,A);else if(!s&&!c&&a^u){var ee=l;a?(J=1,_=D(_,A,I),J=0,l=!1,_=D(_,A,I),l=ee):(J=0,_=D(_,A,I),_=P(_,A),J=1,l=!1,_=D(_,A,I),l=ee,_=P(_,A))}}else J=0,_=D(_,A,I);else J=a?1:0,_=D(_,A,I);return _},this.__bidiEngine__.setOptions=function(_){_&&(s=_.isInputVisual,c=_.isOutputVisual,a=_.isInputRtl,u=_.isOutputRtl,l=_.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(yt),yt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new ad(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Joe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Foe(this.contents),this.head=new Boe(this),this.name=new $oe(this),this.cmap=new vj(this),this.toUnicode={},this.hhea=new joe(this),this.maxp=new Hoe(this),this.hmtx=new Goe(this),this.post=new qoe(this),this.os2=new Uoe(this),this.loca=new Yoe(this),this.glyf=new Woe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,a,c,u;for(u=[],s=0,a=(c=this.bbox).length;s<a;s++)e=c[s],u.push(Math.round(e*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var ic,ad=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,s,a,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],o.push(this.writeByte(n));return o},t})(),Foe=(function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,o,s,a,c,u,l,m,y,g,R,k;for(k in g=Object.keys(n).length,c=Math.log(2),m=16*Math.floor(Math.log(g)/c),s=Math.floor(m/c),l=16*g-m,(i=new ad).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(s),i.writeShort(l),o=16*g,u=i.pos+o,a=null,R=[],n)for(y=n[k],i.writeString(k),i.writeInt(t(y)),i.writeInt(u),i.writeInt(y.length),R=R.concat(y),k==="head"&&(a=u),u+=y.length;u%4;)R.push(0),u++;return i.write(R),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,s;for(n=_j.call(n);n.length%4;)n.push(0);for(o=new ad(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e})(),Voe={}.hasOwnProperty,Wc=function(t,e){for(var n in e)Voe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ic=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var Boe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wc(t,ic),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new ad).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),sj=(function(){function t(e,n){var r,i,o,s,a,c,u,l,m,y,g,R,k,M,L,Z,J;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(g=e.readUInt16(),y=g/2,e.pos+=6,o=(function(){var Y,fe;for(fe=[],c=Y=0;0<=y?Y<y:Y>y;c=0<=y?++Y:--Y)fe.push(e.readUInt16());return fe})(),e.pos+=2,k=(function(){var Y,fe;for(fe=[],c=Y=0;0<=y?Y<y:Y>y;c=0<=y?++Y:--Y)fe.push(e.readUInt16());return fe})(),u=(function(){var Y,fe;for(fe=[],c=Y=0;0<=y?Y<y:Y>y;c=0<=y?++Y:--Y)fe.push(e.readUInt16());return fe})(),l=(function(){var Y,fe;for(fe=[],c=Y=0;0<=y?Y<y:Y>y;c=0<=y?++Y:--Y)fe.push(e.readUInt16());return fe})(),i=(this.length-e.pos+this.offset)/2,a=(function(){var Y,fe;for(fe=[],c=Y=0;0<=i?Y<i:Y>i;c=0<=i?++Y:--Y)fe.push(e.readUInt16());return fe})(),c=L=0,J=o.length;L<J;c=++L)for(M=o[c],r=Z=R=k[c];R<=M?Z<=M:Z>=M;r=R<=M?++Z:--Z)l[c]===0?s=r+u[c]:(s=a[l[c]/2+(r-R)-(y-c)]||0)!==0&&(s+=u[c]),this.codeMap[r]=65535&s}e.pos=m}return t.encode=function(e,n){var r,i,o,s,a,c,u,l,m,y,g,R,k,M,L,Z,J,Y,fe,be,P,T,w,D,_,A,I,ee,_e,Ce,Te,pe,Se,$e,Le,B,W,X,ne,ce,de,Ee,Ie,xe,je,Je;switch(ee=new ad,s=Object.keys(e).sort(function(Ke,lt){return Ke-lt}),n){case"macroman":for(k=0,M=(function(){var Ke=[];for(R=0;R<256;++R)Ke.push(0);return Ke})(),Z={0:0},o={},_e=0,Se=s.length;_e<Se;_e++)Z[Ie=e[i=s[_e]]]==null&&(Z[Ie]=++k),o[i]={old:e[i],new:Z[e[i]]},M[i]=Z[e[i]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(M),{charMap:o,subtable:ee.data,maxGlyphID:k+1};case"unicode":for(A=[],m=[],J=0,Z={},r={},L=u=null,Ce=0,$e=s.length;Ce<$e;Ce++)Z[fe=e[i=s[Ce]]]==null&&(Z[fe]=++J),r[i]={old:fe,new:Z[fe]},a=Z[fe]-i,L!=null&&a===u||(L&&m.push(L),A.push(i),u=a),L=i;for(L&&m.push(L),m.push(65535),A.push(65535),D=2*(w=A.length),T=2*Math.pow(Math.log(w)/Math.LN2,2),y=Math.log(T/2)/Math.LN2,P=2*w-T,c=[],be=[],g=[],R=Te=0,Le=A.length;Te<Le;R=++Te){if(_=A[R],l=m[R],_===65535){c.push(0),be.push(0);break}if(_-(I=r[_].new)>=32768)for(c.push(0),be.push(2*(g.length+w-R)),i=pe=_;_<=l?pe<=l:pe>=l;i=_<=l?++pe:--pe)g.push(r[i].new);else c.push(I-_),be.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*w+2*g.length),ee.writeUInt16(0),ee.writeUInt16(D),ee.writeUInt16(T),ee.writeUInt16(y),ee.writeUInt16(P),de=0,B=m.length;de<B;de++)i=m[de],ee.writeUInt16(i);for(ee.writeUInt16(0),Ee=0,W=A.length;Ee<W;Ee++)i=A[Ee],ee.writeUInt16(i);for(xe=0,X=c.length;xe<X;xe++)a=c[xe],ee.writeUInt16(a);for(je=0,ne=be.length;je<ne;je++)Y=be[je],ee.writeUInt16(Y);for(Je=0,ce=g.length;Je<ce;Je++)k=g[Je],ee.writeUInt16(k);return{charMap:r,subtable:ee.data,maxGlyphID:J+1}}},t})(),vj=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wc(t,ic),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new sj(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=sj.encode(e,n),(i=new ad).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),joe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wc(t,ic),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),Uoe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wc(t,ic),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),qoe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wc(t,ic),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var s,a,c;for(c=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)c.push(e.readUInt32());return c}.call(this)}},t})(),zoe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$oe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wc(t,ic),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,o,s,a,c,u,l,m,y;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(c={},o=l=0,m=r.length;l<m;o=++l)i=r[o],e.pos=i.offset,u=e.readString(i.length),s=new zoe(u,i),c[y=i.nameID]==null&&(c[y]=[]),c[i.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),Hoe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wc(t,ic),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),Goe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wc(t,ic),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,o,s,a,c;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,l;for(l=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)l.push(e.readInt16());return l})(),this.widths=function(){var u,l,m,y;for(y=[],u=0,l=(m=this.metrics).length;u<l;u++)o=m[u],y.push(o.advance);return y}.call(this),r=this.widths[this.widths.length-1],c=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),_j=[].slice,Woe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wc(t,ic),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,o,s,a,c,u,l,m;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(a=new ad(n.read(i))).readShort(),u=a.readShort(),m=a.readShort(),c=a.readShort(),l=a.readShort(),this.cache[e]=s===-1?new Qoe(a,u,m,c,l):new Koe(a,s,u,m,c,l),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,o,s,a,c;for(s=[],o=[],a=0,c=n.length;a<c;a++)i=e[n[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},t})(),Koe=(function(){function t(e,n,r,i,o,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Qoe=(function(){function t(e,n,r,i,o){var s,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new ad(_j.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),Yoe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Wc(t,ic),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<n.length&&n[o]==s){++o,r[s]=i;var a=this.offsets[s],c=this.offsets[s+1]-a;c>0&&(i+=c)}for(var u=new Array(4*r.length),l=0;l<r.length;++l)u[4*l+3]=255&r[l],u[4*l+2]=(65280&r[l])>>8,u[4*l+1]=(16711680&r[l])>>16,u[4*l]=(4278190080&r[l])>>24;return u},t})(),Joe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,s,a,c;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in c=this.glyphsFor(n))r=c[o],i[o]=r;return i},t.prototype.encode=function(e,n){var r,i,o,s,a,c,u,l,m,y,g,R,k,M,L;for(i in r=vj.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),g={0:0},L=r.charMap)g[(c=L[i]).old]=c.new;for(R in y=r.maxGlyphID,s)R in g||(g[R]=y++);return l=(function(Z){var J,Y;for(J in Y={},Z)Y[Z[J]]=J;return Y})(g),m=Object.keys(l).sort(function(Z,J){return Z-J}),k=(function(){var Z,J,Y;for(Y=[],Z=0,J=m.length;Z<J;Z++)a=m[Z],Y.push(l[a]);return Y})(),o=this.font.glyf.encode(s,k,g),u=this.font.loca.encode(o.offsets,k),M={cmap:this.font.cmap.raw(),glyf:o.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},t})();yt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+(function(){var a,c,u;for(u=[],a=0,c=n.length;a<c;a++)r=n[a],u.push(e.convert(r));return u})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+n},e})();function Sj(t,e,n,r,i){r=r||{};var o=1.15,s=i.internal.scaleFactor,a=i.internal.getFontSize()/s,c=i.getLineHeightFactor?i.getLineHeightFactor():o,u=a*c,l=/\r\n|\r|\n/g,m="",y=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(m=typeof t=="string"?t.split(l):t,y=m.length||1),n+=a*(2-o),r.valign==="middle"?n-=y/2*u:r.valign==="bottom"&&(n-=y*u),r.halign==="center"||r.halign==="right"){var g=a;if(r.halign==="center"&&(g*=.5),m&&y>=1){for(var R=0;R<m.length;R++)i.text(m[R],e-i.getStringUnitWidth(m[R])*g,n),n+=u;return i}e-=i.getStringUnitWidth(t)*g}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var wj={},$p=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:wj=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,o;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),a=s.fontStyle,c=s.fontName;if(e.font&&(c=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(c,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var l=t.unifyColor(e.fillColor);l&&(r=this.jsPDFDocument).setFillColor.apply(r,l),l=t.unifyColor(e.textColor),l&&(i=this.jsPDFDocument).setTextColor.apply(i,l),l=t.unifyColor(e.lineColor),l&&(o=this.jsPDFDocument).setDrawColor.apply(o,l),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,o){return this.jsPDFDocument.rect(e,n,r,i,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return wj||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),XN=function(t,e){return XN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},XN(t,e)};function Aj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");XN(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Cj=(function(t){Aj(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e})(Array);function Zoe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Xoe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Kb(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(o){return n.getTextWidth(o)}).reduce(function(o,s){return Math.max(o,s)},0);return i}function Dj(t,e,n,r){var i=e.settings.tableLineWidth,o=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:o});var s=xj(i,!1);s&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,s)}function xj(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function Yb(t,e){var n,r,i,o;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(o=t.bottom)!==null&&o!==void 0?o:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function Nj(t,e){var n=Yb(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function ese(t,e,n,r,i){var o={},s=1.3333333333333333,a=WN(e,function(J){return i.getComputedStyle(J).backgroundColor});a!=null&&(o.fillColor=a);var c=WN(e,function(J){return i.getComputedStyle(J).color});c!=null&&(o.textColor=c);var u=nse(r,n);u&&(o.cellPadding=u);var l="borderTopColor",m=s*n,y=r.borderTopWidth;if(r.borderBottomWidth===y&&r.borderRightWidth===y&&r.borderLeftWidth===y){var g=(parseFloat(y)||0)/m;g&&(o.lineWidth=g)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/m,right:(parseFloat(r.borderRightWidth)||0)/m,bottom:(parseFloat(r.borderBottomWidth)||0)/m,left:(parseFloat(r.borderLeftWidth)||0)/m},o.lineWidth.top||(o.lineWidth.right?l="borderRightColor":o.lineWidth.bottom?l="borderBottomColor":o.lineWidth.left&&(l="borderLeftColor"));var R=WN(e,function(J){return i.getComputedStyle(J)[l]});R!=null&&(o.lineColor=R);var k=["left","right","center","justify"];k.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),k=["middle","bottom","top"],k.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var M=parseInt(r.fontSize||"");isNaN(M)||(o.fontSize=M/s);var L=tse(r);L&&(o.fontStyle=L);var Z=(r.fontFamily||"").toLowerCase();return t.indexOf(Z)!==-1&&(o.font=Z),o}function tse(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function WN(t,e){var n=Rj(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Rj(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:Rj(t.parentElement,e):n}function nse(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,o=n.map(function(a){return parseInt(a||"0")/r}),s=Yb(o,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function Pj(t,e,n,r,i){var o,s;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),l=[],m=[],y=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:l,body:m,foot:y};for(var g=0;g<a.rows.length;g++){var R=a.rows[g],k=(s=(o=R?.parentElement)===null||o===void 0?void 0:o.tagName)===null||s===void 0?void 0:s.toLowerCase(),M=rse(c,u,n,R,r,i);M&&(k==="thead"?l.push(M):k==="tfoot"?y.push(M):m.push(M))}return{head:l,body:m,foot:y}}function rse(t,e,n,r,i,o){for(var s=new Cj(r),a=0;a<r.cells.length;a++){var c=r.cells[a],u=n.getComputedStyle(c);if(i||u.display!=="none"){var l=void 0;o&&(l=ese(t,c,e,u,n)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:l,_element:c,content:ise(c)})}}var m=n.getComputedStyle(r);if(s.length>0&&(i||m.display!=="none"))return s}function ise(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function ose(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var o=i[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Hu(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),s=1;s<arguments.length;s++){var a=arguments[s];if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])}return o}function kj(t,e){var n=new $p(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();ose(i,r,e);var o=Hu({},i,r,e),s;typeof window<"u"&&(s=window);var a=sse(i,r,e),c=ase(i,r,e),u=cse(n,o),l=lse(n,o,s);return{id:e.tableId,content:l,hooks:c,styles:a,settings:u}}function sse(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var u=t[c],l=e[c],m=n[c];r.columnStyles=Hu({},u,l,m)}else{var y=[t,e,n],g=y.map(function(R){return R[c]||{}});r[c]=Hu({},g[0],g[1],g[2])}},o=0,s=Object.keys(r);o<s.length;o++){var a=s[o];i(a)}return r}function ase(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,s=r;o<s.length;o++){var a=s[o];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function cse(t,e){var n,r,i,o,s,a,c,u,l,m,y,g,R=Yb(e.margin,40/t.scaleFactor()),k=(n=use(t,e.startY))!==null&&n!==void 0?n:R.top,M;e.showFoot===!0?M="everyPage":e.showFoot===!1?M="never":M=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var L;e.showHead===!0?L="everyPage":e.showHead===!1?L="never":L=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var Z=(o=e.useCss)!==null&&o!==void 0?o:!1,J=e.theme||(Z?"plain":"striped"),Y=!!e.horizontalPageBreak,fe=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:Z,theme:J,startY:k,margin:R,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(l=e.tableWidth)!==null&&l!==void 0?l:"auto",showHead:L,showFoot:M,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:Y,horizontalPageBreakRepeat:fe,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function use(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),o=!1;if(n&&n.startPageNumber){var s=n.startPageNumber+n.pageNumber-1;o=s===i}return typeof e=="number"?e:(e==null||e===!1)&&o&&n?.finalY!=null?n.finalY+20/r:null}function lse(t,e,n){var r=e.head||[],i=e.body||[],o=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(n){var a=Pj(t,e.html,n,s,e.useCss)||{};r=a.head||r,i=a.body||r,o=a.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||dse(r,i,o);return{columns:c,head:r,body:i,foot:o}}function dse(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var s=1,a;Array.isArray(r)?a=r[parseInt(o)]:a=r[o],typeof a=="object"&&!Array.isArray(a)&&(s=a?.colSpan||1);for(var c=0;c<s;c++){var u=void 0;Array.isArray(r)?u=i.length:u=o+(c>0?"_".concat(c):"");var l={dataKey:u};i.push(l)}}),i}var eR=(function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t})(),hse=(function(t){Aj(e,t);function e(n,r,i,o,s,a){var c=t.call(this,n,r,a)||this;return c.cell=i,c.row=o,c.column=s,c.section=o.section,c}return e})(eR),fse=(function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,o,s){for(var a=0,c=n;a<c.length;a++){var u=c[a],l=new hse(e,this,r,i,o,s),m=u(l)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var o=i[r];o(new eR(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var o=i[r];o(new eR(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t})(),Mj=(function(){function t(e,n,r,i,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof Cj&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var o;return Math.max(r,((o=n.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,o){var s=r.cells[o.index];if(!s)return 0;var a=n.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),u=c+a;return u>i?u:i},0)},t})(),Oj=(function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=o!=null?""+o:"",a=/\r\n|\r|\n/g;this.text=s.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,o=r*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=Yb(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t})(),pse=(function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var o=i[r],s=o.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(n=Math.max(n,s.styles.cellWidth))}return n},t})();function gse(t,e){mse(t,e);var n=[],r=0;e.columns.forEach(function(o){var s=o.getMaxCustomCellWidth(e);s?o.width=s:(o.width=o.wrappedWidth,n.push(o)),r+=o.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=tR(n,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=tR(n,i,function(o){return o.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),vse(e),_se(e,t),yse(e)}function mse(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=Nj(t,e);e.allRows().forEach(function(o){for(var s=0,a=e.columns;s<a.length;s++){var c=a[s],u=o.cells[c.index];if(u){var l=e.hooks.didParseCell;e.callCellHooks(t,l,u,o,c,null);var m=u.padding("horizontal");u.contentWidth=Kb(u.text,u.styles,t)+m;var y=Kb(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=y+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var g=10/n;u.minWidth=u.styles.minCellWidth||g,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(o){for(var s=0,a=e.columns;s<a.length;s++){var c=a[s],u=o.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var l=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},m=l.cellWidth||l.minCellWidth;m&&typeof m=="number"&&(c.minWidth=m,c.wrappedWidth=m)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function tR(t,e,n){for(var r=e,i=t.reduce(function(g,R){return g+R.wrappedWidth},0),o=0;o<t.length;o++){var s=t[o],a=s.wrappedWidth/i,c=r*a,u=s.width+c,l=n(s),m=u<l?l:u;e-=m-s.width,s.width=m}if(e=Math.round(e*1e10)/1e10,e){var y=t.filter(function(g){return e<0?g.width>n(g):!0});y.length&&(e=tR(y,e,n))}return e}function yse(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var o=r[i],s=0,a=t.columns;s<a.length;s++){var c=a[s],u=e[c.index];if(n>1)n--,delete o.cells[c.index];else if(u)u.cell.height+=o.height,n=u.cell.colSpan,delete o.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var l=o.cells[c.index];if(!l)continue;if(l.height=o.height,l.rowSpan>1){var m=r.length-i,y=l.rowSpan>m?m:l.rowSpan;e[c.index]={cell:l,left:y,row:o}}}}}function vse(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,o=0,s=0,a=0;a<t.columns.length;a++){var c=t.columns[a];if(s-=1,s>1&&t.columns[a+1])o+=c.width,delete r.cells[c.index];else if(i){var u=i;delete r.cells[c.index],i=null,u.width=c.width+o}else{var u=r.cells[c.index];if(!u)continue;if(s=u.colSpan,o=0,u.colSpan>1){i=u,o+=c.width;continue}u.width=c.width+o}}}function _se(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var o=i[r],s=0,a=t.columns;s<a.length;s++){var c=a[s],u=o.cells[c.index];if(u){e.applyStyles(u.styles,!0);var l=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,l+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=bj(u.text,l,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=bj(u.text,l,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var m=u.styles.overflow(u.text,l);typeof m=="string"?u.text=[m]:u.text=m}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<y*u.rowSpan?n={height:y,count:u.rowSpan}:n&&n.count>0&&n.height>y&&(y=n.height),y>o.height&&(o.height=y)}}n.count--}}function bj(t,e,n,r,i){return t.map(function(o){return wse(o,e,n,r,i)})}function wse(t,e,n,r,i){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Kb(t,n,r))return t;for(;e<Kb(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function Lj(t,e){var n=new $p(t),r=bse(e,n.scaleFactor()),i=new fse(e,r);return gse(n,i),n.applyStyles(n.userStyles),i}function bse(t,e){var n=t.content,r=Ise(n.columns);if(n.head.length===0){var i=Ej(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=Ej(r,"foot");i&&n.foot.push(i)}var o=t.settings.theme,s=t.styles;return{columns:r,head:KN("head",n.head,r,s,o,e),body:KN("body",n.body,r,s,o,e),foot:KN("foot",n.foot,r,s,o,e)}}function KN(t,e,n,r,i,o){var s={},a=e.map(function(c,u){for(var l=0,m={},y=0,g=0,R=0,k=n;R<k.length;R++){var M=k[R];if(s[M.index]==null||s[M.index].left===0)if(g===0){var L=void 0;Array.isArray(c)?L=c[M.index-y-l]:L=c[M.dataKey];var Z={};typeof L=="object"&&!Array.isArray(L)&&(Z=L?.styles||{});var J=Tse(t,M,u,i,r,o,Z),Y=new Oj(L,J,t);m[M.dataKey]=Y,m[M.index]=Y,g=Y.colSpan-1,s[M.index]={left:Y.rowSpan-1,times:g}}else g--,y++;else s[M.index].left--,g=s[M.index].times,l++}return new Mj(c,u,t,m)});return a}function Ej(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=Ese(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function Ese(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Ise(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new pse(i,e,n)})}function Tse(t,e,n,r,i,o,s){var a=Xoe(r),c;t==="head"?c=i.headStyles:t==="body"?c=i.bodyStyles:t==="foot"&&(c=i.footStyles);var u=Hu({},a.table,a[t],i.styles,c),l=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},m=t==="body"?l:{},y=t==="body"&&n%2===0?Hu({},a.alternateRow,i.alternateRowStyles):{},g=Zoe(o),R=Hu({},g,u,y,m);return Hu(R,s)}function Sse(t,e,n){var r;n===void 0&&(n={});var i=Nj(t,e),o=new Map,s=[],a=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(y){var g=e.columns.find(function(R){return R.dataKey===y||R.index===y});g&&!o.has(g.index)&&(o.set(g.index,!0),s.push(g.index),a.push(e.columns[g.index]),i-=g.wrappedWidth)});for(var u=!0,l=(r=n?.start)!==null&&r!==void 0?r:0;l<e.columns.length;){if(o.has(l)){l++;continue}var m=e.columns[l].wrappedWidth;if(u||i>=m)u=!1,s.push(l),a.push(e.columns[l]),i-=m;else break;l++}return{colIndexes:s,columns:a,lastIndex:l-1}}function Ase(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=Sse(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function Fj(t,e){var n=e.settings,r=n.startY,i=n.margin,o={x:i.left,y:r},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+s;if(n.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(y,g){return y+g.height},0);a+=u}var l=new $p(t);(n.pageBreak==="always"||n.startY!=null&&a>l.pageSize().height)&&(Bj(l),o.y=i.top),e.callWillDrawPageHooks(l,o);var m=Hu({},o);e.startPageNumber=l.pageNumber(),n.horizontalPageBreak?Cse(l,e,m,o):(l.applyStyles(l.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(y){return Gu(l,e,y,o,e.columns)}),l.applyStyles(l.userStyles),e.body.forEach(function(y,g){var R=g===e.body.length-1;Qb(l,e,y,R,m,o,e.columns)}),l.applyStyles(l.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(y){return Gu(l,e,y,o,e.columns)})),Dj(l,e,m,o),e.callEndPageHooks(l,o),e.finalY=o.y,t.lastAutoTable=e,l.applyStyles(l.userStyles)}function Cse(t,e,n,r){var i=Ase(t,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,l){t.applyStyles(t.userStyles),l>0?rv(t,e,n,r,u.columns,!0):Ij(t,e,r,u.columns),Dse(t,e,n,r,u.columns),QN(t,e,r,u.columns)});else for(var s=-1,a=i[0],c=function(){var u=s;if(a){t.applyStyles(t.userStyles);var l=a.columns;s>=0?rv(t,e,n,r,l,!0):Ij(t,e,r,l),u=Tj(t,e,s+1,r,l),QN(t,e,r,l)}var m=u-s;i.slice(1).forEach(function(y){t.applyStyles(t.userStyles),rv(t,e,n,r,y.columns,!0),Tj(t,e,s+1,r,y.columns,m),QN(t,e,r,y.columns)}),s=u};s<e.body.length-1;)c()}function Ij(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(o){return Gu(t,e,o,n,r)})}function Dse(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(o,s){var a=s===e.body.length-1;Qb(t,e,o,a,n,r,i)})}function Tj(t,e,n,r,i,o){t.applyStyles(t.userStyles),o=o??e.body.length;var s=Math.min(n+o,e.body.length),a=-1;return e.body.slice(n,s).forEach(function(c,u){var l=n+u===e.body.length-1,m=Vj(t,e,l,r);c.canEntireRowFit(m,i)&&(Gu(t,e,c,r,i),a=n+u)}),a}function QN(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(o){return Gu(t,e,o,n,r)})}function xse(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),o=Math.floor((e-i)/r);return Math.max(0,o)}function Nse(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var o=0,s=0,a=n.columns;s<a.length;s++){var c=a[s],u=t.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var l=new Oj(u.raw,u.styles,u.section);l=Hu(l,u),l.text=[];var m=xse(u,e,r);u.text.length>m&&(l.text=u.text.splice(m,u.text.length));var y=r.scaleFactor(),g=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(y,g),u.contentHeight>=e&&(u.contentHeight=e,l.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),l.contentHeight=l.getContentHeight(y,g),l.contentHeight>o&&(o=l.contentHeight),i[c.index]=l}}var R=new Mj(t.raw,-1,t.section,i,!0);R.height=o;for(var k=0,M=n.columns;k<M.length;k++){var c=M[k],l=R.cells[c.index];l&&(l.height=R.height);var u=t.cells[c.index];u&&(u.height=t.height)}return R}function Rse(t,e,n,r){var i=t.pageSize().height,o=r.settings.margin,s=o.top+o.bottom,a=i-s;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,t),u=c<n;if(c>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var l=e.hasRowSpan(r.columns),m=e.getMaxCellHeight(r.columns)>a;return m?(l&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(l||r.settings.rowPageBreak==="avoid")}function Qb(t,e,n,r,i,o,s){var a=Vj(t,e,r,o);if(n.canEntireRowFit(a,s))Gu(t,e,n,o,s);else if(Rse(t,n,a,e)){var c=Nse(n,a,e,t);Gu(t,e,n,o,s),rv(t,e,i,o,s),Qb(t,e,c,r,i,o,s)}else rv(t,e,i,o,s),Qb(t,e,n,r,i,o,s)}function Gu(t,e,n,r,i){r.x=e.settings.margin.left;for(var o=0,s=i;o<s.length;o++){var a=s[o],c=n.cells[a.index];if(!c){r.x+=a.width;continue}t.applyStyles(c.styles),c.x=r.x,c.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,c,n,a,r);if(u===!1){r.x+=a.width;continue}Pse(t,c,r);var l=c.getTextPos();Sj(c.text,l.x,l.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,n,a,r),r.x+=a.width}r.y+=n.height}function Pse(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=xj(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),kse(t,e,n,r.lineWidth))}function kse(t,e,n,r){var i,o,s,a;r.top&&(i=n.x,o=n.y,s=n.x+e.width,a=n.y,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,o,s,a)),r.bottom&&(i=n.x,o=n.y+e.height,s=n.x+e.width,a=n.y+e.height,r.right&&(s+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,o,s,a)),r.left&&(i=n.x,o=n.y,s=n.x,a=n.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(a+=.5*r.bottom),c(r.left,i,o,s,a)),r.right&&(i=n.x+e.width,o=n.y,s=n.x+e.width,a=n.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(a+=.5*r.bottom),c(r.right,i,o,s,a));function c(u,l,m,y,g){t.getDocument().setLineWidth(u),t.getDocument().line(l,m,y,g,"S")}}function Vj(t,e,n,r){var i=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function rv(t,e,n,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(a){return Gu(t,e,a,r,i)}),e.callEndPageHooks(t,r);var s=e.settings.margin;Dj(t,e,n,r),Bj(t),e.pageNumber++,r.x=s.left,r.y=s.top,n.y=s.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Gu(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function Bj(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function Mse(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=kj(this,r),o=Lj(this,i);return Fj(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){Sj(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return $p.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){$p.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new $p(this),o=Pj(i,e,window,n,!1),s=o.head,a=o.body,c=((r=s[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:c,rows:a,data:a}}}var YN;function jj(t,e){var n=kj(t,e),r=Lj(t,n);Fj(t,r)}try{typeof window<"u"&&window&&(JN=window,ZN=JN.jsPDF||((YN=JN.jspdf)===null||YN===void 0?void 0:YN.jsPDF),ZN&&Mse(ZN))}catch(t){console.error("Could not apply autoTable plugin",t)}var JN,ZN;var Uj=[{icon:"\u{1F464}",label:"User Details",route:"/admin/user",order:1},{icon:"\u{1F464}",label:"Admin",route:"/admin",order:2},{icon:"\u{1F4CA}",label:"Sales Dashboard",route:"/dashboard",order:3},{icon:"\u{1F4C9}",label:"Expenses",route:"/expenses",order:4},{icon:"\u{1F6D2}",label:"Cart",route:"/cart",order:5},{icon:"\u{1F4CB}",label:"Table Orders",route:"/table-order",order:6},{icon:"\u{1F37D}\uFE0F",label:"Menu",route:"/menu",order:7},{icon:"\u{1F4B3}",label:"Subscription",route:"/admin/subscription",order:8},{icon:"\u2699\uFE0F",label:"Settings",route:"/admin/settings",order:9}];function Ose(t,e){if(t&1&&(re(0,"a",3)(1,"span",4),ye(2),ie(),re(3,"span",5),ye(4),ie()()),t&2){let n=e.$implicit;Ct("routerLink",n.route),Re(2),kn(n.icon),Re(2),kn(n.label)}}var cd=class t{collapsed=!0;sidebarItems=[];toggle(){this.collapsed=!this.collapsed}ngOnInit(){this.sidebarItems=Uj.sort((e,n)=>(e.order||0)-(n.order||0))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Gr({type:t,selectors:[["app-sidenavbarcomponent"]],decls:5,vars:3,consts:[[1,"sidebar"],[1,"toggle-btn",3,"click"],["routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",3,"routerLink"],[1,"icon"],[1,"text"]],template:function(n,r){n&1&&(re(0,"div",0)(1,"button",1),St("click",function(){return r.toggle()}),ye(2," \u2630 "),ie(),re(3,"nav"),Vn(4,Ose,5,3,"a",2),ie()()),n&2&&(Ac("collapsed",r.collapsed),Re(4),Ct("ngForOf",r.sidebarItems))},dependencies:[Ci,Xo,I2,Ll,Tm],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;top:67px;left:0;bottom:0;width:240px;background:#1e1e2f;color:#fff;padding:15px;display:flex;flex-direction:column;transition:width .25s ease-in-out;z-index:999!important;overflow-y:auto}.sidebar.collapsed[_ngcontent-%COMP%]{width:70px}.toggle-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;font-size:22px;cursor:pointer;margin-bottom:20px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;border-radius:6px;margin-bottom:8px;color:#ddd;text-decoration:none;transition:background .2s;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#3a3a52}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#575790;color:#fff}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:12px;flex-shrink:0;font-size:18px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1;transition:opacity .25s ease-in-out}.sidebar.collapsed[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{opacity:0;width:0;margin:0;padding:0;pointer-events:none}.sidebar.collapsed[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{justify-content:center;padding:12px 0}"]})};function Lse(t,e){if(t&1&&(re(0,"div",17)(1,"p",26),ye(2,"Preview:"),ie(),Sr(3,"img",27),ie()),t&2){let n=kt();Re(3),Ct("src",n.previewImage,xl)}}function Fse(t,e){if(t&1&&Sr(0,"img",32),t&2){let n=kt().$implicit;Ct("alt",vS(n.name))("src",n.imageUrl,xl)}}function Vse(t,e){if(t&1){let n=Zi();re(0,"tr")(1,"td"),Vn(2,Fse,1,3,"img",28),ie(),re(3,"td"),ye(4),ie(),re(5,"td"),ye(6),ie(),re(7,"td"),ye(8),ie(),re(9,"td",29)(10,"button",30),St("click",function(){let i=un(n).$implicit,o=kt();return ln(o.editItem(i))}),ye(11,"Edit"),ie(),re(12,"button",31),St("click",function(){let i=un(n).$implicit,o=kt();return ln(o.deleteItem(i))}),ye(13,"Delete"),ie()()()}if(t&2){let n=e.$implicit;Re(2),Ct("ngIf",n.imageUrl),Re(2),kn(n.name),Re(2),rr("\u20B9",n.price),Re(2),kn(n.category)}}function Bse(t,e){if(t&1){let n=Zi();re(0,"div",33)(1,"div",34)(2,"h4"),ye(3,"Edit Item"),ie(),re(4,"div",4)(5,"div",35)(6,"label"),ye(7,"Name"),ie(),re(8,"input",36),On("ngModelChange",function(i){un(n);let o=kt();return Bn(o.selectedItem.name,i)||(o.selectedItem.name=i),ln(i)}),ie()(),re(9,"div",37)(10,"label"),ye(11,"Price"),ie(),re(12,"input",38),On("ngModelChange",function(i){un(n);let o=kt();return Bn(o.selectedItem.price,i)||(o.selectedItem.price=i),ln(i)}),ie()(),re(13,"div",37)(14,"label"),ye(15,"Quantity"),ie(),re(16,"input",38),On("ngModelChange",function(i){un(n);let o=kt();return Bn(o.selectedItem.quantityAvailable,i)||(o.selectedItem.quantityAvailable=i),ln(i)}),ie()(),re(17,"div",17)(18,"input",18),St("change",function(i){un(n);let o=kt();return ln(o.onFileSelected(i))}),ie()(),re(19,"div",17)(20,"p",26),ye(21,"Preview:"),ie(),Sr(22,"img",27),ie(),re(23,"div",39)(24,"label"),ye(25,"Category"),ie(),re(26,"select",40),On("ngModelChange",function(i){un(n);let o=kt();return Bn(o.selectedItem.category,i)||(o.selectedItem.category=i),ln(i)}),re(27,"option",13),ye(28,"Veg"),ie(),re(29,"option",14),ye(30,"Non-Veg"),ie()()(),re(31,"div",39)(32,"label"),ye(33,"Availability"),ie(),re(34,"select",40),On("ngModelChange",function(i){un(n);let o=kt();return Bn(o.selectedItem.isAvailable,i)||(o.selectedItem.isAvailable=i),ln(i)}),re(35,"option",41),ye(36,"Available"),ie(),re(37,"option",41),ye(38,"Not Available"),ie()()()(),re(39,"div",42)(40,"button",43),St("click",function(){un(n);let i=kt();return ln(i.updateItem())}),ye(41),ie(),re(42,"button",44),St("click",function(){un(n);let i=kt();return ln(i.cancelEdit())}),ye(43,"Cancel"),ie()()()()}if(t&2){let n=kt();Re(8),Mn("ngModel",n.selectedItem.name),Re(4),Mn("ngModel",n.selectedItem.price),Re(4),Mn("ngModel",n.selectedItem.quantityAvailable),Re(6),Ct("src",n.selectedItem.imageUrl,xl),Re(4),Mn("ngModel",n.selectedItem.category),Re(8),Mn("ngModel",n.selectedItem.isAvailable),Re(),Ct("value",!0),Re(2),Ct("value",!1),Re(3),Ct("disabled",n.loading()),Re(),kn(n.loading()?"Saving...":"Update")}}var Jb=class t{constructor(e,n){this.firebaseService=e;this.router=n;this.loadItems()}menuItems=$r([]);selectedItem=null;lastMonthData;lastMonthDaily=[];newItem={name:"",description:"",price:0,category:"",quantityAvailable:0,imageUrl:""};selectedFile=null;previewImage=null;loading=$r(!1);async loadLastMonthSales(){let e=await this.firebaseService.getLastMonthStats();this.lastMonthData=e,this.lastMonthDaily=Object.keys(e.daily).map(n=>({date:n,revenue:e.daily[n]}))}async loadItems(){try{let e=await this.firebaseService.getMenuItems();this.menuItems.set(e);let n=await this.firebaseService.getLastMonthStats();this.lastMonthData=n,this.lastMonthDaily=Object.keys(n.daily).map(r=>({date:r,revenue:n.daily[r]}))}catch(e){console.error("Load items error",e)}}emailReport(){}downloadPDF(){let e=new yt;e.text("Chanmura Restaurant - Last Month Report",10,10),jj(e,{head:[["Date","Revenue"]],body:this.lastMonthDaily.map(n=>[n.date,n.revenue.toString()])}),e.save("Monthly_Sales_Report.pdf")}onFileSelected(e){if(!e?.target?.files?.length)return;this.selectedFile=e.target.files[0];let n=new FileReader;n.onload=()=>{this.previewImage=n.result,this.newItem.imageUrl=this.previewImage},n.readAsDataURL(this.selectedFile)}async addMenuItem(){if(!this.newItem.name||!this.newItem.price||this.newItem.quantityAvailable==null){alert("Please fill name, price and quantity");return}this.loading.set(!0);try{let e=this.newItem.imageUrl||"",n={name:this.newItem.name,description:this.newItem.description||"",price:Number(this.newItem.price),category:this.newItem.category||"",imageUrl:e,quantityAvailable:Number(this.newItem.quantityAvailable),isAvailable:!0,quantity:0};await this.firebaseService.addMenuItem(n),this.newItem={name:"",description:"",price:0,category:"",quantityAvailable:0,imageUrl:""},this.selectedFile=null,this.previewImage=null,await this.loadItems()}catch(e){console.error("Add item error",e),alert("Failed to add item")}finally{this.loading.set(!1)}}async deleteItem(e){e.id&&confirm(`Delete "${e.name}"?`)&&(await this.firebaseService.deleteMenuItem(e.id),await this.loadItems())}editItem(e){this.selectedItem=Me({},e)}cancelEdit(){this.selectedItem=null,this.previewImage=null}async updateItem(){!this.selectedItem||!this.selectedItem.id||(this.newItem.imageUrl&&(this.selectedItem.imageUrl=this.newItem.imageUrl),this.loading.set(!0),await this.firebaseService.updateMenuItem(this.selectedItem.id,this.selectedItem),alert("Item updated successfully!"),this.selectedItem=null,this.newItem={name:"",description:"",price:0,category:"",quantityAvailable:0,imageUrl:""},this.selectedFile=null,this.previewImage=null,this.loading.set(!1),this.loadItems())}async decreaseStock(e,n=1){if(!e.id)return;let r=Math.max(0,(e.quantityAvailable||0)-n);await this.firebaseService.updateMenuItem(e.id,{quantityAvailable:r}),await this.loadItems()}static \u0275fac=function(n){return new(n||t)(tt(Ea),tt(li))};static \u0275cmp=Gr({type:t,selectors:[["app-admin-dashboard"]],decls:50,vars:10,consts:[[1,"admin-layout"],[1,"admin","container","mt-4"],[1,"mb-4"],[1,"card","p-3","mb-4"],[1,"row","g-2"],[1,"col-12","col-md-4"],["name","name","placeholder","Name",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-6","col-md-2"],["type","number","placeholder","Enter Price","name","price",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","Enter Quantity","name","quantityAvailable",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-2"],["name","category",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled",""],["value","Veg"],["value","Non-Veg"],[1,"col-12","mt-2"],["name","desc","placeholder","Description",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6","mt-2"],["type","file","accept","image/*",1,"form-control",3,"change"],["class","col-12 col-md-6 mt-2",4,"ngIf"],[1,"col-12","mt-3","text-end"],[1,"btn","btn-primary",3,"click","disabled"],[1,"table-responsive"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["class","card mt-3",4,"ngIf"],[1,"mb-1"],["alt","preview",1,"img-preview",3,"src"],["width","60",3,"src","alt",4,"ngIf"],[1,"text-nowrap"],[1,"btn","btn-sm","btn-primary","me-1","mb-1",3,"click"],[1,"btn","btn-sm","btn-danger","mb-1",3,"click"],["width","60",3,"src","alt"],[1,"card","mt-3"],[1,"card-body"],[1,"col-12","col-md-6"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-6","col-md-3"],["type","number",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-6","col-md-3","mt-2"],[1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],[1,"mt-3"],[1,"btn","btn-success","me-2",3,"click","disabled"],[1,"btn","btn-secondary",3,"click"]],template:function(n,r){n&1&&(re(0,"div",0),Sr(1,"app-sidenavbarcomponent"),re(2,"div",1)(3,"h2",2),ye(4,"Admin Dashboard"),ie(),re(5,"div",3)(6,"h5"),ye(7,"Add / Upload Menu Item"),ie(),re(8,"div",4)(9,"div",5)(10,"input",6),On("ngModelChange",function(o){return Bn(r.newItem.name,o)||(r.newItem.name=o),o}),ie()(),re(11,"div",7)(12,"input",8),St("ngModelChange",function(o){return r.newItem.price=o}),ie()(),re(13,"div",7)(14,"input",9),St("ngModelChange",function(o){return r.newItem.quantityAvailable=o}),ie()(),re(15,"div",10)(16,"select",11),On("ngModelChange",function(o){return Bn(r.newItem.category,o)||(r.newItem.category=o),o}),re(17,"option",12),ye(18,"Select Category"),ie(),re(19,"option",13),ye(20,"Veg"),ie(),re(21,"option",14),ye(22,"Non-Veg"),ie()()(),re(23,"div",15)(24,"textarea",16),On("ngModelChange",function(o){return Bn(r.newItem.description,o)||(r.newItem.description=o),o}),ie()(),re(25,"div",17)(26,"input",18),St("change",function(o){return r.onFileSelected(o)}),ie()(),Vn(27,Lse,4,1,"div",19),re(28,"div",20)(29,"button",21),St("click",function(){return r.addMenuItem()}),ye(30),ie()()()(),re(31,"h5"),ye(32,"Menu Items"),ie(),re(33,"div",22)(34,"table",23)(35,"thead")(36,"tr")(37,"th"),ye(38,"Image"),ie(),re(39,"th"),ye(40,"Name"),ie(),re(41,"th"),ye(42,"Price"),ie(),re(43,"th"),ye(44,"Category"),ie(),re(45,"th"),ye(46,"Actions"),ie()()(),re(47,"tbody"),Vn(48,Vse,14,4,"tr",24),ie()()(),Vn(49,Bse,44,10,"div",25),ie()()),n&2&&(Re(10),Mn("ngModel",r.newItem.name),Re(2),Ct("ngModel",r.newItem.price===0?"":r.newItem.price),Re(2),Ct("ngModel",r.newItem.quantityAvailable===0?"":r.newItem.quantityAvailable),Re(2),Mn("ngModel",r.newItem.category),Re(8),Mn("ngModel",r.newItem.description),Re(3),Ct("ngIf",r.previewImage),Re(2),Ct("disabled",r.loading()),Re(),rr(" ",r.loading()?"Saving...":"Add Menu Item"," "),Re(18),Ct("ngForOf",r.menuItems()),Re(),Ct("ngIf",r.selectedItem))},dependencies:[Ci,Xo,xs,ts,lw,dw,es,Iu,Of,fa,ks,cd],styles:[".admin-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh}.admin-content[_ngcontent-%COMP%]{margin-left:240px;padding:20px;overflow-y:auto;height:calc(100vh - 57px)}.admin-content[_ngcontent-%COMP%]{margin-left:240px}.admin[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 2px 6px #0000000f}.img-preview[_ngcontent-%COMP%]{max-width:120px;border:1px solid #ddd;border-radius:6px;object-fit:cover}.sidebar.collapsed[_ngcontent-%COMP%] + .admin-content[_ngcontent-%COMP%]{margin-left:70px}input[type=number][_ngcontent-%COMP%]::placeholder{opacity:1!important}@media(max-width:576px){.text-end[_ngcontent-%COMP%]{text-align:center!important}.text-nowrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem}}"]})};var Hp=class t{constructor(e){this.firebase=e}formatDate(e){return e.toISOString().split("T")[0]}getExpensesByDate(e){let n=e||new Date().toISOString().split("T")[0],r=Zl(this.firebase.db,`expenses/${n}/entries`);return cb(r,{idField:"id"})}async addExpense(e){let n=this.formatDate(e.createdAt),r=Zl(this.firebase.db,`expenses/${n}/entries`),i=Date.now().toString();await RV(Xa(r,i),e)}async updateExpense(e,n,r){await z1(Xa(this.firebase.db,`expenses/${e}/entries/${n}`),r)}async deleteExpense(e,n){await $1(Xa(this.firebase.db,`expenses/${e}/entries/${n}`))}static \u0275fac=function(n){return new(n||t)(Tt(Ea))};static \u0275prov=it({token:t,factory:t.\u0275fac,providedIn:"root"})};function jse(t,e){t&1&&(re(0,"h1"),ye(1,"Still no orders Today"),ie())}function Use(t,e){if(t&1&&(re(0,"tr")(1,"td"),ye(2),ie(),re(3,"td"),ye(4),ie(),re(5,"td"),ye(6),ie(),re(7,"td"),ye(8),ie()()),t&2){let n=e.$implicit;Re(2),kn(n.name),Re(2),kn(n.quantity),Re(2),rr("\u20B9",n.price),Re(2),rr("\u20B9",n.totalPrice)}}function qse(t,e){if(t&1&&(re(0,"tr",20)(1,"td",21)(2,"h5"),ye(3,"\u{1F6D2} Items"),ie(),re(4,"div",14)(5,"table",22)(6,"thead")(7,"tr")(8,"th"),ye(9,"Item Name"),ie(),re(10,"th"),ye(11,"Qty"),ie(),re(12,"th"),ye(13,"Price"),ie(),re(14,"th"),ye(15,"Total"),ie()()(),re(16,"tbody"),Vn(17,Use,9,4,"tr",17),ie()()()()()),t&2){let n=kt().$implicit;Re(17),Ct("ngForOf",n.items)}}function zse(t,e){if(t&1){let n=Zi();Fd(0),re(1,"tr")(2,"td"),ye(3),ie(),re(4,"td"),ye(5),ie(),re(6,"td"),ye(7),ie(),re(8,"td")(9,"strong"),ye(10),ie()(),re(11,"td"),ye(12),Cs(13,"date"),ie(),re(14,"td")(15,"button",18),St("click",function(){let i=un(n).$implicit;return ln(i.showItems=!i.showItems)}),ye(16),ie()()(),Vn(17,qse,18,1,"tr",19),Vd()}if(t&2){let n=e.$implicit;Re(3),kn(n.orderId),Re(2),kn(n.customerName),Re(2),kn(n.mobileNumber),Re(3),rr("\u20B9",n.totalAmount),Re(2),kn(Wg(13,7,n.createdAt,"shortTime")),Re(4),rr(" ",n.showItems?"Hide":"View"," Items "),Re(),Ct("ngIf",n.showItems)}}function $se(t,e){if(t&1&&(re(0,"div",14)(1,"table",15)(2,"thead",16)(3,"tr")(4,"th"),ye(5,"Order ID"),ie(),re(6,"th"),ye(7,"Name"),ie(),re(8,"th"),ye(9,"Mobile"),ie(),re(10,"th"),ye(11,"Total Amount"),ie(),re(12,"th"),ye(13,"Time"),ie(),re(14,"th"),ye(15,"Items"),ie()()(),re(16,"tbody"),Vn(17,zse,18,10,"ng-container",17),Cs(18,"async"),ie()()()),t&2){let n=kt();Re(17),Ct("ngForOf",Cc(18,1,n.filteredOrders$))}}var Zb=class t{constructor(e,n,r,i){this.firebaseService=e;this.expensesService=n;this.cdr=r;this.router=i;this.loadOrdersByDate(),this.loadTodayFinance()}selectedDate="";today=new Date;filteredOrders$;revenue=0;expense=0;profit=0;loss=0;async loadTodayFinance(){console.log("Loading today's finance data...",this.selectedDate),this.firebaseService.getOrderbyDate(this.selectedDate).subscribe(e=>{this.revenue=e.reduce((n,r)=>n+(r.totalAmount||0),0)}),this.expensesService.getExpensesByDate(this.selectedDate).subscribe(e=>{this.expense=e.reduce((n,r)=>n+(r.amount||0),0),this.revenue>this.expense?(this.profit=this.revenue-this.expense,this.loss=0):(this.loss=this.expense-this.revenue,this.profit=0),this.cdr.detectChanges()})}loadOrdersByDate(){let e=this.firebaseService.getOrderbyDate(this.selectedDate).pipe(bn(n=>n.map(r=>Mt(Me({},r),{createdAt:r.createdAt?.toDate?r.createdAt.toDate():new Date(r.createdAt),showItems:!1})).sort((r,i)=>Number(r.orderId)-Number(i.orderId))));this.filteredOrders$=e,this.loadTodayFinance()}static \u0275fac=function(n){return new(n||t)(tt(Ea),tt(Hp),tt(da),tt(li))};static \u0275cmp=Gr({type:t,selectors:[["app-sales-dashboard"]],decls:47,vars:23,consts:[[1,"admin-layout"],[1,"dashboard"],[1,"date-filter","mb-3"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","text-center","mt-3"],[1,"col-md-3"],[1,"card","shadow-sm","p-3"],[1,"text-success"],[1,"text-danger"],[3,"ngClass"],[1,"orders","mt-4"],[1,"text-primary"],[4,"ngIf"],["class","table-scroll",4,"ngIf"],[1,"table-scroll"],[1,"table","table-bordered","table-striped"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-primary",3,"click"],["class","table-light",4,"ngIf"],[1,"table-light"],["colspan","6"],[1,"table","table-sm"]],template:function(n,r){if(n&1&&(re(0,"div",0),Sr(1,"app-sidenavbarcomponent"),re(2,"div",1)(3,"h2"),ye(4,"\u{1F4CA} Sales Dashboard"),ie(),re(5,"div",2)(6,"label"),ye(7,"Select Date:"),ie(),re(8,"input",3),On("ngModelChange",function(o){return Bn(r.selectedDate,o)||(r.selectedDate=o),o}),St("ngModelChange",function(){return r.loadOrdersByDate()}),ie()(),re(9,"div",4)(10,"div",5)(11,"div",6)(12,"h5"),ye(13,"Revenue"),ie(),re(14,"h3",7),ye(15),ie()()(),re(16,"div",5)(17,"div",6)(18,"h5"),ye(19,"Expenses"),ie(),re(20,"h3",8),ye(21),ie()()(),re(22,"div",5)(23,"div",6)(24,"h5"),ye(25,"Profit"),ie(),re(26,"h3",9),ye(27),ie()()(),re(28,"div",5)(29,"div",6)(30,"h5"),ye(31,"Loss"),ie(),re(32,"h3",9),ye(33),ie()()()(),re(34,"div",10)(35,"h3"),ye(36," Orders for: "),re(37,"span",11),ye(38),Cs(39,"date"),Cs(40,"date"),ie(),ye(41),Cs(42,"async"),ie(),Vn(43,jse,2,0,"h1",12),Cs(44,"async"),Vn(45,$se,19,3,"div",13),Cs(46,"async"),ie()()()),n&2){let i,o,s;Re(8),Mn("ngModel",r.selectedDate),Re(7),rr("\u20B9 ",r.revenue),Re(6),rr("\u20B9 ",r.expense),Re(5),Ct("ngClass",r.profit>=0?"text-primary":"text-warning"),Re(),rr(" \u20B9 ",r.profit," "),Re(5),Ct("ngClass",r.loss>=0?"text-primary":"text-warning"),Re(),rr(" \u20B9 ",r.loss," "),Re(5),rr(" ",r.selectedDate?Wg(39,11,r.selectedDate,"dd MMM yyyy"):Wg(40,14,r.today,"dd MMM yyyy")," "),Re(3),rr(" (",((i=Cc(42,17,r.filteredOrders$))==null?null:i.length)||0,") "),Re(2),Ct("ngIf",((o=Cc(44,19,r.filteredOrders$))==null?null:o.length)===0),Re(2),Ct("ngIf",(((s=Cc(46,21,r.filteredOrders$))==null?null:s.length)??0)>0)}},dependencies:[Ci,LS,Xo,xs,ts,es,fa,ks,cd,rm,FS],styles:[".dashboard[_ngcontent-%COMP%]{padding:1rem;font-family:Arial,sans-serif}.date-filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.stats-card[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:1rem;margin-bottom:1rem;border-radius:6px}.amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-top:.5rem}.orders[_ngcontent-%COMP%]{width:100%}.table-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;min-width:600px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.5rem;text-align:left}.table-dark[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}.table-light[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#f8f9fa}@media screen and (max-width:768px){.date-filter[_ngcontent-%COMP%]{flex-direction:column}.stats-card[_ngcontent-%COMP%]{font-size:.9rem}table[_ngcontent-%COMP%]{font-size:.85rem;min-width:500px}.btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem}}"]})};function Hse(t,e){if(t&1){let n=Zi();Fd(0),re(1,"td"),ye(2),ie(),re(3,"td"),ye(4),ie(),re(5,"td"),ye(6),ie(),re(7,"td")(8,"button",13),St("click",function(){un(n);let i=kt().$implicit,o=kt(2);return ln(o.editExpense(i))}),ye(9,"Edit"),ie(),ye(10,"\xA0 "),re(11,"button",14),St("click",function(){un(n);let i=kt().$implicit,o=kt(2);return ln(o.removeExpense(i.id))}),ye(12,"Delete"),ie()(),Vd()}if(t&2){let n=kt().$implicit;Re(2),kn(n.title),Re(2),rr("\u20B9",n.amount),Re(2),kn(n.note)}}function Gse(t,e){if(t&1){let n=Zi();Fd(0),re(1,"td")(2,"input",15),On("ngModelChange",function(i){un(n);let o=kt(3);return Bn(o.editingItem.title,i)||(o.editingItem.title=i),ln(i)}),ie()(),re(3,"td")(4,"input",16),On("ngModelChange",function(i){un(n);let o=kt(3);return Bn(o.editingItem.amount,i)||(o.editingItem.amount=i),ln(i)}),ie()(),re(5,"td")(6,"input",15),On("ngModelChange",function(i){un(n);let o=kt(3);return Bn(o.editingItem.note,i)||(o.editingItem.note=i),ln(i)}),ie()(),re(7,"td")(8,"button",17),St("click",function(){un(n);let i=kt(3);return ln(i.saveEdit())}),ye(9,"Save"),ie(),ye(10,"\xA0 "),re(11,"button",18),St("click",function(){un(n);let i=kt(3);return ln(i.editingItem=null)}),ye(12,"Cancel"),ie()(),Vd()}if(t&2){let n=kt(3);Re(2),Mn("ngModel",n.editingItem.title),Re(2),Mn("ngModel",n.editingItem.amount),Re(2),Mn("ngModel",n.editingItem.note)}}function Wse(t,e){if(t&1&&(re(0,"tr"),Vn(1,Hse,13,3,"ng-container",12)(2,Gse,13,3,"ng-container",12),ie()),t&2){let n=e.$implicit,r=kt(2);Re(),Ct("ngIf",(r.editingItem==null?null:r.editingItem.id)!==n.id),Re(),Ct("ngIf",(r.editingItem==null?null:r.editingItem.id)===n.id)}}function Kse(t,e){if(t&1&&(re(0,"table",10)(1,"thead")(2,"tr")(3,"th"),ye(4,"Title"),ie(),re(5,"th"),ye(6,"Amount"),ie(),re(7,"th"),ye(8,"Note"),ie(),re(9,"th"),ye(10,"Action"),ie()()(),re(11,"tbody"),Vn(12,Wse,3,2,"tr",11),Cs(13,"async"),ie()()),t&2){let n=kt();Re(12),Ct("ngForOf",Cc(13,1,n.expenses$))}}var Xb=class t{constructor(e,n){this.expensesService=e;this.router=n}selectedDate="";expenses$;totalExpense$;newExpense={title:"",amount:0,note:""};editingItem=null;loading=$r(!1);ngOnInit(){this.selectedDate=new Date().toISOString().split("T")[0],this.loadExpenses()}loadExpenses(){if(!this.selectedDate)return;let e=this.expensesService.getExpensesByDate(this.selectedDate).pipe(bn(n=>n.map(r=>Mt(Me({},r),{createdAt:r.createdAt?.toDate?r.createdAt.toDate():new Date(r.createdAt),showItems:!1})).sort((r,i)=>Number(r.orderId)-Number(i.orderId))));this.expenses$=e,this.totalExpense$=e.pipe(bn(n=>n.reduce((r,i)=>r+Number(i.amount||0),0)))}async addExpense(){this.loading.set(!0);let e={createdAt:new Date(this.selectedDate),title:this.newExpense.title,amount:this.newExpense.amount,note:this.newExpense.note};await this.expensesService.addExpense(e),this.newExpense={title:"",amount:0,note:""},this.loading.set(!1)}editExpense(e){this.editingItem=Me({},e)}async saveEdit(){await this.expensesService.updateExpense(this.selectedDate,this.editingItem.id,this.editingItem),this.editingItem=null}async removeExpense(e){await this.expensesService.deleteExpense(this.selectedDate,e)}static \u0275fac=function(n){return new(n||t)(tt(Hp),tt(li))};static \u0275cmp=Gr({type:t,selectors:[["app-expenses"]],decls:22,vars:12,consts:[[1,"admin-layout"],[1,"container","mt-3"],[1,"mb-3"],["type","date",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"card","p-3","mb-3"],["type","text","placeholder","Expense Title",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["type","number","placeholder","Amount",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["placeholder","Note",1,"form-control","mb-2",3,"ngModelChange","ngModel"],[1,"btn","btn-success",3,"click","disabled"],["class","table",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"form-control",3,"ngModelChange","ngModel"],["type","number",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"btn","btn-sm","btn-secondary",3,"click"]],template:function(n,r){if(n&1&&(re(0,"div",0),Sr(1,"app-sidenavbarcomponent"),re(2,"div",1)(3,"h3",2),ye(4,"Store Expenses"),ie(),re(5,"div",2)(6,"label"),ye(7,"Select Date:"),ie(),re(8,"input",3),On("ngModelChange",function(o){return Bn(r.selectedDate,o)||(r.selectedDate=o),o}),St("change",function(){return r.loadExpenses()}),ie()(),re(9,"div",4)(10,"h5"),ye(11,"Add Expense"),ie(),re(12,"input",5),On("ngModelChange",function(o){return Bn(r.newExpense.title,o)||(r.newExpense.title=o),o}),ie(),re(13,"input",6),On("ngModelChange",function(o){return Bn(r.newExpense.amount,o)||(r.newExpense.amount=o),o}),ie(),re(14,"textarea",7),On("ngModelChange",function(o){return Bn(r.newExpense.note,o)||(r.newExpense.note=o),o}),ie(),re(15,"button",8),St("click",function(){return r.addExpense()}),ye(16),ie()(),re(17,"h5"),ye(18),Cs(19,"async"),ie(),Vn(20,Kse,14,3,"table",9),Cs(21,"async"),ie()()),n&2){let i;Re(8),Mn("ngModel",r.selectedDate),Re(4),Mn("ngModel",r.newExpense.title),Re(),Mn("ngModel",r.newExpense.amount),Re(),Mn("ngModel",r.newExpense.note),Re(),Ct("disabled",r.loading()),Re(),kn(r.loading()?"Saving...":"Add"),Re(2),rr("Total Expense: \u20B9",Cc(19,8,r.totalExpense$)),Re(2),Ct("ngIf",(((i=Cc(21,10,r.expenses$))==null?null:i.length)??0)>0)}},dependencies:[Ci,Xo,xs,ts,es,Iu,fa,ks,cd,rm],encapsulation:2})};var zj=[{path:"",redirectTo:"menu",pathMatch:"full"},{path:"menu",component:ub},{path:"cart",component:lb},{path:"table-order",component:hb},{path:"admin",component:Jb},{path:"dashboard",component:Zb},{path:"expenses",component:Xb},{path:"**",redirectTo:"menu"}];var eE=class t{constructor(e){this.cartService=e}title="Chanmura";cartCount=0;ngOnInit(){this.cartService.cartCount$.subscribe(e=>{this.cartCount=e})}onWindowScroll(){let e=document.getElementById("modernNavbar");window.scrollY>50?e?.classList.add("scrolled"):e?.classList.remove("scrolled")}static \u0275fac=function(n){return new(n||t)(tt(pa))};static \u0275cmp=Gr({type:t,selectors:[["app-root"]],hostBindings:function(n,r){n&1&&St("scroll",function(){return r.title()},qT)},decls:25,vars:1,consts:[["id","modernNavbar",1,"navbar","navbar-expand-lg","navbar-dark","shadow-sm","modern-nav"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand","d-flex","align-items-center"],[1,"brand-text"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","align-items-lg-center"],[1,"nav-item"],["routerLink","/menu","routerLinkActive","active",1,"nav-link","nav-item-btn"],[1,"bi","bi-list-ul","me-1"],[1,"nav-item","position-relative"],["routerLink","/cart","routerLinkActive","active",1,"nav-link","nav-item-btn"],[1,"bi","bi-cart4","me-1"],[1,"cart-badge"],["routerLink","/admin","routerLinkActive","active",1,"nav-link","nav-item-btn"],[1,"bi","bi-speedometer","me-1"],[1,"container","main-content"]],template:function(n,r){n&1&&(re(0,"nav",0)(1,"div",1)(2,"a",2)(3,"span",3),ye(4,"Naveen's Delhi Malai Chaap Restaurant"),ie()(),re(5,"button",4),Sr(6,"span",5),ie(),re(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),Sr(11,"i",10),ye(12," Menu "),ie()(),re(13,"li",11)(14,"a",12),Sr(15,"i",13),ye(16," Cart "),re(17,"span",14),ye(18),ie()()(),re(19,"li",8)(20,"a",15),Sr(21,"i",16),ye(22," Admin "),ie()()()()()(),re(23,"div",17),Sr(24,"router-outlet"),ie()),n&2&&(Re(18),kn(r.cartCount))},dependencies:[wm,Ll,Tm,Ci],styles:[".cart-badge[_ngcontent-%COMP%]{background:#ff2a2a;color:#fff;font-size:12px;font-weight:600;padding:2px 7px;border-radius:12px;position:absolute;top:-4px;right:-10px;line-height:1;display:inline-block;animation:_ngcontent-%COMP%_pop .3s ease-out}.modern-nav[_ngcontent-%COMP%]{padding:15px 0;border-bottom:2px solid rgba(255,255,255,.15);position:sticky;top:0;width:100%;z-index:999;transition:all .3s ease;background-color:#0d6efde6}.modern-nav.scrolled[_ngcontent-%COMP%]{background-color:#0d6efd;box-shadow:0 4px 12px #00000026;padding:10px 0}.brand-logo[_ngcontent-%COMP%]{width:36px;height:36px;object-fit:cover;border-radius:6px;transition:all .3s ease}.brand-text[_ngcontent-%COMP%]{font-weight:600;font-size:17px;letter-spacing:.3px;transition:all .3s ease}.modern-nav.scrolled[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{width:30px;height:30px}.modern-nav.scrolled[_ngcontent-%COMP%]   .brand-text[_ngcontent-%COMP%]{font-size:15px}.nav-item-btn[_ngcontent-%COMP%]{padding:8px 14px!important;border-radius:6px;transition:.2s ease;font-size:15px;display:flex;align-items:center}.nav-item-btn[_ngcontent-%COMP%]:hover, .nav-item-btn.active[_ngcontent-%COMP%]{background:#ffffff26}.navbar-toggler[_ngcontent-%COMP%]{border:none}.navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:none!important}@media(max-width:576px){.brand-text[_ngcontent-%COMP%]{font-size:14px}.brand-logo[_ngcontent-%COMP%]{width:30px;height:30px}.cart-badge[_ngcontent-%COMP%]{right:-6px;top:-2px;padding:1px 6px;font-size:11px}}@keyframes _ngcontent-%COMP%_pop{0%{transform:scale(.5);opacity:.6}70%{transform:scale(1.25);opacity:1}to{transform:scale(1)}}.main-content[_ngcontent-%COMP%]{padding-top:80px}"]})};var $j={production:!1,firebaseConfig:{apiKey:"AIzaSyBCEL0W095bO9QdRfWp68FzjIYbTVlu6fw",authDomain:"chanmuraresturantui.firebaseapp.com",projectId:"chanmuraresturantui",storageBucket:"chanmuraresturantui.firebasestorage.app",messagingSenderId:"396550554524",appId:"1:396550554524:web:9cf1983e2842dcb5b03e59"}};WS(eE,{providers:[b2(zj),h_(KS,ts),mF(()=>yF($j.firebaseConfig)),k6(()=>M6())]});
